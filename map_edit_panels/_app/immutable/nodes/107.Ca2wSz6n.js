import{s as ke,l as ut,u as pt,r as mt,v as _t,D as gt,w as K,e as W,t as O,a as D,c as J,b as Z,d as U,f as d,g as T,p as j,q as H,i as L,h as A,x as z,k as $e,B as $t,R as dt,W as Ie,T as ce,F as de,m as qe,G as he,j as ue,o as ht,n as we,K as _e,L as ge}from"../chunks/scheduler.D5JRtHaf.js";import{S as Ce,i as ye,c as B,a as P,m as M,t as w,b as y,d as F,e as Y,g as te,f as le}from"../chunks/index.Xm1AgzMF.js";import{j as ve,k as be,M as vt,l as bt,b as kt,C as wt,G as Ct,m as yt}from"../chunks/index.DxX0LLRh.js";import{e as ie}from"../chunks/each.C9BadmQM.js";import{c as We,p as Je}from"../chunks/colors.DaC397qr.js";import{p as Ke}from"../chunks/index.Dh1oj2LM.js";import{R as ze}from"../chunks/Radio.BjpWuuOn.js";import{S as Ye}from"../chunks/Select.DCCD1fdE.js";/* empty css                                                    */import{T as Xe}from"../chunks/TextArea.Ct1XwDet.js";import{T as Qe}from"../chunks/TextInput.Cluermb4.js";import{s as R}from"../chunks/data.Drto3kBX.js";import{c as It,p as Lt,b as De,e as Te,f as St,g as Nt}from"../chunks/lists.BvURpO7c.js";import{Y as xe}from"../chunks/YesNo.BWB2BvnE.js";import{B as Et,G as qt,S as Dt,C as Tt,a as Bt,M as et}from"../chunks/GeoreferenceLayer.svelte_svelte_type_style_lang.DZOFPTah.js";import{C as Pt}from"../chunks/CollapsibleCard.D0GavHKp.js";import{D as Mt}from"../chunks/DefaultButton.BHwS446X.js";import{S as Ne}from"../chunks/SecondaryButton.DxO4nu9r.js";import{W as Ft}from"../chunks/WarningButton.jEqntaGg.js";import{G as At}from"../chunks/GeoreferenceLayer.hrTfZLCT.js";import{C as tt}from"../chunks/ClickableCard.BhW8XYpY.js";import"../chunks/paths.Rl2PyMXf.js";import{p as jt}from"../chunks/stores.BinjI60V.js";function Gt(l){let e;const n=l[1].default,t=ut(n,l,l[3],null);return{c(){t&&t.c()},l(i){t&&t.l(i)},m(i,r){t&&t.m(i,r),e=!0},p(i,r){t&&t.p&&(!e||r&8)&&pt(t,n,i,i[3],e?_t(n,i[3],r,null):mt(i[3]),null)},i(i){e||(w(t,i),e=!0)},o(i){y(t,i),e=!1},d(i){t&&t.d(i)}}}function Vt(l){let e,n;return e=new Ne({props:{style:"margin-bottom: 0px",disabled:l[0],$$slots:{default:[Gt]},$$scope:{ctx:l}}}),e.$on("click",l[2]),{c(){B(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){M(e,t,i),n=!0},p(t,[i]){const r={};i&1&&(r.disabled=t[0]),i&8&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function Rt(l,e,n){let{$$slots:t={},$$scope:i}=e,{disabled:r=!1}=e;function a(f){gt.call(this,l,f)}return l.$$set=f=>{"disabled"in f&&n(0,r=f.disabled),"$$scope"in f&&n(3,i=f.$$scope)},[r,t,a,i]}class Le extends Ce{constructor(e){super(),ye(this,e,Rt,Vt,ke,{disabled:0})}}function Be(l){let e,n,t;function i(a){l[5](a)}let r={label:"Resolved by Design",inlineSmall:!0};return l[1].criticalIssues[l[0]].resolved!==void 0&&(r.value=l[1].criticalIssues[l[0]].resolved),e=new xe({props:r}),K.push(()=>Y(e,"value",i)),{c(){B(e.$$.fragment)},l(a){P(e.$$.fragment,a)},m(a,f){M(e,a,f),t=!0},p(a,f){const o={};!n&&f&3&&(n=!0,o.value=a[1].criticalIssues[a[0]].resolved,z(()=>n=!1)),e.$set(o)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){F(e,a)}}}function Zt(l){let e,n,t,i,r,a,f,o,_,u,N,b,v,$,S,k,p,m,s,g,C,V;function ne(c){l[2](c)}let q={label:"Critical Issue",emptyOption:!0,choices:It};l[1].criticalIssues[l[0]].criticalIssue!==void 0&&(q.value=l[1].criticalIssues[l[0]].criticalIssue),u=new Ye({props:q}),K.push(()=>Y(u,"value",ne));function x(c){l[3](c)}let oe={legend:"Stage",choices:Ke(["Existing","Design"]),inlineSmall:!0};l[1].criticalIssues[l[0]].stage!==void 0&&(oe.value=l[1].criticalIssues[l[0]].stage),v=new ze({props:oe}),K.push(()=>Y(v,"value",x));function pe(c){l[4](c)}let se={label:"Location Name"};l[1].criticalIssues[l[0]].locationName!==void 0&&(se.value=l[1].criticalIssues[l[0]].locationName),k=new Qe({props:se}),K.push(()=>Y(k,"value",pe));let E=l[1].criticalIssues[l[0]].stage!="Design"&&Be(l);function me(c){l[6](c)}let ae={label:"Commentary & Feedback"};return l[1].criticalIssues[l[0]].notes!==void 0&&(ae.value=l[1].criticalIssues[l[0]].notes),g=new Xe({props:ae}),K.push(()=>Y(g,"value",me)),{c(){e=W("div"),n=W("a"),t=O("Google StreetView"),r=D(),a=W("a"),f=O("Bing Streetside"),_=D(),B(u.$$.fragment),b=D(),B(v.$$.fragment),S=D(),B(k.$$.fragment),m=D(),E&&E.c(),s=D(),B(g.$$.fragment),this.h()},l(c){e=J(c,"DIV",{style:!0});var I=Z(e);n=J(I,"A",{href:!0,target:!0});var X=Z(n);t=U(X,"Google StreetView"),X.forEach(d),r=T(I),a=J(I,"A",{href:!0,target:!0});var Q=Z(a);f=U(Q,"Bing Streetside"),Q.forEach(d),I.forEach(d),_=T(c),P(u.$$.fragment,c),b=T(c),P(v.$$.fragment,c),S=T(c),P(k.$$.fragment,c),m=T(c),E&&E.l(c),s=T(c),P(g.$$.fragment,c),this.h()},h(){j(n,"href",i=ve(l[1].criticalIssues[l[0]].point)),j(n,"target","_blank"),j(a,"href",o=be(l[1].criticalIssues[l[0]].point)),j(a,"target","_blank"),H(e,"display","flex"),H(e,"justify-content","space-evenly")},m(c,I){L(c,e,I),A(e,n),A(n,t),A(e,r),A(e,a),A(a,f),L(c,_,I),M(u,c,I),L(c,b,I),M(v,c,I),L(c,S,I),M(k,c,I),L(c,m,I),E&&E.m(c,I),L(c,s,I),M(g,c,I),V=!0},p(c,[I]){(!V||I&3&&i!==(i=ve(c[1].criticalIssues[c[0]].point)))&&j(n,"href",i),(!V||I&3&&o!==(o=be(c[1].criticalIssues[c[0]].point)))&&j(a,"href",o);const X={};!N&&I&3&&(N=!0,X.value=c[1].criticalIssues[c[0]].criticalIssue,z(()=>N=!1)),u.$set(X);const Q={};!$&&I&3&&($=!0,Q.value=c[1].criticalIssues[c[0]].stage,z(()=>$=!1)),v.$set(Q);const re={};!p&&I&3&&(p=!0,re.value=c[1].criticalIssues[c[0]].locationName,z(()=>p=!1)),k.$set(re),c[1].criticalIssues[c[0]].stage!="Design"?E?(E.p(c,I),I&3&&w(E,1)):(E=Be(c),E.c(),w(E,1),E.m(s.parentNode,s)):E&&(te(),y(E,1,1,()=>{E=null}),le());const fe={};!C&&I&3&&(C=!0,fe.value=c[1].criticalIssues[c[0]].notes,z(()=>C=!1)),g.$set(fe)},i(c){V||(w(u.$$.fragment,c),w(v.$$.fragment,c),w(k.$$.fragment,c),w(E),w(g.$$.fragment,c),V=!0)},o(c){y(u.$$.fragment,c),y(v.$$.fragment,c),y(k.$$.fragment,c),y(E),y(g.$$.fragment,c),V=!1},d(c){c&&(d(e),d(_),d(b),d(S),d(m),d(s)),F(u,c),F(v,c),F(k,c),E&&E.d(c),F(g,c)}}}function Ot(l,e,n){let t;$e(l,R,u=>n(1,t=u));let{idx:i}=e;function r(u){l.$$.not_equal(t.criticalIssues[i].criticalIssue,u)&&(t.criticalIssues[i].criticalIssue=u,R.set(t))}function a(u){l.$$.not_equal(t.criticalIssues[i].stage,u)&&(t.criticalIssues[i].stage=u,R.set(t))}function f(u){l.$$.not_equal(t.criticalIssues[i].locationName,u)&&(t.criticalIssues[i].locationName=u,R.set(t))}function o(u){l.$$.not_equal(t.criticalIssues[i].resolved,u)&&(t.criticalIssues[i].resolved=u,R.set(t))}function _(u){l.$$.not_equal(t.criticalIssues[i].notes,u)&&(t.criticalIssues[i].notes=u,R.set(t))}return l.$$set=u=>{"idx"in u&&n(0,i=u.idx)},[i,t,r,a,f,o,_]}class Ut extends Ce{constructor(e){super(),ye(this,e,Ot,Zt,ke,{idx:0})}}function Pe(l){let e,n,t;function i(a){l[5](a)}let r={label:"Resolved by Design",inlineSmall:!0};return l[1].policyConflictLog[l[0]].resolved!==void 0&&(r.value=l[1].policyConflictLog[l[0]].resolved),e=new xe({props:r}),K.push(()=>Y(e,"value",i)),{c(){B(e.$$.fragment)},l(a){P(e.$$.fragment,a)},m(a,f){M(e,a,f),t=!0},p(a,f){const o={};!n&&f&3&&(n=!0,o.value=a[1].policyConflictLog[a[0]].resolved,z(()=>n=!1)),e.$set(o)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){y(e.$$.fragment,a),t=!1},d(a){F(e,a)}}}function Ht(l){let e,n,t,i,r,a,f,o,_,u,N,b,v,$,S,k,p,m,s,g,C,V;function ne(c){l[2](c)}let q={label:"Policy Conflict",emptyOption:!0,choices:Lt};l[1].policyConflictLog[l[0]].conflict!==void 0&&(q.value=l[1].policyConflictLog[l[0]].conflict),u=new Ye({props:q}),K.push(()=>Y(u,"value",ne));function x(c){l[3](c)}let oe={legend:"Stage",choices:Ke(["Existing","Design"]),inlineSmall:!0};l[1].policyConflictLog[l[0]].stage!==void 0&&(oe.value=l[1].policyConflictLog[l[0]].stage),v=new ze({props:oe}),K.push(()=>Y(v,"value",x));function pe(c){l[4](c)}let se={label:"Location Name"};l[1].policyConflictLog[l[0]].locationName!==void 0&&(se.value=l[1].policyConflictLog[l[0]].locationName),k=new Qe({props:se}),K.push(()=>Y(k,"value",pe));let E=l[1].policyConflictLog[l[0]].stage!="Design"&&Pe(l);function me(c){l[6](c)}let ae={label:"Commentary & Feedback"};return l[1].policyConflictLog[l[0]].notes!==void 0&&(ae.value=l[1].policyConflictLog[l[0]].notes),g=new Xe({props:ae}),K.push(()=>Y(g,"value",me)),{c(){e=W("div"),n=W("a"),t=O("Google StreetView"),r=D(),a=W("a"),f=O("Bing Streetside"),_=D(),B(u.$$.fragment),b=D(),B(v.$$.fragment),S=D(),B(k.$$.fragment),m=D(),E&&E.c(),s=D(),B(g.$$.fragment),this.h()},l(c){e=J(c,"DIV",{style:!0});var I=Z(e);n=J(I,"A",{href:!0,target:!0});var X=Z(n);t=U(X,"Google StreetView"),X.forEach(d),r=T(I),a=J(I,"A",{href:!0,target:!0});var Q=Z(a);f=U(Q,"Bing Streetside"),Q.forEach(d),I.forEach(d),_=T(c),P(u.$$.fragment,c),b=T(c),P(v.$$.fragment,c),S=T(c),P(k.$$.fragment,c),m=T(c),E&&E.l(c),s=T(c),P(g.$$.fragment,c),this.h()},h(){j(n,"href",i=ve(l[1].policyConflictLog[l[0]].point)),j(n,"target","_blank"),j(a,"href",o=be(l[1].policyConflictLog[l[0]].point)),j(a,"target","_blank"),H(e,"display","flex"),H(e,"justify-content","space-evenly")},m(c,I){L(c,e,I),A(e,n),A(n,t),A(e,r),A(e,a),A(a,f),L(c,_,I),M(u,c,I),L(c,b,I),M(v,c,I),L(c,S,I),M(k,c,I),L(c,m,I),E&&E.m(c,I),L(c,s,I),M(g,c,I),V=!0},p(c,[I]){(!V||I&3&&i!==(i=ve(c[1].policyConflictLog[c[0]].point)))&&j(n,"href",i),(!V||I&3&&o!==(o=be(c[1].policyConflictLog[c[0]].point)))&&j(a,"href",o);const X={};!N&&I&3&&(N=!0,X.value=c[1].policyConflictLog[c[0]].conflict,z(()=>N=!1)),u.$set(X);const Q={};!$&&I&3&&($=!0,Q.value=c[1].policyConflictLog[c[0]].stage,z(()=>$=!1)),v.$set(Q);const re={};!p&&I&3&&(p=!0,re.value=c[1].policyConflictLog[c[0]].locationName,z(()=>p=!1)),k.$set(re),c[1].policyConflictLog[c[0]].stage!="Design"?E?(E.p(c,I),I&3&&w(E,1)):(E=Pe(c),E.c(),w(E,1),E.m(s.parentNode,s)):E&&(te(),y(E,1,1,()=>{E=null}),le());const fe={};!C&&I&3&&(C=!0,fe.value=c[1].policyConflictLog[c[0]].notes,z(()=>C=!1)),g.$set(fe)},i(c){V||(w(u.$$.fragment,c),w(v.$$.fragment,c),w(k.$$.fragment,c),w(E),w(g.$$.fragment,c),V=!0)},o(c){y(u.$$.fragment,c),y(v.$$.fragment,c),y(k.$$.fragment,c),y(E),y(g.$$.fragment,c),V=!1},d(c){c&&(d(e),d(_),d(b),d(S),d(m),d(s)),F(u,c),F(v,c),F(k,c),E&&E.d(c),F(g,c)}}}function Wt(l,e,n){let t;$e(l,R,u=>n(1,t=u));let{idx:i}=e;function r(u){l.$$.not_equal(t.policyConflictLog[i].conflict,u)&&(t.policyConflictLog[i].conflict=u,R.set(t))}function a(u){l.$$.not_equal(t.policyConflictLog[i].stage,u)&&(t.policyConflictLog[i].stage=u,R.set(t))}function f(u){l.$$.not_equal(t.policyConflictLog[i].locationName,u)&&(t.policyConflictLog[i].locationName=u,R.set(t))}function o(u){l.$$.not_equal(t.policyConflictLog[i].resolved,u)&&(t.policyConflictLog[i].resolved=u,R.set(t))}function _(u){l.$$.not_equal(t.policyConflictLog[i].notes,u)&&(t.policyConflictLog[i].notes=u,R.set(t))}return l.$$set=u=>{"idx"in u&&n(0,i=u.idx)},[i,t,r,a,f,o,_]}class Jt extends Ce{constructor(e){super(),ye(this,e,Wt,Ht,ke,{idx:0})}}const Kt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23FFFFFF'%3e%3cpath%20d='M402-40q-30%200-56-13.5T303-92L48-465l24-23q19-19%2045-22t47%2012l116%2081v-383q0-17%2011.5-28.5T320-840q17%200%2028.5%2011.5T360-800v537L212-367l157%20229q5%208%2014%2013t19%205h278q33%200%2056.5-23.5T760-200v-560q0-17%2011.5-28.5T800-800q17%200%2028.5%2011.5T840-760v560q0%2066-47%20113T680-40H402Zm38-440v-400q0-17%2011.5-28.5T480-920q17%200%2028.5%2011.5T520-880v400h-80Zm160%200v-360q0-17%2011.5-28.5T640-880q17%200%2028.5%2011.5T680-840v360h-80ZM486-300Z'/%3e%3c/svg%3e",{window:zt}=bt;function Me(l,e,n){const t=l.slice();return t[42]=e[n],t[43]=e,t[44]=n,t}function Fe(l,e,n){const t=l.slice();return t[45]=e[n],t[46]=e,t[44]=n,t}function Ae(l,e,n){const t=l.slice();return t[42]=e[n],t[44]=n,t}function je(l,e,n){const t=l.slice();return t[45]=e[n],t[44]=n,t}function Yt(l){let e,n,t,i,r,a,f,o,_,u;e=new Mt({props:{$$slots:{default:[Qt]},$$scope:{ctx:l}}}),e.$on("click",l[11]),t=new Ft({props:{$$slots:{default:[xt]},$$scope:{ctx:l}}}),t.$on("click",l[13]),r=new Ne({props:{$$slots:{default:[el]},$$scope:{ctx:l}}}),r.$on("click",l[27]);const N=[ll,tl],b=[];function v($,S){return $[1].id.kind=="critical"?0:1}return f=v(l),o=b[f]=N[f](l),{c(){B(e.$$.fragment),n=D(),B(t.$$.fragment),i=D(),B(r.$$.fragment),a=D(),o.c(),_=de()},l($){P(e.$$.fragment,$),n=T($),P(t.$$.fragment,$),i=T($),P(r.$$.fragment,$),a=T($),o.l($),_=de()},m($,S){M(e,$,S),L($,n,S),M(t,$,S),L($,i,S),M(r,$,S),L($,a,S),b[f].m($,S),L($,_,S),u=!0},p($,S){const k={};S[1]&262144&&(k.$$scope={dirty:S,ctx:$}),e.$set(k);const p={};S[1]&262144&&(p.$$scope={dirty:S,ctx:$}),t.$set(p);const m={};S[1]&262144&&(m.$$scope={dirty:S,ctx:$}),r.$set(m);let s=f;f=v($),f===s?b[f].p($,S):(te(),y(b[s],1,1,()=>{b[s]=null}),le(),o=b[f],o?o.p($,S):(o=b[f]=N[f]($),o.c()),w(o,1),o.m(_.parentNode,_))},i($){u||(w(e.$$.fragment,$),w(t.$$.fragment,$),w(r.$$.fragment,$),w(o),u=!0)},o($){y(e.$$.fragment,$),y(t.$$.fragment,$),y(r.$$.fragment,$),y(o),u=!1},d($){$&&(d(n),d(i),d(a),d(_)),F(e,$),F(t,$),F(r,$),b[f].d($)}}}function Xt(l){let e,n,t,i="Critical Issues",r,a,f,o="Policy Conflicts",_,u,N;e=new Pt({props:{label:"Tools",open:!0,$$slots:{default:[ol]},$$scope:{ctx:l}}});let b=ie(l[3].criticalIssues),v=[];for(let m=0;m<b.length;m+=1)v[m]=Ve(je(l,b,m));const $=m=>y(v[m],1,1,()=>{v[m]=null});let S=ie(l[3].policyConflictLog),k=[];for(let m=0;m<S.length;m+=1)k[m]=Ze(Ae(l,S,m));const p=m=>y(k[m],1,1,()=>{k[m]=null});return{c(){B(e.$$.fragment),n=D(),t=W("h3"),t.textContent=i,r=D();for(let m=0;m<v.length;m+=1)v[m].c();a=D(),f=W("h3"),f.textContent=o,_=D();for(let m=0;m<k.length;m+=1)k[m].c();u=de()},l(m){P(e.$$.fragment,m),n=T(m),t=J(m,"H3",{"data-svelte-h":!0}),qe(t)!=="svelte-1qhh5xr"&&(t.textContent=i),r=T(m);for(let s=0;s<v.length;s+=1)v[s].l(m);a=T(m),f=J(m,"H3",{"data-svelte-h":!0}),qe(f)!=="svelte-eyxzjx"&&(f.textContent=o),_=T(m);for(let s=0;s<k.length;s+=1)k[s].l(m);u=de()},m(m,s){M(e,m,s),L(m,n,s),L(m,t,s),L(m,r,s);for(let g=0;g<v.length;g+=1)v[g]&&v[g].m(m,s);L(m,a,s),L(m,f,s),L(m,_,s);for(let g=0;g<k.length;g+=1)k[g]&&k[g].m(m,s);L(m,u,s),N=!0},p(m,s){const g={};if(s[0]&97|s[1]&262144&&(g.$$scope={dirty:s,ctx:m}),e.$set(g),s[0]&33292){b=ie(m[3].criticalIssues);let C;for(C=0;C<b.length;C+=1){const V=je(m,b,C);v[C]?(v[C].p(V,s),w(v[C],1)):(v[C]=Ve(V),v[C].c(),w(v[C],1),v[C].m(a.parentNode,a))}for(te(),C=b.length;C<v.length;C+=1)$(C);le()}if(s[0]&66060){S=ie(m[3].policyConflictLog);let C;for(C=0;C<S.length;C+=1){const V=Ae(m,S,C);k[C]?(k[C].p(V,s),w(k[C],1)):(k[C]=Ze(V),k[C].c(),w(k[C],1),k[C].m(u.parentNode,u))}for(te(),C=S.length;C<k.length;C+=1)p(C);le()}},i(m){if(!N){w(e.$$.fragment,m);for(let s=0;s<b.length;s+=1)w(v[s]);for(let s=0;s<S.length;s+=1)w(k[s]);N=!0}},o(m){y(e.$$.fragment,m),v=v.filter(Boolean);for(let s=0;s<v.length;s+=1)y(v[s]);k=k.filter(Boolean);for(let s=0;s<k.length;s+=1)y(k[s]);N=!1},d(m){m&&(d(n),d(t),d(r),d(a),d(f),d(_),d(u)),F(e,m),he(v,m),he(k,m)}}}function Qt(l){let e;return{c(){e=O("Save")},l(n){e=U(n,"Save")},m(n,t){L(n,e,t)},d(n){n&&d(e)}}}function xt(l){let e;return{c(){e=O("Delete")},l(n){e=U(n,"Delete")},m(n,t){L(n,e,t)},d(n){n&&d(e)}}}function el(l){let e;return{c(){e=O("Copy")},l(n){e=U(n,"Copy")},m(n,t){L(n,e,t)},d(n){n&&d(e)}}}function tl(l){let e,n;return e=new Jt({props:{idx:l[1].id.idx}}),{c(){B(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){M(e,t,i),n=!0},p(t,i){const r={};i[0]&2&&(r.idx=t[1].id.idx),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function ll(l){let e,n;return e=new Ut({props:{idx:l[1].id.idx}}),{c(){B(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){M(e,t,i),n=!0},p(t,i){const r={};i[0]&2&&(r.idx=t[1].id.idx),e.$set(r)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function nl(l){let e;return{c(){e=O("Zoom to fit")},l(n){e=U(n,"Zoom to fit")},m(n,t){L(n,e,t)},d(n){n&&d(e)}}}function il(l){let e;return{c(){e=O("Show scheme context")},l(n){e=U(n,"Show scheme context")},m(n,t){L(n,e,t)},d(n){n&&d(e)}}}function ol(l){let e,n,t,i,r,a,f,o,_,u,N,b;e=new Ne({props:{$$slots:{default:[nl]},$$scope:{ctx:l}}}),e.$on("click",l[18]),t=new Et({}),r=new qt({});function v(p){l[19](p)}let $={map:l[0]};l[5]!==void 0&&($.enabled=l[5]),f=new Dt({props:$}),K.push(()=>Y(f,"enabled",v));function S(p){l[20](p)}let k={$$slots:{default:[il]},$$scope:{ctx:l}};return l[6]!==void 0&&(k.checked=l[6]),u=new Tt({props:k}),K.push(()=>Y(u,"checked",S)),{c(){B(e.$$.fragment),n=D(),B(t.$$.fragment),i=D(),B(r.$$.fragment),a=D(),B(f.$$.fragment),_=D(),B(u.$$.fragment)},l(p){P(e.$$.fragment,p),n=T(p),P(t.$$.fragment,p),i=T(p),P(r.$$.fragment,p),a=T(p),P(f.$$.fragment,p),_=T(p),P(u.$$.fragment,p)},m(p,m){M(e,p,m),L(p,n,m),M(t,p,m),L(p,i,m),M(r,p,m),L(p,a,m),M(f,p,m),L(p,_,m),M(u,p,m),b=!0},p(p,m){const s={};m[1]&262144&&(s.$$scope={dirty:m,ctx:p}),e.$set(s);const g={};m[0]&1&&(g.map=p[0]),!o&&m[0]&32&&(o=!0,g.enabled=p[5],z(()=>o=!1)),f.$set(g);const C={};m[1]&262144&&(C.$$scope={dirty:m,ctx:p}),!N&&m[0]&64&&(N=!0,C.checked=p[6],z(()=>N=!1)),u.$set(C)},i(p){b||(w(e.$$.fragment,p),w(t.$$.fragment,p),w(r.$$.fragment,p),w(f.$$.fragment,p),w(u.$$.fragment,p),b=!0)},o(p){y(e.$$.fragment,p),y(t.$$.fragment,p),y(r.$$.fragment,p),y(f.$$.fragment,p),y(u.$$.fragment,p),b=!1},d(p){p&&(d(n),d(i),d(a),d(_)),F(e,p),F(t,p),F(r,p),F(f,p),F(u,p)}}}function Ge(l){let e,n,t=l[45].resolved+"",i;return{c(){e=W("span"),n=O("Resolved: "),i=O(t)},l(r){e=J(r,"SPAN",{});var a=Z(e);n=U(a,"Resolved: "),i=U(a,t),a.forEach(d)},m(r,a){L(r,e,a),A(e,n),A(e,i)},p(r,a){a[0]&8&&t!==(t=r[45].resolved+"")&&ue(i,t)},d(r){r&&d(e)}}}function sl(l){let e,n,t,i=l[45].stage+"",r,a,f=l[45].stage!="Design"&&Ge(l);return{c(){e=W("div"),n=W("span"),t=O("Stage: "),r=O(i),a=D(),f&&f.c(),this.h()},l(o){e=J(o,"DIV",{style:!0});var _=Z(e);n=J(_,"SPAN",{});var u=Z(n);t=U(u,"Stage: "),r=U(u,i),u.forEach(d),a=T(_),f&&f.l(_),_.forEach(d),this.h()},h(){H(e,"width","100%"),H(e,"display","flex"),H(e,"justify-content","space-between")},m(o,_){L(o,e,_),A(e,n),A(n,t),A(n,r),A(e,a),f&&f.m(e,null)},p(o,_){_[0]&8&&i!==(i=o[45].stage+"")&&ue(r,i),o[45].stage!="Design"?f?f.p(o,_):(f=Ge(o),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(o){o&&d(e),f&&f.d()}}}function Ve(l){let e,n;function t(){return l[21](l[44])}function i(){return l[22](l[44])}return e=new tt({props:{name:l[15](l[45]),$$slots:{default:[sl]},$$scope:{ctx:l}}}),e.$on("click",t),e.$on("mouseenter",i),e.$on("mouseleave",l[23]),{c(){B(e.$$.fragment)},l(r){P(e.$$.fragment,r)},m(r,a){M(e,r,a),n=!0},p(r,a){l=r;const f={};a[0]&8&&(f.name=l[15](l[45])),a[0]&8|a[1]&262144&&(f.$$scope={dirty:a,ctx:l}),e.$set(f)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function Re(l){let e,n,t=l[42].resolved+"",i;return{c(){e=W("span"),n=O("Resolved: "),i=O(t)},l(r){e=J(r,"SPAN",{});var a=Z(e);n=U(a,"Resolved: "),i=U(a,t),a.forEach(d)},m(r,a){L(r,e,a),A(e,n),A(e,i)},p(r,a){a[0]&8&&t!==(t=r[42].resolved+"")&&ue(i,t)},d(r){r&&d(e)}}}function al(l){let e,n,t,i=l[42].stage+"",r,a,f,o=l[42].stage!="Design"&&Re(l);return{c(){e=W("div"),n=W("span"),t=O("Stage: "),r=O(i),a=D(),o&&o.c(),f=D(),this.h()},l(_){e=J(_,"DIV",{style:!0});var u=Z(e);n=J(u,"SPAN",{});var N=Z(n);t=U(N,"Stage: "),r=U(N,i),N.forEach(d),a=T(u),o&&o.l(u),u.forEach(d),f=T(_),this.h()},h(){H(e,"width","100%"),H(e,"display","flex"),H(e,"justify-content","space-between")},m(_,u){L(_,e,u),A(e,n),A(n,t),A(n,r),A(e,a),o&&o.m(e,null),L(_,f,u)},p(_,u){u[0]&8&&i!==(i=_[42].stage+"")&&ue(r,i),_[42].stage!="Design"?o?o.p(_,u):(o=Re(_),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(_){_&&(d(e),d(f)),o&&o.d()}}}function Ze(l){let e,n;function t(){return l[24](l[44])}function i(){return l[25](l[44])}return e=new tt({props:{name:l[16](l[42]),$$slots:{default:[al]},$$scope:{ctx:l}}}),e.$on("click",t),e.$on("mouseenter",i),e.$on("mouseleave",l[26]),{c(){B(e.$$.fragment)},l(r){P(e.$$.fragment,r)},m(r,a){M(e,r,a),n=!0},p(r,a){l=r;const f={};a[0]&8&&(f.name=l[16](l[42])),a[0]&8|a[1]&262144&&(f.$$scope={dirty:a,ctx:l}),e.$set(f)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function Oe(l){let e,n,t,i,r,a,f;return n=new Le({props:{disabled:l[1].mode=="select",$$slots:{default:[rl]},$$scope:{ctx:l}}}),n.$on("click",l[29]),i=new Le({props:{disabled:l[1].mode=="new-critical",$$slots:{default:[fl]},$$scope:{ctx:l}}}),i.$on("click",l[30]),a=new Le({props:{disabled:l[1].mode=="new-conflict",$$slots:{default:[cl]},$$scope:{ctx:l}}}),a.$on("click",l[31]),{c(){e=W("div"),B(n.$$.fragment),t=D(),B(i.$$.fragment),r=D(),B(a.$$.fragment),this.h()},l(o){e=J(o,"DIV",{class:!0});var _=Z(e);P(n.$$.fragment,_),t=T(_),P(i.$$.fragment,_),r=T(_),P(a.$$.fragment,_),_.forEach(d),this.h()},h(){j(e,"class","control-panel svelte-345ma7")},m(o,_){L(o,e,_),M(n,e,null),A(e,t),M(i,e,null),A(e,r),M(a,e,null),f=!0},p(o,_){const u={};_[0]&2&&(u.disabled=o[1].mode=="select"),_[1]&262144&&(u.$$scope={dirty:_,ctx:o}),n.$set(u);const N={};_[0]&2&&(N.disabled=o[1].mode=="new-critical"),_[1]&262144&&(N.$$scope={dirty:_,ctx:o}),i.$set(N);const b={};_[0]&2&&(b.disabled=o[1].mode=="new-conflict"),_[1]&262144&&(b.$$scope={dirty:_,ctx:o}),a.$set(b)},i(o){f||(w(n.$$.fragment,o),w(i.$$.fragment,o),w(a.$$.fragment,o),f=!0)},o(o){y(n.$$.fragment,o),y(i.$$.fragment,o),y(a.$$.fragment,o),f=!1},d(o){o&&d(e),F(n),F(i),F(a)}}}function rl(l){let e,n,t;return{c(){e=W("img"),t=O(`
            Move map`),this.h()},l(i){e=J(i,"IMG",{src:!0,alt:!0}),t=U(i,`
            Move map`),this.h()},h(){ht(e.src,n=Kt)||j(e,"src",n),j(e,"alt","Move map")},m(i,r){L(i,e,r),L(i,t,r)},p:we,d(i){i&&(d(e),d(t))}}}function fl(l){let e,n,t;return{c(){e=_e("svg"),n=_e("polygon"),t=O(`
            New critical issue`),this.h()},l(i){e=ge(i,"svg",{width:!0,height:!0,xmlns:!0});var r=Z(e);n=ge(r,"polygon",{points:!0,fill:!0,class:!0}),Z(n).forEach(d),r.forEach(d),t=U(i,`
            New critical issue`),this.h()},h(){j(n,"points","20,0 0,40 40,40"),j(n,"fill",We.critical.background),j(n,"class","svelte-345ma7"),j(e,"width","40"),j(e,"height","40"),j(e,"xmlns","http://www.w3.org/2000/svg")},m(i,r){L(i,e,r),A(e,n),L(i,t,r)},p:we,d(i){i&&(d(e),d(t))}}}function cl(l){let e,n;return{c(){e=W("span"),n=O(`
            New policy conflict`),this.h()},l(t){e=J(t,"SPAN",{class:!0}),Z(e).forEach(d),n=U(t,`
            New policy conflict`),this.h()},h(){j(e,"class","dot svelte-345ma7"),H(e,"background",Je)},m(t,i){L(t,e,i),L(t,n,i)},p:we,d(t){t&&(d(e),d(n))}}}function ul(l){let e,n,t,i=l[45].criticalIssue+"",r;return{c(){e=_e("svg"),n=_e("polygon"),t=_e("text"),r=O(i),this.h()},l(a){e=ge(a,"svg",{width:!0,height:!0,xmlns:!0});var f=Z(e);n=ge(f,"polygon",{points:!0,fill:!0,class:!0}),Z(n).forEach(d),t=ge(f,"text",{x:!0,y:!0});var o=Z(t);r=U(o,i),o.forEach(d),f.forEach(d),this.h()},h(){j(n,"points","20,0 0,40 40,40"),j(n,"fill",We.critical.background),j(n,"class","svelte-345ma7"),j(t,"x","13"),j(t,"y","30"),H(t,"fill","white"),j(e,"width","40"),j(e,"height","40"),j(e,"xmlns","http://www.w3.org/2000/svg")},m(a,f){L(a,e,f),A(e,n),A(e,t),A(t,r)},p(a,f){f[0]&8&&i!==(i=a[45].criticalIssue+"")&&ue(r,i)},d(a){a&&d(e)}}}function Ue(l){let e,n,t;function i(o){l[32](o,l[45])}function r(){return l[33](l[44])}function a(){return l[34](l[44])}let f={draggable:!0,$$slots:{default:[ul]},$$scope:{ctx:l}};return l[45].point!==void 0&&(f.lngLat=l[45].point),e=new et({props:f}),K.push(()=>Y(e,"lngLat",i)),e.$on("click",r),e.$on("dragend",a),{c(){B(e.$$.fragment)},l(o){P(e.$$.fragment,o)},m(o,_){M(e,o,_),t=!0},p(o,_){l=o;const u={};_[0]&8|_[1]&262144&&(u.$$scope={dirty:_,ctx:l}),!n&&_[0]&8&&(n=!0,u.lngLat=l[45].point,z(()=>n=!1)),e.$set(u)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){y(e.$$.fragment,o),t=!1},d(o){F(e,o)}}}function pl(l){let e,n=l[42].conflict+"",t;return{c(){e=W("span"),t=O(n),this.h()},l(i){e=J(i,"SPAN",{class:!0});var r=Z(e);t=U(r,n),r.forEach(d),this.h()},h(){j(e,"class","dot svelte-345ma7"),H(e,"background",Je)},m(i,r){L(i,e,r),A(e,t)},p(i,r){r[0]&8&&n!==(n=i[42].conflict+"")&&ue(t,n)},d(i){i&&d(e)}}}function He(l){let e,n,t;function i(o){l[35](o,l[42])}function r(){return l[36](l[44])}function a(){return l[37](l[44])}let f={draggable:!0,$$slots:{default:[pl]},$$scope:{ctx:l}};return l[42].point!==void 0&&(f.lngLat=l[42].point),e=new et({props:f}),K.push(()=>Y(e,"lngLat",i)),e.$on("click",r),e.$on("dragend",a),{c(){B(e.$$.fragment)},l(o){P(e.$$.fragment,o)},m(o,_){M(e,o,_),t=!0},p(o,_){l=o;const u={};_[0]&8|_[1]&262144&&(u.$$scope={dirty:_,ctx:l}),!n&&_[0]&8&&(n=!0,u.lngLat=l[42].point,z(()=>n=!1)),e.$set(u)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){y(e.$$.fragment,o),t=!1},d(o){F(e,o)}}}function ml(l){let e,n;return e=new yt({props:{paint:{"circle-radius":30,"circle-opacity":0,"circle-stroke-width":5,"circle-stroke-color":"yellow"}}}),{c(){B(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,i){M(e,t,i),n=!0},p:we,i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function _l(l){let e,n,t,i,r,a,f,o,_,u,N;e=new Bt({}),e.$on("click",l[12]);let b=l[1].mode!="editing"&&Oe(l);i=new wt({props:{gj:l[3].summary.networkMap,show:l[6]}});let v=ie(l[3].criticalIssues),$=[];for(let s=0;s<v.length;s+=1)$[s]=Ue(Fe(l,v,s));const S=s=>y($[s],1,1,()=>{$[s]=null});let k=ie(l[3].policyConflictLog),p=[];for(let s=0;s<k.length;s+=1)p[s]=He(Me(l,k,s));const m=s=>y(p[s],1,1,()=>{p[s]=null});return o=new Ct({props:{data:l[7],$$slots:{default:[ml]},$$scope:{ctx:l}}}),u=new At({props:{map:l[0]}}),{c(){B(e.$$.fragment),n=D(),b&&b.c(),t=D(),B(i.$$.fragment),r=D();for(let s=0;s<$.length;s+=1)$[s].c();a=D();for(let s=0;s<p.length;s+=1)p[s].c();f=D(),B(o.$$.fragment),_=D(),B(u.$$.fragment)},l(s){P(e.$$.fragment,s),n=T(s),b&&b.l(s),t=T(s),P(i.$$.fragment,s),r=T(s);for(let g=0;g<$.length;g+=1)$[g].l(s);a=T(s);for(let g=0;g<p.length;g+=1)p[g].l(s);f=T(s),P(o.$$.fragment,s),_=T(s),P(u.$$.fragment,s)},m(s,g){M(e,s,g),L(s,n,g),b&&b.m(s,g),L(s,t,g),M(i,s,g),L(s,r,g);for(let C=0;C<$.length;C+=1)$[C]&&$[C].m(s,g);L(s,a,g);for(let C=0;C<p.length;C+=1)p[C]&&p[C].m(s,g);L(s,f,g),M(o,s,g),L(s,_,g),M(u,s,g),N=!0},p(s,g){s[1].mode!="editing"?b?(b.p(s,g),g[0]&2&&w(b,1)):(b=Oe(s),b.c(),w(b,1),b.m(t.parentNode,t)):b&&(te(),y(b,1,1,()=>{b=null}),le());const C={};if(g[0]&8&&(C.gj=s[3].summary.networkMap),g[0]&64&&(C.show=s[6]),i.$set(C),g[0]&264){v=ie(s[3].criticalIssues);let q;for(q=0;q<v.length;q+=1){const x=Fe(s,v,q);$[q]?($[q].p(x,g),w($[q],1)):($[q]=Ue(x),$[q].c(),w($[q],1),$[q].m(a.parentNode,a))}for(te(),q=v.length;q<$.length;q+=1)S(q);le()}if(g[0]&264){k=ie(s[3].policyConflictLog);let q;for(q=0;q<k.length;q+=1){const x=Me(s,k,q);p[q]?(p[q].p(x,g),w(p[q],1)):(p[q]=He(x),p[q].c(),w(p[q],1),p[q].m(f.parentNode,f))}for(te(),q=k.length;q<p.length;q+=1)m(q);le()}const V={};g[0]&128&&(V.data=s[7]),g[1]&262144&&(V.$$scope={dirty:g,ctx:s}),o.$set(V);const ne={};g[0]&1&&(ne.map=s[0]),u.$set(ne)},i(s){if(!N){w(e.$$.fragment,s),w(b),w(i.$$.fragment,s);for(let g=0;g<v.length;g+=1)w($[g]);for(let g=0;g<k.length;g+=1)w(p[g]);w(o.$$.fragment,s),w(u.$$.fragment,s),N=!0}},o(s){y(e.$$.fragment,s),y(b),y(i.$$.fragment,s),$=$.filter(Boolean);for(let g=0;g<$.length;g+=1)y($[g]);p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)y(p[g]);y(o.$$.fragment,s),y(u.$$.fragment,s),N=!1},d(s){s&&(d(n),d(t),d(r),d(a),d(f),d(_)),F(e,s),b&&b.d(s),F(i,s),he($,s),he(p,s),F(o,s),F(u,s)}}}function gl(l){let e,n,t,i,r,a,f,o,_,u,N;const b=[Xt,Yt],v=[];function $(p,m){return p[1].mode!="editing"?0:1}t=$(l),i=v[t]=b[t](l);function S(p){l[38](p)}let k={$$slots:{default:[_l]},$$scope:{ctx:l}};return l[0]!==void 0&&(k.map=l[0]),f=new vt({props:k}),K.push(()=>Y(f,"map",S)),{c(){e=W("div"),n=W("div"),i.c(),r=D(),a=W("div"),B(f.$$.fragment),this.h()},l(p){e=J(p,"DIV",{style:!0});var m=Z(e);n=J(m,"DIV",{style:!0});var s=Z(n);i.l(s),s.forEach(d),r=T(m),a=J(m,"DIV",{style:!0});var g=Z(a);P(f.$$.fragment,g),g.forEach(d),m.forEach(d),this.h()},h(){H(n,"width","30%"),H(n,"overflow-y","scroll"),H(n,"padding","10px"),H(n,"border","1px solid black"),H(a,"position","relative"),H(a,"width","70%"),H(e,"display","flex"),H(e,"height","80vh")},m(p,m){L(p,e,m),A(e,n),v[t].m(n,null),l[28](n),A(e,r),A(e,a),M(f,a,null),_=!0,u||(N=$t(zt,"keydown",l[17]),u=!0)},p(p,m){let s=t;t=$(p),t===s?v[t].p(p,m):(te(),y(v[s],1,1,()=>{v[s]=null}),le(),i=v[t],i?i.p(p,m):(i=v[t]=b[t](p),i.c()),w(i,1),i.m(n,null));const g={};m[0]&203|m[1]&262144&&(g.$$scope={dirty:m,ctx:p}),!o&&m[0]&1&&(o=!0,g.map=p[0],z(()=>o=!1)),f.$set(g)},i(p){_||(w(i),w(f.$$.fragment,p),_=!0)},o(p){y(i),y(f.$$.fragment,p),_=!1},d(p){p&&d(e),v[t].d(),l[28](null),F(f),u=!1,N()}}}function $l(l,e,n){let t={type:"FeatureCollection",features:[]},i=e.mode=="editing"?e.id:n;if(i!=null){let r=i.kind=="critical"?l.criticalIssues:l.policyConflictLog;t.features.push(Se(r[i.idx].point))}return t}function Se(l){return{type:"Feature",properties:{},geometry:{type:"Point",coordinates:l}}}function dl(l,e,n){let t,i,r;$e(l,R,h=>n(3,i=h)),$e(l,jt,h=>n(40,r=h));let a,f,o={mode:"select"},_=r.url.searchParams.get("kind")||"";_=="critical"?o={mode:"new-critical"}:_=="conflict"&&(o={mode:"new-conflict"});let u=null,N=null,b=!1,v=!0;async function $(h){u=f.scrollTop,n(1,o={mode:"editing",id:h}),n(2,N=null),await Ie(),n(4,f.scrollTop=0,f)}async function S(h){u=f.scrollTop,n(1,o={mode:"editing",id:h}),n(2,N=null),await Ie(),n(4,f.scrollTop=0,f);let G=h.kind=="critical"?i.criticalIssues:i.policyConflictLog;a.flyTo({center:G[h.idx].point,duration:500})}async function k(h){let G=h.kind=="critical"?i.criticalIssues:i.policyConflictLog,ee=JSON.parse(JSON.stringify(G[h.idx])),ft=a.getBounds().getWest(),ct=a.getBounds().getEast();ee.point[0]+=(ct-ft)*.05;let Ee=G.toSpliced(h.idx+1,0,ee);h.kind=="critical"?ce(R,i.criticalIssues=Ee,i):ce(R,i.policyConflictLog=Ee,i),$({kind:h.kind,idx:h.idx+1})}async function p(){n(1,o={mode:"select"}),ce(R,i.policyConflictLog=i.policyConflictLog.toSorted((h,G)=>De(h.conflict)-De(G.conflict)),i),ce(R,i.criticalIssues=i.criticalIssues.toSorted((h,G)=>Te(h.criticalIssue)-Te(G.criticalIssue)),i),u!=null&&(await Ie(),n(4,f.scrollTop=u,f),u=null)}function m(h){if(!b&&o.mode!="select"){if(o.mode=="editing"){p();return}o.mode=="new-critical"?(ce(R,i.criticalIssues=[...i.criticalIssues,{criticalIssue:r.url.searchParams.get("code")||"",stage:"",point:h.detail.lngLat.toArray(),locationName:"",resolved:"",notes:""}],i),$({kind:"critical",idx:i.criticalIssues.length-1})):o.mode=="new-conflict"&&(ce(R,i.policyConflictLog=[...i.policyConflictLog,{conflict:r.url.searchParams.get("code")||"",stage:"",point:h.detail.lngLat.toArray(),locationName:"",resolved:"",notes:""}],i),$({kind:"conflict",idx:i.policyConflictLog.length-1}))}}dt(()=>{g(!1)});function s(){o.mode=="editing"&&window.confirm("Delete this entry?")&&(o.id.kind=="critical"?(i.criticalIssues.splice(o.id.idx,1),R.set(i)):(i.policyConflictLog.splice(o.id.idx,1),R.set(i)),p())}function g(h){let G={type:"FeatureCollection",features:[...i.criticalIssues.map(ee=>Se(ee.point)),...i.policyConflictLog.map(ee=>Se(ee.point)),...i.summary.networkMap.features]};G.features.length>0&&a.fitBounds(kt(G),{padding:20,animate:h})}function C(h){let G=h.criticalIssue?St(h.criticalIssue):"Unknown critical";return h.locationName?`${G} (${h.locationName})`:G}function V(h){let G=h.conflict?Nt(h.conflict):"Unknown conflict";return h.locationName?`${G} (${h.locationName})`:G}function ne(h){if(o.mode=="editing"){let G=h.target.tagName,ee=G=="INPUT"||G=="TEXTAREA";h.key=="Escape"||h.key=="Enter"&&!ee?(h.stopPropagation(),p()):h.key=="Delete"&&!ee&&(h.stopPropagation(),s())}else(o.mode=="new-critical"||o.mode=="new-conflict")&&h.key=="Escape"&&(h.stopPropagation(),n(1,o={mode:"select"}))}const q=()=>g(!0);function x(h){b=h,n(5,b)}function oe(h){v=h,n(6,v)}const pe=h=>S({kind:"critical",idx:h}),se=h=>n(2,N={kind:"critical",idx:h}),E=()=>n(2,N=null),me=h=>S({kind:"conflict",idx:h}),ae=h=>n(2,N={kind:"conflict",idx:h}),c=()=>n(2,N=null),I=()=>k({kind:o.id.kind,idx:o.id.idx});function X(h){K[h?"unshift":"push"](()=>{f=h,n(4,f)})}const Q=()=>p(),re=()=>n(1,o={mode:"new-critical"}),fe=()=>n(1,o={mode:"new-conflict"});function lt(h,G){l.$$.not_equal(G.point,h)&&(G.point=h,R.set(i))}const nt=h=>$({kind:"critical",idx:h}),it=h=>$({kind:"critical",idx:h});function ot(h,G){l.$$.not_equal(G.point,h)&&(G.point=h,R.set(i))}const st=h=>$({kind:"conflict",idx:h}),at=h=>$({kind:"conflict",idx:h});function rt(h){a=h,n(0,a)}return l.$$.update=()=>{l.$$.dirty[0]&3&&a&&(a.getCanvas().style.cursor=o.mode=="new-critical"||o.mode=="new-conflict"?"crosshair":"auto"),l.$$.dirty[0]&14&&n(7,t=$l(i,o,N))},[a,o,N,i,f,b,v,t,$,S,k,p,m,s,g,C,V,ne,q,x,oe,pe,se,E,me,ae,c,I,X,Q,re,fe,lt,nt,it,ot,st,at,rt]}class Rl extends Ce{constructor(e){super(),ye(this,e,dl,gl,ke,{},null,[-1,-1])}}export{Rl as component};
