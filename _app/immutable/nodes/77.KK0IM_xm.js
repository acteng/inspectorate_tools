import{s as $e,a as D,w as X,c as S,i as d,d as b,x as me,k as _e,t as oe,h as ie,l as ce,r as T,v as B}from"../chunks/scheduler.8Pqdtq9W.js";import{S as ge,i as ve,c as w,a as k,m as y,t as v,f as de,b as h,d as C,g as be,e as A}from"../chunks/index.KrNxZzBh.js";import{B as he,e as Z}from"../chunks/Geocoder.svelte_svelte_type_style_lang.CI-sE9Bk.js";import{p as we}from"../chunks/index.B_uESu4H.js";import{C as ke}from"../chunks/CollapsibleCard.COCSlxIK.js";import{S as ye}from"../chunks/SecondaryButton.CctJSiA9.js";import{S as x}from"../chunks/Select.B6nFQD22.js";import{T as Ce}from"../chunks/TextArea.CjICvxNC.js";import{T as ee}from"../chunks/TextInput.CSx64iaK.js";import{W as Ne}from"../chunks/WarningButton.Cyr2mll2.js";import{s as q}from"../chunks/data.DidLf-AL.js";import{Y as Le}from"../chunks/YesNo.B62-anw5.js";function te(t,a,s){const n=t.slice();return n[10]=a[s],n[11]=a,n[12]=s,n}function qe(t){let a;return{c(){a=oe("Add")},l(s){a=ie(s,"Add")},m(s,n){d(s,a,n)},d(s){s&&b(a)}}}function De(t){let a;return{c(){a=oe("Delete")},l(s){a=ie(s,"Delete")},m(s,n){d(s,a,n)},d(s){s&&b(a)}}}function Se(t){let a,s,n,m,$,_,c,l,g,o,r,p,i,u,N,I,O,L,W,P,R;function ae(){return t[3](t[12])}a=new Ne({props:{$$slots:{default:[De]},$$scope:{ctx:t}}}),a.$on("click",ae);function se(e){t[4](e,t[10])}let Y={label:"Policy Conflict",emptyOption:!0,choices:[["1","1 - Cyclists are not separated from pedestrians"],["2",'2 - Barriers, steps, or "Cyclist Dismount" signs are present'],["3","3 - The route is not direct, logical and intuitive"],["4","4 - Inappropriate surface materials"],["5","5 - Appropriate lighting is not provided"],["6","6 - Routes miss opportunities to join together with other facilities as a network"]]};t[10].conflict!==void 0&&(Y.value=t[10].conflict),n=new x({props:Y}),T.push(()=>A(n,"value",se));function le(e){t[5](e,t[10])}let j={label:"Stage",emptyOption:!0,choices:we(["Existing","Design"])};t[10].stage!==void 0&&(j.value=t[10].stage),_=new x({props:j}),T.push(()=>A(_,"value",le));function re(e){t[6](e,t[10])}let E={label:"Location"};t[10].point!==void 0&&(E.value=t[10].point),g=new ee({props:E}),T.push(()=>A(g,"value",re));function ue(e){t[7](e,t[10])}let F={label:"Location Name"};t[10].locationName!==void 0&&(F.value=t[10].locationName),p=new ee({props:F}),T.push(()=>A(p,"value",ue));function fe(e){t[8](e,t[10])}let z={label:"Resolved by Design"};t[10].resolved!==void 0&&(z.value=t[10].resolved),N=new Le({props:z}),T.push(()=>A(N,"value",fe));function pe(e){t[9](e,t[10])}let G={label:"Commentary & Feedback"};return t[10].notes!==void 0&&(G.value=t[10].notes),L=new Ce({props:G}),T.push(()=>A(L,"value",pe)),{c(){w(a.$$.fragment),s=D(),w(n.$$.fragment),$=D(),w(_.$$.fragment),l=D(),w(g.$$.fragment),r=D(),w(p.$$.fragment),u=D(),w(N.$$.fragment),O=D(),w(L.$$.fragment),P=D()},l(e){k(a.$$.fragment,e),s=S(e),k(n.$$.fragment,e),$=S(e),k(_.$$.fragment,e),l=S(e),k(g.$$.fragment,e),r=S(e),k(p.$$.fragment,e),u=S(e),k(N.$$.fragment,e),O=S(e),k(L.$$.fragment,e),P=S(e)},m(e,f){y(a,e,f),d(e,s,f),y(n,e,f),d(e,$,f),y(_,e,f),d(e,l,f),y(g,e,f),d(e,r,f),y(p,e,f),d(e,u,f),y(N,e,f),d(e,O,f),y(L,e,f),d(e,P,f),R=!0},p(e,f){t=e;const H={};f&8192&&(H.$$scope={dirty:f,ctx:t}),a.$set(H);const J={};!m&&f&1&&(m=!0,J.value=t[10].conflict,B(()=>m=!1)),n.$set(J);const K={};!c&&f&1&&(c=!0,K.value=t[10].stage,B(()=>c=!1)),_.$set(K);const M={};!o&&f&1&&(o=!0,M.value=t[10].point,B(()=>o=!1)),g.$set(M);const Q={};!i&&f&1&&(i=!0,Q.value=t[10].locationName,B(()=>i=!1)),p.$set(Q);const U={};!I&&f&1&&(I=!0,U.value=t[10].resolved,B(()=>I=!1)),N.$set(U);const V={};!W&&f&1&&(W=!0,V.value=t[10].notes,B(()=>W=!1)),L.$set(V)},i(e){R||(v(a.$$.fragment,e),v(n.$$.fragment,e),v(_.$$.fragment,e),v(g.$$.fragment,e),v(p.$$.fragment,e),v(N.$$.fragment,e),v(L.$$.fragment,e),R=!0)},o(e){h(a.$$.fragment,e),h(n.$$.fragment,e),h(_.$$.fragment,e),h(g.$$.fragment,e),h(p.$$.fragment,e),h(N.$$.fragment,e),h(L.$$.fragment,e),R=!1},d(e){e&&(b(s),b($),b(l),b(r),b(u),b(O),b(P)),C(a,e),C(n,e),C(_,e),C(g,e),C(p,e),C(N,e),C(L,e)}}}function ne(t){let a,s;return a=new ke({props:{label:t[10].id,open:!0,$$slots:{default:[Se]},$$scope:{ctx:t}}}),{c(){w(a.$$.fragment)},l(n){k(a.$$.fragment,n)},m(n,m){y(a,n,m),s=!0},p(n,m){const $={};m&1&&($.label=n[10].id),m&8193&&($.$$scope={dirty:m,ctx:n}),a.$set($)},i(n){s||(v(a.$$.fragment,n),s=!0)},o(n){h(a.$$.fragment,n),s=!1},d(n){C(a,n)}}}function Te(t){let a,s,n,m,$,_;a=new he({props:{links:[["Tools","/"],["Route check tool","/route_check"]],current:"Policy Conflict Log"}}),n=new ye({props:{$$slots:{default:[qe]},$$scope:{ctx:t}}}),n.$on("click",t[1]);let c=Z(t[0].policyConflictLog),l=[];for(let o=0;o<c.length;o+=1)l[o]=ne(te(t,c,o));const g=o=>h(l[o],1,1,()=>{l[o]=null});return{c(){w(a.$$.fragment),s=D(),w(n.$$.fragment),m=D();for(let o=0;o<l.length;o+=1)l[o].c();$=X()},l(o){k(a.$$.fragment,o),s=S(o),k(n.$$.fragment,o),m=S(o);for(let r=0;r<l.length;r+=1)l[r].l(o);$=X()},m(o,r){y(a,o,r),d(o,s,r),y(n,o,r),d(o,m,r);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(o,r);d(o,$,r),_=!0},p(o,[r]){const p={};if(r&8192&&(p.$$scope={dirty:r,ctx:o}),n.$set(p),r&5){c=Z(o[0].policyConflictLog);let i;for(i=0;i<c.length;i+=1){const u=te(o,c,i);l[i]?(l[i].p(u,r),v(l[i],1)):(l[i]=ne(u),l[i].c(),v(l[i],1),l[i].m($.parentNode,$))}for(be(),i=c.length;i<l.length;i+=1)g(i);de()}},i(o){if(!_){v(a.$$.fragment,o),v(n.$$.fragment,o);for(let r=0;r<c.length;r+=1)v(l[r]);_=!0}},o(o){h(a.$$.fragment,o),h(n.$$.fragment,o),l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)h(l[r]);_=!1},d(o){o&&(b(s),b(m),b($)),C(a,o),C(n,o),me(l,o)}}}function Be(t,a,s){let n;_e(t,q,i=>s(0,n=i));function m(){ce(q,n.policyConflictLog=[...n.policyConflictLog,{id:"TODO",conflict:"",stage:"",point:"",locationName:"",resolved:"",notes:""}],n)}function $(i){window.confirm("Delete this entry?")&&(n.policyConflictLog.splice(i,1),q.set(n))}const _=i=>$(i);function c(i,u){t.$$.not_equal(u.conflict,i)&&(u.conflict=i,q.set(n))}function l(i,u){t.$$.not_equal(u.stage,i)&&(u.stage=i,q.set(n))}function g(i,u){t.$$.not_equal(u.point,i)&&(u.point=i,q.set(n))}function o(i,u){t.$$.not_equal(u.locationName,i)&&(u.locationName=i,q.set(n))}function r(i,u){t.$$.not_equal(u.resolved,i)&&(u.resolved=i,q.set(n))}function p(i,u){t.$$.not_equal(u.notes,i)&&(u.notes=i,q.set(n))}return[n,m,$,_,c,l,g,o,r,p]}class He extends ge{constructor(a){super(),ve(this,a,Be,Te,$e,{})}}export{He as component};
