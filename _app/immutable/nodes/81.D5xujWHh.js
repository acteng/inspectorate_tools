import{s as $e,a as D,y as X,g as L,i as v,f as d,m as _e,k as me,t as oe,d as ie,p as ce,w as T,x as A}from"../chunks/scheduler.BKca8jgz.js";import{S as ge,i as ve,c as C,a as k,m as N,t as g,f as de,b,d as q,g as be,e as B}from"../chunks/index.CFqagxlr.js";import{e as Z}from"../chunks/Geocoder.svelte_svelte_type_style_lang.CLPLPTv_.js";import{p as he}from"../chunks/index.Bm_YyJNG.js";import{C as we}from"../chunks/CollapsibleCard.D7ypCGs6.js";import{S as ye}from"../chunks/SecondaryButton.4UiulqFF.js";import{S as x}from"../chunks/Select.CHtYgaRx.js";import{T as Ce}from"../chunks/TextArea.BfFYyba3.js";import{T as ee}from"../chunks/TextInput.8KqWp6jK.js";import{W as ke}from"../chunks/WarningButton.Bz3oz85x.js";import{s as y}from"../chunks/data.zLLvJVYf.js";import{Y as Ne}from"../chunks/YesNo.BgC1yHrN.js";function te(t,o,l){const n=t.slice();return n[10]=o[l],n[11]=o,n[12]=l,n}function qe(t){let o;return{c(){o=oe("Add")},l(l){o=ie(l,"Add")},m(l,n){v(l,o,n)},d(l){l&&d(o)}}}function De(t){let o;return{c(){o=oe("Delete")},l(l){o=ie(l,"Delete")},m(l,n){v(l,o,n)},d(l){l&&d(o)}}}function Le(t){let o,l,n,_,$,a,S,i,s,c,f,m,r,p,h,R,O,w,W,I,P;function ae(){return t[3](t[12])}o=new ke({props:{$$slots:{default:[De]},$$scope:{ctx:t}}}),o.$on("click",ae);function se(e){t[4](e,t[10])}let Y={label:"Policy Conflict",emptyOption:!0,choices:[["1","1 - Cyclists are not separated from pedestrians"],["2",'2 - Barriers, steps, or "Cyclist Dismount" signs are present'],["3","3 - The route is not direct, logical and intuitive"],["4","4 - Inappropriate surface materials"],["5","5 - Appropriate lighting is not provided"],["6","6 - Routes miss opportunities to join together with other facilities as a network"]]};t[10].conflict!==void 0&&(Y.value=t[10].conflict),n=new x({props:Y}),T.push(()=>B(n,"value",se));function le(e){t[5](e,t[10])}let j={label:"Stage",emptyOption:!0,choices:he(["Existing","Design"])};t[10].stage!==void 0&&(j.value=t[10].stage),a=new x({props:j}),T.push(()=>B(a,"value",le));function re(e){t[6](e,t[10])}let E={label:"Location"};t[10].point!==void 0&&(E.value=t[10].point),s=new ee({props:E}),T.push(()=>B(s,"value",re));function ue(e){t[7](e,t[10])}let F={label:"Location Name"};t[10].locationName!==void 0&&(F.value=t[10].locationName),m=new ee({props:F}),T.push(()=>B(m,"value",ue));function fe(e){t[8](e,t[10])}let z={label:"Resolved by Design"};t[10].resolved!==void 0&&(z.value=t[10].resolved),h=new Ne({props:z}),T.push(()=>B(h,"value",fe));function pe(e){t[9](e,t[10])}let G={label:"Commentary & Feedback"};return t[10].notes!==void 0&&(G.value=t[10].notes),w=new Ce({props:G}),T.push(()=>B(w,"value",pe)),{c(){C(o.$$.fragment),l=D(),C(n.$$.fragment),$=D(),C(a.$$.fragment),i=D(),C(s.$$.fragment),f=D(),C(m.$$.fragment),p=D(),C(h.$$.fragment),O=D(),C(w.$$.fragment),I=D()},l(e){k(o.$$.fragment,e),l=L(e),k(n.$$.fragment,e),$=L(e),k(a.$$.fragment,e),i=L(e),k(s.$$.fragment,e),f=L(e),k(m.$$.fragment,e),p=L(e),k(h.$$.fragment,e),O=L(e),k(w.$$.fragment,e),I=L(e)},m(e,u){N(o,e,u),v(e,l,u),N(n,e,u),v(e,$,u),N(a,e,u),v(e,i,u),N(s,e,u),v(e,f,u),N(m,e,u),v(e,p,u),N(h,e,u),v(e,O,u),N(w,e,u),v(e,I,u),P=!0},p(e,u){t=e;const H={};u&8192&&(H.$$scope={dirty:u,ctx:t}),o.$set(H);const J={};!_&&u&1&&(_=!0,J.value=t[10].conflict,A(()=>_=!1)),n.$set(J);const K={};!S&&u&1&&(S=!0,K.value=t[10].stage,A(()=>S=!1)),a.$set(K);const M={};!c&&u&1&&(c=!0,M.value=t[10].point,A(()=>c=!1)),s.$set(M);const Q={};!r&&u&1&&(r=!0,Q.value=t[10].locationName,A(()=>r=!1)),m.$set(Q);const U={};!R&&u&1&&(R=!0,U.value=t[10].resolved,A(()=>R=!1)),h.$set(U);const V={};!W&&u&1&&(W=!0,V.value=t[10].notes,A(()=>W=!1)),w.$set(V)},i(e){P||(g(o.$$.fragment,e),g(n.$$.fragment,e),g(a.$$.fragment,e),g(s.$$.fragment,e),g(m.$$.fragment,e),g(h.$$.fragment,e),g(w.$$.fragment,e),P=!0)},o(e){b(o.$$.fragment,e),b(n.$$.fragment,e),b(a.$$.fragment,e),b(s.$$.fragment,e),b(m.$$.fragment,e),b(h.$$.fragment,e),b(w.$$.fragment,e),P=!1},d(e){e&&(d(l),d($),d(i),d(f),d(p),d(O),d(I)),q(o,e),q(n,e),q(a,e),q(s,e),q(m,e),q(h,e),q(w,e)}}}function ne(t){let o,l;return o=new we({props:{label:t[10].id,open:!0,$$slots:{default:[Le]},$$scope:{ctx:t}}}),{c(){C(o.$$.fragment)},l(n){k(o.$$.fragment,n)},m(n,_){N(o,n,_),l=!0},p(n,_){const $={};_&1&&($.label=n[10].id),_&8193&&($.$$scope={dirty:_,ctx:n}),o.$set($)},i(n){l||(g(o.$$.fragment,n),l=!0)},o(n){b(o.$$.fragment,n),l=!1},d(n){q(o,n)}}}function Se(t){let o,l,n,_;o=new ye({props:{$$slots:{default:[qe]},$$scope:{ctx:t}}}),o.$on("click",t[1]);let $=Z(t[0].policyConflictLog),a=[];for(let i=0;i<$.length;i+=1)a[i]=ne(te(t,$,i));const S=i=>b(a[i],1,1,()=>{a[i]=null});return{c(){C(o.$$.fragment),l=D();for(let i=0;i<a.length;i+=1)a[i].c();n=X()},l(i){k(o.$$.fragment,i),l=L(i);for(let s=0;s<a.length;s+=1)a[s].l(i);n=X()},m(i,s){N(o,i,s),v(i,l,s);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,s);v(i,n,s),_=!0},p(i,[s]){const c={};if(s&8192&&(c.$$scope={dirty:s,ctx:i}),o.$set(c),s&5){$=Z(i[0].policyConflictLog);let f;for(f=0;f<$.length;f+=1){const m=te(i,$,f);a[f]?(a[f].p(m,s),g(a[f],1)):(a[f]=ne(m),a[f].c(),g(a[f],1),a[f].m(n.parentNode,n))}for(be(),f=$.length;f<a.length;f+=1)S(f);de()}},i(i){if(!_){g(o.$$.fragment,i);for(let s=0;s<$.length;s+=1)g(a[s]);_=!0}},o(i){b(o.$$.fragment,i),a=a.filter(Boolean);for(let s=0;s<a.length;s+=1)b(a[s]);_=!1},d(i){i&&(d(l),d(n)),q(o,i),_e(a,i)}}}function Te(t,o,l){let n;me(t,y,r=>l(0,n=r));function _(){ce(y,n.policyConflictLog=[...n.policyConflictLog,{id:"TODO",conflict:"",stage:"",point:"",locationName:"",resolved:"",notes:""}],n)}function $(r){window.confirm("Delete this entry?")&&(n.policyConflictLog.splice(r,1),y.set(n))}const a=r=>$(r);function S(r,p){t.$$.not_equal(p.conflict,r)&&(p.conflict=r,y.set(n))}function i(r,p){t.$$.not_equal(p.stage,r)&&(p.stage=r,y.set(n))}function s(r,p){t.$$.not_equal(p.point,r)&&(p.point=r,y.set(n))}function c(r,p){t.$$.not_equal(p.locationName,r)&&(p.locationName=r,y.set(n))}function f(r,p){t.$$.not_equal(p.resolved,r)&&(p.resolved=r,y.set(n))}function m(r,p){t.$$.not_equal(p.notes,r)&&(p.notes=r,y.set(n))}return[n,_,$,a,S,i,s,c,f,m]}class Ge extends ge{constructor(o){super(),ve(this,o,Te,Se,$e,{})}}export{Ge as component};
