var Hs=Object.defineProperty;var Zs=(r,e,t)=>e in r?Hs(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Pe=(r,e,t)=>(Zs(r,typeof e!="symbol"?e+"":e,t),t);import{s as ge,m as kt,B as ni,e as ee,b as te,f as oe,d as A,C as co,i as N,A as Ue,u as Et,p as At,q as Ot,D as mo,E as Se,O as bt,P as _t,o as C,j as $,n as me,a as J,t as Be,c as K,h as Ie,a5 as st,y as Dt,H as Li,a6 as We,g as Qr,K as dt,a7 as $r,z as yo,a8 as Xs,a4 as Ci,a9 as St,r as Me,w as Ge,R as Ys,aa as ll,ab as xs,k as Le,l as wt,v as Ee,T as Vs,J as Js,ac as Ks}from"../chunks/scheduler.8Pqdtq9W.js";import{S as be,i as _e,t as D,b as z,c as X,a as Y,m as x,g as Je,f as Ke,d as V,e as Ae}from"../chunks/index.KrNxZzBh.js";import{p as sr}from"../chunks/index.DjS60LUw.js";import{S as fr}from"../chunks/Select.Bt1_W9Pf.js";import{T as Nr}from"../chunks/TextArea.CjICvxNC.js";import{T as ur}from"../chunks/TextInput.CSx64iaK.js";import{s as ke}from"../chunks/data.rXpUyUdm.js";import{c as Qs,e as ho,u as $s,o as ef,h as tf,m as rr,g as Ti,a as bn,b as sl,B as rf}from"../chunks/Geocoder.svelte_svelte_type_style_lang.DgqoFFed.js";import{g as nf}from"../chunks/spread.CN4WR7uZ.js";import{S as Fn}from"../chunks/SecondaryButton.CctJSiA9.js";import{W as of}from"../chunks/WarningButton.Cyr2mll2.js";import{w as it,r as Rn}from"../chunks/index.Dj5dleFw.js";import"../chunks/paths.DrcgM7qX.js";import{a as af,t as lf,r as sf,f as ff,d as uf}from"../chunks/lists.Ci0sBo6t.js";function cf(r){let e,t,n,i;const o=r[2].default,a=kt(o,r,r[1],null);let l=[{type:"button"},{class:"govuk-button"},{"data-module":"govuk-button"},r[0]],s={};for(let f=0;f<l.length;f+=1)s=ni(s,l[f]);return{c(){e=ee("button"),a&&a.c(),this.h()},l(f){e=te(f,"BUTTON",{type:!0,class:!0,"data-module":!0});var c=oe(e);a&&a.l(c),c.forEach(A),this.h()},h(){co(e,s)},m(f,c){N(f,e,c),a&&a.m(e,null),e.autofocus&&e.focus(),t=!0,n||(i=Ue(e,"click",r[3]),n=!0)},p(f,[c]){a&&a.p&&(!t||c&2)&&Et(a,o,f,f[1],t?Ot(o,f[1],c,null):At(f[1]),null),co(e,s=nf(l,[{type:"button"},{class:"govuk-button"},{"data-module":"govuk-button"},c&1&&f[0]]))},i(f){t||(D(a,f),t=!0)},o(f){z(a,f),t=!1},d(f){f&&A(e),a&&a.d(f),n=!1,i()}}}function mf(r,e,t){let{$$slots:n={},$$scope:i}=e;function o(a){Se.call(this,r,a)}return r.$$set=a=>{t(0,e=ni(ni({},e),mo(a))),"$$scope"in a&&t(1,i=a.$$scope)},e=mo(e),[e,i,n,o]}class yf extends be{constructor(e){super(),_e(this,e,mf,cf,ge,{})}}function hf(r){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(n){e=_t(n,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var i=oe(e);t=_t(i,"path",{d:!0}),oe(t).forEach(A),i.forEach(A),this.h()},h(){C(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),C(e,"viewBox","0 0 14 14"),C(e,"width","13"),C(e,"height","13"),C(e,"class","svelte-en2qvf")},m(n,i){N(n,e,i),$(e,t)},p:me,i:me,o:me,d(n){n&&A(e)}}}class fl extends be{constructor(e){super(),_e(this,e,null,hf,ge,{})}}function gf(r){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(n){e=_t(n,"svg",{viewBox:!0,fill:!0,xmlns:!0,class:!0});var i=oe(e);t=_t(i,"path",{d:!0}),oe(t).forEach(A),i.forEach(A),this.h()},h(){C(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),C(e,"viewBox","0 0 30 30"),C(e,"fill","none"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"class","svelte-d2loi5")},m(n,i){N(n,e,i),$(e,t)},p:me,i:me,o:me,d(n){n&&A(e)}}}class ul extends be{constructor(e){super(),_e(this,e,null,gf,ge,{})}}function vf(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){We(e.src,t=r[3]+"area.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!We(e.src,t=n[3]+"area.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&A(e)}}}function df(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){We(e.src,t=r[3]+"reverse.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!We(e.src,t=n[3]+"reverse.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&A(e)}}}function pf(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){We(e.src,t=r[3]+"poi.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!We(e.src,t=n[3]+"poi.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&A(e)}}}function bf(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){We(e.src,t=r[3]+"postal_code.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!We(e.src,t=n[3]+"postal_code.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&A(e)}}}function _f(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){We(e.src,t=r[3]+"street.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!We(e.src,t=n[3]+"street.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&A(e)}}}function wf(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){We(e.src,t=r[3]+"road.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!We(e.src,t=n[3]+"road.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&A(e)}}}function Sf(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){We(e.src,t=r[3]+"housenumber.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!We(e.src,t=n[3]+"housenumber.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&A(e)}}}function Mf(r){let e,t,n,i;return{c(){e=ee("img"),this.h()},l(o){e=te(o,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){We(e.src,t=r[5])||C(e,"src",t),C(e,"alt",r[4]),C(e,"class","svelte-ltkwvy")},m(o,a){N(o,e,a),n||(i=Ue(e,"error",r[14]),n=!0)},p(o,a){a&32&&!We(e.src,t=o[5])&&C(e,"src",t),a&16&&C(e,"alt",o[4])},d(o){o&&A(e),n=!1,i()}}}function go(r){let e,t;return{c(){e=ee("span"),t=Be(r[6]),this.h()},l(n){e=te(n,"SPAN",{class:!0});var i=oe(e);t=Ie(i,r[6]),i.forEach(A),this.h()},h(){C(e,"class","secondary svelte-ltkwvy")},m(n,i){N(n,e,i),$(e,t)},p(n,i){i&64&&Dt(t,n[6])},d(n){n&&A(e)}}}function Pf(r){var P,k;let e,t,n,i,o,a,l,s,f=(r[7]?r[0].place_name:r[0].place_name.replace(/,.*/,""))+"",c,m,g=r[2]==="always"||r[2]&&!r[0].address&&((P=r[0].properties)==null?void 0:P.kind)!=="road"&&((k=r[0].properties)==null?void 0:k.kind)!=="road_relation"&&!r[0].id.startsWith("address.")&&!r[0].id.startsWith("postal_code.")&&(!r[0].id.startsWith("poi.")||!r[5])&&!r[7],b,_,O=(r[7]?"":r[0].place_name.replace(/[^,]*,?\s*/,""))+"",T,B,u;function y(L,I){var d,S;return I&1&&(t=null),I&1&&(n=null),I&1&&(i=null),L[5]?Mf:L[0].address?Sf:((d=L[0].properties)==null?void 0:d.kind)==="road"||((S=L[0].properties)==null?void 0:S.kind)==="road_relation"?wf:(t==null&&(t=!!L[0].id.startsWith("address.")),t?_f:(n==null&&(n=!!L[0].id.startsWith("postal_code.")),n?bf:(i==null&&(i=!!L[0].id.startsWith("poi.")),i?pf:L[7]?df:vf)))}let h=y(r,-1),p=h(r),M=g&&go(r);return{c(){e=ee("li"),p.c(),o=J(),a=ee("span"),l=ee("span"),s=ee("span"),c=Be(f),m=J(),M&&M.c(),b=J(),_=ee("span"),T=Be(O),this.h()},l(L){e=te(L,"LI",{tabindex:!0,"data-selected":!0,class:!0});var I=oe(e);p.l(I),o=K(I),a=te(I,"SPAN",{class:!0});var d=oe(a);l=te(d,"SPAN",{class:!0});var S=oe(l);s=te(S,"SPAN",{class:!0});var U=oe(s);c=Ie(U,f),U.forEach(A),m=K(S),M&&M.l(S),S.forEach(A),b=K(d),_=te(d,"SPAN",{class:!0});var F=oe(_);T=Ie(F,O),F.forEach(A),d.forEach(A),I.forEach(A),this.h()},h(){C(s,"class","primary svelte-ltkwvy"),C(l,"class","svelte-ltkwvy"),C(_,"class","line2 svelte-ltkwvy"),C(a,"class","texts svelte-ltkwvy"),C(e,"tabindex","0"),C(e,"data-selected",r[1]),C(e,"class","svelte-ltkwvy"),st(e,"selected",r[1])},m(L,I){N(L,e,I),p.m(e,null),$(e,o),$(e,a),$(a,l),$(l,s),$(s,c),$(l,m),M&&M.m(l,null),$(a,b),$(a,_),$(_,T),B||(u=[Ue(e,"mouseenter",r[12]),Ue(e,"focus",r[13])],B=!0)},p(L,[I]){var d,S;h===(h=y(L,I))&&p?p.p(L,I):(p.d(1),p=h(L),p&&(p.c(),p.m(e,o))),I&1&&f!==(f=(L[7]?L[0].place_name:L[0].place_name.replace(/,.*/,""))+"")&&Dt(c,f),I&37&&(g=L[2]==="always"||L[2]&&!L[0].address&&((d=L[0].properties)==null?void 0:d.kind)!=="road"&&((S=L[0].properties)==null?void 0:S.kind)!=="road_relation"&&!L[0].id.startsWith("address.")&&!L[0].id.startsWith("postal_code.")&&(!L[0].id.startsWith("poi.")||!L[5])&&!L[7]),g?M?M.p(L,I):(M=go(L),M.c(),M.m(l,null)):M&&(M.d(1),M=null),I&1&&O!==(O=(L[7]?"":L[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&Dt(T,O),I&2&&C(e,"data-selected",L[1]),I&2&&st(e,"selected",L[1])},i:me,o:me,d(L){L&&A(e),p.d(),M&&M.d(),B=!1,Li(u)}}}function kf(r,e,t){var y;let n,i,{feature:o}=e,{selected:a=!1}=e,{showPlaceType:l}=e,{missingIconsCache:s}=e,{iconsBaseUrl:f}=e;const c=(y=o.properties)==null?void 0:y.categories;let m,g,b=0,_=o.place_type[0]==="reverse";function O(h){g&&s.add(g),t(10,b++,b)}function T(h){Se.call(this,r,h)}function B(h){Se.call(this,r,h)}const u=h=>O(h.currentTarget);return r.$$set=h=>{"feature"in h&&t(0,o=h.feature),"selected"in h&&t(1,a=h.selected),"showPlaceType"in h&&t(2,l=h.showPlaceType),"missingIconsCache"in h&&t(9,s=h.missingIconsCache),"iconsBaseUrl"in h&&t(3,f=h.iconsBaseUrl)},r.$$.update=()=>{var h,p,M,P;if(r.$$.dirty&3640)do t(11,n--,n),t(4,m=c==null?void 0:c[n]),t(5,g=m?f+m.replace(/ /g,"_")+".svg":void 0);while(n>-1&&(!g||s.has(g)));r.$$.dirty&1&&t(6,i=o.id.startsWith("poi.")?(p=(h=o.properties)==null?void 0:h.categories)==null?void 0:p.join(", "):((P=(M=o.properties)==null?void 0:M.place_type_name)==null?void 0:P[0])??o.place_type[0])},t(11,n=(c==null?void 0:c.length)??0),[o,a,l,f,m,g,i,_,O,s,b,n,T,B,u]}class Ef extends be{constructor(e){super(),_e(this,e,kf,Pf,ge,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function Af(r){let e,t='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>';return{c(){e=ee("div"),e.innerHTML=t,this.h()},l(n){e=te(n,"DIV",{class:!0,"data-svelte-h":!0}),Qr(e)!=="svelte-r6ogid"&&(e.innerHTML=t),this.h()},h(){C(e,"class","svelte-7cmwmc")},m(n,i){N(n,e,i)},p:me,i:me,o:me,d(n){n&&A(e)}}}class Of extends be{constructor(e){super(),_e(this,e,null,Af,ge,{})}}function Lf(r){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(n){e=_t(n,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var i=oe(e);t=_t(i,"path",{d:!0}),oe(t).forEach(A),i.forEach(A),this.h()},h(){C(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),C(e,"viewBox","0 0 60.006 21.412"),C(e,"width","14"),C(e,"height","20"),C(e,"class","svelte-en2qvf")},m(n,i){N(n,e,i),$(e,t)},p:me,i:me,o:me,d(n){n&&A(e)}}}class Cf extends be{constructor(e){super(),_e(this,e,null,Lf,ge,{})}}function Tf(r){let e,t,n;return{c(){e=bt("svg"),t=bt("circle"),n=bt("path"),this.h()},l(i){e=_t(i,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var o=oe(e);t=_t(o,"circle",{cx:!0,cy:!0,r:!0,style:!0}),oe(t).forEach(A),n=_t(o,"path",{d:!0,style:!0}),oe(n).forEach(A),o.forEach(A),this.h()},h(){C(t,"cx","4.789"),C(t,"cy","4.787"),C(t,"r","3.85"),dt(t,"stroke-width","1.875"),dt(t,"fill","none"),C(n,"d","M12.063 12.063 7.635 7.635"),dt(n,"stroke-width","1.875"),dt(n,"stroke-linecap","round"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"width","13"),C(e,"height","13"),C(e,"viewBox","0 0 13 13"),C(e,"class","svelte-1bpbt60")},m(i,o){N(i,e,o),$(e,t),$(e,n)},p:me,i:me,o:me,d(i){i&&A(e)}}}class Bf extends be{constructor(e){super(),_e(this,e,null,Tf,ge,{})}}function If(r,e,t){const n=e[1],i=e[0],o=n-i;return r===n&&t?r:((r-i)%o+o)%o+i}function vo(r){const e=[...r];return e[2]<e[0]&&(e[2]+=360),e}let cr;async function Ff(r,e,t){const n=r==null?void 0:r.getCenterAndZoom();for(const i of e??[])if(!(n&&(i.minZoom!=null&&i.minZoom>n[0]||i.maxZoom!=null&&i.maxZoom<n[0]))){if(i.type==="fixed")return i.coordinates.join(",");e:if(i.type==="client-geolocation"){if(cr&&i.cachedLocationExpiry&&cr.time+i.cachedLocationExpiry>Date.now()){if(!cr.coords)break e;return cr.coords}let o;try{return o=await new Promise((a,l)=>{t.signal.addEventListener("abort",()=>{l(Error("aborted"))}),navigator.geolocation.getCurrentPosition(s=>{a([s.coords.longitude,s.coords.latitude].map(f=>f.toFixed(6)).join(","))},s=>{l(s)},i)}),o}catch{}finally{i.cachedLocationExpiry&&(cr={time:Date.now(),coords:o})}if(t.signal.aborted)return}if(i.type==="server-geolocation")return"ip";if(n&&i.type==="map-center")return n[1].toFixed(6)+","+n[2].toFixed(6)}}function po(r,e,t){const n=r.slice();return n[81]=e[t],n[83]=t,n}function bo(r){let e,t;return e=new Of({}),{c(){X(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function _o(r){let e,t,n,i,o;return t=new Cf({}),{c(){e=ee("button"),X(t.$$.fragment),this.h()},l(a){e=te(a,"BUTTON",{type:!0,title:!0,class:!0});var l=oe(e);Y(t.$$.fragment,l),l.forEach(A),this.h()},h(){C(e,"type","button"),C(e,"title",r[9]),C(e,"class","svelte-zh3kmv"),st(e,"active",r[0])},m(a,l){N(a,e,l),x(t,e,null),n=!0,i||(o=Ue(e,"click",r[67]),i=!0)},p(a,l){(!n||l[0]&512)&&C(e,"title",a[9]),(!n||l[0]&1)&&st(e,"active",a[0])},i(a){n||(D(t.$$.fragment,a),n=!0)},o(a){z(t.$$.fragment,a),n=!1},d(a){a&&A(e),V(t),i=!1,o()}}}function Rf(r){let e,t=[],n=new Map,i,o,a,l=ho(r[14]);const s=f=>f[81].id+(f[81].address?","+f[81].address:"");for(let f=0;f<l.length;f+=1){let c=po(r,l,f),m=s(c);n.set(m,t[f]=wo(m,c))}return{c(){e=ee("ul");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=te(f,"UL",{class:!0});var c=oe(e);for(let m=0;m<t.length;m+=1)t[m].l(c);c.forEach(A),this.h()},h(){C(e,"class","svelte-zh3kmv")},m(f,c){N(f,e,c);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);i=!0,o||(a=[Ue(e,"mouseleave",r[71]),Ue(e,"blur",r[72])],o=!0)},p(f,c){c[0]&17880064&&(l=ho(f[14]),Je(),t=$s(t,c,s,1,f,l,n,e,ef,wo,null,po),Ke())},i(f){if(!i){for(let c=0;c<l.length;c+=1)D(t[c]);i=!0}},o(f){for(let c=0;c<t.length;c+=1)z(t[c]);i=!1},d(f){f&&A(e);for(let c=0;c<t.length;c+=1)t[c].d();o=!1,Li(a)}}}function Df(r){let e,t,n,i,o,a;return t=new ul({}),{c(){e=ee("div"),X(t.$$.fragment),n=J(),i=ee("div"),o=Be(r[7]),this.h()},l(l){e=te(l,"DIV",{class:!0});var s=oe(e);Y(t.$$.fragment,s),n=K(s),i=te(s,"DIV",{class:!0});var f=oe(i);o=Ie(f,r[7]),f.forEach(A),s.forEach(A),this.h()},h(){C(i,"class","svelte-zh3kmv"),C(e,"class","no-results svelte-zh3kmv")},m(l,s){N(l,e,s),x(t,e,null),$(e,n),$(e,i),$(i,o),a=!0},p(l,s){(!a||s[0]&128)&&Dt(o,l[7])},i(l){a||(D(t.$$.fragment,l),a=!0)},o(l){z(t.$$.fragment,l),a=!1},d(l){l&&A(e),V(t)}}}function zf(r){let e="",t;return{c(){t=Be(e)},l(n){t=Ie(n,e)},m(n,i){N(n,t,i)},p:me,i:me,o:me,d(n){n&&A(t)}}}function Nf(r){let e,t,n,i,o,a,l,s,f,c,m;return t=new ul({}),s=new fl({}),{c(){e=ee("div"),X(t.$$.fragment),n=J(),i=ee("div"),o=Be(r[6]),a=J(),l=ee("button"),X(s.$$.fragment),this.h()},l(g){e=te(g,"DIV",{class:!0});var b=oe(e);Y(t.$$.fragment,b),n=K(b),i=te(b,"DIV",{class:!0});var _=oe(i);o=Ie(_,r[6]),_.forEach(A),a=K(b),l=te(b,"BUTTON",{class:!0});var O=oe(l);Y(s.$$.fragment,O),O.forEach(A),b.forEach(A),this.h()},h(){C(i,"class","svelte-zh3kmv"),C(l,"class","svelte-zh3kmv"),C(e,"class","error svelte-zh3kmv")},m(g,b){N(g,e,b),x(t,e,null),$(e,n),$(e,i),$(i,o),$(e,a),$(e,l),x(s,l,null),f=!0,c||(m=Ue(l,"click",r[68]),c=!0)},p(g,b){(!f||b[0]&64)&&Dt(o,g[6])},i(g){f||(D(t.$$.fragment,g),D(s.$$.fragment,g),f=!0)},o(g){z(t.$$.fragment,g),z(s.$$.fragment,g),f=!1},d(g){g&&A(e),V(t),V(s),c=!1,m()}}}function wo(r,e){let t,n,i;function o(){return e[69](e[83])}function a(){return e[70](e[81])}return n=new Ef({props:{feature:e[81],showPlaceType:e[10],selected:e[15]===e[83],missingIconsCache:e[20],iconsBaseUrl:e[12]}}),n.$on("mouseenter",o),n.$on("focus",a),{key:r,first:null,c(){t=Ge(),X(n.$$.fragment),this.h()},l(l){t=Ge(),Y(n.$$.fragment,l),this.h()},h(){this.first=t},m(l,s){N(l,t,s),x(n,l,s),i=!0},p(l,s){e=l;const f={};s[0]&16384&&(f.feature=e[81]),s[0]&1024&&(f.showPlaceType=e[10]),s[0]&49152&&(f.selected=e[15]===e[83]),s[0]&4096&&(f.iconsBaseUrl=e[12]),n.$set(f)},i(l){i||(D(n.$$.fragment,l),i=!0)},o(l){z(n.$$.fragment,l),i=!1},d(l){l&&A(t),V(n,l)}}}function Uf(r){let e,t,n,i,o,a,l,s,f,c,m,g,b,_,O,T,B,u,y,h,p,M=!1;o=new Bf({}),m=new fl({});let P=r[19]&&bo(),k=r[5]===!0&&_o(r);const L=r[59].default,I=kt(L,r,r[58],null),d=[Nf,zf,Df,Rf],S=[];function U(F,W){var j,Q;return F[18]?0:F[16]?((j=F[14])==null?void 0:j.length)===0?2:F[16]&&((Q=F[14])!=null&&Q.length)?3:-1:1}return~(T=U(r))&&(B=S[T]=d[T](r)),{c(){e=J(),t=ee("form"),n=ee("div"),i=ee("button"),X(o.$$.fragment),a=J(),l=ee("input"),s=J(),f=ee("div"),c=ee("button"),X(m.$$.fragment),g=J(),P&&P.c(),b=J(),k&&k.c(),_=J(),I&&I.c(),O=J(),B&&B.c(),this.h()},l(F){e=K(F),t=te(F,"FORM",{tabindex:!0,class:!0});var W=oe(t);n=te(W,"DIV",{class:!0});var j=oe(n);i=te(j,"BUTTON",{class:!0,type:!0});var Q=oe(i);Y(o.$$.fragment,Q),Q.forEach(A),a=K(j),l=te(j,"INPUT",{placeholder:!0,"aria-label":!0,class:!0}),s=K(j),f=te(j,"DIV",{class:!0});var se=oe(f);c=te(se,"BUTTON",{type:!0,title:!0,class:!0});var ye=oe(c);Y(m.$$.fragment,ye),ye.forEach(A),g=K(se),P&&P.l(se),se.forEach(A),b=K(j),k&&k.l(j),_=K(j),I&&I.l(j),j.forEach(A),O=K(W),B&&B.l(W),W.forEach(A),this.h()},h(){C(i,"class","search-button svelte-zh3kmv"),C(i,"type","button"),C(l,"placeholder",r[8]),C(l,"aria-label",r[8]),C(l,"class","svelte-zh3kmv"),C(c,"type","button"),C(c,"title",r[3]),C(c,"class","svelte-zh3kmv"),C(f,"class","clear-button-container svelte-zh3kmv"),st(f,"displayable",r[1]!==""),C(n,"class","input-group svelte-zh3kmv"),C(t,"tabindex","0"),C(t,"class",u=$r(r[2])+" svelte-zh3kmv"),st(t,"can-collapse",r[4]&&r[1]==="")},m(F,W){N(F,e,W),N(F,t,W),$(t,n),$(n,i),x(o,i,null),$(n,a),$(n,l),r[61](l),yo(l,r[1]),$(n,s),$(n,f),$(f,c),x(m,c,null),$(f,g),P&&P.m(f,null),$(n,b),k&&k.m(n,null),$(n,_),I&&I.m(n,null),$(t,O),~T&&S[T].m(t,null),y=!0,h||(p=[Ue(i,"click",r[60]),Ue(l,"input",r[62]),Ue(l,"focus",r[63]),Ue(l,"blur",r[64]),Ue(l,"keydown",r[22]),Ue(l,"input",r[65]),Ue(c,"click",r[66]),Ue(t,"submit",Xs(r[21]))],h=!0)},p(F,W){(!y||W[0]&256)&&C(l,"placeholder",F[8]),(!y||W[0]&256)&&C(l,"aria-label",F[8]),W[0]&2&&l.value!==F[1]&&yo(l,F[1]),(!y||W[0]&8)&&C(c,"title",F[3]),F[19]?P?W[0]&524288&&D(P,1):(P=bo(),P.c(),D(P,1),P.m(f,null)):P&&(Je(),z(P,1,1,()=>{P=null}),Ke()),(!y||W[0]&2)&&st(f,"displayable",F[1]!==""),F[5]===!0?k?(k.p(F,W),W[0]&32&&D(k,1)):(k=_o(F),k.c(),D(k,1),k.m(n,_)):k&&(Je(),z(k,1,1,()=>{k=null}),Ke()),I&&I.p&&(!y||W[1]&134217728)&&Et(I,L,F,F[58],y?Ot(L,F[58],W,null):At(F[58]),null);let j=T;T=U(F),T===j?~T&&S[T].p(F,W):(B&&(Je(),z(S[j],1,1,()=>{S[j]=null}),Ke()),~T?(B=S[T],B?B.p(F,W):(B=S[T]=d[T](F),B.c()),D(B,1),B.m(t,null)):B=null),(!y||W[0]&4&&u!==(u=$r(F[2])+" svelte-zh3kmv"))&&C(t,"class",u),(!y||W[0]&22)&&st(t,"can-collapse",F[4]&&F[1]==="")},i(F){y||(D(M),D(o.$$.fragment,F),D(m.$$.fragment,F),D(P),D(k),D(I,F),D(B),y=!0)},o(F){z(M),z(o.$$.fragment,F),z(m.$$.fragment,F),z(P),z(k),z(I,F),z(B),y=!1},d(F){F&&(A(e),A(t)),V(o),r[61](null),V(m),P&&P.d(),k&&k.d(),I&&I.d(F),~T&&S[T].d(),h=!1,Li(p)}}}function Wf(r,e,t){let n,{$$slots:i={},$$scope:o}=e,{class:a=void 0}=e,{apiKey:l}=e,{bbox:s=void 0}=e,{clearButtonTitle:f="clear"}=e,{clearOnBlur:c=!1}=e,{collapsed:m=!1}=e,{country:g=void 0}=e,{debounceSearch:b=200}=e,{enableReverse:_=!1}=e,{errorMessage:O="Something went wrong…"}=e,{filter:T=()=>!0}=e,{flyTo:B=!0}=e,{fuzzyMatch:u=!0}=e,{language:y=void 0}=e,{limit:h=void 0}=e,{mapController:p=void 0}=e,{minLength:M=2}=e,{noResultsMessage:P="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:k="Search"}=e,{proximity:L=[{type:"server-geolocation"}]}=e,{reverseActive:I=_==="always"}=e,{reverseButtonTitle:d="toggle reverse geocoding"}=e,{searchValue:S=""}=e,{showFullGeometry:U=!0}=e,{showPlaceType:F="ifNeeded"}=e,{showResultsWhileTyping:W=!0}=e,{selectFirst:j=!0}=e,{flyToSelected:Q=!1}=e,{markerOnSelected:se=!0}=e,{types:ye=void 0}=e,{excludeTypes:ce=!1}=e,{zoom:pe=16}=e,{maxZoom:ae=18}=e,{apiUrl:we="https://api.maptiler.com/geocoding"}=e,{fetchParameters:qe={}}=e,{iconsBaseUrl:Re="https://cdn.maptiler.com/maptiler-geocoding-control/v1.2.2/icons/"}=e,{adjustUrlQuery:he=w=>{}}=e;function De(){ve.focus()}function R(){ve.blur()}function H(w,de=!0){t(1,S=w),de?(t(15,re=-1),Lr()):(lr(),setTimeout(()=>{ve.focus(),ve.select()}))}function fe(){t(14,E=void 0),t(55,G=void 0),t(15,re=-1)}function ze(){t(54,Z=[]),t(55,G=void 0)}let Ce=!1,E,Z,G,Te="",ve,re=-1,He,Tt=[],mt,yt,Wt,Gt;const An=new Set,rt=Ci();St(()=>{p&&(p.setEventHandler(void 0),p.indicateReverse(!1),p.setSelectedMarker(-1),p.setMarkers(void 0,void 0))});function Lr(w){if(yt&&(clearTimeout(yt),yt=void 0),re>-1&&E)t(55,G=E[re]),t(1,S=G.place_type[0]==="reverse"?G.place_name:G.place_name.replace(/,.*/,"")),t(18,He=void 0),t(54,Z=void 0),t(15,re=-1);else if(S){const de=w||!jt(S);ar(S,{exact:!0}).then(()=>{t(54,Z=E),t(55,G=void 0),de&&Cr()}).catch(xe=>t(18,He=xe))}}function jt(w){try{return Qs(w,6)}catch{return!1}}async function ar(w,{byId:de=!1,exact:xe=!1}={}){t(18,He=void 0),mt==null||mt.abort();const Ve=new AbortController;t(19,mt=Ve);try{const ne=jt(w),Ze=new URLSearchParams;if(y!==void 0&&Ze.set("language",Array.isArray(y)?y.join(","):y??""),ye&&Ze.set("types",ye.join(",")),ce&&Ze.set("excludeTypes",String(ce)),s&&Ze.set("bbox",s.map(It=>It.toFixed(6)).join(",")),g&&Ze.set("country",Array.isArray(g)?g.join(","):g),!de&&!ne){const It=await Ff(p,L,Ve);It&&Ze.set("proximity",It),(xe||!W)&&Ze.set("autocomplete","false"),Ze.set("fuzzyMatch",String(u))}h!==void 0&&(!ne||(ye==null?void 0:ye.length)===1)&&Ze.set("limit",String(h)),Ze.set("key",l),he(Ze);const Bt=we+"/"+encodeURIComponent(ne?ne.decimalLongitude+","+ne.decimalLatitude:w)+".json?"+Ze.toString();if(Bt===Te){de?(t(14,E=void 0),t(55,G=Tt[0])):t(14,E=Tt);return}Te=Bt;const Ht=await fetch(Bt,{signal:Ve.signal,...qe});if(!Ht.ok)throw new Error(await Ht.text());const Zt=await Ht.json();rt("response",{url:Bt,featureCollection:Zt}),de?(t(14,E=void 0),t(55,G=Zt.features[0]),Tt=[G]):(t(14,E=Zt.features.filter(T)),ne&&E.unshift({type:"Feature",properties:{},id:"reverse_"+ne.decimalLongitude+"_"+ne.decimalLatitude,text:ne.decimalLatitude+", "+ne.decimalLongitude,place_name:ne.decimalLatitude+", "+ne.decimalLongitude,place_type:["reverse"],center:[ne.decimalLongitude,ne.decimalLatitude],bbox:[ne.decimalLongitude,ne.decimalLatitude,ne.decimalLongitude,ne.decimalLatitude],geometry:{type:"Point",coordinates:[ne.decimalLongitude,ne.decimalLatitude]}}),Tt=E,ne&&ve.focus())}catch(ne){if(ne&&typeof ne=="object"&&"name"in ne&&ne.name==="AbortError")return;throw ne}finally{Ve===mt&&t(19,mt=void 0)}}function Cr(){var xe;if(!(Z!=null&&Z.length)||!B)return;const w=[180,90,-180,-90],de=!Z.some(Ve=>!Ve.matching_text);for(const Ve of Z)if(de||!Ve.matching_text)for(const ne of[0,1,2,3])w[ne]=Math[ne<2?"min":"max"](w[ne],((xe=Ve.bbox)==null?void 0:xe[ne])??Ve.center[ne%2]);p&&Z.length>0&&(G&&w[0]===w[2]&&w[1]===w[3]?p.flyTo(G.center,pe):p.fitBounds(vo(w),50,ae))}function On(w){t(0,I=_==="always"),t(14,E=void 0),t(55,G=void 0),t(15,re=-1),H(w[1].toFixed(6)+", "+If(w[0],[-180,180],!0).toFixed(6),!1)}function Tr(w){if(!E)return;let de=w.key==="ArrowDown"?1:w.key==="ArrowUp"?-1:0;de&&(re===(j?0:-1)&&de===-1&&t(15,re=E.length),t(15,re+=de),re>=E.length&&t(15,re=-1),re<0&&j&&t(15,re=0),w.preventDefault())}function lr(w=!0){if(t(18,He=void 0),W){if(yt&&clearTimeout(yt),S.length<M)return;const de=S;yt=window.setTimeout(()=>{ar(de).catch(xe=>t(18,He=xe))},w?b:0)}else t(14,E=void 0),t(18,He=void 0)}function qt(w){t(55,G=w),t(1,S=w.place_name),t(15,re=-1)}const Ln=()=>ve.focus();function Br(w){Me[w?"unshift":"push"](()=>{ve=w,t(17,ve)})}function Cn(){S=this.value,t(1,S),t(13,Ce),t(27,c)}const Ir=()=>t(13,Ce=!0),Tn=()=>t(13,Ce=!1),Fr=()=>lr(),Bn=()=>{t(1,S=""),ve.focus()},Rr=()=>t(0,I=!I),In=()=>t(18,He=void 0),Dr=w=>t(15,re=w),v=w=>qt(w),q=()=>{j||t(15,re=-1)},zr=()=>{};return r.$$set=w=>{"class"in w&&t(2,a=w.class),"apiKey"in w&&t(25,l=w.apiKey),"bbox"in w&&t(26,s=w.bbox),"clearButtonTitle"in w&&t(3,f=w.clearButtonTitle),"clearOnBlur"in w&&t(27,c=w.clearOnBlur),"collapsed"in w&&t(4,m=w.collapsed),"country"in w&&t(28,g=w.country),"debounceSearch"in w&&t(29,b=w.debounceSearch),"enableReverse"in w&&t(5,_=w.enableReverse),"errorMessage"in w&&t(6,O=w.errorMessage),"filter"in w&&t(30,T=w.filter),"flyTo"in w&&t(31,B=w.flyTo),"fuzzyMatch"in w&&t(32,u=w.fuzzyMatch),"language"in w&&t(33,y=w.language),"limit"in w&&t(34,h=w.limit),"mapController"in w&&t(35,p=w.mapController),"minLength"in w&&t(36,M=w.minLength),"noResultsMessage"in w&&t(7,P=w.noResultsMessage),"placeholder"in w&&t(8,k=w.placeholder),"proximity"in w&&t(37,L=w.proximity),"reverseActive"in w&&t(0,I=w.reverseActive),"reverseButtonTitle"in w&&t(9,d=w.reverseButtonTitle),"searchValue"in w&&t(1,S=w.searchValue),"showFullGeometry"in w&&t(38,U=w.showFullGeometry),"showPlaceType"in w&&t(10,F=w.showPlaceType),"showResultsWhileTyping"in w&&t(39,W=w.showResultsWhileTyping),"selectFirst"in w&&t(11,j=w.selectFirst),"flyToSelected"in w&&t(40,Q=w.flyToSelected),"markerOnSelected"in w&&t(41,se=w.markerOnSelected),"types"in w&&t(42,ye=w.types),"excludeTypes"in w&&t(43,ce=w.excludeTypes),"zoom"in w&&t(44,pe=w.zoom),"maxZoom"in w&&t(45,ae=w.maxZoom),"apiUrl"in w&&t(46,we=w.apiUrl),"fetchParameters"in w&&t(47,qe=w.fetchParameters),"iconsBaseUrl"in w&&t(12,Re=w.iconsBaseUrl),"adjustUrlQuery"in w&&t(48,he=w.adjustUrlQuery),"$$scope"in w&&t(58,o=w.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&134225920&&setTimeout(()=>{t(16,Wt=Ce),c&&!Ce&&t(1,S="")}),r.$$.dirty[0]&16386|r.$$.dirty[1]&32&&S.length<M&&(t(55,G=void 0),t(14,E=void 0),t(18,He=void 0),t(54,Z=E)),r.$$.dirty[1]&16777344&&U&&G&&!G.address&&G.geometry.type==="Point"&&G.place_type[0]!=="reverse"&&ar(G.id,{byId:!0}).catch(w=>t(18,He=w)),r.$$.dirty[1]&50356241&&(p&&G&&G.id!==Gt&&B&&(!G.bbox||G.bbox[0]===G.bbox[2]&&G.bbox[1]===G.bbox[3]?p.flyTo(G.center,G.id.startsWith("poi.")||G.id.startsWith("address.")?ae:pe):p.fitBounds(vo(G.bbox),50,ae),t(14,E=void 0),t(54,Z=void 0),t(15,re=-1)),t(56,Gt=G==null?void 0:G.id)),r.$$.dirty[0]&18432&&j&&E!=null&&E.length&&t(15,re=0),r.$$.dirty[0]&2050&&(j||t(15,re=-1)),r.$$.dirty[0]&16384|r.$$.dirty[1]&8388608&&Z!==E&&t(54,Z=void 0),r.$$.dirty[0]&81921|r.$$.dirty[1]&8388624&&p&&p.setEventHandler(w=>{switch(w.type){case"mapClick":I&&On(w.coordinates);break;case"markerClick":{const de=E==null?void 0:E.find(xe=>xe.id===w.id);de&&qt(de)}break;case"markerMouseEnter":Z&&t(15,re=Wt?(E==null?void 0:E.findIndex(de=>de.id===w.id))??-1:-1);break;case"markerMouseLeave":Z&&t(15,re=-1);break}}),r.$$.dirty[0]&49152&&t(57,n=E==null?void 0:E[re]),r.$$.dirty[1]&67133969&&p&&n&&B&&Q&&p.flyTo(n.center,n.id.startsWith("poi.")||n.id.startsWith("address.")?ae:pe),r.$$.dirty[1]&1040&&(se||p==null||p.setMarkers(void 0,void 0)),r.$$.dirty[1]&75498512&&p&&se&&!Z&&(p.setMarkers(n?[n]:void 0,void 0),p.setSelectedMarker(n?0:-1)),r.$$.dirty[1]&25165840&&p&&p.setMarkers(Z,G),r.$$.dirty[0]&32768|r.$$.dirty[1]&8388624&&Z&&p&&p.setSelectedMarker(re),r.$$.dirty[0]&2|r.$$.dirty[1]&16&&p){const w=jt(S);p.setReverseMarker(w?[w.decimalLongitude,w.decimalLatitude]:void 0)}r.$$.dirty[1]&67108864&&rt("select",n),r.$$.dirty[1]&16777216&&rt("pick",G),r.$$.dirty[0]&81920&&rt("optionsVisibilityChange",Wt&&!!E),r.$$.dirty[0]&16384&&rt("featuresListed",E),r.$$.dirty[1]&8388608&&rt("featuresMarked",Z),r.$$.dirty[0]&1&&rt("reverseToggle",I),r.$$.dirty[0]&2&&rt("queryChange",S),r.$$.dirty[0]&1|r.$$.dirty[1]&16&&p&&p.indicateReverse(I)},[I,S,a,f,m,_,O,P,k,d,F,j,Re,Ce,E,re,Wt,ve,He,mt,An,Lr,Tr,lr,qt,l,s,c,g,b,T,B,u,y,h,p,M,L,U,W,Q,se,ye,ce,pe,ae,we,qe,he,De,R,H,fe,ze,Z,G,Gt,n,o,i,Ln,Br,Cn,Ir,Tn,Fr,Bn,Rr,In,Dr,v,q,zr]}class Gf extends be{constructor(e){super(),_e(this,e,Wf,Uf,ge,{class:2,apiKey:25,bbox:26,clearButtonTitle:3,clearOnBlur:27,collapsed:4,country:28,debounceSearch:29,enableReverse:5,errorMessage:6,filter:30,flyTo:31,fuzzyMatch:32,language:33,limit:34,mapController:35,minLength:36,noResultsMessage:7,placeholder:8,proximity:37,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:38,showPlaceType:10,showResultsWhileTyping:39,selectFirst:11,flyToSelected:40,markerOnSelected:41,types:42,excludeTypes:43,zoom:44,maxZoom:45,apiUrl:46,fetchParameters:47,iconsBaseUrl:12,adjustUrlQuery:48,focus:49,blur:50,setQuery:51,clearList:52,clearMap:53},null,[-1,-1,-1])}get focus(){return this.$$.ctx[49]}get blur(){return this.$$.ctx[50]}get setQuery(){return this.$$.ctx[51]}get clearList(){return this.$$.ctx[52]}get clearMap(){return this.$$.ctx[53]}}function So(r){let e,t,n;return t=new Gf({props:{mapController:r[0],apiKey:"MZEJTanw3WpxRvt7qDfo",country:"gb"}}),{c(){e=ee("div"),X(t.$$.fragment),this.h()},l(i){e=te(i,"DIV",{class:!0});var o=oe(e);Y(t.$$.fragment,o),o.forEach(A),this.h()},h(){C(e,"class","svelte-ixhnie")},m(i,o){N(i,e,o),x(t,e,null),n=!0},p(i,o){const a={};o&1&&(a.mapController=i[0]),t.$set(a)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){z(t.$$.fragment,i),n=!1},d(i){i&&A(e),V(t)}}}function jf(r){let e,t,n=r[0]&&So(r);return{c(){n&&n.c(),e=Ge()},l(i){n&&n.l(i),e=Ge()},m(i,o){n&&n.m(i,o),N(i,e,o),t=!0},p(i,[o]){i[0]?n?(n.p(i,o),o&1&&D(n,1)):(n=So(i),n.c(),D(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke())},i(i){t||(D(n),t=!0)},o(i){z(n),t=!1},d(i){i&&A(e),n&&n.d(i)}}}function qf(r,e,t){let{map:n}=e,i;return Ys(()=>{t(0,i=tf(n,rr))}),r.$$set=o=>{"map"in o&&t(1,n=o.map)},[i,n]}class Hf extends be{constructor(e){super(),_e(this,e,qf,jf,ge,{map:1})}}var Mo=Object.prototype.toString,cl=function(e){var t=Mo.call(e),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Mo.call(e.callee)==="[object Function]"),n},Dn,Po;function Zf(){if(Po)return Dn;Po=1;var r;if(!Object.keys){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=cl,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(g){var b=g.constructor;return b&&b.prototype===g},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var g in window)try{if(!f["$"+g]&&e.call(window,g)&&window[g]!==null&&typeof window[g]=="object")try{s(window[g])}catch{return!0}}catch{return!0}return!1}(),m=function(g){if(typeof window>"u"||!c)return s(g);try{return s(g)}catch{return!1}};r=function(b){var _=b!==null&&typeof b=="object",O=t.call(b)==="[object Function]",T=n(b),B=_&&t.call(b)==="[object String]",u=[];if(!_&&!O&&!T)throw new TypeError("Object.keys called on a non-object");var y=a&&O;if(B&&b.length>0&&!e.call(b,0))for(var h=0;h<b.length;++h)u.push(String(h));if(T&&b.length>0)for(var p=0;p<b.length;++p)u.push(String(p));else for(var M in b)!(y&&M==="prototype")&&e.call(b,M)&&u.push(String(M));if(o)for(var P=m(b),k=0;k<l.length;++k)!(P&&l[k]==="constructor")&&e.call(b,l[k])&&u.push(l[k]);return u}}return Dn=r,Dn}var Xf=Array.prototype.slice,Yf=cl,ko=Object.keys,qr=ko?function(e){return ko(e)}:Zf(),Eo=Object.keys;qr.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(n){return Yf(n)?Eo(Xf.call(n)):Eo(n)})}else Object.keys=qr;return Object.keys||qr};var Bi=qr,xf=Error,Vf=EvalError,Jf=RangeError,Kf=ReferenceError,ml=SyntaxError,Lt=TypeError,Qf=URIError,_n=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Ao=typeof Symbol<"u"&&Symbol,$f=_n,Ii=function(){return typeof Ao!="function"||typeof Symbol!="function"||typeof Ao("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:$f()},zn={__proto__:null,foo:{}},eu=Object,tu=function(){return{__proto__:zn}.foo===zn.foo&&!(zn instanceof eu)},ru="Function.prototype.bind called on incompatible ",nu=Object.prototype.toString,iu=Math.max,ou="[object Function]",Oo=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},au=function(e,t){for(var n=[],i=t||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},lu=function(r,e){for(var t="",n=0;n<r.length;n+=1)t+=r[n],n+1<r.length&&(t+=e);return t},su=function(e){var t=this;if(typeof t!="function"||nu.apply(t)!==ou)throw new TypeError(ru+t);for(var n=au(arguments,1),i,o=function(){if(this instanceof i){var c=t.apply(this,Oo(n,arguments));return Object(c)===c?c:this}return t.apply(e,Oo(n,arguments))},a=iu(0,t.length-n.length),l=[],s=0;s<a;s++)l[s]="$"+s;if(i=Function("binder","return function ("+lu(l,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var f=function(){};f.prototype=t.prototype,i.prototype=new f,f.prototype=null}return i},fu=su,Fi=Function.prototype.bind||fu,uu=Function.prototype.call,cu=Object.prototype.hasOwnProperty,mu=Fi,yl=mu.call(uu,cu),ie,yu=xf,hu=Vf,gu=Jf,vu=Kf,Qt=ml,Kt=Lt,du=Qf,hl=Function,Nn=function(r){try{return hl('"use strict"; return ('+r+").constructor;")()}catch{}},Ft=Object.getOwnPropertyDescriptor;if(Ft)try{Ft({},"")}catch{Ft=null}var Un=function(){throw new Kt},pu=Ft?function(){try{return arguments.callee,Un}catch{try{return Ft(arguments,"callee").get}catch{return Un}}}():Un,Xt=Ii(),bu=tu(),Oe=Object.getPrototypeOf||(bu?function(r){return r.__proto__}:null),Vt={},_u=typeof Uint8Array>"u"||!Oe?ie:Oe(Uint8Array),Rt={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ie:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ie:ArrayBuffer,"%ArrayIteratorPrototype%":Xt&&Oe?Oe([][Symbol.iterator]()):ie,"%AsyncFromSyncIteratorPrototype%":ie,"%AsyncFunction%":Vt,"%AsyncGenerator%":Vt,"%AsyncGeneratorFunction%":Vt,"%AsyncIteratorPrototype%":Vt,"%Atomics%":typeof Atomics>"u"?ie:Atomics,"%BigInt%":typeof BigInt>"u"?ie:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ie:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ie:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ie:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":yu,"%eval%":eval,"%EvalError%":hu,"%Float32Array%":typeof Float32Array>"u"?ie:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ie:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ie:FinalizationRegistry,"%Function%":hl,"%GeneratorFunction%":Vt,"%Int8Array%":typeof Int8Array>"u"?ie:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ie:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ie:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Xt&&Oe?Oe(Oe([][Symbol.iterator]())):ie,"%JSON%":typeof JSON=="object"?JSON:ie,"%Map%":typeof Map>"u"?ie:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Xt||!Oe?ie:Oe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ie:Promise,"%Proxy%":typeof Proxy>"u"?ie:Proxy,"%RangeError%":gu,"%ReferenceError%":vu,"%Reflect%":typeof Reflect>"u"?ie:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ie:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Xt||!Oe?ie:Oe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ie:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Xt&&Oe?Oe(""[Symbol.iterator]()):ie,"%Symbol%":Xt?Symbol:ie,"%SyntaxError%":Qt,"%ThrowTypeError%":pu,"%TypedArray%":_u,"%TypeError%":Kt,"%Uint8Array%":typeof Uint8Array>"u"?ie:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ie:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ie:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ie:Uint32Array,"%URIError%":du,"%WeakMap%":typeof WeakMap>"u"?ie:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ie:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ie:WeakSet};if(Oe)try{null.error}catch(r){var wu=Oe(Oe(r));Rt["%Error.prototype%"]=wu}var Su=function r(e){var t;if(e==="%AsyncFunction%")t=Nn("async function () {}");else if(e==="%GeneratorFunction%")t=Nn("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Nn("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&Oe&&(t=Oe(i.prototype))}return Rt[e]=t,t},Lo={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Mr=Fi,en=yl,Mu=Mr.call(Function.call,Array.prototype.concat),Pu=Mr.call(Function.apply,Array.prototype.splice),Co=Mr.call(Function.call,String.prototype.replace),tn=Mr.call(Function.call,String.prototype.slice),ku=Mr.call(Function.call,RegExp.prototype.exec),Eu=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Au=/\\(\\)?/g,Ou=function(e){var t=tn(e,0,1),n=tn(e,-1);if(t==="%"&&n!=="%")throw new Qt("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Qt("invalid intrinsic syntax, expected opening `%`");var i=[];return Co(e,Eu,function(o,a,l,s){i[i.length]=l?Co(s,Au,"$1"):a||o}),i},Lu=function(e,t){var n=e,i;if(en(Lo,n)&&(i=Lo[n],n="%"+i[0]+"%"),en(Rt,n)){var o=Rt[n];if(o===Vt&&(o=Su(n)),typeof o>"u"&&!t)throw new Kt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Qt("intrinsic "+e+" does not exist!")},ut=function(e,t){if(typeof e!="string"||e.length===0)throw new Kt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Kt('"allowMissing" argument must be a boolean');if(ku(/^%?[^%]*%?$/,e)===null)throw new Qt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Ou(e),i=n.length>0?n[0]:"",o=Lu("%"+i+"%",t),a=o.name,l=o.value,s=!1,f=o.alias;f&&(i=f[0],Pu(n,Mu([0,1],f)));for(var c=1,m=!0;c<n.length;c+=1){var g=n[c],b=tn(g,0,1),_=tn(g,-1);if((b==='"'||b==="'"||b==="`"||_==='"'||_==="'"||_==="`")&&b!==_)throw new Qt("property names with quotes must have matching quotes");if((g==="constructor"||!m)&&(s=!0),i+="."+g,a="%"+i+"%",en(Rt,a))l=Rt[a];else if(l!=null){if(!(g in l)){if(!t)throw new Kt("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ft&&c+1>=n.length){var O=Ft(l,g);m=!!O,m&&"get"in O&&!("originalValue"in O.get)?l=O.get:l=l[g]}else m=en(l,g),l=l[g];m&&!s&&(Rt[a]=l)}}return l},Cu=ut,Hr=Cu("%Object.defineProperty%",!0)||!1;if(Hr)try{Hr({},"a",{value:1})}catch{Hr=!1}var Ri=Hr,Tu=ut,Zr=Tu("%Object.getOwnPropertyDescriptor%",!0);if(Zr)try{Zr([],"length")}catch{Zr=null}var Di=Zr,To=Ri,Bu=ml,Yt=Lt,Bo=Di,zi=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Yt("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Yt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Yt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Yt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Yt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Yt("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,s=!!Bo&&Bo(e,t);if(To)To(e,t,{configurable:a===null&&s?s.configurable:!a,enumerable:i===null&&s?s.enumerable:!i,value:n,writable:o===null&&s?s.writable:!o});else if(l||!i&&!o&&!a)e[t]=n;else throw new Bu("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ii=Ri,gl=function(){return!!ii};gl.hasArrayLengthDefineBug=function(){if(!ii)return null;try{return ii([],"length",{value:1}).length!==1}catch{return!0}};var Ni=gl,Iu=Bi,Fu=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Ru=Object.prototype.toString,Du=Array.prototype.concat,Io=zi,zu=function(r){return typeof r=="function"&&Ru.call(r)==="[object Function]"},vl=Ni(),Nu=function(r,e,t,n){if(e in r){if(n===!0){if(r[e]===t)return}else if(!zu(n)||!n())return}vl?Io(r,e,t,!0):Io(r,e,t)},dl=function(r,e){var t=arguments.length>2?arguments[2]:{},n=Iu(e);Fu&&(n=Du.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Nu(r,n[i],e[n[i]],t[n[i]])};dl.supportsDescriptors=!!vl;var Nt=dl,pl={exports:{}},Uu=ut,Fo=zi,Wu=Ni(),Ro=Di,Do=Lt,Gu=Uu("%Math.floor%"),ju=function(e,t){if(typeof e!="function")throw new Do("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||Gu(t)!==t)throw new Do("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&Ro){var a=Ro(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!n)&&(Wu?Fo(e,"length",t,!0,!0):Fo(e,"length",t)),e};(function(r){var e=Fi,t=ut,n=ju,i=Lt,o=t("%Function.prototype.apply%"),a=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(a,o),s=Ri,f=t("%Math.max%");r.exports=function(g){if(typeof g!="function")throw new i("a function is required");var b=l(e,a,arguments);return n(b,1+f(0,g.length-(arguments.length-1)),!0)};var c=function(){return l(e,o,arguments)};s?s(r.exports,"apply",{value:c}):r.exports.apply=c})(pl);var nr=pl.exports,bl=ut,_l=nr,qu=_l(bl("String.prototype.indexOf")),tt=function(e,t){var n=bl(e,!!t);return typeof n=="function"&&qu(e,".prototype.")>-1?_l(n):n},Hu=Bi,wl=_n(),Sl=tt,zo=Object,Zu=Sl("Array.prototype.push"),No=Sl("Object.prototype.propertyIsEnumerable"),Xu=wl?Object.getOwnPropertySymbols:null,Ml=function(e,t){if(e==null)throw new TypeError("target must be an object");var n=zo(e);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var o=zo(arguments[i]),a=Hu(o),l=wl&&(Object.getOwnPropertySymbols||Xu);if(l)for(var s=l(o),f=0;f<s.length;++f){var c=s[f];No(o,c)&&Zu(a,c)}for(var m=0;m<a.length;++m){var g=a[m];if(No(o,g)){var b=o[g];n[g]=b}}}return n},Wn=Ml,Yu=function(){if(!Object.assign)return!1;for(var r="abcdefghijklmnopqrst",e=r.split(""),t={},n=0;n<e.length;++n)t[e[n]]=e[n];var i=Object.assign({},t),o="";for(var a in i)o+=a;return r!==o},xu=function(){if(!Object.assign||!Object.preventExtensions)return!1;var r=Object.preventExtensions({1:2});try{Object.assign(r,"xy")}catch{return r[1]==="y"}return!1},Pl=function(){return!Object.assign||Yu()||xu()?Wn:Object.assign},Vu=Nt,Ju=Pl,Ku=function(){var e=Ju();return Vu(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},Qu=Nt,$u=nr,ec=Ml,kl=Pl,tc=Ku,rc=$u.apply(kl()),El=function(e,t){return rc(Object,arguments)};Qu(El,{getPolyfill:kl,implementation:ec,shim:tc});var nc=El,_r=function(){return typeof(function(){}).name=="string"},dr=Object.getOwnPropertyDescriptor;if(dr)try{dr([],"length")}catch{dr=null}_r.functionsHaveConfigurableNames=function(){if(!_r()||!dr)return!1;var e=dr(function(){},"name");return!!e&&!!e.configurable};var ic=Function.prototype.bind;_r.boundFunctionsHaveNames=function(){return _r()&&typeof ic=="function"&&(function(){}).bind().name!==""};var oc=_r,Uo=zi,ac=Ni(),lc=oc.functionsHaveConfigurableNames(),sc=Lt,fc=function(e,t){if(typeof e!="function")throw new sc("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||lc)&&(ac?Uo(e,"name",t,!0,!0):Uo(e,"name",t)),e},uc=fc,cc=Lt,mc=Object,Al=uc(function(){if(this==null||this!==mc(this))throw new cc("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),yc=Al,hc=Nt.supportsDescriptors,gc=Object.getOwnPropertyDescriptor,Ol=function(){if(hc&&/a/mig.flags==="gim"){var e=gc(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),t==="dy")return e.get}}return yc},vc=Nt.supportsDescriptors,dc=Ol,pc=Object.getOwnPropertyDescriptor,bc=Object.defineProperty,_c=TypeError,Wo=Object.getPrototypeOf,wc=/a/,Sc=function(){if(!vc||!Wo)throw new _c("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=dc(),t=Wo(wc),n=pc(t,"flags");return(!n||n.get!==e)&&bc(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},Mc=Nt,Pc=nr,kc=Al,Ll=Ol,Ec=Sc,Cl=Pc(Ll());Mc(Cl,{getPolyfill:Ll,implementation:kc,shim:Ec});var Ac=Cl,Xr={exports:{}},Oc=_n,Ut=function(){return Oc()&&!!Symbol.toStringTag},Lc=Ut(),Cc=tt,oi=Cc("Object.prototype.toString"),wn=function(e){return Lc&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:oi(e)==="[object Arguments]"},Tl=function(e){return wn(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&oi(e)!=="[object Array]"&&oi(e.callee)==="[object Function]"},Tc=function(){return wn(arguments)}();wn.isLegacyArguments=Tl;var Bl=Tc?wn:Tl;const Bc={},Ic=Object.freeze(Object.defineProperty({__proto__:null,default:Bc},Symbol.toStringTag,{value:"Module"})),Fc=Ti(Ic);var Ui=typeof Map=="function"&&Map.prototype,Gn=Object.getOwnPropertyDescriptor&&Ui?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,rn=Ui&&Gn&&typeof Gn.get=="function"?Gn.get:null,Go=Ui&&Map.prototype.forEach,Wi=typeof Set=="function"&&Set.prototype,jn=Object.getOwnPropertyDescriptor&&Wi?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,nn=Wi&&jn&&typeof jn.get=="function"?jn.get:null,jo=Wi&&Set.prototype.forEach,Rc=typeof WeakMap=="function"&&WeakMap.prototype,pr=Rc?WeakMap.prototype.has:null,Dc=typeof WeakSet=="function"&&WeakSet.prototype,br=Dc?WeakSet.prototype.has:null,zc=typeof WeakRef=="function"&&WeakRef.prototype,qo=zc?WeakRef.prototype.deref:null,Nc=Boolean.prototype.valueOf,Uc=Object.prototype.toString,Wc=Function.prototype.toString,Gc=String.prototype.match,Gi=String.prototype.slice,Pt=String.prototype.replace,jc=String.prototype.toUpperCase,Ho=String.prototype.toLowerCase,Il=RegExp.prototype.test,Zo=Array.prototype.concat,lt=Array.prototype.join,qc=Array.prototype.slice,Xo=Math.floor,ai=typeof BigInt=="function"?BigInt.prototype.valueOf:null,qn=Object.getOwnPropertySymbols,li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,$t=typeof Symbol=="function"&&typeof Symbol.iterator=="object",je=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===$t||!0)?Symbol.toStringTag:null,Fl=Object.prototype.propertyIsEnumerable,Yo=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function xo(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||Il.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-Xo(-r):Xo(r);if(n!==r){var i=String(n),o=Gi.call(e,i.length+1);return Pt.call(i,t,"$&_")+"."+Pt.call(Pt.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Pt.call(e,t,"$&_")}var si=Fc,Vo=si.custom,Jo=Dl(Vo)?Vo:null,Hc=function r(e,t,n,i){var o=t||{};if(Mt(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mt(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Mt(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mt(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mt(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Nl(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var s=String(e);return l?xo(e,s):s}if(typeof e=="bigint"){var f=String(e)+"n";return l?xo(e,f):f}var c=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return fi(e)?"[Array]":"[Object]";var m=sm(o,n);if(typeof i>"u")i=[];else if(zl(i,e)>=0)return"[Circular]";function g(U,F,W){if(F&&(i=qc.call(i),i.push(F)),W){var j={depth:o.depth};return Mt(o,"quoteStyle")&&(j.quoteStyle=o.quoteStyle),r(U,j,n+1,i)}return r(U,o,n+1,i)}if(typeof e=="function"&&!Ko(e)){var b=$c(e),_=Ur(e,g);return"[Function"+(b?": "+b:" (anonymous)")+"]"+(_.length>0?" { "+lt.call(_,", ")+" }":"")}if(Dl(e)){var O=$t?Pt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):li.call(e);return typeof e=="object"&&!$t?mr(O):O}if(om(e)){for(var T="<"+Ho.call(String(e.nodeName)),B=e.attributes||[],u=0;u<B.length;u++)T+=" "+B[u].name+"="+Rl(Zc(B[u].value),"double",o);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+Ho.call(String(e.nodeName))+">",T}if(fi(e)){if(e.length===0)return"[]";var y=Ur(e,g);return m&&!lm(y)?"["+ui(y,m)+"]":"[ "+lt.call(y,", ")+" ]"}if(Yc(e)){var h=Ur(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!Fl.call(e,"cause")?"{ ["+String(e)+"] "+lt.call(Zo.call("[cause]: "+g(e.cause),h),", ")+" }":h.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+lt.call(h,", ")+" }"}if(typeof e=="object"&&a){if(Jo&&typeof e[Jo]=="function"&&si)return si(e,{depth:c-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(em(e)){var p=[];return Go&&Go.call(e,function(U,F){p.push(g(F,e,!0)+" => "+g(U,e))}),Qo("Map",rn.call(e),p,m)}if(nm(e)){var M=[];return jo&&jo.call(e,function(U){M.push(g(U,e))}),Qo("Set",nn.call(e),M,m)}if(tm(e))return Hn("WeakMap");if(im(e))return Hn("WeakSet");if(rm(e))return Hn("WeakRef");if(Vc(e))return mr(g(Number(e)));if(Kc(e))return mr(g(ai.call(e)));if(Jc(e))return mr(Nc.call(e));if(xc(e))return mr(g(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===bn)return"{ [object globalThis] }";if(!Xc(e)&&!Ko(e)){var P=Ur(e,g),k=Yo?Yo(e)===Object.prototype:e instanceof Object||e.constructor===Object,L=e instanceof Object?"":"null prototype",I=!k&&je&&Object(e)===e&&je in e?Gi.call(Ct(e),8,-1):L?"Object":"",d=k||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",S=d+(I||L?"["+lt.call(Zo.call([],I||[],L||[]),": ")+"] ":"");return P.length===0?S+"{}":m?S+"{"+ui(P,m)+"}":S+"{ "+lt.call(P,", ")+" }"}return String(e)};function Rl(r,e,t){var n=(t.quoteStyle||e)==="double"?'"':"'";return n+r+n}function Zc(r){return Pt.call(String(r),/"/g,"&quot;")}function fi(r){return Ct(r)==="[object Array]"&&(!je||!(typeof r=="object"&&je in r))}function Xc(r){return Ct(r)==="[object Date]"&&(!je||!(typeof r=="object"&&je in r))}function Ko(r){return Ct(r)==="[object RegExp]"&&(!je||!(typeof r=="object"&&je in r))}function Yc(r){return Ct(r)==="[object Error]"&&(!je||!(typeof r=="object"&&je in r))}function xc(r){return Ct(r)==="[object String]"&&(!je||!(typeof r=="object"&&je in r))}function Vc(r){return Ct(r)==="[object Number]"&&(!je||!(typeof r=="object"&&je in r))}function Jc(r){return Ct(r)==="[object Boolean]"&&(!je||!(typeof r=="object"&&je in r))}function Dl(r){if($t)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!li)return!1;try{return li.call(r),!0}catch{}return!1}function Kc(r){if(!r||typeof r!="object"||!ai)return!1;try{return ai.call(r),!0}catch{}return!1}var Qc=Object.prototype.hasOwnProperty||function(r){return r in this};function Mt(r,e){return Qc.call(r,e)}function Ct(r){return Uc.call(r)}function $c(r){if(r.name)return r.name;var e=Gc.call(Wc.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function zl(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function em(r){if(!rn||!r||typeof r!="object")return!1;try{rn.call(r);try{nn.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function tm(r){if(!pr||!r||typeof r!="object")return!1;try{pr.call(r,pr);try{br.call(r,br)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function rm(r){if(!qo||!r||typeof r!="object")return!1;try{return qo.call(r),!0}catch{}return!1}function nm(r){if(!nn||!r||typeof r!="object")return!1;try{nn.call(r);try{rn.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function im(r){if(!br||!r||typeof r!="object")return!1;try{br.call(r,br);try{pr.call(r,pr)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function om(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function Nl(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return Nl(Gi.call(r,0,e.maxStringLength),e)+n}var i=Pt.call(Pt.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,am);return Rl(i,"single",e)}function am(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+jc.call(e.toString(16))}function mr(r){return"Object("+r+")"}function Hn(r){return r+" { ? }"}function Qo(r,e,t,n){var i=n?ui(t,n):lt.call(t,", ");return r+" ("+e+") {"+i+"}"}function lm(r){for(var e=0;e<r.length;e++)if(zl(r[e],`
`)>=0)return!1;return!0}function sm(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=lt.call(Array(r.indent+1)," ");else return null;return{base:t,prev:lt.call(Array(e+1),t)}}function ui(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+lt.call(r,","+t)+`
`+e.prev}function Ur(r,e){var t=fi(r),n=[];if(t){n.length=r.length;for(var i=0;i<r.length;i++)n[i]=Mt(r,i)?e(r[i],r):""}var o=typeof qn=="function"?qn(r):[],a;if($t){a={};for(var l=0;l<o.length;l++)a["$"+o[l]]=o[l]}for(var s in r)Mt(r,s)&&(t&&String(Number(s))===s&&s<r.length||$t&&a["$"+s]instanceof Symbol||(Il.call(/[^\w$]/,s)?n.push(e(s,r)+": "+e(r[s],r)):n.push(s+": "+e(r[s],r))));if(typeof qn=="function")for(var f=0;f<o.length;f++)Fl.call(r,o[f])&&n.push("["+e(o[f])+"]: "+e(r[o[f]],r));return n}var Ul=ut,ir=tt,fm=Hc,um=Lt,Wr=Ul("%WeakMap%",!0),Gr=Ul("%Map%",!0),cm=ir("WeakMap.prototype.get",!0),mm=ir("WeakMap.prototype.set",!0),ym=ir("WeakMap.prototype.has",!0),hm=ir("Map.prototype.get",!0),gm=ir("Map.prototype.set",!0),vm=ir("Map.prototype.has",!0),ji=function(r,e){for(var t=r,n;(n=t.next)!==null;t=n)if(n.key===e)return t.next=n.next,n.next=r.next,r.next=n,n},dm=function(r,e){var t=ji(r,e);return t&&t.value},pm=function(r,e,t){var n=ji(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},bm=function(r,e){return!!ji(r,e)},Wl=function(){var e,t,n,i={assert:function(o){if(!i.has(o))throw new um("Side channel does not contain "+fm(o))},get:function(o){if(Wr&&o&&(typeof o=="object"||typeof o=="function")){if(e)return cm(e,o)}else if(Gr){if(t)return hm(t,o)}else if(n)return dm(n,o)},has:function(o){if(Wr&&o&&(typeof o=="object"||typeof o=="function")){if(e)return ym(e,o)}else if(Gr){if(t)return vm(t,o)}else if(n)return bm(n,o);return!1},set:function(o,a){Wr&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Wr),mm(e,o,a)):Gr?(t||(t=new Gr),gm(t,o,a)):(n||(n={key:{},next:null}),pm(n,o,a))}};return i},_m=yl,yr=Wl(),ht=Lt,qi={assert:function(r,e){if(!r||typeof r!="object"&&typeof r!="function")throw new ht("`O` is not an object");if(typeof e!="string")throw new ht("`slot` must be a string");if(yr.assert(r),!qi.has(r,e))throw new ht("`"+e+"` is not present on `O`")},get:function(r,e){if(!r||typeof r!="object"&&typeof r!="function")throw new ht("`O` is not an object");if(typeof e!="string")throw new ht("`slot` must be a string");var t=yr.get(r);return t&&t["$"+e]},has:function(r,e){if(!r||typeof r!="object"&&typeof r!="function")throw new ht("`O` is not an object");if(typeof e!="string")throw new ht("`slot` must be a string");var t=yr.get(r);return!!t&&_m(t,"$"+e)},set:function(r,e,t){if(!r||typeof r!="object"&&typeof r!="function")throw new ht("`O` is not an object");if(typeof e!="string")throw new ht("`slot` must be a string");var n=yr.get(r);n||(n={},yr.set(r,n)),n["$"+e]=t}};Object.freeze&&Object.freeze(qi);var wm=qi,hr=wm,Sm=SyntaxError,$o=typeof StopIteration=="object"?StopIteration:null,Mm=function(e){if(!$o)throw new Sm("this environment lacks StopIteration");hr.set(e,"[[Done]]",!1);var t={next:function(){var i=hr.get(this,"[[Iterator]]"),o=hr.get(i,"[[Done]]");try{return{done:o,value:o?void 0:i.next()}}catch(a){if(hr.set(i,"[[Done]]",!0),a!==$o)throw a;return{done:!0,value:void 0}}}};return hr.set(t,"[[Iterator]]",e),t},Pm={}.toString,Gl=Array.isArray||function(r){return Pm.call(r)=="[object Array]"},km=String.prototype.valueOf,Em=function(e){try{return km.call(e),!0}catch{return!1}},Am=Object.prototype.toString,Om="[object String]",Lm=Ut(),jl=function(e){return typeof e=="string"?!0:typeof e!="object"?!1:Lm?Em(e):Am.call(e)===Om},Hi=typeof Map=="function"&&Map.prototype?Map:null,Cm=typeof Set=="function"&&Set.prototype?Set:null,on;Hi||(on=function(e){return!1});var ql=Hi?Map.prototype.has:null,ea=Cm?Set.prototype.has:null;!on&&!ql&&(on=function(e){return!1});var Hl=on||function(e){if(!e||typeof e!="object")return!1;try{if(ql.call(e),ea)try{ea.call(e)}catch{return!0}return e instanceof Hi}catch{}return!1},Tm=typeof Map=="function"&&Map.prototype?Map:null,Zi=typeof Set=="function"&&Set.prototype?Set:null,an;Zi||(an=function(e){return!1});var ta=Tm?Map.prototype.has:null,Zl=Zi?Set.prototype.has:null;!an&&!Zl&&(an=function(e){return!1});var Xl=an||function(e){if(!e||typeof e!="object")return!1;try{if(Zl.call(e),ta)try{ta.call(e)}catch{return!0}return e instanceof Zi}catch{}return!1},ra=Bl,na=Mm;if(Ii()||_n()){var Zn=Symbol.iterator;Xr.exports=function(e){if(e!=null&&typeof e[Zn]<"u")return e[Zn]();if(ra(e))return Array.prototype[Zn].call(e)}}else{var Bm=Gl,Im=jl,ia=ut,Fm=ia("%Map%",!0),Rm=ia("%Set%",!0),nt=tt,oa=nt("Array.prototype.push"),aa=nt("String.prototype.charCodeAt"),Dm=nt("String.prototype.slice"),zm=function(e,t){var n=e.length;if(t+1>=n)return t+1;var i=aa(e,t);if(i<55296||i>56319)return t+1;var o=aa(e,t+1);return o<56320||o>57343?t+1:t+2},Xn=function(e){var t=0;return{next:function(){var i=t>=e.length,o;return i||(o=e[t],t+=1),{done:i,value:o}}}},la=function(e,t){if(Bm(e)||ra(e))return Xn(e);if(Im(e)){var n=0;return{next:function(){var o=zm(e,n),a=Dm(e,n,o);return n=o,{done:o>e.length,value:a}}}}if(t&&typeof e["_es6-shim iterator_"]<"u")return e["_es6-shim iterator_"]()};if(!Fm&&!Rm)Xr.exports=function(e){if(e!=null)return la(e,!0)};else{var Nm=Hl,Um=Xl,sa=nt("Map.prototype.forEach",!0),fa=nt("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var ua=nt("Map.prototype.iterator",!0),ca=nt("Set.prototype.iterator",!0);var ma=nt("Map.prototype.@@iterator",!0)||nt("Map.prototype._es6-shim iterator_",!0),ya=nt("Set.prototype.@@iterator",!0)||nt("Set.prototype._es6-shim iterator_",!0),Wm=function(e){if(Nm(e)){if(ua)return na(ua(e));if(ma)return ma(e);if(sa){var t=[];return sa(e,function(i,o){oa(t,[o,i])}),Xn(t)}}if(Um(e)){if(ca)return na(ca(e));if(ya)return ya(e);if(fa){var n=[];return fa(e,function(i){oa(n,i)}),Xn(n)}}};Xr.exports=function(e){return Wm(e)||la(e)}}}var Gm=Xr.exports,ha=function(r){return r!==r},Yl=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||ha(e)&&ha(t))},jm=Yl,xl=function(){return typeof Object.is=="function"?Object.is:jm},qm=xl,Hm=Nt,Zm=function(){var e=qm();return Hm(Object,{is:e},{is:function(){return Object.is!==e}}),e},Xm=Nt,Ym=nr,xm=Yl,Vl=xl,Vm=Zm,Jl=Ym(Vl(),Object);Xm(Jl,{getPolyfill:Vl,implementation:xm,shim:Vm});var Jm=Jl,Km=nr,Kl=tt,Qm=ut,ci=Qm("%ArrayBuffer%",!0),Yr=Kl("ArrayBuffer.prototype.byteLength",!0),$m=Kl("Object.prototype.toString"),ga=!!ci&&!Yr&&new ci(0).slice,va=!!ga&&Km(ga),Ql=Yr||va?function(e){if(!e||typeof e!="object")return!1;try{return Yr?Yr(e):va(e,0),!0}catch{return!1}}:ci?function(e){return $m(e)==="[object ArrayBuffer]"}:function(e){return!1},ey=Date.prototype.getDay,ty=function(e){try{return ey.call(e),!0}catch{return!1}},ry=Object.prototype.toString,ny="[object Date]",iy=Ut(),oy=function(e){return typeof e!="object"||e===null?!1:iy?ty(e):ry.call(e)===ny},mi=tt,$l=Ut(),es,ts,yi,hi;if($l){es=mi("Object.prototype.hasOwnProperty"),ts=mi("RegExp.prototype.exec"),yi={};var Yn=function(){throw yi};hi={toString:Yn,valueOf:Yn},typeof Symbol.toPrimitive=="symbol"&&(hi[Symbol.toPrimitive]=Yn)}var ay=mi("Object.prototype.toString"),ly=Object.getOwnPropertyDescriptor,sy="[object RegExp]",fy=$l?function(e){if(!e||typeof e!="object")return!1;var t=ly(e,"lastIndex"),n=t&&es(t,"value");if(!n)return!1;try{ts(e,hi)}catch(i){return i===yi}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:ay(e)===sy},uy=tt,da=uy("SharedArrayBuffer.prototype.byteLength",!0),cy=da?function(e){if(!e||typeof e!="object")return!1;try{return da(e),!0}catch{return!1}}:function(e){return!1},my=Number.prototype.toString,yy=function(e){try{return my.call(e),!0}catch{return!1}},hy=Object.prototype.toString,gy="[object Number]",vy=Ut(),dy=function(e){return typeof e=="number"?!0:typeof e!="object"?!1:vy?yy(e):hy.call(e)===gy},rs=tt,py=rs("Boolean.prototype.toString"),by=rs("Object.prototype.toString"),_y=function(e){try{return py(e),!0}catch{return!1}},wy="[object Boolean]",Sy=Ut(),My=function(e){return typeof e=="boolean"?!0:e===null||typeof e!="object"?!1:Sy&&Symbol.toStringTag in e?_y(e):by(e)===wy},gi={exports:{}},Py=Object.prototype.toString,ky=Ii();if(ky){var Ey=Symbol.prototype.toString,Ay=/^Symbol\(.*\)$/,Oy=function(e){return typeof e.valueOf()!="symbol"?!1:Ay.test(Ey.call(e))};gi.exports=function(e){if(typeof e=="symbol")return!0;if(Py.call(e)!=="[object Symbol]")return!1;try{return Oy(e)}catch{return!1}}}else gi.exports=function(e){return!1};var Ly=gi.exports,vi={exports:{}},pa=typeof BigInt<"u"&&BigInt,Cy=function(){return typeof pa=="function"&&typeof BigInt=="function"&&typeof pa(42)=="bigint"&&typeof BigInt(42)=="bigint"},Ty=Cy();if(Ty){var By=BigInt.prototype.valueOf,Iy=function(e){try{return By.call(e),!0}catch{}return!1};vi.exports=function(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="function"?!1:typeof e=="bigint"?!0:Iy(e)}}else vi.exports=function(e){return!1};var Fy=vi.exports,Ry=jl,Dy=dy,zy=My,Ny=Ly,Uy=Fy,Wy=function(e){if(e==null||typeof e!="object"&&typeof e!="function")return null;if(Ry(e))return"String";if(Dy(e))return"Number";if(zy(e))return"Boolean";if(Ny(e))return"Symbol";if(Uy(e))return"BigInt"},ln=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,ba=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,sn;ln||(sn=function(e){return!1});var di=ln?ln.prototype.has:null,xn=ba?ba.prototype.has:null;!sn&&!di&&(sn=function(e){return!1});var Gy=sn||function(e){if(!e||typeof e!="object")return!1;try{if(di.call(e,di),xn)try{xn.call(e,xn)}catch{return!0}return e instanceof ln}catch{}return!1},pi={exports:{}},jy=ut,ns=tt,qy=jy("%WeakSet%",!0),Vn=ns("WeakSet.prototype.has",!0);if(Vn){var Jn=ns("WeakMap.prototype.has",!0);pi.exports=function(e){if(!e||typeof e!="object")return!1;try{if(Vn(e,Vn),Jn)try{Jn(e,Jn)}catch{return!0}return e instanceof qy}catch{}return!1}}else pi.exports=function(e){return!1};var Hy=pi.exports,Zy=Hl,Xy=Xl,Yy=Gy,xy=Hy,Vy=function(e){if(e&&typeof e=="object"){if(Zy(e))return"Map";if(Xy(e))return"Set";if(Yy(e))return"WeakMap";if(xy(e))return"WeakSet"}return!1},is=Function.prototype.toString,Jt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,bi,xr;if(typeof Jt=="function"&&typeof Object.defineProperty=="function")try{bi=Object.defineProperty({},"length",{get:function(){throw xr}}),xr={},Jt(function(){throw 42},null,bi)}catch(r){r!==xr&&(Jt=null)}else Jt=null;var Jy=/^\s*class\b/,_i=function(e){try{var t=is.call(e);return Jy.test(t)}catch{return!1}},Kn=function(e){try{return _i(e)?!1:(is.call(e),!0)}catch{return!1}},Vr=Object.prototype.toString,Ky="[object Object]",Qy="[object Function]",$y="[object GeneratorFunction]",eh="[object HTMLAllCollection]",th="[object HTML document.all class]",rh="[object HTMLCollection]",nh=typeof Symbol=="function"&&!!Symbol.toStringTag,ih=!(0 in[,]),wi=function(){return!1};if(typeof document=="object"){var oh=document.all;Vr.call(oh)===Vr.call(document.all)&&(wi=function(e){if((ih||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=Vr.call(e);return(t===eh||t===th||t===rh||t===Ky)&&e("")==null}catch{}return!1})}var ah=Jt?function(e){if(wi(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Jt(e,null,bi)}catch(t){if(t!==xr)return!1}return!_i(e)&&Kn(e)}:function(e){if(wi(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(nh)return Kn(e);if(_i(e))return!1;var t=Vr.call(e);return t!==Qy&&t!==$y&&!/^\[object HTML/.test(t)?!1:Kn(e)},lh=ah,sh=Object.prototype.toString,os=Object.prototype.hasOwnProperty,fh=function(e,t,n){for(var i=0,o=e.length;i<o;i++)os.call(e,i)&&(n==null?t(e[i],i,e):t.call(n,e[i],i,e))},uh=function(e,t,n){for(var i=0,o=e.length;i<o;i++)n==null?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)},ch=function(e,t,n){for(var i in e)os.call(e,i)&&(n==null?t(e[i],i,e):t.call(n,e[i],i,e))},mh=function(e,t,n){if(!lh(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),sh.call(e)==="[object Array]"?fh(e,t,i):typeof e=="string"?uh(e,t,i):ch(e,t,i)},yh=mh,hh=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],Qn=hh,gh=typeof globalThis>"u"?bn:globalThis,vh=function(){for(var e=[],t=0;t<Qn.length;t++)typeof gh[Qn[t]]=="function"&&(e[e.length]=Qn[t]);return e},fn=yh,dh=vh,_a=nr,Xi=tt,Jr=Di,ph=Xi("Object.prototype.toString"),as=Ut(),wa=typeof globalThis>"u"?bn:globalThis,Si=dh(),Yi=Xi("String.prototype.slice"),$n=Object.getPrototypeOf,bh=Xi("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},un={__proto__:null};as&&Jr&&$n?fn(Si,function(r){var e=new wa[r];if(Symbol.toStringTag in e){var t=$n(e),n=Jr(t,Symbol.toStringTag);if(!n){var i=$n(t);n=Jr(i,Symbol.toStringTag)}un["$"+r]=_a(n.get)}}):fn(Si,function(r){var e=new wa[r],t=e.slice||e.set;t&&(un["$"+r]=_a(t))});var _h=function(e){var t=!1;return fn(un,function(n,i){if(!t)try{"$"+n(e)===i&&(t=Yi(i,1))}catch{}}),t},wh=function(e){var t=!1;return fn(un,function(n,i){if(!t)try{n(e),t=Yi(i,1)}catch{}}),t},Sh=function(e){if(!e||typeof e!="object")return!1;if(!as){var t=Yi(ph(e),8,-1);return bh(Si,t)>-1?t:t!=="Object"?!1:wh(e)}return Jr?_h(e):null},Mh=tt,Sa=Mh("ArrayBuffer.prototype.byteLength",!0),Ph=Ql,kh=function(e){return Ph(e)?Sa?Sa(e):e.byteLength:NaN},ls=nc,ct=tt,Ma=Ac,Eh=ut,er=Gm,Ah=Wl,Pa=Jm,ka=Bl,Ea=Gl,Aa=Ql,Oa=oy,La=fy,Ca=cy,Ta=Bi,Ba=Wy,Ia=Vy,Fa=Sh,Ra=kh,Da=ct("SharedArrayBuffer.prototype.byteLength",!0),za=ct("Date.prototype.getTime"),ei=Object.getPrototypeOf,Na=ct("Object.prototype.toString"),cn=Eh("%Set%",!0),Mi=ct("Map.prototype.has",!0),mn=ct("Map.prototype.get",!0),Ua=ct("Map.prototype.size",!0),yn=ct("Set.prototype.add",!0),ss=ct("Set.prototype.delete",!0),hn=ct("Set.prototype.has",!0),Kr=ct("Set.prototype.size",!0);function Wa(r,e,t,n){for(var i=er(r),o;(o=i.next())&&!o.done;)if(ot(e,o.value,t,n))return ss(r,o.value),!0;return!1}function fs(r){if(typeof r>"u")return null;if(typeof r!="object")return typeof r=="symbol"?!1:typeof r=="string"||typeof r=="number"?+r==+r:!0}function Oh(r,e,t,n,i,o){var a=fs(t);if(a!=null)return a;var l=mn(e,a),s=ls({},i,{strict:!1});return typeof l>"u"&&!Mi(e,a)||!ot(n,l,s,o)?!1:!Mi(r,a)&&ot(n,l,s,o)}function Lh(r,e,t){var n=fs(t);return n??(hn(e,n)&&!hn(r,n))}function Ga(r,e,t,n,i,o){for(var a=er(r),l,s;(l=a.next())&&!l.done;)if(s=l.value,ot(t,s,i,o)&&ot(n,mn(e,s),i,o))return ss(r,s),!0;return!1}function ot(r,e,t,n){var i=t||{};if(i.strict?Pa(r,e):r===e)return!0;var o=Ba(r),a=Ba(e);if(o!==a)return!1;if(!r||!e||typeof r!="object"&&typeof e!="object")return i.strict?Pa(r,e):r==e;var l=n.has(r),s=n.has(e),f;if(l&&s){if(n.get(r)===n.get(e))return!0}else f={};return l||n.set(r,f),s||n.set(e,f),Bh(r,e,i,n)}function ja(r){return!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function Ch(r,e,t,n){if(Kr(r)!==Kr(e))return!1;for(var i=er(r),o=er(e),a,l,s;(a=i.next())&&!a.done;)if(a.value&&typeof a.value=="object")s||(s=new cn),yn(s,a.value);else if(!hn(e,a.value)){if(t.strict||!Lh(r,e,a.value))return!1;s||(s=new cn),yn(s,a.value)}if(s){for(;(l=o.next())&&!l.done;)if(l.value&&typeof l.value=="object"){if(!Wa(s,l.value,t.strict,n))return!1}else if(!t.strict&&!hn(r,l.value)&&!Wa(s,l.value,t.strict,n))return!1;return Kr(s)===0}return!0}function Th(r,e,t,n){if(Ua(r)!==Ua(e))return!1;for(var i=er(r),o=er(e),a,l,s,f,c,m;(a=i.next())&&!a.done;)if(f=a.value[0],c=a.value[1],f&&typeof f=="object")s||(s=new cn),yn(s,f);else if(m=mn(e,f),typeof m>"u"&&!Mi(e,f)||!ot(c,m,t,n)){if(t.strict||!Oh(r,e,f,c,t,n))return!1;s||(s=new cn),yn(s,f)}if(s){for(;(l=o.next())&&!l.done;)if(f=l.value[0],m=l.value[1],f&&typeof f=="object"){if(!Ga(s,r,f,m,t,n))return!1}else if(!t.strict&&(!r.has(f)||!ot(mn(r,f),m,t,n))&&!Ga(s,r,f,m,ls({},t,{strict:!1}),n))return!1;return Kr(s)===0}return!0}function Bh(r,e,t,n){var i,o;if(typeof r!=typeof e||r==null||e==null||Na(r)!==Na(e)||ka(r)!==ka(e))return!1;var a=Ea(r),l=Ea(e);if(a!==l)return!1;var s=r instanceof Error,f=e instanceof Error;if(s!==f||(s||f)&&(r.name!==e.name||r.message!==e.message))return!1;var c=La(r),m=La(e);if(c!==m||(c||m)&&(r.source!==e.source||Ma(r)!==Ma(e)))return!1;var g=Oa(r),b=Oa(e);if(g!==b||(g||b)&&za(r)!==za(e)||t.strict&&ei&&ei(r)!==ei(e))return!1;var _=Fa(r),O=Fa(e);if(_!==O)return!1;if(_||O){if(r.length!==e.length)return!1;for(i=0;i<r.length;i++)if(r[i]!==e[i])return!1;return!0}var T=ja(r),B=ja(e);if(T!==B)return!1;if(T||B){if(r.length!==e.length)return!1;for(i=0;i<r.length;i++)if(r[i]!==e[i])return!1;return!0}var u=Aa(r),y=Aa(e);if(u!==y)return!1;if(u||y)return Ra(r)!==Ra(e)?!1:typeof Uint8Array=="function"&&ot(new Uint8Array(r),new Uint8Array(e),t,n);var h=Ca(r),p=Ca(e);if(h!==p)return!1;if(h||p)return Da(r)!==Da(e)?!1:typeof Uint8Array=="function"&&ot(new Uint8Array(r),new Uint8Array(e),t,n);if(typeof r!=typeof e)return!1;var M=Ta(r),P=Ta(e);if(M.length!==P.length)return!1;for(M.sort(),P.sort(),i=M.length-1;i>=0;i--)if(M[i]!=P[i])return!1;for(i=M.length-1;i>=0;i--)if(o=M[i],!ot(r[o],e[o],t,n))return!1;var k=Ia(r),L=Ia(e);return k!==L?!1:k==="Set"||L==="Set"?Ch(r,e,t,n):k==="Map"?Th(r,e,t,n):!0}var Ih=function(e,t,n){return ot(e,t,n,Ah())};const Fh=sl(Ih);var Rh=Object.defineProperty,ue=(r,e)=>Rh(r,"name",{value:e,configurable:!0}),Dh=class{constructor(e){this.direction=!1,this.compareProperties=!0;var t,n,i;this.precision=10**-((t=e==null?void 0:e.precision)!=null?t:17),this.direction=(n=e==null?void 0:e.direction)!=null?n:!1,this.compareProperties=(i=e==null?void 0:e.compareProperties)!=null?i:!0}compare(e,t){if(e.type!==t.type||!vr(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const n=Pi(e),i=Pi(t);return n.every(o=>i.some(a=>this.compare(o,a)))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every((n,i)=>Math.abs(n-t[i])<this.precision)}compareLine(e,t,n=0,i=!1){if(!vr(e,t))return!1;const o=e;let a=t;if(i&&!this.compareCoord(o[0],a[0])){const s=this.fixStartIndex(a,o);if(s)a=s;else return!1}const l=this.compareCoord(o[n],a[n]);return this.direction||l?this.comparePath(o,a):this.compareCoord(o[n],a[a.length-(1+n)])?this.comparePath(o.slice().reverse(),a):!1}fixStartIndex(e,t){let n,i=-1;for(let o=0;o<e.length;o++)if(this.compareCoord(e[o],t[0])){i=o;break}return i>=0&&(n=[].concat(e.slice(i,e.length),e.slice(1,i+1))),n}comparePath(e,t){return e.every((n,i)=>this.compareCoord(n,t[i]))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const n=e.coordinates.slice(1,e.coordinates.length),i=t.coordinates.slice(1,t.coordinates.length);return n.every(o=>i.some(a=>this.compareLine(o,a,1,!0)))}return!1}compareGeometryCollection(e,t){return vr(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every((n,i)=>this.compare(n,t.geometries[i]))}compareFeature(e,t){return e.id===t.id&&(this.compareProperties?Fh(e.properties,t.properties):!0)&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return vr(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every((n,i)=>this.compare(n,t.features[i]))}compareBBox(e,t){return!e.bbox&&!t.bbox||(e.bbox&&t.bbox?this.compareCoord(e.bbox,t.bbox):!1)}};ue(Dh,"GeojsonEquality");function vr(r,e){return r.coordinates?r.coordinates.length===e.coordinates.length:r.length===e.length}ue(vr,"sameLength");function Pi(r){return r.coordinates.map(e=>({type:r.type.replace("Multi",""),coordinates:e}))}ue(Pi,"explode");var Xe=63710088e-1,us={centimeters:Xe*100,centimetres:Xe*100,degrees:360/(2*Math.PI),feet:Xe*3.28084,inches:Xe*39.37,kilometers:Xe/1e3,kilometres:Xe/1e3,meters:Xe,metres:Xe,miles:Xe/1609.344,millimeters:Xe*1e3,millimetres:Xe*1e3,nauticalmiles:Xe/1852,radians:1,yards:Xe*1.0936},qa={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function ft(r,e,t={}){const n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=e||{},n.geometry=r,n}ue(ft,"feature");function zh(r,e,t={}){switch(r){case"Point":return vt(e).geometry;case"LineString":return pt(e).geometry;case"Polygon":return xi(e).geometry;case"MultiPoint":return ms(e).geometry;case"MultiLineString":return cs(e).geometry;case"MultiPolygon":return ys(e).geometry;default:throw new Error(r+" is invalid")}}ue(zh,"geometry");function vt(r,e,t={}){if(!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!gn(r[0])||!gn(r[1]))throw new Error("coordinates must contain numbers");return ft({type:"Point",coordinates:r},e,t)}ue(vt,"point");function Nh(r,e,t={}){return Sn(r.map(n=>vt(n,e)),t)}ue(Nh,"points");function xi(r,e,t={}){for(const i of r){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}return ft({type:"Polygon",coordinates:r},e,t)}ue(xi,"polygon");function Uh(r,e,t={}){return Sn(r.map(n=>xi(n,e)),t)}ue(Uh,"polygons");function pt(r,e,t={}){if(r.length<2)throw new Error("coordinates must be an array of two or more positions");return ft({type:"LineString",coordinates:r},e,t)}ue(pt,"lineString");function Wh(r,e,t={}){return Sn(r.map(n=>pt(n,e)),t)}ue(Wh,"lineStrings");function Sn(r,e={}){const t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=r,t}ue(Sn,"featureCollection");function cs(r,e,t={}){return ft({type:"MultiLineString",coordinates:r},e,t)}ue(cs,"multiLineString");function ms(r,e,t={}){return ft({type:"MultiPoint",coordinates:r},e,t)}ue(ms,"multiPoint");function ys(r,e,t={}){return ft({type:"MultiPolygon",coordinates:r},e,t)}ue(ys,"multiPolygon");function Gh(r,e,t={}){return ft({type:"GeometryCollection",geometries:r},e,t)}ue(Gh,"geometryCollection");function jh(r,e=0){if(e&&!(e>=0))throw new Error("precision must be a positive number");const t=Math.pow(10,e||0);return Math.round(r*t)/t}ue(jh,"round");function hs(r,e="kilometers"){const t=us[e];if(!t)throw new Error(e+" units is invalid");return r*t}ue(hs,"radiansToLength");function Vi(r,e="kilometers"){const t=us[e];if(!t)throw new Error(e+" units is invalid");return r/t}ue(Vi,"lengthToRadians");function qh(r,e){return gs(Vi(r,e))}ue(qh,"lengthToDegrees");function Hh(r){let e=r%360;return e<0&&(e+=360),e}ue(Hh,"bearingToAzimuth");function gs(r){return r%(2*Math.PI)*180/Math.PI}ue(gs,"radiansToDegrees");function Zh(r){return r%360*Math.PI/180}ue(Zh,"degreesToRadians");function Xh(r,e="kilometers",t="kilometers"){if(!(r>=0))throw new Error("length must be a positive number");return hs(Vi(r,e),t)}ue(Xh,"convertLength");function Yh(r,e="meters",t="kilometers"){if(!(r>=0))throw new Error("area must be a positive number");const n=qa[e];if(!n)throw new Error("invalid original units");const i=qa[t];if(!i)throw new Error("invalid final units");return r/n*i}ue(Yh,"convertArea");function gn(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}ue(gn,"isNumber");function Ji(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}ue(Ji,"isObject");function xh(r){if(!r)throw new Error("bbox is required");if(!Array.isArray(r))throw new Error("bbox must be an Array");if(r.length!==4&&r.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");r.forEach(e=>{if(!gn(e))throw new Error("bbox must only contain numbers")})}ue(xh,"validateBBox");function Vh(r){if(!r)throw new Error("id is required");if(["string","number"].indexOf(typeof r)===-1)throw new Error("id must be a number or a string")}ue(Vh,"validateId");var Jh=Object.defineProperty,Fe=(r,e)=>Jh(r,"name",{value:e,configurable:!0});function Pr(r,e,t){if(r!==null)for(var n,i,o,a,l,s,f,c=0,m=0,g,b=r.type,_=b==="FeatureCollection",O=b==="Feature",T=_?r.features.length:1,B=0;B<T;B++){f=_?r.features[B].geometry:O?r.geometry:r,g=f?f.type==="GeometryCollection":!1,l=g?f.geometries.length:1;for(var u=0;u<l;u++){var y=0,h=0;if(a=g?f.geometries[u]:f,a!==null){s=a.coordinates;var p=a.type;switch(c=t&&(p==="Polygon"||p==="MultiPolygon")?1:0,p){case null:break;case"Point":if(e(s,m,B,y,h)===!1)return!1;m++,y++;break;case"LineString":case"MultiPoint":for(n=0;n<s.length;n++){if(e(s[n],m,B,y,h)===!1)return!1;m++,p==="MultiPoint"&&y++}p==="LineString"&&y++;break;case"Polygon":case"MultiLineString":for(n=0;n<s.length;n++){for(i=0;i<s[n].length-c;i++){if(e(s[n][i],m,B,y,h)===!1)return!1;m++}p==="MultiLineString"&&y++,p==="Polygon"&&h++}p==="Polygon"&&y++;break;case"MultiPolygon":for(n=0;n<s.length;n++){for(h=0,i=0;i<s[n].length;i++){for(o=0;o<s[n][i].length-c;o++){if(e(s[n][i][o],m,B,y,h)===!1)return!1;m++}h++}y++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(Pr(a.geometries[n],e,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}Fe(Pr,"coordEach");function Kh(r,e,t,n){var i=t;return Pr(r,function(o,a,l,s,f){a===0&&t===void 0?i=o:i=e(i,o,a,l,s,f)},n),i}Fe(Kh,"coordReduce");function vs(r,e){var t;switch(r.type){case"FeatureCollection":for(t=0;t<r.features.length&&e(r.features[t].properties,t)!==!1;t++);break;case"Feature":e(r.properties,0);break}}Fe(vs,"propEach");function Qh(r,e,t){var n=t;return vs(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}Fe(Qh,"propReduce");function ds(r,e){if(r.type==="Feature")e(r,0);else if(r.type==="FeatureCollection")for(var t=0;t<r.features.length&&e(r.features[t],t)!==!1;t++);}Fe(ds,"featureEach");function $h(r,e,t){var n=t;return ds(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}Fe($h,"featureReduce");function eg(r){var e=[];return Pr(r,function(t){e.push(t)}),e}Fe(eg,"coordAll");function Ki(r,e){var t,n,i,o,a,l,s,f,c,m,g=0,b=r.type==="FeatureCollection",_=r.type==="Feature",O=b?r.features.length:1;for(t=0;t<O;t++){for(l=b?r.features[t].geometry:_?r.geometry:r,f=b?r.features[t].properties:_?r.properties:{},c=b?r.features[t].bbox:_?r.bbox:void 0,m=b?r.features[t].id:_?r.id:void 0,s=l?l.type==="GeometryCollection":!1,a=s?l.geometries.length:1,i=0;i<a;i++){if(o=s?l.geometries[i]:l,o===null){if(e(null,g,f,c,m)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(o,g,f,c,m)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(e(o.geometries[n],g,f,c,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}Fe(Ki,"geomEach");function ps(r,e,t){var n=t;return Ki(r,function(i,o,a,l,s){o===0&&t===void 0?n=i:n=e(n,i,o,a,l,s)}),n}Fe(ps,"geomReduce");function Mn(r,e){Ki(r,function(t,n,i,o,a){var l=t===null?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return e(ft(t,i,{bbox:o,id:a}),n,0)===!1?!1:void 0}var s;switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var f=0;f<t.coordinates.length;f++){var c=t.coordinates[f],m={type:s,coordinates:c};if(e(ft(m,i),n,f)===!1)return!1}})}Fe(Mn,"flattenEach");function tg(r,e,t){var n=t;return Mn(r,function(i,o,a){o===0&&a===0&&t===void 0?n=i:n=e(n,i,o,a)}),n}Fe(tg,"flattenReduce");function bs(r,e){Mn(r,function(t,n,i){var o=0;if(t.geometry){var a=t.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var l,s=0,f=0,c=0;if(Pr(t,function(m,g,b,_,O){if(l===void 0||n>s||_>f||O>c){l=m,s=n,f=_,c=O,o=0;return}var T=pt([l,m],t.properties);if(e(T,n,i,O,o)===!1)return!1;o++,l=m})===!1)return!1}}})}Fe(bs,"segmentEach");function rg(r,e,t){var n=t,i=!1;return bs(r,function(o,a,l,s,f){i===!1&&t===void 0?n=o:n=e(n,o,a,l,s,f),i=!0}),n}Fe(rg,"segmentReduce");function _s(r,e){if(!r)throw new Error("geojson is required");Mn(r,function(t,n,i){if(t.geometry!==null){var o=t.geometry.type,a=t.geometry.coordinates;switch(o){case"LineString":if(e(t,n,i,0,0)===!1)return!1;break;case"Polygon":for(var l=0;l<a.length;l++)if(e(pt(a[l],t.properties),n,i,l)===!1)return!1;break}}})}Fe(_s,"lineEach");function ng(r,e,t){var n=t;return _s(r,function(i,o,a,l){o===0&&t===void 0?n=i:n=e(n,i,o,a,l)}),n}Fe(ng,"lineReduce");function ig(r,e){if(e=e||{},!Ji(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.segmentIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=s.length+o-1),pt([s[o],s[o+1]],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o-1),pt([s[i][o],s[i][o+1]],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o-1),pt([s[n][o],s[n][o+1]],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o-1),pt([s[n][i][o],s[n][i][o+1]],a,e)}throw new Error("geojson is invalid")}Fe(ig,"findSegment");function og(r,e){if(e=e||{},!Ji(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.coordIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":return vt(s,a,e);case"MultiPoint":return n<0&&(n=s.length+n),vt(s[n],a,e);case"LineString":return o<0&&(o=s.length+o),vt(s[o],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o),vt(s[i][o],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o),vt(s[n][o],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o),vt(s[n][i][o],a,e)}throw new Error("geojson is invalid")}Fe(og,"findPoint");var ag=Object.defineProperty,Pn=(r,e)=>ag(r,"name",{value:e,configurable:!0});function ws(r){return ps(r,(e,t)=>e+Ss(t),0)}Pn(ws,"area");function Ss(r){let e=0,t;switch(r.type){case"Polygon":return ki(r.coordinates);case"MultiPolygon":for(t=0;t<r.coordinates.length;t++)e+=ki(r.coordinates[t]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}Pn(Ss,"calculateArea");function ki(r){let e=0;if(r&&r.length>0){e+=Math.abs(Ei(r[0]));for(let t=1;t<r.length;t++)e-=Math.abs(Ei(r[t]))}return e}Pn(ki,"polygonArea");var lg=Xe*Xe/2,ti=Math.PI/180;function Ei(r){const e=r.length;if(e<=2)return 0;let t=0,n=0;for(;n<e;){const i=r[n],o=r[n+1===e?0:n+1],a=r[n+2>=e?(n+2)%e:n+2],l=i[0]*ti,s=o[1]*ti,f=a[0]*ti;t+=(f-l)*Math.sin(s),n++}return t*lg}Pn(Ei,"ringArea");var Ha=ws,Ne=63710088e-1,Qi={centimeters:Ne*100,centimetres:Ne*100,degrees:Ne/111325,feet:Ne*3.28084,inches:Ne*39.37,kilometers:Ne/1e3,kilometres:Ne/1e3,meters:Ne,metres:Ne,miles:Ne/1609.344,millimeters:Ne*1e3,millimetres:Ne*1e3,nauticalmiles:Ne/1852,radians:1,yards:Ne*1.0936},sg={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Ne,yards:1.0936133},Ai={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function et(r,e,t){t===void 0&&(t={});var n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=e||{},n.geometry=r,n}function fg(r,e,t){switch(r){case"Point":return Ye(e).geometry;case"LineString":return Qe(e).geometry;case"Polygon":return $i(e).geometry;case"MultiPoint":return Ps(e).geometry;case"MultiLineString":return Ms(e).geometry;case"MultiPolygon":return ks(e).geometry;default:throw new Error(r+" is invalid")}}function Ye(r,e,t){if(t===void 0&&(t={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!vn(r[0])||!vn(r[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:r};return et(n,e,t)}function ug(r,e,t){return t===void 0&&(t={}),zt(r.map(function(n){return Ye(n,e)}),t)}function $i(r,e,t){t===void 0&&(t={});for(var n=0,i=r;n<i.length;n++){var o=i[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}var l={type:"Polygon",coordinates:r};return et(l,e,t)}function cg(r,e,t){return t===void 0&&(t={}),zt(r.map(function(n){return $i(n,e)}),t)}function Qe(r,e,t){if(t===void 0&&(t={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:r};return et(n,e,t)}function mg(r,e,t){return t===void 0&&(t={}),zt(r.map(function(n){return Qe(n,e)}),t)}function zt(r,e){e===void 0&&(e={});var t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=r,t}function Ms(r,e,t){t===void 0&&(t={});var n={type:"MultiLineString",coordinates:r};return et(n,e,t)}function Ps(r,e,t){t===void 0&&(t={});var n={type:"MultiPoint",coordinates:r};return et(n,e,t)}function ks(r,e,t){t===void 0&&(t={});var n={type:"MultiPolygon",coordinates:r};return et(n,e,t)}function yg(r,e,t){t===void 0&&(t={});var n={type:"GeometryCollection",geometries:r};return et(n,e,t)}function hg(r,e){if(e===void 0&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var t=Math.pow(10,e||0);return Math.round(r*t)/t}function eo(r,e){e===void 0&&(e="kilometers");var t=Qi[e];if(!t)throw new Error(e+" units is invalid");return r*t}function kn(r,e){e===void 0&&(e="kilometers");var t=Qi[e];if(!t)throw new Error(e+" units is invalid");return r/t}function gg(r,e){return wr(kn(r,e))}function vg(r){var e=r%360;return e<0&&(e+=360),e}function wr(r){var e=r%(2*Math.PI);return e*180/Math.PI}function $e(r){var e=r%360;return e*Math.PI/180}function dg(r,e,t){if(e===void 0&&(e="kilometers"),t===void 0&&(t="kilometers"),!(r>=0))throw new Error("length must be a positive number");return eo(kn(r,e),t)}function pg(r,e,t){if(e===void 0&&(e="meters"),t===void 0&&(t="kilometers"),!(r>=0))throw new Error("area must be a positive number");var n=Ai[e];if(!n)throw new Error("invalid original units");var i=Ai[t];if(!i)throw new Error("invalid final units");return r/n*i}function vn(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function to(r){return!!r&&r.constructor===Object}function bg(r){if(!r)throw new Error("bbox is required");if(!Array.isArray(r))throw new Error("bbox must be an Array");if(r.length!==4&&r.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");r.forEach(function(e){if(!vn(e))throw new Error("bbox must only contain numbers")})}function _g(r){if(!r)throw new Error("id is required");if(["string","number"].indexOf(typeof r)===-1)throw new Error("id must be a number or a string")}const wg=Object.freeze(Object.defineProperty({__proto__:null,areaFactors:Ai,bearingToAzimuth:vg,convertArea:pg,convertLength:dg,degreesToRadians:$e,earthRadius:Ne,factors:Qi,feature:et,featureCollection:zt,geometry:fg,geometryCollection:yg,isNumber:vn,isObject:to,lengthToDegrees:gg,lengthToRadians:kn,lineString:Qe,lineStrings:mg,multiLineString:Ms,multiPoint:Ps,multiPolygon:ks,point:Ye,points:ug,polygon:$i,polygons:cg,radiansToDegrees:wr,radiansToLength:eo,round:hg,unitsFactors:sg,validateBBox:bg,validateId:_g},Symbol.toStringTag,{value:"Module"}));function Sr(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function tr(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Es(r,e,t){if(t===void 0&&(t={}),t.final===!0)return Sg(r,e);var n=Sr(r),i=Sr(e),o=$e(n[0]),a=$e(i[0]),l=$e(n[1]),s=$e(i[1]),f=Math.sin(a-o)*Math.cos(s),c=Math.cos(l)*Math.sin(s)-Math.sin(l)*Math.cos(s)*Math.cos(a-o);return wr(Math.atan2(f,c))}function Sg(r,e){var t=Es(e,r);return t=(t+180)%360,t}function gr(r,e,t){t===void 0&&(t={});var n=Sr(r),i=Sr(e),o=$e(i[1]-n[1]),a=$e(i[0]-n[0]),l=$e(n[1]),s=$e(i[1]),f=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(l)*Math.cos(s);return eo(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),t.units)}function Za(r,e,t,n){n===void 0&&(n={});var i=Sr(r),o=$e(i[0]),a=$e(i[1]),l=$e(t),s=kn(e,n.units),f=Math.asin(Math.sin(a)*Math.cos(s)+Math.cos(a)*Math.sin(s)*Math.cos(l)),c=o+Math.atan2(Math.sin(l)*Math.sin(s)*Math.cos(a),Math.cos(s)-Math.sin(a)*Math.sin(f)),m=wr(c),g=wr(f);return Ye([m,g],n.properties)}function kr(r,e,t){if(r!==null)for(var n,i,o,a,l,s,f,c=0,m=0,g,b=r.type,_=b==="FeatureCollection",O=b==="Feature",T=_?r.features.length:1,B=0;B<T;B++){f=_?r.features[B].geometry:O?r.geometry:r,g=f?f.type==="GeometryCollection":!1,l=g?f.geometries.length:1;for(var u=0;u<l;u++){var y=0,h=0;if(a=g?f.geometries[u]:f,a!==null){s=a.coordinates;var p=a.type;switch(c=t&&(p==="Polygon"||p==="MultiPolygon")?1:0,p){case null:break;case"Point":if(e(s,m,B,y,h)===!1)return!1;m++,y++;break;case"LineString":case"MultiPoint":for(n=0;n<s.length;n++){if(e(s[n],m,B,y,h)===!1)return!1;m++,p==="MultiPoint"&&y++}p==="LineString"&&y++;break;case"Polygon":case"MultiLineString":for(n=0;n<s.length;n++){for(i=0;i<s[n].length-c;i++){if(e(s[n][i],m,B,y,h)===!1)return!1;m++}p==="MultiLineString"&&y++,p==="Polygon"&&h++}p==="Polygon"&&y++;break;case"MultiPolygon":for(n=0;n<s.length;n++){for(h=0,i=0;i<s[n].length;i++){for(o=0;o<s[n][i].length-c;o++){if(e(s[n][i][o],m,B,y,h)===!1)return!1;m++}h++}y++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(kr(a.geometries[n],e,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Mg(r,e,t,n){var i=t;return kr(r,function(o,a,l,s,f){a===0&&t===void 0?i=o:i=e(i,o,a,l,s,f)},n),i}function As(r,e){var t;switch(r.type){case"FeatureCollection":for(t=0;t<r.features.length&&e(r.features[t].properties,t)!==!1;t++);break;case"Feature":e(r.properties,0);break}}function Pg(r,e,t){var n=t;return As(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}function dn(r,e){if(r.type==="Feature")e(r,0);else if(r.type==="FeatureCollection")for(var t=0;t<r.features.length&&e(r.features[t],t)!==!1;t++);}function kg(r,e,t){var n=t;return dn(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}function Eg(r){var e=[];return kr(r,function(t){e.push(t)}),e}function ro(r,e){var t,n,i,o,a,l,s,f,c,m,g=0,b=r.type==="FeatureCollection",_=r.type==="Feature",O=b?r.features.length:1;for(t=0;t<O;t++){for(l=b?r.features[t].geometry:_?r.geometry:r,f=b?r.features[t].properties:_?r.properties:{},c=b?r.features[t].bbox:_?r.bbox:void 0,m=b?r.features[t].id:_?r.id:void 0,s=l?l.type==="GeometryCollection":!1,a=s?l.geometries.length:1,i=0;i<a;i++){if(o=s?l.geometries[i]:l,o===null){if(e(null,g,f,c,m)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(o,g,f,c,m)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(e(o.geometries[n],g,f,c,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function Ag(r,e,t){var n=t;return ro(r,function(i,o,a,l,s){o===0&&t===void 0?n=i:n=e(n,i,o,a,l,s)}),n}function or(r,e){ro(r,function(t,n,i,o,a){var l=t===null?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return e(et(t,i,{bbox:o,id:a}),n,0)===!1?!1:void 0}var s;switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var f=0;f<t.coordinates.length;f++){var c=t.coordinates[f],m={type:s,coordinates:c};if(e(et(m,i),n,f)===!1)return!1}})}function Og(r,e,t){var n=t;return or(r,function(i,o,a){o===0&&a===0&&t===void 0?n=i:n=e(n,i,o,a)}),n}function Os(r,e){or(r,function(t,n,i){var o=0;if(t.geometry){var a=t.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var l,s=0,f=0,c=0;if(kr(t,function(m,g,b,_,O){if(l===void 0||n>s||_>f||O>c){l=m,s=n,f=_,c=O,o=0;return}var T=Qe([l,m],t.properties);if(e(T,n,i,O,o)===!1)return!1;o++,l=m})===!1)return!1}}})}function Lg(r,e,t){var n=t,i=!1;return Os(r,function(o,a,l,s,f){i===!1&&t===void 0?n=o:n=e(n,o,a,l,s,f),i=!0}),n}function Ls(r,e){if(!r)throw new Error("geojson is required");or(r,function(t,n,i){if(t.geometry!==null){var o=t.geometry.type,a=t.geometry.coordinates;switch(o){case"LineString":if(e(t,n,i,0,0)===!1)return!1;break;case"Polygon":for(var l=0;l<a.length;l++)if(e(Qe(a[l],t.properties),n,i,l)===!1)return!1;break}}})}function Cg(r,e,t){var n=t;return Ls(r,function(i,o,a,l){o===0&&t===void 0?n=i:n=e(n,i,o,a,l)}),n}function Tg(r,e){if(e=e||{},!to(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.segmentIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=s.length+o-1),Qe([s[o],s[o+1]],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o-1),Qe([s[i][o],s[i][o+1]],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o-1),Qe([s[n][o],s[n][o+1]],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o-1),Qe([s[n][i][o],s[n][i][o+1]],a,e)}throw new Error("geojson is invalid")}function Bg(r,e){if(e=e||{},!to(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.coordIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":return Ye(s,a,e);case"MultiPoint":return n<0&&(n=s.length+n),Ye(s[n],a,e);case"LineString":return o<0&&(o=s.length+o),Ye(s[o],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o),Ye(s[i][o],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o),Ye(s[n][o],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o),Ye(s[n][i][o],a,e)}throw new Error("geojson is invalid")}const Ig=Object.freeze(Object.defineProperty({__proto__:null,coordAll:Eg,coordEach:kr,coordReduce:Mg,featureEach:dn,featureReduce:kg,findPoint:Bg,findSegment:Tg,flattenEach:or,flattenReduce:Og,geomEach:ro,geomReduce:Ag,lineEach:Ls,lineReduce:Cg,propEach:As,propReduce:Pg,segmentEach:Os,segmentReduce:Lg},Symbol.toStringTag,{value:"Module"}));function Xa(r){if(!r)throw new Error("geojson is required");var e=[];return or(r,function(t){Fg(t,e)}),zt(e)}function Fg(r,e){var t=[],n=r.geometry;if(n!==null){switch(n.type){case"Polygon":t=tr(n);break;case"LineString":t=[tr(n)]}t.forEach(function(i){var o=Rg(i,r.properties);o.forEach(function(a){a.id=e.length,e.push(a)})})}}function Rg(r,e){var t=[];return r.reduce(function(n,i){var o=Qe([n,i],e);return o.bbox=Dg(n,i),t.push(o),i}),t}function Dg(r,e){var t=r[0],n=r[1],i=e[0],o=e[1],a=t<i?t:i,l=n<o?n:o,s=t>i?t:i,f=n>o?n:o;return[a,l,s,f]}var no={exports:{}},Cs={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(bn,function(){function t(u,y,h,p,M){(function P(k,L,I,d,S){for(;d>I;){if(d-I>600){var U=d-I+1,F=L-I+1,W=Math.log(U),j=.5*Math.exp(2*W/3),Q=.5*Math.sqrt(W*j*(U-j)/U)*(F-U/2<0?-1:1),se=Math.max(I,Math.floor(L-F*j/U+Q)),ye=Math.min(d,Math.floor(L+(U-F)*j/U+Q));P(k,L,se,ye,S)}var ce=k[L],pe=I,ae=d;for(n(k,I,L),S(k[d],ce)>0&&n(k,I,d);pe<ae;){for(n(k,pe,ae),pe++,ae--;S(k[pe],ce)<0;)pe++;for(;S(k[ae],ce)>0;)ae--}S(k[I],ce)===0?n(k,I,ae):n(k,++ae,d),ae<=L&&(I=ae+1),L<=ae&&(d=ae-1)}})(u,y,h||0,p||u.length-1,M||i)}function n(u,y,h){var p=u[y];u[y]=u[h],u[h]=p}function i(u,y){return u<y?-1:u>y?1:0}var o=function(u){u===void 0&&(u=9),this._maxEntries=Math.max(4,u),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(u,y,h){if(!h)return y.indexOf(u);for(var p=0;p<y.length;p++)if(h(u,y[p]))return p;return-1}function l(u,y){s(u,0,u.children.length,y,u)}function s(u,y,h,p,M){M||(M=T(null)),M.minX=1/0,M.minY=1/0,M.maxX=-1/0,M.maxY=-1/0;for(var P=y;P<h;P++){var k=u.children[P];f(M,u.leaf?p(k):k)}return M}function f(u,y){return u.minX=Math.min(u.minX,y.minX),u.minY=Math.min(u.minY,y.minY),u.maxX=Math.max(u.maxX,y.maxX),u.maxY=Math.max(u.maxY,y.maxY),u}function c(u,y){return u.minX-y.minX}function m(u,y){return u.minY-y.minY}function g(u){return(u.maxX-u.minX)*(u.maxY-u.minY)}function b(u){return u.maxX-u.minX+(u.maxY-u.minY)}function _(u,y){return u.minX<=y.minX&&u.minY<=y.minY&&y.maxX<=u.maxX&&y.maxY<=u.maxY}function O(u,y){return y.minX<=u.maxX&&y.minY<=u.maxY&&y.maxX>=u.minX&&y.maxY>=u.minY}function T(u){return{children:u,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function B(u,y,h,p,M){for(var P=[y,h];P.length;)if(!((h=P.pop())-(y=P.pop())<=p)){var k=y+Math.ceil((h-y)/p/2)*p;t(u,k,y,h,M),P.push(y,k,k,h)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(u){var y=this.data,h=[];if(!O(u,y))return h;for(var p=this.toBBox,M=[];y;){for(var P=0;P<y.children.length;P++){var k=y.children[P],L=y.leaf?p(k):k;O(u,L)&&(y.leaf?h.push(k):_(u,L)?this._all(k,h):M.push(k))}y=M.pop()}return h},o.prototype.collides=function(u){var y=this.data;if(!O(u,y))return!1;for(var h=[];y;){for(var p=0;p<y.children.length;p++){var M=y.children[p],P=y.leaf?this.toBBox(M):M;if(O(u,P)){if(y.leaf||_(u,P))return!0;h.push(M)}}y=h.pop()}return!1},o.prototype.load=function(u){if(!u||!u.length)return this;if(u.length<this._minEntries){for(var y=0;y<u.length;y++)this.insert(u[y]);return this}var h=this._build(u.slice(),0,u.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else{if(this.data.height<h.height){var p=this.data;this.data=h,h=p}this._insert(h,this.data.height-h.height-1,!0)}else this.data=h;return this},o.prototype.insert=function(u){return u&&this._insert(u,this.data.height-1),this},o.prototype.clear=function(){return this.data=T([]),this},o.prototype.remove=function(u,y){if(!u)return this;for(var h,p,M,P=this.data,k=this.toBBox(u),L=[],I=[];P||L.length;){if(P||(P=L.pop(),p=L[L.length-1],h=I.pop(),M=!0),P.leaf){var d=a(u,P.children,y);if(d!==-1)return P.children.splice(d,1),L.push(P),this._condense(L),this}M||P.leaf||!_(P,k)?p?(h++,P=p.children[h],M=!1):P=null:(L.push(P),I.push(h),h=0,p=P,P=P.children[0])}return this},o.prototype.toBBox=function(u){return u},o.prototype.compareMinX=function(u,y){return u.minX-y.minX},o.prototype.compareMinY=function(u,y){return u.minY-y.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(u){return this.data=u,this},o.prototype._all=function(u,y){for(var h=[];u;)u.leaf?y.push.apply(y,u.children):h.push.apply(h,u.children),u=h.pop();return y},o.prototype._build=function(u,y,h,p){var M,P=h-y+1,k=this._maxEntries;if(P<=k)return l(M=T(u.slice(y,h+1)),this.toBBox),M;p||(p=Math.ceil(Math.log(P)/Math.log(k)),k=Math.ceil(P/Math.pow(k,p-1))),(M=T([])).leaf=!1,M.height=p;var L=Math.ceil(P/k),I=L*Math.ceil(Math.sqrt(k));B(u,y,h,I,this.compareMinX);for(var d=y;d<=h;d+=I){var S=Math.min(d+I-1,h);B(u,d,S,L,this.compareMinY);for(var U=d;U<=S;U+=L){var F=Math.min(U+L-1,S);M.children.push(this._build(u,U,F,p-1))}}return l(M,this.toBBox),M},o.prototype._chooseSubtree=function(u,y,h,p){for(;p.push(y),!y.leaf&&p.length-1!==h;){for(var M=1/0,P=1/0,k=void 0,L=0;L<y.children.length;L++){var I=y.children[L],d=g(I),S=(U=u,F=I,(Math.max(F.maxX,U.maxX)-Math.min(F.minX,U.minX))*(Math.max(F.maxY,U.maxY)-Math.min(F.minY,U.minY))-d);S<P?(P=S,M=d<M?d:M,k=I):S===P&&d<M&&(M=d,k=I)}y=k||y.children[0]}var U,F;return y},o.prototype._insert=function(u,y,h){var p=h?u:this.toBBox(u),M=[],P=this._chooseSubtree(p,this.data,y,M);for(P.children.push(u),f(P,p);y>=0&&M[y].children.length>this._maxEntries;)this._split(M,y),y--;this._adjustParentBBoxes(p,M,y)},o.prototype._split=function(u,y){var h=u[y],p=h.children.length,M=this._minEntries;this._chooseSplitAxis(h,M,p);var P=this._chooseSplitIndex(h,M,p),k=T(h.children.splice(P,h.children.length-P));k.height=h.height,k.leaf=h.leaf,l(h,this.toBBox),l(k,this.toBBox),y?u[y-1].children.push(k):this._splitRoot(h,k)},o.prototype._splitRoot=function(u,y){this.data=T([u,y]),this.data.height=u.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(u,y,h){for(var p,M,P,k,L,I,d,S=1/0,U=1/0,F=y;F<=h-y;F++){var W=s(u,0,F,this.toBBox),j=s(u,F,h,this.toBBox),Q=(M=W,P=j,k=void 0,L=void 0,I=void 0,d=void 0,k=Math.max(M.minX,P.minX),L=Math.max(M.minY,P.minY),I=Math.min(M.maxX,P.maxX),d=Math.min(M.maxY,P.maxY),Math.max(0,I-k)*Math.max(0,d-L)),se=g(W)+g(j);Q<S?(S=Q,p=F,U=se<U?se:U):Q===S&&se<U&&(U=se,p=F)}return p||h-y},o.prototype._chooseSplitAxis=function(u,y,h){var p=u.leaf?this.compareMinX:c,M=u.leaf?this.compareMinY:m;this._allDistMargin(u,y,h,p)<this._allDistMargin(u,y,h,M)&&u.children.sort(p)},o.prototype._allDistMargin=function(u,y,h,p){u.children.sort(p);for(var M=this.toBBox,P=s(u,0,y,M),k=s(u,h-y,h,M),L=b(P)+b(k),I=y;I<h-y;I++){var d=u.children[I];f(P,u.leaf?M(d):d),L+=b(P)}for(var S=h-y-1;S>=y;S--){var U=u.children[S];f(k,u.leaf?M(U):U),L+=b(k)}return L},o.prototype._adjustParentBBoxes=function(u,y,h){for(var p=h;p>=0;p--)f(y[p],u)},o.prototype._condense=function(u){for(var y=u.length-1,h=void 0;y>=0;y--)u[y].children.length===0?y>0?(h=u[y-1].children).splice(h.indexOf(u[y]),1):this.clear():l(u[y],this.toBBox)},o})})(Cs);var zg=Cs.exports;const Ng=Ti(wg),Ts=Ti(Ig);var io={};Object.defineProperty(io,"__esModule",{value:!0});var Ug=Ts;function Oi(r){var e=[1/0,1/0,-1/0,-1/0];return Ug.coordEach(r,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}Oi.default=Oi;io.default=Oi;var at=zg,Bs=Ng,Is=Ts,xt=io.default,Wg=Is.featureEach;Is.coordEach;Bs.polygon;var Ya=Bs.featureCollection;function Fs(r){var e=new at(r);return e.insert=function(t){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:xt(t),at.prototype.insert.call(this,t)},e.load=function(t){var n=[];return Array.isArray(t)?t.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:xt(i),n.push(i)}):Wg(t,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:xt(i),n.push(i)}),at.prototype.load.call(this,n)},e.remove=function(t,n){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:xt(t),at.prototype.remove.call(this,t,n)},e.clear=function(){return at.prototype.clear.call(this)},e.search=function(t){var n=at.prototype.search.call(this,this.toBBox(t));return Ya(n)},e.collides=function(t){return at.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=at.prototype.all.call(this);return Ya(t)},e.toJSON=function(){return at.prototype.toJSON.call(this)},e.fromJSON=function(t){return at.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var n;if(t.bbox)n=t.bbox;else if(Array.isArray(t)&&t.length===4)n=t;else if(Array.isArray(t)&&t.length===6)n=[t[0],t[1],t[3],t[4]];else if(t.type==="Feature")n=xt(t);else if(t.type==="FeatureCollection")n=xt(t);else throw new Error("invalid geojson");return{minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}},e}no.exports=Fs;no.exports.default=Fs;var Gg=no.exports;const jg=sl(Gg);function qg(r,e){var t={},n=[];if(r.type==="LineString"&&(r=et(r)),e.type==="LineString"&&(e=et(e)),r.type==="Feature"&&e.type==="Feature"&&r.geometry!==null&&e.geometry!==null&&r.geometry.type==="LineString"&&e.geometry.type==="LineString"&&r.geometry.coordinates.length===2&&e.geometry.coordinates.length===2){var i=xa(r,e);return i&&n.push(i),zt(n)}var o=jg();return o.load(Xa(e)),dn(Xa(r),function(a){dn(o.search(a),function(l){var s=xa(a,l);if(s){var f=tr(s).join(",");t[f]||(t[f]=!0,n.push(s))}})}),zt(n)}function xa(r,e){var t=tr(r),n=tr(e);if(t.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(n.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=t[0][0],o=t[0][1],a=t[1][0],l=t[1][1],s=n[0][0],f=n[0][1],c=n[1][0],m=n[1][1],g=(m-f)*(a-i)-(c-s)*(l-o),b=(c-s)*(o-f)-(m-f)*(i-s),_=(a-i)*(o-f)-(l-o)*(i-s);if(g===0)return null;var O=b/g,T=_/g;if(O>=0&&O<=1&&T>=0&&T<=1){var B=i+O*(a-i),u=o+O*(l-o);return Ye([B,u])}return null}function Hg(r,e,t){t===void 0&&(t={});var n=Ye([1/0,1/0],{dist:1/0}),i=0;return or(r,function(o){for(var a=tr(o),l=0;l<a.length-1;l++){var s=Ye(a[l]);s.properties.dist=gr(e,s,t);var f=Ye(a[l+1]);f.properties.dist=gr(e,f,t);var c=gr(s,f,t),m=Math.max(s.properties.dist,f.properties.dist),g=Es(s,f),b=Za(e,m,g+90,t),_=Za(e,m,g-90,t),O=qg(Qe([b.geometry.coordinates,_.geometry.coordinates]),Qe([s.geometry.coordinates,f.geometry.coordinates])),T=null;O.features.length>0&&(T=O.features[0],T.properties.dist=gr(e,T,t),T.properties.location=i+gr(s,T,t)),s.properties.dist<n.properties.dist&&(n=s,n.properties.index=l,n.properties.location=i),f.properties.dist<n.properties.dist&&(n=f,n.properties.index=l+1,n.properties.location=i+c),T&&T.properties.dist<n.properties.dist&&(n=T,n.properties.index=l),i+=c}}),n}const Zg=["==",["geometry-type"],"Polygon"],Xg=["==",["geometry-type"],"LineString"],Yg=["==",["geometry-type"],"Point"];function ri(r){return{type:"Feature",properties:{},geometry:{type:"Point",coordinates:Rs(r)}}}function Rs(r){return[Math.round(r[0]*1e7)/1e7,Math.round(r[1]*1e7)/1e7]}const Ds=it({type:"FeatureCollection",features:[]}),zs=it(0),xg=100;class Vg{constructor(e){Pe(this,"map");Pe(this,"active");Pe(this,"eventListenersSuccess");Pe(this,"eventListenersUpdated");Pe(this,"eventListenersFailure");Pe(this,"points");Pe(this,"cursor");Pe(this,"hover");Pe(this,"dragFrom");Pe(this,"previousStates");Pe(this,"onMouseMove",e=>{if(this.active&&!this.dragFrom)this.recalculateHovering(e);else if(this.active&&this.dragFrom){if(this.hover=="polygon"){let t=this.dragFrom[0]-e.lngLat.lng,n=this.dragFrom[1]-e.lngLat.lat;for(let i of this.points)i[0]-=t,i[1]-=n}else this.points[this.hover]=e.lngLat.toArray();this.dragFrom=e.lngLat.toArray(),this.redraw()}});Pe(this,"onClick",e=>{if(this.beforeUpdate(),this.active&&this.cursor){let t=[];if(Va(this.points).forEach((n,i)=>{t.push([i+1,Hg(n,this.cursor).properties.dist])}),t.sort((n,i)=>n[1]-i[1]),t.length>0){let n=t[0][0];this.points.splice(n,0,this.cursor.geometry.coordinates),this.hover=n}else this.points.push(this.cursor.geometry.coordinates),this.hover=this.points.length-1;this.redraw(),this.pointsUpdated()}else this.active&&typeof this.hover=="number"&&(this.points.splice(this.hover,1),this.hover=null,this.redraw(),this.pointsUpdated(),this.recalculateHovering(e))});Pe(this,"onDoubleClick",e=>{this.active&&(e.preventDefault(),this.cursor=ri(e.lngLat.toArray()),this.onClick(e),this.finish())});Pe(this,"onMouseDown",e=>{this.active&&!this.dragFrom&&this.hover!=null&&(e.preventDefault(),this.cursor=null,this.dragFrom=e.lngLat.toArray(),this.beforeUpdate(),this.redraw())});Pe(this,"onMouseUp",()=>{this.active&&this.dragFrom&&(this.dragFrom=null,this.redraw(),this.pointsUpdated())});Pe(this,"onKeypress",e=>{this.active&&(e.key=="Enter"?(e.stopPropagation(),this.finish()):e.key=="z"&&e.ctrlKey&&this.undo())});Pe(this,"onKeyDown",e=>{this.active&&e.key=="Escape"&&(e.stopPropagation(),this.cancel())});this.map=e,this.active=!1,this.eventListenersSuccess=[],this.eventListenersUpdated=[],this.eventListenersFailure=[],this.points=[],this.cursor=null,this.hover=null,this.dragFrom=null,this.previousStates=[],this.map.on("mousemove",this.onMouseMove),this.map.on("click",this.onClick),this.map.on("dblclick",this.onDoubleClick),this.map.on("mousedown",this.onMouseDown),this.map.on("mouseup",this.onMouseUp),document.addEventListener("keypress",this.onKeypress),document.addEventListener("keydown",this.onKeyDown)}tearDown(){this.map.off("mousemove",this.onMouseMove),this.map.off("click",this.onClick),this.map.off("dblclick",this.onDoubleClick),this.map.off("mousedown",this.onMouseDown),this.map.off("mouseup",this.onMouseUp),document.removeEventListener("keypress",this.onKeypress),document.removeEventListener("keydown",this.onKeyDown)}finish(){let e=this.polygonFeature();if(e)for(let t of this.eventListenersSuccess)t(e);else for(let t of this.eventListenersFailure)t();this.stop()}cancel(){for(let e of this.eventListenersFailure)e();this.stop()}addEventListenerSuccess(e){this.eventListenersSuccess.push(e)}addEventListenerUpdated(e){this.eventListenersUpdated.push(e)}addEventListenerFailure(e){this.eventListenersFailure.push(e)}clearEventListeners(){this.eventListenersSuccess=[],this.eventListenersUpdated=[],this.eventListenersFailure=[]}startNew(){this.active=!0,this.map.doubleClickZoom.disable()}editExisting(e){this.active=!0,this.map.doubleClickZoom.disable(),this.points=JSON.parse(JSON.stringify(e.geometry.coordinates[0])),this.points.pop(),this.redraw()}stop(){this.map.doubleClickZoom.enable(),this.points=[],this.cursor=null,this.active=!1,this.hover=null,this.dragFrom=null,this.previousStates=[],this.redraw(),this.map.getCanvas().style.cursor="inherit"}undo(){this.dragFrom!=null||this.previousStates.length==0||(this.points=this.previousStates.pop(),this.hover=null,this.redraw())}redraw(){let e={type:"FeatureCollection",features:[]};this.points.forEach((i,o)=>{let a=ri(i);a.properties.hover=this.hover==o,a.properties.idx=o,e.features.push(a)}),e.features=e.features.concat(Va(this.points));let t=this.polygonFeature();t&&(t.properties.hover=this.hover=="polygon",e.features.push(t)),Ds.set(e);let n="crosshair";this.hover!=null&&(n=this.dragFrom?"grabbing":"pointer"),this.map.getCanvas().style.cursor=n,zs.set(this.previousStates.length)}pointsUpdated(){let e=this.polygonFeature();if(e)for(let t of this.eventListenersUpdated)t(e)}recalculateHovering(e){this.cursor=null,this.hover=null;for(let t of this.map.queryRenderedFeatures(e.point,{layers:["edit-polygon-fill","edit-polygon-vertices"]}))if(t.geometry.type=="Polygon"){this.hover="polygon";break}else if(t.geometry.type=="Point"&&Object.hasOwn(t.properties,"idx")){this.hover=t.properties.idx;break}this.hover==null&&(this.cursor=ri(e.lngLat.toArray())),this.redraw()}polygonFeature(){if(this.points.length<3)return null;let e=this.points.map(Rs),t=[JSON.parse(JSON.stringify(e))];return t[0].push(JSON.parse(JSON.stringify(t[0][0]))),{type:"Feature",geometry:{type:"Polygon",coordinates:t},properties:{}}}beforeUpdate(){this.previousStates.push(JSON.parse(JSON.stringify(this.points))),this.previousStates.length>xg&&this.previousStates.shift()}}function Va(r){let e=[];for(let t=0;t<r.length-1;t++)e.push({type:"Feature",geometry:{type:"LineString",coordinates:[r[t],r[t+1]]},properties:{}});return r.length>=3&&e.push({type:"Feature",geometry:{type:"LineString",coordinates:[r[r.length-1],r[0]]},properties:{}}),e}let Jg=Date.now();function Er(r){return`${r}-${Jg++}`}const oo=Symbol.for("svelte-maplibre");function Ar(){return xs(oo)}function Kg(r){let e=new WeakMap;return t=>{var a;let n=e.get(t.originalEvent);if(n!==void 0)return n;let o=(a=t.target.queryRenderedFeatures(t.point).find(l=>{var s;return(s=r.get(l.layer.id))==null?void 0:s.interactive}))==null?void 0:a.layer.id;return e.set(t.originalEvent,o),o}}function Qg(){let r=new Map;return ll(oo,{map:it(null),source:Rn(null),layer:Rn(null),popupTarget:Rn(null),cluster:it(),loadedImages:it(new Set),minzoom:it(0),maxzoom:it(24),layerEvent:it(null),layerInfo:r,eventTopMost:Kg(r)})}function Ja(r){return{subscribe:r.subscribe}}function Ns({key:r,setPopupTarget:e=!1,setCluster:t=!1,setMouseEvent:n=!1}){let i=Ar(),o=it(null),a=Ja(o),l={...i,[r]:Ja(o)};if(e&&(l.popupTarget=a),n){let s=it(null);l.layerEvent=s,i.layerEvent=s}return t&&(l.cluster=it()),ll(oo,l),{...i,self:o}}function $g(){return Ns({key:"source",setCluster:!0})}function ev(r=!0){return Ns({key:"layer",setPopupTarget:r,setMouseEvent:r})}function Ka(r){let e;return t=>{if(t)for(let n in t){let i=e==null?void 0:e[n],o=t[n];i!==o&&r(n,o,i)}else if(e)for(let n in e)r(n,void 0,e[n]);e=t}}function tv(r,...e){let t=[r];for(let n of e)if(n)Array.isArray(n)&&n[0]===r?t.push(...n.slice(1)):t.push(n);else continue;if(t.length!==1)return t.length===2?t[1]:t}function rv(r){return r===!0?["has","point_count"]:r===!1?["!",["has","point_count"]]:void 0}var pn=nv;function nv(r){var e,t,n;if(r){if(Array.isArray(r)){for(e=[],t=r.length,n=0;n<t;n++){var i=r[n];i!=null&&e.push(i)}return e}if(typeof r=="object"){e={};var o=Object.keys(r);for(t=o.length,n=0;n<t;n++){var a=o[n],l=r[a];l!=null&&(e[a]=l)}return e}}}function Qa(r){let e=r[0],t,n,i=$a(r);return{c(){i.c(),t=Ge()},l(o){i.l(o),t=Ge()},m(o,a){i.m(o,a),N(o,t,a),n=!0},p(o,a){a[0]&1&&ge(e,e=o[0])?(Je(),z(i,1,1,me),Ke(),i=$a(o),i.c(),D(i,1),i.m(t.parentNode,t)):i.p(o,a)},i(o){n||(D(i),n=!0)},o(o){z(i),n=!1},d(o){o&&A(t),i.d(o)}}}function $a(r){let e;const t=r[36].default,n=kt(t,r,r[35],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o[1]&16)&&Et(n,t,i,i[35],e?Ot(t,i[35],o,null):At(i[35]),null)},i(i){e||(D(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function iv(r){let e,t,n=r[0]&&Qa(r);return{c(){n&&n.c(),e=Ge()},l(i){n&&n.l(i),e=Ge()},m(i,o){n&&n.m(i,o),N(i,e,o),t=!0},p(i,o){i[0]?n?(n.p(i,o),o[0]&1&&D(n,1)):(n=Qa(i),n.c(),D(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke())},i(i){t||(D(n),t=!0)},o(i){z(n),t=!1},d(i){i&&A(e),n&&n.d(i)}}}function ov(r,e,t){let n,i,o,a,l,s,f,c,m,g,b,_,{$$slots:O={},$$scope:T}=e,{id:B=Er("layer")}=e,{source:u=void 0}=e,{sourceLayer:y=void 0}=e,{beforeId:h=void 0}=e,{beforeLayerType:p=void 0}=e,{type:M}=e,{paint:P=void 0}=e,{layout:k=void 0}=e,{filter:L=void 0}=e,{applyToClusters:I=void 0}=e,{minzoom:d=void 0}=e,{maxzoom:S=void 0}=e,{manageHoverState:U=!1}=e,{hovered:F=null}=e,{interactive:W=!0}=e,{hoverCursor:j=void 0}=e,{eventsIfTopMost:Q=!1}=e;const se=Ci(),{map:ye,source:ce,self:pe,minzoom:ae,maxzoom:we,eventTopMost:qe,layerInfo:Re}=ev();Le(r,ye,E=>t(31,m=E)),Le(r,ce,E=>t(32,g=E)),Le(r,pe,E=>t(0,c=E)),Le(r,ae,E=>t(34,_=E)),Le(r,we,E=>t(33,b=E)),St(()=>{c&&m&&(Re.delete(c),m==null||m.removeLayer(c))});let he;function De(E){var ve,re;if(!W||!c||!m||Q&&qe(E)!==c)return;let Z=E.features??[],G=(re=(ve=Z[0])==null?void 0:ve.properties)==null?void 0:re.cluster_id,Te={event:E,map:m,clusterId:G,layer:c,source:l,features:Z};se(E.type,Te)}function R(E){var ve,re;if(!W||!c||!m||Q&&qe(E)!==c)return;j&&(m.getCanvas().style.cursor=j);let Z=E.features??[];t(6,F=Z[0]??null);let G=(re=(ve=Z[0])==null?void 0:ve.properties)==null?void 0:re.cluster_id;se("mouseenter",{event:E,map:m,clusterId:G,layer:c,source:l,features:Z})}function H(E){var ve,re,He;if(!W||!m)return;if(Q&&qe(E)!==c){t(6,F=null),U&&he!==void 0&&(m==null||m.setFeatureState({source:l,sourceLayer:y,id:he},{hover:!1}),he=void 0);return}m.getCanvas().style.cursor=j;let Z=E.features??[],G=(re=(ve=Z[0])==null?void 0:ve.properties)==null?void 0:re.cluster_id,Te=(He=Z[0])==null?void 0:He.id;Te!==he&&(U&&(he!==void 0&&(m==null||m.setFeatureState({source:l,id:he,sourceLayer:y},{hover:!1})),m==null||m.setFeatureState({source:l,id:Te,sourceLayer:y},{hover:!0})),he=Te,t(6,F=Z[0]??null)),se("mousemove",{event:E,map:m,clusterId:G,layer:c,source:l,features:Z})}function fe(E){if(!(!W||!c||!m)){if(j&&(m.getCanvas().style.cursor=""),t(6,F=null),U&&he!==void 0){const Z={source:l,id:he,sourceLayer:y};m==null||m.setFeatureState(Z,{hover:!1}),he=void 0}se("mouseleave",{map:m,layer:c,source:l})}}let ze=!0;function Ce(E){m&&(m.off("click",E,De),m.off("dblclick",E,De),m.off("contextmenu",E,De),m.off("mouseenter",E,R),m.off("mousemove",E,H),m.off("mouseleave",E,fe))}return St(()=>{m&&c&&Ce(c)}),r.$$set=E=>{"id"in E&&t(7,B=E.id),"source"in E&&t(8,u=E.source),"sourceLayer"in E&&t(9,y=E.sourceLayer),"beforeId"in E&&t(10,h=E.beforeId),"beforeLayerType"in E&&t(11,p=E.beforeLayerType),"type"in E&&t(12,M=E.type),"paint"in E&&t(13,P=E.paint),"layout"in E&&t(14,k=E.layout),"filter"in E&&t(15,L=E.filter),"applyToClusters"in E&&t(16,I=E.applyToClusters),"minzoom"in E&&t(17,d=E.minzoom),"maxzoom"in E&&t(18,S=E.maxzoom),"manageHoverState"in E&&t(19,U=E.manageHoverState),"hovered"in E&&t(6,F=E.hovered),"interactive"in E&&t(20,W=E.interactive),"hoverCursor"in E&&t(21,j=E.hoverCursor),"eventsIfTopMost"in E&&t(22,Q=E.eventsIfTopMost),"$$scope"in E&&t(35,T=E.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&65536&&t(30,n=rv(I)),r.$$.dirty[0]&1073774592&&t(24,i=tv("all",n,L)),r.$$.dirty[0]&131072|r.$$.dirty[1]&8&&t(26,o=d??_),r.$$.dirty[0]&262144|r.$$.dirty[1]&4&&t(25,a=S??b),r.$$.dirty[0]&256|r.$$.dirty[1]&2&&t(29,l=u||g),r.$$.dirty[0]&654343809|r.$$.dirty[1]&1&&m&&c!==B&&l){c&&(Ce(c),Re.delete(c));let E=h;if(!h&&p){let Z=m.getStyle().layers,G=typeof p=="function"?p:ve=>ve.type===p,Te=Z==null?void 0:Z.find(G);Te&&(E=Te.id)}wt(pe,c=B,c),m.addLayer(pn({id:c,type:M,source:l,"source-layer":y,filter:i,paint:P,layout:k,minzoom:o,maxzoom:a}),E),t(23,ze=!0),m.on("click",c,De),m.on("dblclick",c,De),m.on("contextmenu",c,De),m.on("mouseenter",c,R),m.on("mousemove",c,H),m.on("mouseleave",c,fe)}r.$$.dirty[0]&1048577&&c&&Re.set(c,{interactive:W}),r.$$.dirty[0]&1|r.$$.dirty[1]&1&&t(28,s=c?Ka((E,Z)=>m==null?void 0:m.setPaintProperty(c,E,Z)):void 0),r.$$.dirty[0]&1|r.$$.dirty[1]&1&&t(27,f=c?Ka((E,Z)=>m==null?void 0:m.setLayoutProperty(c,E,Z)):void 0),r.$$.dirty[0]&268443648&&(s==null||s(P)),r.$$.dirty[0]&134234112&&(f==null||f(k)),r.$$.dirty[0]&100663297|r.$$.dirty[1]&1&&c&&(m==null||m.setLayerZoomRange(c,o,a)),r.$$.dirty[0]&25165825|r.$$.dirty[1]&1&&c&&(ze?t(23,ze=!1):m==null||m.setFilter(c,i))},[c,ye,ce,pe,ae,we,F,B,u,y,h,p,M,P,k,L,I,d,S,U,W,j,Q,ze,i,a,o,f,s,l,n,m,g,b,_,T,O]}class ao extends be{constructor(e){super(),_e(this,e,ov,iv,ge,{id:7,source:8,sourceLayer:9,beforeId:10,beforeLayerType:11,type:12,paint:13,layout:14,filter:15,applyToClusters:16,minzoom:17,maxzoom:18,manageHoverState:19,hovered:6,interactive:20,hoverCursor:21,eventsIfTopMost:22},null,[-1,-1])}}function av(r){let e;const t=r[16].default,n=kt(t,r,r[24],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&16777216)&&Et(n,t,i,i[24],e?Ot(t,i[24],o,null):At(i[24]),null)},i(i){e||(D(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function lv(r){let e,t,n;function i(a){r[17](a)}let o={id:r[1],type:"circle",source:r[2],sourceLayer:r[3],beforeId:r[4],beforeLayerType:r[5],paint:r[6],layout:r[7],filter:r[8],applyToClusters:r[9],minzoom:r[10],maxzoom:r[11],hoverCursor:r[12],manageHoverState:r[13],eventsIfTopMost:r[14],interactive:r[15],$$slots:{default:[av]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.hovered=r[0]),e=new ao({props:o}),Me.push(()=>Ae(e,"hovered",i)),e.$on("click",r[18]),e.$on("dblclick",r[19]),e.$on("contextmenu",r[20]),e.$on("mouseenter",r[21]),e.$on("mousemove",r[22]),e.$on("mouseleave",r[23]),{c(){X(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,l){x(e,a,l),n=!0},p(a,[l]){const s={};l&2&&(s.id=a[1]),l&4&&(s.source=a[2]),l&8&&(s.sourceLayer=a[3]),l&16&&(s.beforeId=a[4]),l&32&&(s.beforeLayerType=a[5]),l&64&&(s.paint=a[6]),l&128&&(s.layout=a[7]),l&256&&(s.filter=a[8]),l&512&&(s.applyToClusters=a[9]),l&1024&&(s.minzoom=a[10]),l&2048&&(s.maxzoom=a[11]),l&4096&&(s.hoverCursor=a[12]),l&8192&&(s.manageHoverState=a[13]),l&16384&&(s.eventsIfTopMost=a[14]),l&32768&&(s.interactive=a[15]),l&16777216&&(s.$$scope={dirty:l,ctx:a}),!t&&l&1&&(t=!0,s.hovered=a[0],Ee(()=>t=!1)),e.$set(s)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){V(e,a)}}}function sv(r,e,t){let{$$slots:n={},$$scope:i}=e,{id:o=Er("circle")}=e,{source:a=void 0}=e,{sourceLayer:l=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:f=void 0}=e,{paint:c}=e,{layout:m=void 0}=e,{filter:g=void 0}=e,{applyToClusters:b=void 0}=e,{minzoom:_=void 0}=e,{maxzoom:O=void 0}=e,{hoverCursor:T=void 0}=e,{manageHoverState:B=!1}=e,{hovered:u=null}=e,{eventsIfTopMost:y=!1}=e,{interactive:h=!0}=e;function p(S){u=S,t(0,u)}function M(S){Se.call(this,r,S)}function P(S){Se.call(this,r,S)}function k(S){Se.call(this,r,S)}function L(S){Se.call(this,r,S)}function I(S){Se.call(this,r,S)}function d(S){Se.call(this,r,S)}return r.$$set=S=>{"id"in S&&t(1,o=S.id),"source"in S&&t(2,a=S.source),"sourceLayer"in S&&t(3,l=S.sourceLayer),"beforeId"in S&&t(4,s=S.beforeId),"beforeLayerType"in S&&t(5,f=S.beforeLayerType),"paint"in S&&t(6,c=S.paint),"layout"in S&&t(7,m=S.layout),"filter"in S&&t(8,g=S.filter),"applyToClusters"in S&&t(9,b=S.applyToClusters),"minzoom"in S&&t(10,_=S.minzoom),"maxzoom"in S&&t(11,O=S.maxzoom),"hoverCursor"in S&&t(12,T=S.hoverCursor),"manageHoverState"in S&&t(13,B=S.manageHoverState),"hovered"in S&&t(0,u=S.hovered),"eventsIfTopMost"in S&&t(14,y=S.eventsIfTopMost),"interactive"in S&&t(15,h=S.interactive),"$$scope"in S&&t(24,i=S.$$scope)},[u,o,a,l,s,f,c,m,g,b,_,O,T,B,y,h,n,p,M,P,k,L,I,d,i]}class fv extends be{constructor(e){super(),_e(this,e,sv,lv,ge,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,applyToClusters:9,minzoom:10,maxzoom:11,hoverCursor:12,manageHoverState:13,hovered:0,eventsIfTopMost:14,interactive:15})}}function uv(r){let e;const t=r[15].default,n=kt(t,r,r[23],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8388608)&&Et(n,t,i,i[23],e?Ot(t,i[23],o,null):At(i[23]),null)},i(i){e||(D(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function cv(r){let e,t,n;function i(a){r[16](a)}let o={id:r[1],type:"fill",source:r[2],sourceLayer:r[3],beforeId:r[4],beforeLayerType:r[5],paint:r[6],layout:r[7],filter:r[8],minzoom:r[9],maxzoom:r[10],hoverCursor:r[11],manageHoverState:r[12],eventsIfTopMost:r[13],interactive:r[14],$$slots:{default:[uv]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.hovered=r[0]),e=new ao({props:o}),Me.push(()=>Ae(e,"hovered",i)),e.$on("click",r[17]),e.$on("dblclick",r[18]),e.$on("contextmenu",r[19]),e.$on("mouseenter",r[20]),e.$on("mousemove",r[21]),e.$on("mouseleave",r[22]),{c(){X(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,l){x(e,a,l),n=!0},p(a,[l]){const s={};l&2&&(s.id=a[1]),l&4&&(s.source=a[2]),l&8&&(s.sourceLayer=a[3]),l&16&&(s.beforeId=a[4]),l&32&&(s.beforeLayerType=a[5]),l&64&&(s.paint=a[6]),l&128&&(s.layout=a[7]),l&256&&(s.filter=a[8]),l&512&&(s.minzoom=a[9]),l&1024&&(s.maxzoom=a[10]),l&2048&&(s.hoverCursor=a[11]),l&4096&&(s.manageHoverState=a[12]),l&8192&&(s.eventsIfTopMost=a[13]),l&16384&&(s.interactive=a[14]),l&8388608&&(s.$$scope={dirty:l,ctx:a}),!t&&l&1&&(t=!0,s.hovered=a[0],Ee(()=>t=!1)),e.$set(s)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){V(e,a)}}}function mv(r,e,t){let{$$slots:n={},$$scope:i}=e,{id:o=Er("fill")}=e,{source:a=void 0}=e,{sourceLayer:l=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:f=void 0}=e,{paint:c}=e,{layout:m=void 0}=e,{filter:g=void 0}=e,{minzoom:b=void 0}=e,{maxzoom:_=void 0}=e,{hoverCursor:O=void 0}=e,{manageHoverState:T=!1}=e,{hovered:B=null}=e,{eventsIfTopMost:u=!1}=e,{interactive:y=!0}=e;function h(d){B=d,t(0,B)}function p(d){Se.call(this,r,d)}function M(d){Se.call(this,r,d)}function P(d){Se.call(this,r,d)}function k(d){Se.call(this,r,d)}function L(d){Se.call(this,r,d)}function I(d){Se.call(this,r,d)}return r.$$set=d=>{"id"in d&&t(1,o=d.id),"source"in d&&t(2,a=d.source),"sourceLayer"in d&&t(3,l=d.sourceLayer),"beforeId"in d&&t(4,s=d.beforeId),"beforeLayerType"in d&&t(5,f=d.beforeLayerType),"paint"in d&&t(6,c=d.paint),"layout"in d&&t(7,m=d.layout),"filter"in d&&t(8,g=d.filter),"minzoom"in d&&t(9,b=d.minzoom),"maxzoom"in d&&t(10,_=d.maxzoom),"hoverCursor"in d&&t(11,O=d.hoverCursor),"manageHoverState"in d&&t(12,T=d.manageHoverState),"hovered"in d&&t(0,B=d.hovered),"eventsIfTopMost"in d&&t(13,u=d.eventsIfTopMost),"interactive"in d&&t(14,y=d.interactive),"$$scope"in d&&t(23,i=d.$$scope)},[B,o,a,l,s,f,c,m,g,b,_,O,T,u,y,n,h,p,M,P,k,L,I,i]}class Us extends be{constructor(e){super(),_e(this,e,mv,cv,ge,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function yv(r,e,t){let n;const{map:i}=Ar();Le(r,i,s=>t(4,n=s));let{position:o="top-left"}=e,{container:a=void 0}=e,l=null;return St(()=>{n!=null&&n.loaded()&&l&&n.removeControl(l)}),r.$$set=s=>{"position"in s&&t(1,o=s.position),"container"in s&&t(2,a=s.container)},r.$$.update=()=>{if(r.$$.dirty&30&&n&&!l){let s;typeof a=="string"?s=document.querySelector(a)??void 0:s=a,t(3,l=new rr.FullscreenControl({container:s})),n.addControl(l,o)}},[i,o,a,l,n]}class hv extends be{constructor(e){super(),_e(this,e,yv,null,ge,{position:1,container:2})}}function gv(r,e,t,n,i){let o=!1;r.getSource(e)&&(o=!0,r.removeSource(e));const a=()=>{n(e)&&(r.addSource(e,t),i())};if(o){const l=()=>{e&&(r.getSource(e)?setTimeout(l,1):a())};l()}else a()}function vv(r,e,t){Vs().then(()=>{let n=Js(r);if(!n)return;n.getSource(e)===t&&n.removeSource(e)})}function el(r){let e=r[0],t,n,i=tl(r);return{c(){i.c(),t=Ge()},l(o){i.l(o),t=Ge()},m(o,a){i.m(o,a),N(o,t,a),n=!0},p(o,a){a&1&&ge(e,e=o[0])?(Je(),z(i,1,1,me),Ke(),i=tl(o),i.c(),D(i,1),i.m(t.parentNode,t)):i.p(o,a)},i(o){n||(D(i),n=!0)},o(o){z(i),n=!1},d(o){o&&A(t),i.d(o)}}}function tl(r){let e;const t=r[15].default,n=kt(t,r,r[14],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&16384)&&Et(n,t,i,i[14],e?Ot(t,i[14],o,null):At(i[14]),null)},i(i){e||(D(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function dv(r){let e,t,n=r[0]&&el(r);return{c(){n&&n.c(),e=Ge()},l(i){n&&n.l(i),e=Ge()},m(i,o){n&&n.m(i,o),N(i,e,o),t=!0},p(i,[o]){i[0]?n?(n.p(i,o),o&1&&D(n,1)):(n=el(i),n.c(),D(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke())},i(i){t||(D(n),t=!0)},o(i){z(n),t=!1},d(i){i&&A(e),n&&n.d(i)}}}function pv(r,e,t){let n,i,o,{$$slots:a={},$$scope:l}=e,{id:s=Er("geojson")}=e,{data:f}=e,{generateId:c=!1}=e,{promoteId:m=void 0}=e,{filter:g=void 0}=e,{lineMetrics:b=void 0}=e,{cluster:_=void 0}=e;const{map:O,cluster:T,self:B}=$g();Le(r,O,h=>t(13,i=h)),Le(r,T,h=>t(16,o=h)),Le(r,B,h=>t(0,n=h));let u,y=!0;return St(()=>{n&&u&&i&&(vv(O,n,u),wt(B,n=null,n),t(11,u=void 0))}),r.$$set=h=>{"id"in h&&t(4,s=h.id),"data"in h&&t(5,f=h.data),"generateId"in h&&t(6,c=h.generateId),"promoteId"in h&&t(7,m=h.promoteId),"filter"in h&&t(8,g=h.filter),"lineMetrics"in h&&t(9,b=h.lineMetrics),"cluster"in h&&t(10,_=h.cluster),"$$scope"in h&&t(14,l=h.$$scope)},r.$$.update=()=>{r.$$.dirty&1024&&wt(T,o=_,o),r.$$.dirty&12273&&i&&n!==s&&(wt(B,n=s,n),gv(i,n,pn({type:"geojson",data:f,filter:g,lineMetrics:b,generateId:c,promoteId:m,cluster:!!_,clusterMinPoints:_==null?void 0:_.minPoints,clusterMaxZoom:_==null?void 0:_.maxZoom,clusterRadius:_==null?void 0:_.radius,clusterProperties:_==null?void 0:_.properties}),h=>i&&h===n,()=>{n&&(t(11,u=i==null?void 0:i.getSource(n)),t(12,y=!0))})),r.$$.dirty&8208&&(i==null||i.on("style.load",()=>{t(11,u=i==null?void 0:i.getSource(s))})),r.$$.dirty&6176&&u&&(y?t(12,y=!1):u.setData(f)),r.$$.dirty&3072&&(u==null||u.setClusterOptions(pn({cluster:!!_,clusterMaxZoom:_==null?void 0:_.maxZoom,clusterRadius:_==null?void 0:_.radius})))},[n,O,T,B,s,f,c,m,g,b,_,u,y,i,l,a]}class Ws extends be{constructor(e){super(),_e(this,e,pv,dv,ge,{id:4,data:5,generateId:6,promoteId:7,filter:8,lineMetrics:9,cluster:10})}}function bv(r,e,t){let n;const{map:i}=Ar();Le(r,i,g=>t(8,n=g));let{position:o="top-left"}=e,{positionOptions:a=void 0}=e,{fitBoundsOptions:l=void 0}=e,{trackUserLocation:s=!1}=e,{showAccuracyCircle:f=!0}=e,{showUserLocation:c=!0}=e,m=null;return St(()=>{n!=null&&n.loaded()&&m&&n.removeControl(m)}),r.$$set=g=>{"position"in g&&t(1,o=g.position),"positionOptions"in g&&t(2,a=g.positionOptions),"fitBoundsOptions"in g&&t(3,l=g.fitBoundsOptions),"trackUserLocation"in g&&t(4,s=g.trackUserLocation),"showAccuracyCircle"in g&&t(5,f=g.showAccuracyCircle),"showUserLocation"in g&&t(6,c=g.showUserLocation)},r.$$.update=()=>{r.$$.dirty&510&&n&&!m&&(t(7,m=new rr.GeolocateControl({positionOptions:a,fitBoundsOptions:l,trackUserLocation:s,showAccuracyCircle:f,showUserLocation:c})),n.addControl(m,o))},[i,o,a,l,s,f,c,m,n]}class _v extends be{constructor(e){super(),_e(this,e,bv,null,ge,{position:1,positionOptions:2,fitBoundsOptions:3,trackUserLocation:4,showAccuracyCircle:5,showUserLocation:6})}}function wv(r){let e;const t=r[15].default,n=kt(t,r,r[23],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8388608)&&Et(n,t,i,i[23],e?Ot(t,i[23],o,null):At(i[23]),null)},i(i){e||(D(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function Sv(r){let e,t,n;function i(a){r[16](a)}let o={id:r[1],type:"line",source:r[2],sourceLayer:r[3],beforeId:r[4],beforeLayerType:r[5],paint:r[6],layout:r[7],filter:r[8],minzoom:r[9],maxzoom:r[10],hoverCursor:r[11],manageHoverState:r[12],eventsIfTopMost:r[13],interactive:r[14],$$slots:{default:[wv]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.hovered=r[0]),e=new ao({props:o}),Me.push(()=>Ae(e,"hovered",i)),e.$on("click",r[17]),e.$on("dblclick",r[18]),e.$on("contextmenu",r[19]),e.$on("mouseenter",r[20]),e.$on("mousemove",r[21]),e.$on("mouseleave",r[22]),{c(){X(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,l){x(e,a,l),n=!0},p(a,[l]){const s={};l&2&&(s.id=a[1]),l&4&&(s.source=a[2]),l&8&&(s.sourceLayer=a[3]),l&16&&(s.beforeId=a[4]),l&32&&(s.beforeLayerType=a[5]),l&64&&(s.paint=a[6]),l&128&&(s.layout=a[7]),l&256&&(s.filter=a[8]),l&512&&(s.minzoom=a[9]),l&1024&&(s.maxzoom=a[10]),l&2048&&(s.hoverCursor=a[11]),l&4096&&(s.manageHoverState=a[12]),l&8192&&(s.eventsIfTopMost=a[13]),l&16384&&(s.interactive=a[14]),l&8388608&&(s.$$scope={dirty:l,ctx:a}),!t&&l&1&&(t=!0,s.hovered=a[0],Ee(()=>t=!1)),e.$set(s)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){V(e,a)}}}function Mv(r,e,t){let{$$slots:n={},$$scope:i}=e,{id:o=Er("line")}=e,{source:a=void 0}=e,{sourceLayer:l=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:f=void 0}=e,{paint:c}=e,{layout:m=void 0}=e,{filter:g=void 0}=e,{minzoom:b=void 0}=e,{maxzoom:_=void 0}=e,{hoverCursor:O=void 0}=e,{manageHoverState:T=!1}=e,{hovered:B=null}=e,{eventsIfTopMost:u=!1}=e,{interactive:y=!0}=e;function h(d){B=d,t(0,B)}function p(d){Se.call(this,r,d)}function M(d){Se.call(this,r,d)}function P(d){Se.call(this,r,d)}function k(d){Se.call(this,r,d)}function L(d){Se.call(this,r,d)}function I(d){Se.call(this,r,d)}return r.$$set=d=>{"id"in d&&t(1,o=d.id),"source"in d&&t(2,a=d.source),"sourceLayer"in d&&t(3,l=d.sourceLayer),"beforeId"in d&&t(4,s=d.beforeId),"beforeLayerType"in d&&t(5,f=d.beforeLayerType),"paint"in d&&t(6,c=d.paint),"layout"in d&&t(7,m=d.layout),"filter"in d&&t(8,g=d.filter),"minzoom"in d&&t(9,b=d.minzoom),"maxzoom"in d&&t(10,_=d.maxzoom),"hoverCursor"in d&&t(11,O=d.hoverCursor),"manageHoverState"in d&&t(12,T=d.manageHoverState),"hovered"in d&&t(0,B=d.hovered),"eventsIfTopMost"in d&&t(13,u=d.eventsIfTopMost),"interactive"in d&&t(14,y=d.interactive),"$$scope"in d&&t(23,i=d.$$scope)},[B,o,a,l,s,f,c,m,g,b,_,O,T,u,y,n,h,p,M,P,k,L,I,i]}class Pv extends be{constructor(e){super(),_e(this,e,Mv,Sv,ge,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function kv(r){let e=r.getCenter(),t=Math.round(r.getZoom()*100)/100,n=Math.ceil((t*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,n),o=Math.round(e.lat*i)/i,a=Math.round(e.lng*i)/i,l=`${t}/${o}/${a}`,s=r.getBearing(),f=r.getPitch();return(s||f)&&(l+=`/${Math.round(s*10)/10}`),f&&(l+=`/${Math.round(f)}`),`#${l}`}function Ev(r){return r.replace("#","").split("/").map(parseFloat)}var jr=lo;function lo(r,e){return r===e||r!==r&&e!==e?!0:typeof r!=typeof e||{}.toString.call(r)!={}.toString.call(e)||r!==Object(r)||!r?!1:Array.isArray(r)?rl(r,e):{}.toString.call(r)=="[object Set]"?rl(Array.from(r),Array.from(e)):{}.toString.call(r)=="[object Object]"?Ov(r,e):Av(r,e)}function Av(r,e){return r.toString()===e.toString()}function rl(r,e){var t=r.length;if(t!=e.length)return!1;for(var n=0;n<t;n++)if(!lo(r[n],e[n]))return!1;return!0}function Ov(r,e){var t=Object.keys(r),n=t.length;if(n!=Object.keys(e).length)return!1;for(var i=0;i<n;i++){var o=t[i];if(!(e.hasOwnProperty(o)&&lo(r[o],e[o])))return!1}return!0}function Lv(r,e,t){let n;const{map:i}=Ar();Le(r,i,c=>t(6,n=c));let{position:o="top-left"}=e,{showCompass:a=!0}=e,{showZoom:l=!0}=e,{visualizePitch:s=!1}=e,f=null;return St(()=>{n!=null&&n.loaded()&&f&&n.removeControl(f)}),r.$$set=c=>{"position"in c&&t(1,o=c.position),"showCompass"in c&&t(2,a=c.showCompass),"showZoom"in c&&t(3,l=c.showZoom),"visualizePitch"in c&&t(4,s=c.visualizePitch)},r.$$.update=()=>{r.$$.dirty&126&&n&&!f&&(t(5,f=new rr.NavigationControl({showCompass:a,showZoom:l,visualizePitch:s})),n.addControl(f,o))},[i,o,a,l,s,f,n]}class Cv extends be{constructor(e){super(),_e(this,e,Lv,null,ge,{position:1,showCompass:2,showZoom:3,visualizePitch:4})}}function Tv(r,e,t){let n;const{map:i}=Ar();Le(r,i,f=>t(5,n=f));let{position:o="bottom-left"}=e,{maxWidth:a=void 0}=e,{unit:l="metric"}=e,s=null;return St(()=>{n!=null&&n.loaded()&&s&&n.removeControl(s)}),r.$$set=f=>{"position"in f&&t(1,o=f.position),"maxWidth"in f&&t(2,a=f.maxWidth),"unit"in f&&t(3,l=f.unit)},r.$$.update=()=>{r.$$.dirty&62&&n&&!s&&(t(4,s=new rr.ScaleControl({maxWidth:a,unit:l})),n.addControl(s,o))},[i,o,a,l,s,n]}class Bv extends be{constructor(e){super(),_e(this,e,Tv,null,ge,{position:1,maxWidth:2,unit:3})}}const Iv=r=>({map:r[0]&8,loadedImages:r[0]&16,allImagesLoaded:r[0]&32}),nl=r=>({map:r[3],loadedImages:r[4],allImagesLoaded:r[5]});function il(r){let e,t,n=r[2]&&ol(r);const i=r[36].default,o=kt(i,r,r[35],nl);return{c(){n&&n.c(),e=J(),o&&o.c()},l(a){n&&n.l(a),e=K(a),o&&o.l(a)},m(a,l){n&&n.m(a,l),N(a,e,l),o&&o.m(a,l),t=!0},p(a,l){a[2]?n?(n.p(a,l),l[0]&4&&D(n,1)):(n=ol(a),n.c(),D(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke()),o&&o.p&&(!t||l[0]&56|l[1]&16)&&Et(o,i,a,a[35],t?Ot(i,a[35],l,Iv):At(a[35]),nl)},i(a){t||(D(n),D(o,a),t=!0)},o(a){z(n),z(o,a),t=!1},d(a){a&&A(e),n&&n.d(a),o&&o.d(a)}}}function ol(r){let e,t,n,i,o,a,l,s;return e=new Cv({props:{position:r[6]}}),n=new _v({props:{position:r[6],fitBoundsOptions:{maxZoom:12}}}),o=new hv({props:{position:r[6]}}),l=new Bv({props:{position:r[6]}}),{c(){X(e.$$.fragment),t=J(),X(n.$$.fragment),i=J(),X(o.$$.fragment),a=J(),X(l.$$.fragment)},l(f){Y(e.$$.fragment,f),t=K(f),Y(n.$$.fragment,f),i=K(f),Y(o.$$.fragment,f),a=K(f),Y(l.$$.fragment,f)},m(f,c){x(e,f,c),N(f,t,c),x(n,f,c),N(f,i,c),x(o,f,c),N(f,a,c),x(l,f,c),s=!0},p(f,c){const m={};c[0]&64&&(m.position=f[6]),e.$set(m);const g={};c[0]&64&&(g.position=f[6]),n.$set(g);const b={};c[0]&64&&(b.position=f[6]),o.$set(b);const _={};c[0]&64&&(_.position=f[6]),l.$set(_)},i(f){s||(D(e.$$.fragment,f),D(n.$$.fragment,f),D(o.$$.fragment,f),D(l.$$.fragment,f),s=!0)},o(f){z(e.$$.fragment,f),z(n.$$.fragment,f),z(o.$$.fragment,f),z(l.$$.fragment,f),s=!1},d(f){f&&(A(t),A(i),A(a)),V(e,f),V(n,f),V(o,f),V(l,f)}}}function Fv(r){let e,t,n,i,o,a=r[3]&&r[0]&&il(r);return{c(){e=ee("div"),a&&a.c(),this.h()},l(l){e=te(l,"DIV",{class:!0});var s=oe(e);a&&a.l(s),s.forEach(A),this.h()},h(){C(e,"class",t=$r(r[1])+" svelte-p00lfq"),st(e,"expand-map",!r[1])},m(l,s){N(l,e,s),a&&a.m(e,null),n=!0,i||(o=Ks(r[9].call(null,e)),i=!0)},p(l,s){l[3]&&l[0]?a?(a.p(l,s),s[0]&9&&D(a,1)):(a=il(l),a.c(),D(a,1),a.m(e,null)):a&&(Je(),z(a,1,1,()=>{a=null}),Ke()),(!n||s[0]&2&&t!==(t=$r(l[1])+" svelte-p00lfq"))&&C(e,"class",t),(!n||s[0]&2)&&st(e,"expand-map",!l[1])},i(l){n||(D(a),n=!0)},o(l){z(a),n=!1},d(l){l&&A(e),a&&a.d(),i=!1,o()}}}function Rv(r,e,t){let n,i,o,a,{$$slots:l={},$$scope:s}=e,{map:f=null}=e,{class:c=void 0}=e,{style:m}=e,{diffStyleUpdates:g=!1}=e,{center:b=void 0}=e,{zoom:_=void 0}=e,{pitch:O=0}=e,{bearing:T=0}=e,{bounds:B=void 0}=e,{hash:u=!1}=e,{loaded:y=!1}=e,{minZoom:h=0}=e,{maxZoom:p=22}=e,{zoomOnDoubleClick:M=!0}=e,{locale:P=void 0}=e,{interactive:k=!0}=e,{attributionControl:L=!0}=e,{cooperativeGestures:I=!1}=e,{preserveDrawingBuffer:d=!1}=e,{maxBounds:S=void 0}=e,{images:U=[]}=e,{standardControls:F=!1}=e,{filterLayers:W=void 0}=e,{transformRequest:j=void 0}=e;const Q=Ci(),{map:se,loadedImages:ye}=Qg();Le(r,se,R=>t(3,o=R)),Le(r,ye,R=>t(4,a=R));let ce=new Set;async function pe(R,H=!1){if(o&&!(!o.loaded()&&!H))if("url"in R){ce.add(R.id);try{let fe=await o.loadImage(R.url);o==null||o.addImage(R.id,fe.data,R.options),a.add(R.id),ye.set(a)}catch(fe){Q("error",fe)}finally{ce.delete(R.id)}}else o.addImage(R.id,R.data,R.options),a.add(R.id),ye.set(a)}let ae,we,qe,Re;function he(R){if(u){let H=Ev(window.location.hash);H.length>=3&&(t(11,_=H[0]),t(10,b=[H[2],H[1]])),H.length==5&&(t(15,T=H[3]),t(14,O=H[4]))}return wt(se,o=new rr.Map(pn({container:R,style:m,locale:P,center:b,zoom:_,pitch:O,bearing:T,minZoom:h,maxZoom:p,interactive:k,preserveDrawingBuffer:d,maxBounds:S,bounds:B,attributionControl:L,transformRequest:j,cooperativeGestures:I})),o),o.on("load",H=>{t(0,y=!0),Q("load",o)}),o.on("error",H=>Q("error",{...H,map:o})),o.on("movestart",H=>Q("movestart",{...H,map:o})),o.on("moveend",H=>{if(t(10,b=H.target.getCenter()),t(11,_=H.target.getZoom()),t(12,B=H.target.getBounds()),Q("moveend",{...H,map:o}),u){let fe=window.location.href.replace(/(#.+)?$/,kv(o));window.history.replaceState(window.history.state,"",fe)}}),o.on("zoomstart",H=>Q("zoomstart",{...H,map:o})),o.on("zoom",H=>{t(11,_=H.target.getZoom()),Q("zoom",{...H,map:o})}),o.on("zoomend",H=>{t(11,_=H.target.getZoom()),Q("zoomend",{...H,map:o})}),o.on("style.load",()=>{if(o){const H=o.getStyle();if(t(32,ae=H.layers.map(fe=>fe.id)),t(33,we=Object.keys(H.sources)),Re)for(const[fe,ze]of Object.entries(Re))o.addSource(fe,ze);if(qe)for(const fe of qe)o.addLayer(fe);for(const fe of U)pe(fe,!0)}}),o.on("styledata",H=>{if(o&&W){const fe=o.getStyle().layers;if(fe)for(let ze of fe)W(ze)||o.setLayoutProperty(ze.id,"visibility","none")}Q("styledata",{...H,map:o})}),{destroy(){t(0,y=!1),o==null||o.remove(),wt(se,o=null,o)}}}let De=m;return r.$$set=R=>{"map"in R&&t(13,f=R.map),"class"in R&&t(1,c=R.class),"style"in R&&t(16,m=R.style),"diffStyleUpdates"in R&&t(17,g=R.diffStyleUpdates),"center"in R&&t(10,b=R.center),"zoom"in R&&t(11,_=R.zoom),"pitch"in R&&t(14,O=R.pitch),"bearing"in R&&t(15,T=R.bearing),"bounds"in R&&t(12,B=R.bounds),"hash"in R&&t(18,u=R.hash),"loaded"in R&&t(0,y=R.loaded),"minZoom"in R&&t(19,h=R.minZoom),"maxZoom"in R&&t(20,p=R.maxZoom),"zoomOnDoubleClick"in R&&t(21,M=R.zoomOnDoubleClick),"locale"in R&&t(22,P=R.locale),"interactive"in R&&t(23,k=R.interactive),"attributionControl"in R&&t(24,L=R.attributionControl),"cooperativeGestures"in R&&t(25,I=R.cooperativeGestures),"preserveDrawingBuffer"in R&&t(26,d=R.preserveDrawingBuffer),"maxBounds"in R&&t(27,S=R.maxBounds),"images"in R&&t(28,U=R.images),"standardControls"in R&&t(2,F=R.standardControls),"filterLayers"in R&&t(29,W=R.filterLayers),"transformRequest"in R&&t(30,j=R.transformRequest),"$$scope"in R&&t(35,s=R.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&4&&t(6,n=typeof F=="boolean"?void 0:F),r.$$.dirty[0]&8&&t(13,f=o),r.$$.dirty[0]&196616|r.$$.dirty[1]&14&&o&&!jr(m,De)){const R=o.getStyle();if(ae&&(qe=R.layers.filter(H=>!ae.includes(H.id))),we){const H=Object.keys(R.sources).filter(fe=>!we.includes(fe));Re={};for(const fe of H)Re[fe]=R.sources[fe]}t(34,De=m),o.setStyle(m,{diff:g}),wt(ye,a=new Set,a),t(31,ce=new Set)}if(r.$$.dirty[0]&268435481|r.$$.dirty[1]&1&&y&&o!=null&&o.loaded())for(let R of U)!a.has(R.id)&&!ce.has(R.id)&&!o.hasImage(R.id)&&pe(R);r.$$.dirty[0]&268435472&&t(5,i=U.every(R=>a.has(R.id))),r.$$.dirty[0]&1032&&b&&!jr(b,o==null?void 0:o.getCenter())&&(o==null||o.panTo(b)),r.$$.dirty[0]&2056&&_&&!jr(_,o==null?void 0:o.getZoom())&&(o==null||o.zoomTo(_)),r.$$.dirty[0]&4104&&B&&!jr(B,o==null?void 0:o.getBounds())&&(o==null||o.fitBounds(B)),r.$$.dirty[0]&2097160&&(M?o==null||o.doubleClickZoom.enable():o==null||o.doubleClickZoom.disable())},[y,c,F,o,a,i,n,se,ye,he,b,_,B,f,O,T,m,g,u,h,p,M,P,k,L,I,d,S,U,W,j,ce,ae,we,De,s,l]}class Dv extends be{constructor(e){super(),_e(this,e,Rv,Fv,ge,{map:13,class:1,style:16,diffStyleUpdates:17,center:10,zoom:11,pitch:14,bearing:15,bounds:12,hash:18,loaded:0,minZoom:19,maxZoom:20,zoomOnDoubleClick:21,locale:22,interactive:23,attributionControl:24,cooperativeGestures:25,preserveDrawingBuffer:26,maxBounds:27,images:28,standardControls:2,filterLayers:29,transformRequest:30},null,[-1,-1])}}var Or=Uint8Array,Gs=Uint16Array,zv=Int32Array,Nv=new Or([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Uv=new Or([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),js=function(r,e){for(var t=new Gs(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new zv(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)i[o]=o-t[n]<<5|n;return{b:t,r:i}},qs=js(Nv,2),Wv=qs.b,Gv=qs.r;Wv[28]=258,Gv[258]=28;js(Uv,0);var jv=new Gs(32768);for(le=0;le<32768;++le)gt=(le&43690)>>1|(le&21845)<<1,gt=(gt&52428)>>2|(gt&13107)<<2,gt=(gt&61680)>>4|(gt&3855)<<4,jv[le]=((gt&65280)>>8|(gt&255)<<8)>>1;var gt,le,En=new Or(288);for(le=0;le<144;++le)En[le]=8;var le;for(le=144;le<256;++le)En[le]=9;var le;for(le=256;le<280;++le)En[le]=7;var le;for(le=280;le<288;++le)En[le]=8;var le,qv=new Or(32);for(le=0;le<32;++le)qv[le]=5;var le,Hv=new Or(0),Zv=typeof TextDecoder<"u"&&new TextDecoder,Xv=0;try{Zv.decode(Hv,{stream:!0}),Xv=1}catch{}function Yv(r){let e,t,n,i,o,a;return e=new Us({props:{id:"edit-polygon-fill",filter:Zg,paint:{"fill-color":"red","fill-opacity":["case",["boolean",["get","hover"],"false"],1,.5]}}}),n=new Pv({props:{id:"edit-polygon-lines",filter:Xg,paint:{"line-color":"black","line-width":8,"line-opacity":.5}}}),o=new fv({props:{id:"edit-polygon-vertices",filter:Yg,paint:{"circle-color":"black","circle-opacity":["case",["has","hovered"],1,.5],"circle-radius":10}}}),{c(){X(e.$$.fragment),t=J(),X(n.$$.fragment),i=J(),X(o.$$.fragment)},l(l){Y(e.$$.fragment,l),t=K(l),Y(n.$$.fragment,l),i=K(l),Y(o.$$.fragment,l)},m(l,s){x(e,l,s),N(l,t,s),x(n,l,s),N(l,i,s),x(o,l,s),a=!0},p:me,i(l){a||(D(e.$$.fragment,l),D(n.$$.fragment,l),D(o.$$.fragment,l),a=!0)},o(l){z(e.$$.fragment,l),z(n.$$.fragment,l),z(o.$$.fragment,l),a=!1},d(l){l&&(A(t),A(i)),V(e,l),V(n,l),V(o,l)}}}function xv(r){let e,t;return e=new Ws({props:{data:r[0],$$slots:{default:[Yv]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const o={};i&1&&(o.data=n[0]),i&2&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Vv(r,e,t){let n;return Le(r,Ds,i=>t(0,n=i)),[n]}class Jv extends be{constructor(e){super(),_e(this,e,Vv,xv,ge,{})}}function Kv(r){let e,t="Map loading...";return{c(){e=ee("p"),e.textContent=t},l(n){e=te(n,"P",{"data-svelte-h":!0}),Qr(e)!=="svelte-1r8199k"&&(e.textContent=t)},m(n,i){N(n,e,i)},p:me,i:me,o:me,d(n){n&&A(e)}}}function Qv(r){let e,t,n,i;e=new yf({props:{$$slots:{default:[ed]},$$scope:{ctx:r}}}),e.$on("click",r[5]);let o=r[0].summary.polygon&&al(r);return{c(){X(e.$$.fragment),t=J(),o&&o.c(),n=Ge()},l(a){Y(e.$$.fragment,a),t=K(a),o&&o.l(a),n=Ge()},m(a,l){x(e,a,l),N(a,t,l),o&&o.m(a,l),N(a,n,l),i=!0},p(a,l){const s={};l&4096&&(s.$$scope={dirty:l,ctx:a}),e.$set(s),a[0].summary.polygon?o?(o.p(a,l),l&1&&D(o,1)):(o=al(a),o.c(),D(o,1),o.m(n.parentNode,n)):o&&(Je(),z(o,1,1,()=>{o=null}),Ke())},i(a){i||(D(e.$$.fragment,a),D(o),i=!0)},o(a){z(e.$$.fragment,a),z(o),i=!1},d(a){a&&(A(t),A(n)),V(e,a),o&&o.d(a)}}}function $v(r){let e,t,n,i,o,a,l;return t=new Fn({props:{$$slots:{default:[rd]},$$scope:{ctx:r}}}),t.$on("click",r[7]),i=new Fn({props:{$$slots:{default:[nd]},$$scope:{ctx:r}}}),i.$on("click",r[8]),a=new Fn({props:{disabled:r[4]==0,$$slots:{default:[ad]},$$scope:{ctx:r}}}),a.$on("click",r[9]),{c(){e=ee("div"),X(t.$$.fragment),n=J(),X(i.$$.fragment),o=J(),X(a.$$.fragment),this.h()},l(s){e=te(s,"DIV",{style:!0});var f=oe(e);Y(t.$$.fragment,f),n=K(f),Y(i.$$.fragment,f),o=K(f),Y(a.$$.fragment,f),f.forEach(A),this.h()},h(){dt(e,"display","flex"),dt(e,"justify-content","space-between")},m(s,f){N(s,e,f),x(t,e,null),$(e,n),x(i,e,null),$(e,o),x(a,e,null),l=!0},p(s,f){const c={};f&4096&&(c.$$scope={dirty:f,ctx:s}),t.$set(c);const m={};f&4096&&(m.$$scope={dirty:f,ctx:s}),i.$set(m);const g={};f&16&&(g.disabled=s[4]==0),f&4112&&(g.$$scope={dirty:f,ctx:s}),a.$set(g)},i(s){l||(D(t.$$.fragment,s),D(i.$$.fragment,s),D(a.$$.fragment,s),l=!0)},o(s){z(t.$$.fragment,s),z(i.$$.fragment,s),z(a.$$.fragment,s),l=!1},d(s){s&&A(e),V(t),V(i),V(a)}}}function ed(r){let e;return{c(){e=Be("Edit polygon")},l(t){e=Ie(t,"Edit polygon")},m(t,n){N(t,e,n)},d(t){t&&A(e)}}}function al(r){let e,t,n,i,o=Ha(r[0].summary.polygon).toFixed(1)+"",a,l,s;return e=new of({props:{$$slots:{default:[td]},$$scope:{ctx:r}}}),e.$on("click",r[6]),{c(){X(e.$$.fragment),t=J(),n=ee("p"),i=Be("Polygon area: "),a=Be(o),l=Be(" square meters")},l(f){Y(e.$$.fragment,f),t=K(f),n=te(f,"P",{});var c=oe(n);i=Ie(c,"Polygon area: "),a=Ie(c,o),l=Ie(c," square meters"),c.forEach(A)},m(f,c){x(e,f,c),N(f,t,c),N(f,n,c),$(n,i),$(n,a),$(n,l),s=!0},p(f,c){const m={};c&4096&&(m.$$scope={dirty:c,ctx:f}),e.$set(m),(!s||c&1)&&o!==(o=Ha(f[0].summary.polygon).toFixed(1)+"")&&Dt(a,o)},i(f){s||(D(e.$$.fragment,f),s=!0)},o(f){z(e.$$.fragment,f),s=!1},d(f){f&&(A(t),A(n)),V(e,f)}}}function td(r){let e;return{c(){e=Be("Delete and start over")},l(t){e=Ie(t,"Delete and start over")},m(t,n){N(t,e,n)},d(t){t&&A(e)}}}function rd(r){let e;return{c(){e=Be("Finish")},l(t){e=Ie(t,"Finish")},m(t,n){N(t,e,n)},d(t){t&&A(e)}}}function nd(r){let e;return{c(){e=Be("Cancel")},l(t){e=Ie(t,"Cancel")},m(t,n){N(t,e,n)},d(t){t&&A(e)}}}function id(r){let e,t,n;return{c(){e=Be("Undo ("),t=Be(r[4]),n=Be(")")},l(i){e=Ie(i,"Undo ("),t=Ie(i,r[4]),n=Ie(i,")")},m(i,o){N(i,e,o),N(i,t,o),N(i,n,o)},p(i,o){o&16&&Dt(t,i[4])},d(i){i&&(A(e),A(t),A(n))}}}function od(r){let e;return{c(){e=Be("Undo")},l(t){e=Ie(t,"Undo")},m(t,n){N(t,e,n)},p:me,d(t){t&&A(e)}}}function ad(r){let e;function t(o,a){return o[4]==0?od:id}let n=t(r),i=n(r);return{c(){i.c(),e=Ge()},l(o){i.l(o),e=Ge()},m(o,a){i.m(o,a),N(o,e,a)},p(o,a){n===(n=t(o))&&i?i.p(o,a):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){o&&A(e),i.d(o)}}}function ld(r){let e,t;return e=new Us({props:{layout:{visibility:r[2]?"none":"visible"},paint:{"fill-color":"red","fill-opacity":.8}}}),{c(){X(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const o={};i&4&&(o.layout={visibility:n[2]?"none":"visible"}),e.$set(o)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function sd(r){let e,t,n,i,o,a;return e=new Hf({props:{map:r[1]}}),n=new Jv({}),o=new Ws({props:{data:r[3],$$slots:{default:[ld]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment),t=J(),X(n.$$.fragment),i=J(),X(o.$$.fragment)},l(l){Y(e.$$.fragment,l),t=K(l),Y(n.$$.fragment,l),i=K(l),Y(o.$$.fragment,l)},m(l,s){x(e,l,s),N(l,t,s),x(n,l,s),N(l,i,s),x(o,l,s),a=!0},p(l,s){const f={};s&2&&(f.map=l[1]),e.$set(f);const c={};s&8&&(c.data=l[3]),s&4100&&(c.$$scope={dirty:s,ctx:l}),o.$set(c)},i(l){a||(D(e.$$.fragment,l),D(n.$$.fragment,l),D(o.$$.fragment,l),a=!0)},o(l){z(e.$$.fragment,l),z(n.$$.fragment,l),z(o.$$.fragment,l),a=!1},d(l){l&&(A(t),A(i)),V(e,l),V(n,l),V(o,l)}}}function fd(r){let e,t,n,i,o,a,l;const s=[$v,Qv,Kv],f=[];function c(b,_){return b[2]?0:b[1]?1:2}e=c(r),t=f[e]=s[e](r);function m(b){r[10](b)}let g={style:"https://api.maptiler.com/maps/uk-openzoomstack-light/style.json?key=MZEJTanw3WpxRvt7qDfo",standardControls:!0,$$slots:{default:[sd,({map:b})=>({1:b}),({map:b})=>b?2:0]},$$scope:{ctx:r}};return r[1]!==void 0&&(g.map=r[1]),o=new Dv({props:g}),Me.push(()=>Ae(o,"map",m)),o.$on("error",r[11]),{c(){t.c(),n=J(),i=ee("div"),X(o.$$.fragment),this.h()},l(b){t.l(b),n=K(b),i=te(b,"DIV",{style:!0});var _=oe(i);Y(o.$$.fragment,_),_.forEach(A),this.h()},h(){dt(i,"position","relative"),dt(i,"width","100%"),dt(i,"height","300px")},m(b,_){f[e].m(b,_),N(b,n,_),N(b,i,_),x(o,i,null),l=!0},p(b,[_]){let O=e;e=c(b),e===O?f[e].p(b,_):(Je(),z(f[O],1,1,()=>{f[O]=null}),Ke(),t=f[e],t?t.p(b,_):(t=f[e]=s[e](b),t.c()),D(t,1),t.m(n.parentNode,n));const T={};_&4110&&(T.$$scope={dirty:_,ctx:b}),!a&&_&2&&(a=!0,T.map=b[1],Ee(()=>a=!1)),o.$set(T)},i(b){l||(D(t),D(o.$$.fragment,b),l=!0)},o(b){z(t),z(o.$$.fragment,b),l=!1},d(b){b&&(A(n),A(i)),f[e].d(b),V(o)}}}function ud(r,e,t){let n,i,o;Le(r,ke,O=>t(0,i=O)),Le(r,zs,O=>t(4,o=O));let a=null,l=null;St(()=>{l==null||l.tearDown()});function s(){a&&(t(2,l=new Vg(a)),i.summary.polygon?l.editExisting(i.summary.polygon):l.startNew(),l.addEventListenerSuccess(async O=>{t(2,l=null),wt(ke,i.summary.polygon=O,i)}),l.addEventListenerFailure(()=>{t(2,l=null)}))}function f(){wt(ke,i.summary.polygon=null,i),s()}const c=()=>l==null?void 0:l.finish(),m=()=>l==null?void 0:l.cancel(),g=()=>l==null?void 0:l.undo();function b(O){a=O,t(1,a)}const _=O=>{console.log(O.detail.error)};return r.$$.update=()=>{r.$$.dirty&1&&t(3,n=i.summary.polygon??{type:"FeatureCollection",features:[]}),r.$$.dirty&2&&a&&s()},[i,a,l,n,o,s,f,c,m,g,b,_]}class cd extends be{constructor(e){super(),_e(this,e,ud,fd,ge,{})}}function md(r){let e,t,n,i,o,a,l,s,f,c,m,g,b,_,O,T,B,u,y,h,p,M,P,k,L,I,d,S,U,F,W,j,Q,se,ye,ce,pe,ae,we,qe,Re,he,De,R,H,fe="Network context",ze,Ce,E=`Please add a drawing of the area being assessed below, including the location
  of measures proposed by the scheme.`,Z,G,Te;e=new rf({props:{links:[["Tools","/"],["Area check tool","/area_check"]],current:"Summary of Scheme"}});function ve(v){r[1](v)}let re={label:"Date of design review"};r[0].summary.dateDesignReview!==void 0&&(re.value=r[0].summary.dateDesignReview),n=new ur({props:re}),Me.push(()=>Ae(n,"value",ve));function He(v){r[2](v)}let Tt={label:"Scheme reference"};r[0].summary.schemeReference!==void 0&&(Tt.value=r[0].summary.schemeReference),a=new ur({props:Tt}),Me.push(()=>Ae(a,"value",He));function mt(v){r[3](v)}let yt={label:"Scheme name"};r[0].summary.schemeName!==void 0&&(yt.value=r[0].summary.schemeName),f=new ur({props:yt}),Me.push(()=>Ae(f,"value",mt));function Wt(v){r[4](v)}let Gt={label:"Scheme summary"};r[0].summary.schemeSummary!==void 0&&(Gt.value=r[0].summary.schemeSummary),g=new Nr({props:Gt}),Me.push(()=>Ae(g,"value",Wt));function An(v){r[5](v)}let rt={label:"Scheme information reviewed"};r[0].summary.schemeInfoReviewed!==void 0&&(rt.value=r[0].summary.schemeInfoReviewed),O=new Nr({props:rt}),Me.push(()=>Ae(O,"value",An));function Lr(v){r[6](v)}let jt={label:"Authority",emptyOption:!0,choices:sr(af)};r[0].summary.authority!==void 0&&(jt.value=r[0].summary.authority),u=new fr({props:jt}),Me.push(()=>Ae(u,"value",Lr));function ar(v){r[7](v)}let Cr={label:"Transport / Combined Authority",emptyOption:!0,choices:sr(lf)};r[0].summary.transportOrCombinedAuthority!==void 0&&(Cr.value=r[0].summary.transportOrCombinedAuthority),p=new fr({props:Cr}),Me.push(()=>Ae(p,"value",ar));function On(v){r[8](v)}let Tr={label:"Region",emptyOption:!0,choices:sr(sf)};r[0].summary.region!==void 0&&(Tr.value=r[0].summary.region),k=new fr({props:Tr}),Me.push(()=>Ae(k,"value",On));function lr(v){r[9](v)}let qt={label:"Funding programme",emptyOption:!0,choices:sr(ff)};r[0].summary.fundingProgramme!==void 0&&(qt.value=r[0].summary.fundingProgramme),d=new fr({props:qt}),Me.push(()=>Ae(d,"value",lr));function Ln(v){r[10](v)}let Br={label:"Design stage",emptyOption:!0,choices:sr(uf)};r[0].summary.designStage!==void 0&&(Br.value=r[0].summary.designStage),F=new fr({props:Br}),Me.push(()=>Ae(F,"value",Ln));function Cn(v){r[11](v)}let Ir={label:"Funding conditions"};r[0].summary.fundingConditions!==void 0&&(Ir.value=r[0].summary.fundingConditions),Q=new Nr({props:Ir}),Me.push(()=>Ae(Q,"value",Cn));function Tn(v){r[12](v)}let Fr={label:"Inspector email address"};r[0].summary.inspectorEmail!==void 0&&(Fr.value=r[0].summary.inspectorEmail),ce=new ur({props:Fr}),Me.push(()=>Ae(ce,"value",Tn));function Bn(v){r[13](v)}let Rr={label:"Scheme area size (km²)"};r[0].summary.schemeAreaSizeKm2!==void 0&&(Rr.value=r[0].summary.schemeAreaSizeKm2),we=new ur({props:Rr}),Me.push(()=>Ae(we,"value",Bn));function In(v){r[14](v)}let Dr={label:"Notes"};return r[0].summary.notes!==void 0&&(Dr.value=r[0].summary.notes),he=new Nr({props:Dr}),Me.push(()=>Ae(he,"value",In)),G=new cd({}),{c(){X(e.$$.fragment),t=J(),X(n.$$.fragment),o=J(),X(a.$$.fragment),s=J(),X(f.$$.fragment),m=J(),X(g.$$.fragment),_=J(),X(O.$$.fragment),B=J(),X(u.$$.fragment),h=J(),X(p.$$.fragment),P=J(),X(k.$$.fragment),I=J(),X(d.$$.fragment),U=J(),X(F.$$.fragment),j=J(),X(Q.$$.fragment),ye=J(),X(ce.$$.fragment),ae=J(),X(we.$$.fragment),Re=J(),X(he.$$.fragment),R=J(),H=ee("h2"),H.textContent=fe,ze=J(),Ce=ee("p"),Ce.textContent=E,Z=J(),X(G.$$.fragment)},l(v){Y(e.$$.fragment,v),t=K(v),Y(n.$$.fragment,v),o=K(v),Y(a.$$.fragment,v),s=K(v),Y(f.$$.fragment,v),m=K(v),Y(g.$$.fragment,v),_=K(v),Y(O.$$.fragment,v),B=K(v),Y(u.$$.fragment,v),h=K(v),Y(p.$$.fragment,v),P=K(v),Y(k.$$.fragment,v),I=K(v),Y(d.$$.fragment,v),U=K(v),Y(F.$$.fragment,v),j=K(v),Y(Q.$$.fragment,v),ye=K(v),Y(ce.$$.fragment,v),ae=K(v),Y(we.$$.fragment,v),Re=K(v),Y(he.$$.fragment,v),R=K(v),H=te(v,"H2",{"data-svelte-h":!0}),Qr(H)!=="svelte-1tcb68x"&&(H.textContent=fe),ze=K(v),Ce=te(v,"P",{"data-svelte-h":!0}),Qr(Ce)!=="svelte-1unchfe"&&(Ce.textContent=E),Z=K(v),Y(G.$$.fragment,v)},m(v,q){x(e,v,q),N(v,t,q),x(n,v,q),N(v,o,q),x(a,v,q),N(v,s,q),x(f,v,q),N(v,m,q),x(g,v,q),N(v,_,q),x(O,v,q),N(v,B,q),x(u,v,q),N(v,h,q),x(p,v,q),N(v,P,q),x(k,v,q),N(v,I,q),x(d,v,q),N(v,U,q),x(F,v,q),N(v,j,q),x(Q,v,q),N(v,ye,q),x(ce,v,q),N(v,ae,q),x(we,v,q),N(v,Re,q),x(he,v,q),N(v,R,q),N(v,H,q),N(v,ze,q),N(v,Ce,q),N(v,Z,q),x(G,v,q),Te=!0},p(v,[q]){const zr={};!i&&q&1&&(i=!0,zr.value=v[0].summary.dateDesignReview,Ee(()=>i=!1)),n.$set(zr);const w={};!l&&q&1&&(l=!0,w.value=v[0].summary.schemeReference,Ee(()=>l=!1)),a.$set(w);const de={};!c&&q&1&&(c=!0,de.value=v[0].summary.schemeName,Ee(()=>c=!1)),f.$set(de);const xe={};!b&&q&1&&(b=!0,xe.value=v[0].summary.schemeSummary,Ee(()=>b=!1)),g.$set(xe);const Ve={};!T&&q&1&&(T=!0,Ve.value=v[0].summary.schemeInfoReviewed,Ee(()=>T=!1)),O.$set(Ve);const ne={};!y&&q&1&&(y=!0,ne.value=v[0].summary.authority,Ee(()=>y=!1)),u.$set(ne);const Ze={};!M&&q&1&&(M=!0,Ze.value=v[0].summary.transportOrCombinedAuthority,Ee(()=>M=!1)),p.$set(Ze);const Bt={};!L&&q&1&&(L=!0,Bt.value=v[0].summary.region,Ee(()=>L=!1)),k.$set(Bt);const Ht={};!S&&q&1&&(S=!0,Ht.value=v[0].summary.fundingProgramme,Ee(()=>S=!1)),d.$set(Ht);const Zt={};!W&&q&1&&(W=!0,Zt.value=v[0].summary.designStage,Ee(()=>W=!1)),F.$set(Zt);const It={};!se&&q&1&&(se=!0,It.value=v[0].summary.fundingConditions,Ee(()=>se=!1)),Q.$set(It);const so={};!pe&&q&1&&(pe=!0,so.value=v[0].summary.inspectorEmail,Ee(()=>pe=!1)),ce.$set(so);const fo={};!qe&&q&1&&(qe=!0,fo.value=v[0].summary.schemeAreaSizeKm2,Ee(()=>qe=!1)),we.$set(fo);const uo={};!De&&q&1&&(De=!0,uo.value=v[0].summary.notes,Ee(()=>De=!1)),he.$set(uo)},i(v){Te||(D(e.$$.fragment,v),D(n.$$.fragment,v),D(a.$$.fragment,v),D(f.$$.fragment,v),D(g.$$.fragment,v),D(O.$$.fragment,v),D(u.$$.fragment,v),D(p.$$.fragment,v),D(k.$$.fragment,v),D(d.$$.fragment,v),D(F.$$.fragment,v),D(Q.$$.fragment,v),D(ce.$$.fragment,v),D(we.$$.fragment,v),D(he.$$.fragment,v),D(G.$$.fragment,v),Te=!0)},o(v){z(e.$$.fragment,v),z(n.$$.fragment,v),z(a.$$.fragment,v),z(f.$$.fragment,v),z(g.$$.fragment,v),z(O.$$.fragment,v),z(u.$$.fragment,v),z(p.$$.fragment,v),z(k.$$.fragment,v),z(d.$$.fragment,v),z(F.$$.fragment,v),z(Q.$$.fragment,v),z(ce.$$.fragment,v),z(we.$$.fragment,v),z(he.$$.fragment,v),z(G.$$.fragment,v),Te=!1},d(v){v&&(A(t),A(o),A(s),A(m),A(_),A(B),A(h),A(P),A(I),A(U),A(j),A(ye),A(ae),A(Re),A(R),A(H),A(ze),A(Ce),A(Z)),V(e,v),V(n,v),V(a,v),V(f,v),V(g,v),V(O,v),V(u,v),V(p,v),V(k,v),V(d,v),V(F,v),V(Q,v),V(ce,v),V(we,v),V(he,v),V(G,v)}}}function yd(r,e,t){let n;Le(r,ke,u=>t(0,n=u));function i(u){r.$$.not_equal(n.summary.dateDesignReview,u)&&(n.summary.dateDesignReview=u,ke.set(n))}function o(u){r.$$.not_equal(n.summary.schemeReference,u)&&(n.summary.schemeReference=u,ke.set(n))}function a(u){r.$$.not_equal(n.summary.schemeName,u)&&(n.summary.schemeName=u,ke.set(n))}function l(u){r.$$.not_equal(n.summary.schemeSummary,u)&&(n.summary.schemeSummary=u,ke.set(n))}function s(u){r.$$.not_equal(n.summary.schemeInfoReviewed,u)&&(n.summary.schemeInfoReviewed=u,ke.set(n))}function f(u){r.$$.not_equal(n.summary.authority,u)&&(n.summary.authority=u,ke.set(n))}function c(u){r.$$.not_equal(n.summary.transportOrCombinedAuthority,u)&&(n.summary.transportOrCombinedAuthority=u,ke.set(n))}function m(u){r.$$.not_equal(n.summary.region,u)&&(n.summary.region=u,ke.set(n))}function g(u){r.$$.not_equal(n.summary.fundingProgramme,u)&&(n.summary.fundingProgramme=u,ke.set(n))}function b(u){r.$$.not_equal(n.summary.designStage,u)&&(n.summary.designStage=u,ke.set(n))}function _(u){r.$$.not_equal(n.summary.fundingConditions,u)&&(n.summary.fundingConditions=u,ke.set(n))}function O(u){r.$$.not_equal(n.summary.inspectorEmail,u)&&(n.summary.inspectorEmail=u,ke.set(n))}function T(u){r.$$.not_equal(n.summary.schemeAreaSizeKm2,u)&&(n.summary.schemeAreaSizeKm2=u,ke.set(n))}function B(u){r.$$.not_equal(n.summary.notes,u)&&(n.summary.notes=u,ke.set(n))}return[n,i,o,a,l,s,f,c,m,g,b,_,O,T,B]}class Cd extends be{constructor(e){super(),_e(this,e,yd,md,ge,{})}}export{Cd as component};
