var js=Object.defineProperty;var qs=(r,e,t)=>e in r?js(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ke=(r,e,t)=>(qs(r,typeof e!="symbol"?e+"":e,t),t);import{s as he,q as kt,B as ni,e as ee,c as te,b as le,f as O,C as fo,i as N,A as De,u as Et,r as At,v as Ot,D as uo,E as Se,O as bt,P as _t,o as C,h as Q,n as me,a as J,t as Te,g as K,d as Be,a6 as st,j as Dt,H as Li,a7 as ze,l as $r,K as dt,a8 as en,z as co,a9 as Hs,a4 as Ci,aa as St,w as Pe,y as Ne,R as Zs,ab as ol,ac as Xs,k as Ce,p as wt,x as Ae,T as Ys,J as xs,ad as Vs}from"../chunks/scheduler.BKca8jgz.js";import{S as pe,i as be,t as D,b as z,c as X,a as Y,m as x,g as Je,f as Ke,d as V,e as Oe}from"../chunks/index.CFqagxlr.js";import{p as sr}from"../chunks/index.CxULBEk3.js";import{S as fr}from"../chunks/Select.CHtYgaRx.js";import{T as Ur}from"../chunks/TextArea.BfFYyba3.js";import{T as ur}from"../chunks/TextInput.8KqWp6jK.js";import{s as Ee}from"../chunks/data.BMleuzla.js";import{c as Js,e as mo,u as Ks,o as Qs,h as $s,m as rr,g as Ti,a as _n,b as al}from"../chunks/Geocoder.svelte_svelte_type_style_lang.CLPLPTv_.js";import{g as ef}from"../chunks/spread.CN4WR7uZ.js";import{S as Fn}from"../chunks/SecondaryButton.4UiulqFF.js";import{W as tf}from"../chunks/WarningButton.Bz3oz85x.js";import{w as it,r as Rn}from"../chunks/index.Bu9K1ziK.js";import"../chunks/paths.BFVtoaKV.js";import{a as rf,t as nf,r as of,f as af,d as lf}from"../chunks/lists.Ci0sBo6t.js";function sf(r){let e,t,n,i;const o=r[2].default,a=kt(o,r,r[1],null);let l=[{type:"button"},{class:"govuk-button"},{"data-module":"govuk-button"},r[0]],s={};for(let f=0;f<l.length;f+=1)s=ni(s,l[f]);return{c(){e=ee("button"),a&&a.c(),this.h()},l(f){e=te(f,"BUTTON",{type:!0,class:!0,"data-module":!0});var c=le(e);a&&a.l(c),c.forEach(O),this.h()},h(){fo(e,s)},m(f,c){N(f,e,c),a&&a.m(e,null),e.autofocus&&e.focus(),t=!0,n||(i=De(e,"click",r[3]),n=!0)},p(f,[c]){a&&a.p&&(!t||c&2)&&Et(a,o,f,f[1],t?Ot(o,f[1],c,null):At(f[1]),null),fo(e,s=ef(l,[{type:"button"},{class:"govuk-button"},{"data-module":"govuk-button"},c&1&&f[0]]))},i(f){t||(D(a,f),t=!0)},o(f){z(a,f),t=!1},d(f){f&&O(e),a&&a.d(f),n=!1,i()}}}function ff(r,e,t){let{$$slots:n={},$$scope:i}=e;function o(a){Se.call(this,r,a)}return r.$$set=a=>{t(0,e=ni(ni({},e),uo(a))),"$$scope"in a&&t(1,i=a.$$scope)},e=uo(e),[e,i,n,o]}class uf extends pe{constructor(e){super(),be(this,e,ff,sf,he,{})}}function cf(r){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(n){e=_t(n,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var i=le(e);t=_t(i,"path",{d:!0}),le(t).forEach(O),i.forEach(O),this.h()},h(){C(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),C(e,"viewBox","0 0 14 14"),C(e,"width","13"),C(e,"height","13"),C(e,"class","svelte-en2qvf")},m(n,i){N(n,e,i),Q(e,t)},p:me,i:me,o:me,d(n){n&&O(e)}}}class ll extends pe{constructor(e){super(),be(this,e,null,cf,he,{})}}function mf(r){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(n){e=_t(n,"svg",{viewBox:!0,fill:!0,xmlns:!0,class:!0});var i=le(e);t=_t(i,"path",{d:!0}),le(t).forEach(O),i.forEach(O),this.h()},h(){C(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),C(e,"viewBox","0 0 30 30"),C(e,"fill","none"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"class","svelte-d2loi5")},m(n,i){N(n,e,i),Q(e,t)},p:me,i:me,o:me,d(n){n&&O(e)}}}class sl extends pe{constructor(e){super(),be(this,e,null,mf,he,{})}}function yf(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ze(e.src,t=r[3]+"area.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!ze(e.src,t=n[3]+"area.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&O(e)}}}function hf(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ze(e.src,t=r[3]+"reverse.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!ze(e.src,t=n[3]+"reverse.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&O(e)}}}function gf(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ze(e.src,t=r[3]+"poi.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!ze(e.src,t=n[3]+"poi.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&O(e)}}}function vf(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ze(e.src,t=r[3]+"postal_code.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!ze(e.src,t=n[3]+"postal_code.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&O(e)}}}function df(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ze(e.src,t=r[3]+"street.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!ze(e.src,t=n[3]+"street.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&O(e)}}}function pf(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ze(e.src,t=r[3]+"road.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!ze(e.src,t=n[3]+"road.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&O(e)}}}function bf(r){let e,t;return{c(){e=ee("img"),this.h()},l(n){e=te(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ze(e.src,t=r[3]+"housenumber.svg")||C(e,"src",t),C(e,"alt",r[6]),C(e,"class","svelte-ltkwvy")},m(n,i){N(n,e,i)},p(n,i){i&8&&!ze(e.src,t=n[3]+"housenumber.svg")&&C(e,"src",t),i&64&&C(e,"alt",n[6])},d(n){n&&O(e)}}}function _f(r){let e,t,n,i;return{c(){e=ee("img"),this.h()},l(o){e=te(o,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ze(e.src,t=r[5])||C(e,"src",t),C(e,"alt",r[4]),C(e,"class","svelte-ltkwvy")},m(o,a){N(o,e,a),n||(i=De(e,"error",r[14]),n=!0)},p(o,a){a&32&&!ze(e.src,t=o[5])&&C(e,"src",t),a&16&&C(e,"alt",o[4])},d(o){o&&O(e),n=!1,i()}}}function yo(r){let e,t;return{c(){e=ee("span"),t=Te(r[6]),this.h()},l(n){e=te(n,"SPAN",{class:!0});var i=le(e);t=Be(i,r[6]),i.forEach(O),this.h()},h(){C(e,"class","secondary svelte-ltkwvy")},m(n,i){N(n,e,i),Q(e,t)},p(n,i){i&64&&Dt(t,n[6])},d(n){n&&O(e)}}}function wf(r){var k,A;let e,t,n,i,o,a,l,s,f=(r[7]?r[0].place_name:r[0].place_name.replace(/,.*/,""))+"",c,m,g=r[2]==="always"||r[2]&&!r[0].address&&((k=r[0].properties)==null?void 0:k.kind)!=="road"&&((A=r[0].properties)==null?void 0:A.kind)!=="road_relation"&&!r[0].id.startsWith("address.")&&!r[0].id.startsWith("postal_code.")&&(!r[0].id.startsWith("poi.")||!r[5])&&!r[7],v,_,T=(r[7]?"":r[0].place_name.replace(/[^,]*,?\s*/,""))+"",L,B,u;function y(E,I){var p,w;return I&1&&(t=null),I&1&&(n=null),I&1&&(i=null),E[5]?_f:E[0].address?bf:((p=E[0].properties)==null?void 0:p.kind)==="road"||((w=E[0].properties)==null?void 0:w.kind)==="road_relation"?pf:(t==null&&(t=!!E[0].id.startsWith("address.")),t?df:(n==null&&(n=!!E[0].id.startsWith("postal_code.")),n?vf:(i==null&&(i=!!E[0].id.startsWith("poi.")),i?gf:E[7]?hf:yf)))}let h=y(r,-1),b=h(r),M=g&&yo(r);return{c(){e=ee("li"),b.c(),o=J(),a=ee("span"),l=ee("span"),s=ee("span"),c=Te(f),m=J(),M&&M.c(),v=J(),_=ee("span"),L=Te(T),this.h()},l(E){e=te(E,"LI",{tabindex:!0,"data-selected":!0,class:!0});var I=le(e);b.l(I),o=K(I),a=te(I,"SPAN",{class:!0});var p=le(a);l=te(p,"SPAN",{class:!0});var w=le(l);s=te(w,"SPAN",{class:!0});var U=le(s);c=Be(U,f),U.forEach(O),m=K(w),M&&M.l(w),w.forEach(O),v=K(p),_=te(p,"SPAN",{class:!0});var F=le(_);L=Be(F,T),F.forEach(O),p.forEach(O),I.forEach(O),this.h()},h(){C(s,"class","primary svelte-ltkwvy"),C(l,"class","svelte-ltkwvy"),C(_,"class","line2 svelte-ltkwvy"),C(a,"class","texts svelte-ltkwvy"),C(e,"tabindex","0"),C(e,"data-selected",r[1]),C(e,"class","svelte-ltkwvy"),st(e,"selected",r[1])},m(E,I){N(E,e,I),b.m(e,null),Q(e,o),Q(e,a),Q(a,l),Q(l,s),Q(s,c),Q(l,m),M&&M.m(l,null),Q(a,v),Q(a,_),Q(_,L),B||(u=[De(e,"mouseenter",r[12]),De(e,"focus",r[13])],B=!0)},p(E,[I]){var p,w;h===(h=y(E,I))&&b?b.p(E,I):(b.d(1),b=h(E),b&&(b.c(),b.m(e,o))),I&1&&f!==(f=(E[7]?E[0].place_name:E[0].place_name.replace(/,.*/,""))+"")&&Dt(c,f),I&37&&(g=E[2]==="always"||E[2]&&!E[0].address&&((p=E[0].properties)==null?void 0:p.kind)!=="road"&&((w=E[0].properties)==null?void 0:w.kind)!=="road_relation"&&!E[0].id.startsWith("address.")&&!E[0].id.startsWith("postal_code.")&&(!E[0].id.startsWith("poi.")||!E[5])&&!E[7]),g?M?M.p(E,I):(M=yo(E),M.c(),M.m(l,null)):M&&(M.d(1),M=null),I&1&&T!==(T=(E[7]?"":E[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&Dt(L,T),I&2&&C(e,"data-selected",E[1]),I&2&&st(e,"selected",E[1])},i:me,o:me,d(E){E&&O(e),b.d(),M&&M.d(),B=!1,Li(u)}}}function Sf(r,e,t){var y;let n,i,{feature:o}=e,{selected:a=!1}=e,{showPlaceType:l}=e,{missingIconsCache:s}=e,{iconsBaseUrl:f}=e;const c=(y=o.properties)==null?void 0:y.categories;let m,g,v=0,_=o.place_type[0]==="reverse";function T(h){g&&s.add(g),t(10,v++,v)}function L(h){Se.call(this,r,h)}function B(h){Se.call(this,r,h)}const u=h=>T(h.currentTarget);return r.$$set=h=>{"feature"in h&&t(0,o=h.feature),"selected"in h&&t(1,a=h.selected),"showPlaceType"in h&&t(2,l=h.showPlaceType),"missingIconsCache"in h&&t(9,s=h.missingIconsCache),"iconsBaseUrl"in h&&t(3,f=h.iconsBaseUrl)},r.$$.update=()=>{var h,b,M,k;if(r.$$.dirty&3640)do t(11,n--,n),t(4,m=c==null?void 0:c[n]),t(5,g=m?f+m.replace(/ /g,"_")+".svg":void 0);while(n>-1&&(!g||s.has(g)));r.$$.dirty&1&&t(6,i=o.id.startsWith("poi.")?(b=(h=o.properties)==null?void 0:h.categories)==null?void 0:b.join(", "):((k=(M=o.properties)==null?void 0:M.place_type_name)==null?void 0:k[0])??o.place_type[0])},t(11,n=(c==null?void 0:c.length)??0),[o,a,l,f,m,g,i,_,T,s,v,n,L,B,u]}class Mf extends pe{constructor(e){super(),be(this,e,Sf,wf,he,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function Pf(r){let e,t='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>';return{c(){e=ee("div"),e.innerHTML=t,this.h()},l(n){e=te(n,"DIV",{class:!0,"data-svelte-h":!0}),$r(e)!=="svelte-r6ogid"&&(e.innerHTML=t),this.h()},h(){C(e,"class","svelte-7cmwmc")},m(n,i){N(n,e,i)},p:me,i:me,o:me,d(n){n&&O(e)}}}class kf extends pe{constructor(e){super(),be(this,e,null,Pf,he,{})}}function Ef(r){let e,t;return{c(){e=bt("svg"),t=bt("path"),this.h()},l(n){e=_t(n,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var i=le(e);t=_t(i,"path",{d:!0}),le(t).forEach(O),i.forEach(O),this.h()},h(){C(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),C(e,"viewBox","0 0 60.006 21.412"),C(e,"width","14"),C(e,"height","20"),C(e,"class","svelte-en2qvf")},m(n,i){N(n,e,i),Q(e,t)},p:me,i:me,o:me,d(n){n&&O(e)}}}class Af extends pe{constructor(e){super(),be(this,e,null,Ef,he,{})}}function Of(r){let e,t,n;return{c(){e=bt("svg"),t=bt("circle"),n=bt("path"),this.h()},l(i){e=_t(i,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var o=le(e);t=_t(o,"circle",{cx:!0,cy:!0,r:!0,style:!0}),le(t).forEach(O),n=_t(o,"path",{d:!0,style:!0}),le(n).forEach(O),o.forEach(O),this.h()},h(){C(t,"cx","4.789"),C(t,"cy","4.787"),C(t,"r","3.85"),dt(t,"stroke-width","1.875"),dt(t,"fill","none"),C(n,"d","M12.063 12.063 7.635 7.635"),dt(n,"stroke-width","1.875"),dt(n,"stroke-linecap","round"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"width","13"),C(e,"height","13"),C(e,"viewBox","0 0 13 13"),C(e,"class","svelte-1bpbt60")},m(i,o){N(i,e,o),Q(e,t),Q(e,n)},p:me,i:me,o:me,d(i){i&&O(e)}}}class Lf extends pe{constructor(e){super(),be(this,e,null,Of,he,{})}}function Cf(r,e,t){const n=e[1],i=e[0],o=n-i;return r===n&&t?r:((r-i)%o+o)%o+i}function ho(r){const e=[...r];return e[2]<e[0]&&(e[2]+=360),e}let cr;async function Tf(r,e,t){const n=r==null?void 0:r.getCenterAndZoom();for(const i of e??[])if(!(n&&(i.minZoom!=null&&i.minZoom>n[0]||i.maxZoom!=null&&i.maxZoom<n[0]))){if(i.type==="fixed")return i.coordinates.join(",");e:if(i.type==="client-geolocation"){if(cr&&i.cachedLocationExpiry&&cr.time+i.cachedLocationExpiry>Date.now()){if(!cr.coords)break e;return cr.coords}let o;try{return o=await new Promise((a,l)=>{t.signal.addEventListener("abort",()=>{l(Error("aborted"))}),navigator.geolocation.getCurrentPosition(s=>{a([s.coords.longitude,s.coords.latitude].map(f=>f.toFixed(6)).join(","))},s=>{l(s)},i)}),o}catch{}finally{i.cachedLocationExpiry&&(cr={time:Date.now(),coords:o})}if(t.signal.aborted)return}if(i.type==="server-geolocation")return"ip";if(n&&i.type==="map-center")return n[1].toFixed(6)+","+n[2].toFixed(6)}}function go(r,e,t){const n=r.slice();return n[81]=e[t],n[83]=t,n}function vo(r){let e,t;return e=new kf({}),{c(){X(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function po(r){let e,t,n,i,o;return t=new Af({}),{c(){e=ee("button"),X(t.$$.fragment),this.h()},l(a){e=te(a,"BUTTON",{type:!0,title:!0,class:!0});var l=le(e);Y(t.$$.fragment,l),l.forEach(O),this.h()},h(){C(e,"type","button"),C(e,"title",r[9]),C(e,"class","svelte-zh3kmv"),st(e,"active",r[0])},m(a,l){N(a,e,l),x(t,e,null),n=!0,i||(o=De(e,"click",r[67]),i=!0)},p(a,l){(!n||l[0]&512)&&C(e,"title",a[9]),(!n||l[0]&1)&&st(e,"active",a[0])},i(a){n||(D(t.$$.fragment,a),n=!0)},o(a){z(t.$$.fragment,a),n=!1},d(a){a&&O(e),V(t),i=!1,o()}}}function Bf(r){let e,t=[],n=new Map,i,o,a,l=mo(r[14]);const s=f=>f[81].id+(f[81].address?","+f[81].address:"");for(let f=0;f<l.length;f+=1){let c=go(r,l,f),m=s(c);n.set(m,t[f]=bo(m,c))}return{c(){e=ee("ul");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=te(f,"UL",{class:!0});var c=le(e);for(let m=0;m<t.length;m+=1)t[m].l(c);c.forEach(O),this.h()},h(){C(e,"class","svelte-zh3kmv")},m(f,c){N(f,e,c);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);i=!0,o||(a=[De(e,"mouseleave",r[71]),De(e,"blur",r[72])],o=!0)},p(f,c){c[0]&17880064&&(l=mo(f[14]),Je(),t=Ks(t,c,s,1,f,l,n,e,Qs,bo,null,go),Ke())},i(f){if(!i){for(let c=0;c<l.length;c+=1)D(t[c]);i=!0}},o(f){for(let c=0;c<t.length;c+=1)z(t[c]);i=!1},d(f){f&&O(e);for(let c=0;c<t.length;c+=1)t[c].d();o=!1,Li(a)}}}function If(r){let e,t,n,i,o,a;return t=new sl({}),{c(){e=ee("div"),X(t.$$.fragment),n=J(),i=ee("div"),o=Te(r[7]),this.h()},l(l){e=te(l,"DIV",{class:!0});var s=le(e);Y(t.$$.fragment,s),n=K(s),i=te(s,"DIV",{class:!0});var f=le(i);o=Be(f,r[7]),f.forEach(O),s.forEach(O),this.h()},h(){C(i,"class","svelte-zh3kmv"),C(e,"class","no-results svelte-zh3kmv")},m(l,s){N(l,e,s),x(t,e,null),Q(e,n),Q(e,i),Q(i,o),a=!0},p(l,s){(!a||s[0]&128)&&Dt(o,l[7])},i(l){a||(D(t.$$.fragment,l),a=!0)},o(l){z(t.$$.fragment,l),a=!1},d(l){l&&O(e),V(t)}}}function Ff(r){let e="",t;return{c(){t=Te(e)},l(n){t=Be(n,e)},m(n,i){N(n,t,i)},p:me,i:me,o:me,d(n){n&&O(t)}}}function Rf(r){let e,t,n,i,o,a,l,s,f,c,m;return t=new sl({}),s=new ll({}),{c(){e=ee("div"),X(t.$$.fragment),n=J(),i=ee("div"),o=Te(r[6]),a=J(),l=ee("button"),X(s.$$.fragment),this.h()},l(g){e=te(g,"DIV",{class:!0});var v=le(e);Y(t.$$.fragment,v),n=K(v),i=te(v,"DIV",{class:!0});var _=le(i);o=Be(_,r[6]),_.forEach(O),a=K(v),l=te(v,"BUTTON",{class:!0});var T=le(l);Y(s.$$.fragment,T),T.forEach(O),v.forEach(O),this.h()},h(){C(i,"class","svelte-zh3kmv"),C(l,"class","svelte-zh3kmv"),C(e,"class","error svelte-zh3kmv")},m(g,v){N(g,e,v),x(t,e,null),Q(e,n),Q(e,i),Q(i,o),Q(e,a),Q(e,l),x(s,l,null),f=!0,c||(m=De(l,"click",r[68]),c=!0)},p(g,v){(!f||v[0]&64)&&Dt(o,g[6])},i(g){f||(D(t.$$.fragment,g),D(s.$$.fragment,g),f=!0)},o(g){z(t.$$.fragment,g),z(s.$$.fragment,g),f=!1},d(g){g&&O(e),V(t),V(s),c=!1,m()}}}function bo(r,e){let t,n,i;function o(){return e[69](e[83])}function a(){return e[70](e[81])}return n=new Mf({props:{feature:e[81],showPlaceType:e[10],selected:e[15]===e[83],missingIconsCache:e[20],iconsBaseUrl:e[12]}}),n.$on("mouseenter",o),n.$on("focus",a),{key:r,first:null,c(){t=Ne(),X(n.$$.fragment),this.h()},l(l){t=Ne(),Y(n.$$.fragment,l),this.h()},h(){this.first=t},m(l,s){N(l,t,s),x(n,l,s),i=!0},p(l,s){e=l;const f={};s[0]&16384&&(f.feature=e[81]),s[0]&1024&&(f.showPlaceType=e[10]),s[0]&49152&&(f.selected=e[15]===e[83]),s[0]&4096&&(f.iconsBaseUrl=e[12]),n.$set(f)},i(l){i||(D(n.$$.fragment,l),i=!0)},o(l){z(n.$$.fragment,l),i=!1},d(l){l&&O(t),V(n,l)}}}function Df(r){let e,t,n,i,o,a,l,s,f,c,m,g,v,_,T,L,B,u,y,h,b,M=!1;o=new Lf({}),m=new ll({});let k=r[19]&&vo(),A=r[5]===!0&&po(r);const E=r[59].default,I=kt(E,r,r[58],null),p=[Rf,Ff,If,Bf],w=[];function U(F,W){var G,$;return F[18]?0:F[16]?((G=F[14])==null?void 0:G.length)===0?2:F[16]&&(($=F[14])!=null&&$.length)?3:-1:1}return~(L=U(r))&&(B=w[L]=p[L](r)),{c(){e=J(),t=ee("form"),n=ee("div"),i=ee("button"),X(o.$$.fragment),a=J(),l=ee("input"),s=J(),f=ee("div"),c=ee("button"),X(m.$$.fragment),g=J(),k&&k.c(),v=J(),A&&A.c(),_=J(),I&&I.c(),T=J(),B&&B.c(),this.h()},l(F){e=K(F),t=te(F,"FORM",{tabindex:!0,class:!0});var W=le(t);n=te(W,"DIV",{class:!0});var G=le(n);i=te(G,"BUTTON",{class:!0,type:!0});var $=le(i);Y(o.$$.fragment,$),$.forEach(O),a=K(G),l=te(G,"INPUT",{placeholder:!0,"aria-label":!0,class:!0}),s=K(G),f=te(G,"DIV",{class:!0});var re=le(f);c=te(re,"BUTTON",{type:!0,title:!0,class:!0});var ye=le(c);Y(m.$$.fragment,ye),ye.forEach(O),g=K(re),k&&k.l(re),re.forEach(O),v=K(G),A&&A.l(G),_=K(G),I&&I.l(G),G.forEach(O),T=K(W),B&&B.l(W),W.forEach(O),this.h()},h(){C(i,"class","search-button svelte-zh3kmv"),C(i,"type","button"),C(l,"placeholder",r[8]),C(l,"aria-label",r[8]),C(l,"class","svelte-zh3kmv"),C(c,"type","button"),C(c,"title",r[3]),C(c,"class","svelte-zh3kmv"),C(f,"class","clear-button-container svelte-zh3kmv"),st(f,"displayable",r[1]!==""),C(n,"class","input-group svelte-zh3kmv"),C(t,"tabindex","0"),C(t,"class",u=en(r[2])+" svelte-zh3kmv"),st(t,"can-collapse",r[4]&&r[1]==="")},m(F,W){N(F,e,W),N(F,t,W),Q(t,n),Q(n,i),x(o,i,null),Q(n,a),Q(n,l),r[61](l),co(l,r[1]),Q(n,s),Q(n,f),Q(f,c),x(m,c,null),Q(f,g),k&&k.m(f,null),Q(n,v),A&&A.m(n,null),Q(n,_),I&&I.m(n,null),Q(t,T),~L&&w[L].m(t,null),y=!0,h||(b=[De(i,"click",r[60]),De(l,"input",r[62]),De(l,"focus",r[63]),De(l,"blur",r[64]),De(l,"keydown",r[22]),De(l,"input",r[65]),De(c,"click",r[66]),De(t,"submit",Hs(r[21]))],h=!0)},p(F,W){(!y||W[0]&256)&&C(l,"placeholder",F[8]),(!y||W[0]&256)&&C(l,"aria-label",F[8]),W[0]&2&&l.value!==F[1]&&co(l,F[1]),(!y||W[0]&8)&&C(c,"title",F[3]),F[19]?k?W[0]&524288&&D(k,1):(k=vo(),k.c(),D(k,1),k.m(f,null)):k&&(Je(),z(k,1,1,()=>{k=null}),Ke()),(!y||W[0]&2)&&st(f,"displayable",F[1]!==""),F[5]===!0?A?(A.p(F,W),W[0]&32&&D(A,1)):(A=po(F),A.c(),D(A,1),A.m(n,_)):A&&(Je(),z(A,1,1,()=>{A=null}),Ke()),I&&I.p&&(!y||W[1]&134217728)&&Et(I,E,F,F[58],y?Ot(E,F[58],W,null):At(F[58]),null);let G=L;L=U(F),L===G?~L&&w[L].p(F,W):(B&&(Je(),z(w[G],1,1,()=>{w[G]=null}),Ke()),~L?(B=w[L],B?B.p(F,W):(B=w[L]=p[L](F),B.c()),D(B,1),B.m(t,null)):B=null),(!y||W[0]&4&&u!==(u=en(F[2])+" svelte-zh3kmv"))&&C(t,"class",u),(!y||W[0]&22)&&st(t,"can-collapse",F[4]&&F[1]==="")},i(F){y||(D(M),D(o.$$.fragment,F),D(m.$$.fragment,F),D(k),D(A),D(I,F),D(B),y=!0)},o(F){z(M),z(o.$$.fragment,F),z(m.$$.fragment,F),z(k),z(A),z(I,F),z(B),y=!1},d(F){F&&(O(e),O(t)),V(o),r[61](null),V(m),k&&k.d(),A&&A.d(),I&&I.d(F),~L&&w[L].d(),h=!1,Li(b)}}}function zf(r,e,t){let n,{$$slots:i={},$$scope:o}=e,{class:a=void 0}=e,{apiKey:l}=e,{bbox:s=void 0}=e,{clearButtonTitle:f="clear"}=e,{clearOnBlur:c=!1}=e,{collapsed:m=!1}=e,{country:g=void 0}=e,{debounceSearch:v=200}=e,{enableReverse:_=!1}=e,{errorMessage:T="Something went wrong…"}=e,{filter:L=()=>!0}=e,{flyTo:B=!0}=e,{fuzzyMatch:u=!0}=e,{language:y=void 0}=e,{limit:h=void 0}=e,{mapController:b=void 0}=e,{minLength:M=2}=e,{noResultsMessage:k="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:A="Search"}=e,{proximity:E=[{type:"server-geolocation"}]}=e,{reverseActive:I=_==="always"}=e,{reverseButtonTitle:p="toggle reverse geocoding"}=e,{searchValue:w=""}=e,{showFullGeometry:U=!0}=e,{showPlaceType:F="ifNeeded"}=e,{showResultsWhileTyping:W=!0}=e,{selectFirst:G=!0}=e,{flyToSelected:$=!1}=e,{markerOnSelected:re=!0}=e,{types:ye=void 0}=e,{excludeTypes:ge=!1}=e,{zoom:ce=16}=e,{maxZoom:fe=18}=e,{apiUrl:Fe="https://api.maptiler.com/geocoding"}=e,{fetchParameters:_e={}}=e,{iconsBaseUrl:We="https://cdn.maptiler.com/maptiler-geocoding-control/v1.2.2/icons/"}=e,{adjustUrlQuery:we=S=>{}}=e;function Me(){ve.focus()}function R(){ve.blur()}function q(S,de=!0){t(1,w=S),de?(t(15,ne=-1),Lr()):(lr(),setTimeout(()=>{ve.focus(),ve.select()}))}function ae(){t(14,P=void 0),t(55,Z=void 0),t(15,ne=-1)}function Ze(){t(54,H=[]),t(55,Z=void 0)}let Xe=!1,P,H,Z,Ge="",ve,ne=-1,je,Tt=[],mt,yt,Wt,Gt;const On=new Set,rt=Ci();St(()=>{b&&(b.setEventHandler(void 0),b.indicateReverse(!1),b.setSelectedMarker(-1),b.setMarkers(void 0,void 0))});function Lr(S){if(yt&&(clearTimeout(yt),yt=void 0),ne>-1&&P)t(55,Z=P[ne]),t(1,w=Z.place_type[0]==="reverse"?Z.place_name:Z.place_name.replace(/,.*/,"")),t(18,je=void 0),t(54,H=void 0),t(15,ne=-1);else if(w){const de=S||!jt(w);ar(w,{exact:!0}).then(()=>{t(54,H=P),t(55,Z=void 0),de&&Cr()}).catch(xe=>t(18,je=xe))}}function jt(S){try{return Js(S,6)}catch{return!1}}async function ar(S,{byId:de=!1,exact:xe=!1}={}){t(18,je=void 0),mt==null||mt.abort();const Ve=new AbortController;t(19,mt=Ve);try{const ie=jt(S),qe=new URLSearchParams;if(y!==void 0&&qe.set("language",Array.isArray(y)?y.join(","):y??""),ye&&qe.set("types",ye.join(",")),ge&&qe.set("excludeTypes",String(ge)),s&&qe.set("bbox",s.map(It=>It.toFixed(6)).join(",")),g&&qe.set("country",Array.isArray(g)?g.join(","):g),!de&&!ie){const It=await Tf(b,E,Ve);It&&qe.set("proximity",It),(xe||!W)&&qe.set("autocomplete","false"),qe.set("fuzzyMatch",String(u))}h!==void 0&&(!ie||(ye==null?void 0:ye.length)===1)&&qe.set("limit",String(h)),qe.set("key",l),we(qe);const Bt=Fe+"/"+encodeURIComponent(ie?ie.decimalLongitude+","+ie.decimalLatitude:S)+".json?"+qe.toString();if(Bt===Ge){de?(t(14,P=void 0),t(55,Z=Tt[0])):t(14,P=Tt);return}Ge=Bt;const Ht=await fetch(Bt,{signal:Ve.signal,..._e});if(!Ht.ok)throw new Error(await Ht.text());const Zt=await Ht.json();rt("response",{url:Bt,featureCollection:Zt}),de?(t(14,P=void 0),t(55,Z=Zt.features[0]),Tt=[Z]):(t(14,P=Zt.features.filter(L)),ie&&P.unshift({type:"Feature",properties:{},id:"reverse_"+ie.decimalLongitude+"_"+ie.decimalLatitude,text:ie.decimalLatitude+", "+ie.decimalLongitude,place_name:ie.decimalLatitude+", "+ie.decimalLongitude,place_type:["reverse"],center:[ie.decimalLongitude,ie.decimalLatitude],bbox:[ie.decimalLongitude,ie.decimalLatitude,ie.decimalLongitude,ie.decimalLatitude],geometry:{type:"Point",coordinates:[ie.decimalLongitude,ie.decimalLatitude]}}),Tt=P,ie&&ve.focus())}catch(ie){if(ie&&typeof ie=="object"&&"name"in ie&&ie.name==="AbortError")return;throw ie}finally{Ve===mt&&t(19,mt=void 0)}}function Cr(){var xe;if(!(H!=null&&H.length)||!B)return;const S=[180,90,-180,-90],de=!H.some(Ve=>!Ve.matching_text);for(const Ve of H)if(de||!Ve.matching_text)for(const ie of[0,1,2,3])S[ie]=Math[ie<2?"min":"max"](S[ie],((xe=Ve.bbox)==null?void 0:xe[ie])??Ve.center[ie%2]);b&&H.length>0&&(Z&&S[0]===S[2]&&S[1]===S[3]?b.flyTo(Z.center,ce):b.fitBounds(ho(S),50,fe))}function Ln(S){t(0,I=_==="always"),t(14,P=void 0),t(55,Z=void 0),t(15,ne=-1),q(S[1].toFixed(6)+", "+Cf(S[0],[-180,180],!0).toFixed(6),!1)}function Tr(S){if(!P)return;let de=S.key==="ArrowDown"?1:S.key==="ArrowUp"?-1:0;de&&(ne===(G?0:-1)&&de===-1&&t(15,ne=P.length),t(15,ne+=de),ne>=P.length&&t(15,ne=-1),ne<0&&G&&t(15,ne=0),S.preventDefault())}function lr(S=!0){if(t(18,je=void 0),W){if(yt&&clearTimeout(yt),w.length<M)return;const de=w;yt=window.setTimeout(()=>{ar(de).catch(xe=>t(18,je=xe))},S?v:0)}else t(14,P=void 0),t(18,je=void 0)}function qt(S){t(55,Z=S),t(1,w=S.place_name),t(15,ne=-1)}const Cn=()=>ve.focus();function Br(S){Pe[S?"unshift":"push"](()=>{ve=S,t(17,ve)})}function Tn(){w=this.value,t(1,w),t(13,Xe),t(27,c)}const Ir=()=>t(13,Xe=!0),Bn=()=>t(13,Xe=!1),Fr=()=>lr(),In=()=>{t(1,w=""),ve.focus()},Rr=()=>t(0,I=!I),d=()=>t(18,je=void 0),j=S=>t(15,ne=S),Dr=S=>qt(S),zr=()=>{G||t(15,ne=-1)},Nr=()=>{};return r.$$set=S=>{"class"in S&&t(2,a=S.class),"apiKey"in S&&t(25,l=S.apiKey),"bbox"in S&&t(26,s=S.bbox),"clearButtonTitle"in S&&t(3,f=S.clearButtonTitle),"clearOnBlur"in S&&t(27,c=S.clearOnBlur),"collapsed"in S&&t(4,m=S.collapsed),"country"in S&&t(28,g=S.country),"debounceSearch"in S&&t(29,v=S.debounceSearch),"enableReverse"in S&&t(5,_=S.enableReverse),"errorMessage"in S&&t(6,T=S.errorMessage),"filter"in S&&t(30,L=S.filter),"flyTo"in S&&t(31,B=S.flyTo),"fuzzyMatch"in S&&t(32,u=S.fuzzyMatch),"language"in S&&t(33,y=S.language),"limit"in S&&t(34,h=S.limit),"mapController"in S&&t(35,b=S.mapController),"minLength"in S&&t(36,M=S.minLength),"noResultsMessage"in S&&t(7,k=S.noResultsMessage),"placeholder"in S&&t(8,A=S.placeholder),"proximity"in S&&t(37,E=S.proximity),"reverseActive"in S&&t(0,I=S.reverseActive),"reverseButtonTitle"in S&&t(9,p=S.reverseButtonTitle),"searchValue"in S&&t(1,w=S.searchValue),"showFullGeometry"in S&&t(38,U=S.showFullGeometry),"showPlaceType"in S&&t(10,F=S.showPlaceType),"showResultsWhileTyping"in S&&t(39,W=S.showResultsWhileTyping),"selectFirst"in S&&t(11,G=S.selectFirst),"flyToSelected"in S&&t(40,$=S.flyToSelected),"markerOnSelected"in S&&t(41,re=S.markerOnSelected),"types"in S&&t(42,ye=S.types),"excludeTypes"in S&&t(43,ge=S.excludeTypes),"zoom"in S&&t(44,ce=S.zoom),"maxZoom"in S&&t(45,fe=S.maxZoom),"apiUrl"in S&&t(46,Fe=S.apiUrl),"fetchParameters"in S&&t(47,_e=S.fetchParameters),"iconsBaseUrl"in S&&t(12,We=S.iconsBaseUrl),"adjustUrlQuery"in S&&t(48,we=S.adjustUrlQuery),"$$scope"in S&&t(58,o=S.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&134225920&&setTimeout(()=>{t(16,Wt=Xe),c&&!Xe&&t(1,w="")}),r.$$.dirty[0]&16386|r.$$.dirty[1]&32&&w.length<M&&(t(55,Z=void 0),t(14,P=void 0),t(18,je=void 0),t(54,H=P)),r.$$.dirty[1]&16777344&&U&&Z&&!Z.address&&Z.geometry.type==="Point"&&Z.place_type[0]!=="reverse"&&ar(Z.id,{byId:!0}).catch(S=>t(18,je=S)),r.$$.dirty[1]&50356241&&(b&&Z&&Z.id!==Gt&&B&&(!Z.bbox||Z.bbox[0]===Z.bbox[2]&&Z.bbox[1]===Z.bbox[3]?b.flyTo(Z.center,Z.id.startsWith("poi.")||Z.id.startsWith("address.")?fe:ce):b.fitBounds(ho(Z.bbox),50,fe),t(14,P=void 0),t(54,H=void 0),t(15,ne=-1)),t(56,Gt=Z==null?void 0:Z.id)),r.$$.dirty[0]&18432&&G&&P!=null&&P.length&&t(15,ne=0),r.$$.dirty[0]&2050&&(G||t(15,ne=-1)),r.$$.dirty[0]&16384|r.$$.dirty[1]&8388608&&H!==P&&t(54,H=void 0),r.$$.dirty[0]&81921|r.$$.dirty[1]&8388624&&b&&b.setEventHandler(S=>{switch(S.type){case"mapClick":I&&Ln(S.coordinates);break;case"markerClick":{const de=P==null?void 0:P.find(xe=>xe.id===S.id);de&&qt(de)}break;case"markerMouseEnter":H&&t(15,ne=Wt?(P==null?void 0:P.findIndex(de=>de.id===S.id))??-1:-1);break;case"markerMouseLeave":H&&t(15,ne=-1);break}}),r.$$.dirty[0]&49152&&t(57,n=P==null?void 0:P[ne]),r.$$.dirty[1]&67133969&&b&&n&&B&&$&&b.flyTo(n.center,n.id.startsWith("poi.")||n.id.startsWith("address.")?fe:ce),r.$$.dirty[1]&1040&&(re||b==null||b.setMarkers(void 0,void 0)),r.$$.dirty[1]&75498512&&b&&re&&!H&&(b.setMarkers(n?[n]:void 0,void 0),b.setSelectedMarker(n?0:-1)),r.$$.dirty[1]&25165840&&b&&b.setMarkers(H,Z),r.$$.dirty[0]&32768|r.$$.dirty[1]&8388624&&H&&b&&b.setSelectedMarker(ne),r.$$.dirty[0]&2|r.$$.dirty[1]&16&&b){const S=jt(w);b.setReverseMarker(S?[S.decimalLongitude,S.decimalLatitude]:void 0)}r.$$.dirty[1]&67108864&&rt("select",n),r.$$.dirty[1]&16777216&&rt("pick",Z),r.$$.dirty[0]&81920&&rt("optionsVisibilityChange",Wt&&!!P),r.$$.dirty[0]&16384&&rt("featuresListed",P),r.$$.dirty[1]&8388608&&rt("featuresMarked",H),r.$$.dirty[0]&1&&rt("reverseToggle",I),r.$$.dirty[0]&2&&rt("queryChange",w),r.$$.dirty[0]&1|r.$$.dirty[1]&16&&b&&b.indicateReverse(I)},[I,w,a,f,m,_,T,k,A,p,F,G,We,Xe,P,ne,Wt,ve,je,mt,On,Lr,Tr,lr,qt,l,s,c,g,v,L,B,u,y,h,b,M,E,U,W,$,re,ye,ge,ce,fe,Fe,_e,we,Me,R,q,ae,Ze,H,Z,Gt,n,o,i,Cn,Br,Tn,Ir,Bn,Fr,In,Rr,d,j,Dr,zr,Nr]}class Nf extends pe{constructor(e){super(),be(this,e,zf,Df,he,{class:2,apiKey:25,bbox:26,clearButtonTitle:3,clearOnBlur:27,collapsed:4,country:28,debounceSearch:29,enableReverse:5,errorMessage:6,filter:30,flyTo:31,fuzzyMatch:32,language:33,limit:34,mapController:35,minLength:36,noResultsMessage:7,placeholder:8,proximity:37,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:38,showPlaceType:10,showResultsWhileTyping:39,selectFirst:11,flyToSelected:40,markerOnSelected:41,types:42,excludeTypes:43,zoom:44,maxZoom:45,apiUrl:46,fetchParameters:47,iconsBaseUrl:12,adjustUrlQuery:48,focus:49,blur:50,setQuery:51,clearList:52,clearMap:53},null,[-1,-1,-1])}get focus(){return this.$$.ctx[49]}get blur(){return this.$$.ctx[50]}get setQuery(){return this.$$.ctx[51]}get clearList(){return this.$$.ctx[52]}get clearMap(){return this.$$.ctx[53]}}function _o(r){let e,t,n;return t=new Nf({props:{mapController:r[0],apiKey:"MZEJTanw3WpxRvt7qDfo",country:"gb"}}),{c(){e=ee("div"),X(t.$$.fragment),this.h()},l(i){e=te(i,"DIV",{class:!0});var o=le(e);Y(t.$$.fragment,o),o.forEach(O),this.h()},h(){C(e,"class","svelte-ixhnie")},m(i,o){N(i,e,o),x(t,e,null),n=!0},p(i,o){const a={};o&1&&(a.mapController=i[0]),t.$set(a)},i(i){n||(D(t.$$.fragment,i),n=!0)},o(i){z(t.$$.fragment,i),n=!1},d(i){i&&O(e),V(t)}}}function Uf(r){let e,t,n=r[0]&&_o(r);return{c(){n&&n.c(),e=Ne()},l(i){n&&n.l(i),e=Ne()},m(i,o){n&&n.m(i,o),N(i,e,o),t=!0},p(i,[o]){i[0]?n?(n.p(i,o),o&1&&D(n,1)):(n=_o(i),n.c(),D(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke())},i(i){t||(D(n),t=!0)},o(i){z(n),t=!1},d(i){i&&O(e),n&&n.d(i)}}}function Wf(r,e,t){let{map:n}=e,i;return Zs(()=>{t(0,i=$s(n,rr))}),r.$$set=o=>{"map"in o&&t(1,n=o.map)},[i,n]}class Gf extends pe{constructor(e){super(),be(this,e,Wf,Uf,he,{map:1})}}var wo=Object.prototype.toString,fl=function(e){var t=wo.call(e),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&wo.call(e.callee)==="[object Function]"),n},Dn,So;function jf(){if(So)return Dn;So=1;var r;if(!Object.keys){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=fl,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(g){var v=g.constructor;return v&&v.prototype===g},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var g in window)try{if(!f["$"+g]&&e.call(window,g)&&window[g]!==null&&typeof window[g]=="object")try{s(window[g])}catch{return!0}}catch{return!0}return!1}(),m=function(g){if(typeof window>"u"||!c)return s(g);try{return s(g)}catch{return!1}};r=function(v){var _=v!==null&&typeof v=="object",T=t.call(v)==="[object Function]",L=n(v),B=_&&t.call(v)==="[object String]",u=[];if(!_&&!T&&!L)throw new TypeError("Object.keys called on a non-object");var y=a&&T;if(B&&v.length>0&&!e.call(v,0))for(var h=0;h<v.length;++h)u.push(String(h));if(L&&v.length>0)for(var b=0;b<v.length;++b)u.push(String(b));else for(var M in v)!(y&&M==="prototype")&&e.call(v,M)&&u.push(String(M));if(o)for(var k=m(v),A=0;A<l.length;++A)!(k&&l[A]==="constructor")&&e.call(v,l[A])&&u.push(l[A]);return u}}return Dn=r,Dn}var qf=Array.prototype.slice,Hf=fl,Mo=Object.keys,Hr=Mo?function(e){return Mo(e)}:jf(),Po=Object.keys;Hr.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(n){return Hf(n)?Po(qf.call(n)):Po(n)})}else Object.keys=Hr;return Object.keys||Hr};var Bi=Hr,Zf=Error,Xf=EvalError,Yf=RangeError,xf=ReferenceError,ul=SyntaxError,Lt=TypeError,Vf=URIError,wn=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||a.enumerable!==!0)return!1}return!0},ko=typeof Symbol<"u"&&Symbol,Jf=wn,Ii=function(){return typeof ko!="function"||typeof Symbol!="function"||typeof ko("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Jf()},zn={__proto__:null,foo:{}},Kf=Object,Qf=function(){return{__proto__:zn}.foo===zn.foo&&!(zn instanceof Kf)},$f="Function.prototype.bind called on incompatible ",eu=Object.prototype.toString,tu=Math.max,ru="[object Function]",Eo=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},nu=function(e,t){for(var n=[],i=t||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},iu=function(r,e){for(var t="",n=0;n<r.length;n+=1)t+=r[n],n+1<r.length&&(t+=e);return t},ou=function(e){var t=this;if(typeof t!="function"||eu.apply(t)!==ru)throw new TypeError($f+t);for(var n=nu(arguments,1),i,o=function(){if(this instanceof i){var c=t.apply(this,Eo(n,arguments));return Object(c)===c?c:this}return t.apply(e,Eo(n,arguments))},a=tu(0,t.length-n.length),l=[],s=0;s<a;s++)l[s]="$"+s;if(i=Function("binder","return function ("+iu(l,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var f=function(){};f.prototype=t.prototype,i.prototype=new f,f.prototype=null}return i},au=ou,Fi=Function.prototype.bind||au,lu=Function.prototype.call,su=Object.prototype.hasOwnProperty,fu=Fi,cl=fu.call(lu,su),oe,uu=Zf,cu=Xf,mu=Yf,yu=xf,Qt=ul,Kt=Lt,hu=Vf,ml=Function,Nn=function(r){try{return ml('"use strict"; return ('+r+").constructor;")()}catch{}},Ft=Object.getOwnPropertyDescriptor;if(Ft)try{Ft({},"")}catch{Ft=null}var Un=function(){throw new Kt},gu=Ft?function(){try{return arguments.callee,Un}catch{try{return Ft(arguments,"callee").get}catch{return Un}}}():Un,Xt=Ii(),vu=Qf(),Le=Object.getPrototypeOf||(vu?function(r){return r.__proto__}:null),Vt={},du=typeof Uint8Array>"u"||!Le?oe:Le(Uint8Array),Rt={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?oe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?oe:ArrayBuffer,"%ArrayIteratorPrototype%":Xt&&Le?Le([][Symbol.iterator]()):oe,"%AsyncFromSyncIteratorPrototype%":oe,"%AsyncFunction%":Vt,"%AsyncGenerator%":Vt,"%AsyncGeneratorFunction%":Vt,"%AsyncIteratorPrototype%":Vt,"%Atomics%":typeof Atomics>"u"?oe:Atomics,"%BigInt%":typeof BigInt>"u"?oe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?oe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?oe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?oe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":uu,"%eval%":eval,"%EvalError%":cu,"%Float32Array%":typeof Float32Array>"u"?oe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?oe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?oe:FinalizationRegistry,"%Function%":ml,"%GeneratorFunction%":Vt,"%Int8Array%":typeof Int8Array>"u"?oe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?oe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?oe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Xt&&Le?Le(Le([][Symbol.iterator]())):oe,"%JSON%":typeof JSON=="object"?JSON:oe,"%Map%":typeof Map>"u"?oe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Xt||!Le?oe:Le(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?oe:Promise,"%Proxy%":typeof Proxy>"u"?oe:Proxy,"%RangeError%":mu,"%ReferenceError%":yu,"%Reflect%":typeof Reflect>"u"?oe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?oe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Xt||!Le?oe:Le(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?oe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Xt&&Le?Le(""[Symbol.iterator]()):oe,"%Symbol%":Xt?Symbol:oe,"%SyntaxError%":Qt,"%ThrowTypeError%":gu,"%TypedArray%":du,"%TypeError%":Kt,"%Uint8Array%":typeof Uint8Array>"u"?oe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?oe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?oe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?oe:Uint32Array,"%URIError%":hu,"%WeakMap%":typeof WeakMap>"u"?oe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?oe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?oe:WeakSet};if(Le)try{null.error}catch(r){var pu=Le(Le(r));Rt["%Error.prototype%"]=pu}var bu=function r(e){var t;if(e==="%AsyncFunction%")t=Nn("async function () {}");else if(e==="%GeneratorFunction%")t=Nn("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Nn("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&Le&&(t=Le(i.prototype))}return Rt[e]=t,t},Ao={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Mr=Fi,tn=cl,_u=Mr.call(Function.call,Array.prototype.concat),wu=Mr.call(Function.apply,Array.prototype.splice),Oo=Mr.call(Function.call,String.prototype.replace),rn=Mr.call(Function.call,String.prototype.slice),Su=Mr.call(Function.call,RegExp.prototype.exec),Mu=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Pu=/\\(\\)?/g,ku=function(e){var t=rn(e,0,1),n=rn(e,-1);if(t==="%"&&n!=="%")throw new Qt("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Qt("invalid intrinsic syntax, expected opening `%`");var i=[];return Oo(e,Mu,function(o,a,l,s){i[i.length]=l?Oo(s,Pu,"$1"):a||o}),i},Eu=function(e,t){var n=e,i;if(tn(Ao,n)&&(i=Ao[n],n="%"+i[0]+"%"),tn(Rt,n)){var o=Rt[n];if(o===Vt&&(o=bu(n)),typeof o>"u"&&!t)throw new Kt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Qt("intrinsic "+e+" does not exist!")},ut=function(e,t){if(typeof e!="string"||e.length===0)throw new Kt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Kt('"allowMissing" argument must be a boolean');if(Su(/^%?[^%]*%?$/,e)===null)throw new Qt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ku(e),i=n.length>0?n[0]:"",o=Eu("%"+i+"%",t),a=o.name,l=o.value,s=!1,f=o.alias;f&&(i=f[0],wu(n,_u([0,1],f)));for(var c=1,m=!0;c<n.length;c+=1){var g=n[c],v=rn(g,0,1),_=rn(g,-1);if((v==='"'||v==="'"||v==="`"||_==='"'||_==="'"||_==="`")&&v!==_)throw new Qt("property names with quotes must have matching quotes");if((g==="constructor"||!m)&&(s=!0),i+="."+g,a="%"+i+"%",tn(Rt,a))l=Rt[a];else if(l!=null){if(!(g in l)){if(!t)throw new Kt("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ft&&c+1>=n.length){var T=Ft(l,g);m=!!T,m&&"get"in T&&!("originalValue"in T.get)?l=T.get:l=l[g]}else m=tn(l,g),l=l[g];m&&!s&&(Rt[a]=l)}}return l},Au=ut,Zr=Au("%Object.defineProperty%",!0)||!1;if(Zr)try{Zr({},"a",{value:1})}catch{Zr=!1}var Ri=Zr,Ou=ut,Xr=Ou("%Object.getOwnPropertyDescriptor%",!0);if(Xr)try{Xr([],"length")}catch{Xr=null}var Di=Xr,Lo=Ri,Lu=ul,Yt=Lt,Co=Di,zi=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Yt("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Yt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Yt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Yt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Yt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Yt("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,s=!!Co&&Co(e,t);if(Lo)Lo(e,t,{configurable:a===null&&s?s.configurable:!a,enumerable:i===null&&s?s.enumerable:!i,value:n,writable:o===null&&s?s.writable:!o});else if(l||!i&&!o&&!a)e[t]=n;else throw new Lu("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ii=Ri,yl=function(){return!!ii};yl.hasArrayLengthDefineBug=function(){if(!ii)return null;try{return ii([],"length",{value:1}).length!==1}catch{return!0}};var Ni=yl,Cu=Bi,Tu=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Bu=Object.prototype.toString,Iu=Array.prototype.concat,To=zi,Fu=function(r){return typeof r=="function"&&Bu.call(r)==="[object Function]"},hl=Ni(),Ru=function(r,e,t,n){if(e in r){if(n===!0){if(r[e]===t)return}else if(!Fu(n)||!n())return}hl?To(r,e,t,!0):To(r,e,t)},gl=function(r,e){var t=arguments.length>2?arguments[2]:{},n=Cu(e);Tu&&(n=Iu.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Ru(r,n[i],e[n[i]],t[n[i]])};gl.supportsDescriptors=!!hl;var Nt=gl,vl={exports:{}},Du=ut,Bo=zi,zu=Ni(),Io=Di,Fo=Lt,Nu=Du("%Math.floor%"),Uu=function(e,t){if(typeof e!="function")throw new Fo("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||Nu(t)!==t)throw new Fo("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&Io){var a=Io(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!n)&&(zu?Bo(e,"length",t,!0,!0):Bo(e,"length",t)),e};(function(r){var e=Fi,t=ut,n=Uu,i=Lt,o=t("%Function.prototype.apply%"),a=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(a,o),s=Ri,f=t("%Math.max%");r.exports=function(g){if(typeof g!="function")throw new i("a function is required");var v=l(e,a,arguments);return n(v,1+f(0,g.length-(arguments.length-1)),!0)};var c=function(){return l(e,o,arguments)};s?s(r.exports,"apply",{value:c}):r.exports.apply=c})(vl);var nr=vl.exports,dl=ut,pl=nr,Wu=pl(dl("String.prototype.indexOf")),tt=function(e,t){var n=dl(e,!!t);return typeof n=="function"&&Wu(e,".prototype.")>-1?pl(n):n},Gu=Bi,bl=wn(),_l=tt,Ro=Object,ju=_l("Array.prototype.push"),Do=_l("Object.prototype.propertyIsEnumerable"),qu=bl?Object.getOwnPropertySymbols:null,wl=function(e,t){if(e==null)throw new TypeError("target must be an object");var n=Ro(e);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var o=Ro(arguments[i]),a=Gu(o),l=bl&&(Object.getOwnPropertySymbols||qu);if(l)for(var s=l(o),f=0;f<s.length;++f){var c=s[f];Do(o,c)&&ju(a,c)}for(var m=0;m<a.length;++m){var g=a[m];if(Do(o,g)){var v=o[g];n[g]=v}}}return n},Wn=wl,Hu=function(){if(!Object.assign)return!1;for(var r="abcdefghijklmnopqrst",e=r.split(""),t={},n=0;n<e.length;++n)t[e[n]]=e[n];var i=Object.assign({},t),o="";for(var a in i)o+=a;return r!==o},Zu=function(){if(!Object.assign||!Object.preventExtensions)return!1;var r=Object.preventExtensions({1:2});try{Object.assign(r,"xy")}catch{return r[1]==="y"}return!1},Sl=function(){return!Object.assign||Hu()||Zu()?Wn:Object.assign},Xu=Nt,Yu=Sl,xu=function(){var e=Yu();return Xu(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},Vu=Nt,Ju=nr,Ku=wl,Ml=Sl,Qu=xu,$u=Ju.apply(Ml()),Pl=function(e,t){return $u(Object,arguments)};Vu(Pl,{getPolyfill:Ml,implementation:Ku,shim:Qu});var ec=Pl,_r=function(){return typeof(function(){}).name=="string"},dr=Object.getOwnPropertyDescriptor;if(dr)try{dr([],"length")}catch{dr=null}_r.functionsHaveConfigurableNames=function(){if(!_r()||!dr)return!1;var e=dr(function(){},"name");return!!e&&!!e.configurable};var tc=Function.prototype.bind;_r.boundFunctionsHaveNames=function(){return _r()&&typeof tc=="function"&&(function(){}).bind().name!==""};var rc=_r,zo=zi,nc=Ni(),ic=rc.functionsHaveConfigurableNames(),oc=Lt,ac=function(e,t){if(typeof e!="function")throw new oc("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||ic)&&(nc?zo(e,"name",t,!0,!0):zo(e,"name",t)),e},lc=ac,sc=Lt,fc=Object,kl=lc(function(){if(this==null||this!==fc(this))throw new sc("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),uc=kl,cc=Nt.supportsDescriptors,mc=Object.getOwnPropertyDescriptor,El=function(){if(cc&&/a/mig.flags==="gim"){var e=mc(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),t==="dy")return e.get}}return uc},yc=Nt.supportsDescriptors,hc=El,gc=Object.getOwnPropertyDescriptor,vc=Object.defineProperty,dc=TypeError,No=Object.getPrototypeOf,pc=/a/,bc=function(){if(!yc||!No)throw new dc("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=hc(),t=No(pc),n=gc(t,"flags");return(!n||n.get!==e)&&vc(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},_c=Nt,wc=nr,Sc=kl,Al=El,Mc=bc,Ol=wc(Al());_c(Ol,{getPolyfill:Al,implementation:Sc,shim:Mc});var Pc=Ol,Yr={exports:{}},kc=wn,Ut=function(){return kc()&&!!Symbol.toStringTag},Ec=Ut(),Ac=tt,oi=Ac("Object.prototype.toString"),Sn=function(e){return Ec&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:oi(e)==="[object Arguments]"},Ll=function(e){return Sn(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&oi(e)!=="[object Array]"&&oi(e.callee)==="[object Function]"},Oc=function(){return Sn(arguments)}();Sn.isLegacyArguments=Ll;var Cl=Oc?Sn:Ll;const Lc={},Cc=Object.freeze(Object.defineProperty({__proto__:null,default:Lc},Symbol.toStringTag,{value:"Module"})),Tc=Ti(Cc);var Ui=typeof Map=="function"&&Map.prototype,Gn=Object.getOwnPropertyDescriptor&&Ui?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,nn=Ui&&Gn&&typeof Gn.get=="function"?Gn.get:null,Uo=Ui&&Map.prototype.forEach,Wi=typeof Set=="function"&&Set.prototype,jn=Object.getOwnPropertyDescriptor&&Wi?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,on=Wi&&jn&&typeof jn.get=="function"?jn.get:null,Wo=Wi&&Set.prototype.forEach,Bc=typeof WeakMap=="function"&&WeakMap.prototype,pr=Bc?WeakMap.prototype.has:null,Ic=typeof WeakSet=="function"&&WeakSet.prototype,br=Ic?WeakSet.prototype.has:null,Fc=typeof WeakRef=="function"&&WeakRef.prototype,Go=Fc?WeakRef.prototype.deref:null,Rc=Boolean.prototype.valueOf,Dc=Object.prototype.toString,zc=Function.prototype.toString,Nc=String.prototype.match,Gi=String.prototype.slice,Pt=String.prototype.replace,Uc=String.prototype.toUpperCase,jo=String.prototype.toLowerCase,Tl=RegExp.prototype.test,qo=Array.prototype.concat,lt=Array.prototype.join,Wc=Array.prototype.slice,Ho=Math.floor,ai=typeof BigInt=="function"?BigInt.prototype.valueOf:null,qn=Object.getOwnPropertySymbols,li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,$t=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ue=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===$t||!0)?Symbol.toStringTag:null,Bl=Object.prototype.propertyIsEnumerable,Zo=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function Xo(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||Tl.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-Ho(-r):Ho(r);if(n!==r){var i=String(n),o=Gi.call(e,i.length+1);return Pt.call(i,t,"$&_")+"."+Pt.call(Pt.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Pt.call(e,t,"$&_")}var si=Tc,Yo=si.custom,xo=Fl(Yo)?Yo:null,Gc=function r(e,t,n,i){var o=t||{};if(Mt(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mt(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Mt(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mt(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mt(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Dl(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var s=String(e);return l?Xo(e,s):s}if(typeof e=="bigint"){var f=String(e)+"n";return l?Xo(e,f):f}var c=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return fi(e)?"[Array]":"[Object]";var m=om(o,n);if(typeof i>"u")i=[];else if(Rl(i,e)>=0)return"[Circular]";function g(U,F,W){if(F&&(i=Wc.call(i),i.push(F)),W){var G={depth:o.depth};return Mt(o,"quoteStyle")&&(G.quoteStyle=o.quoteStyle),r(U,G,n+1,i)}return r(U,o,n+1,i)}if(typeof e=="function"&&!Vo(e)){var v=Jc(e),_=Wr(e,g);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(_.length>0?" { "+lt.call(_,", ")+" }":"")}if(Fl(e)){var T=$t?Pt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):li.call(e);return typeof e=="object"&&!$t?mr(T):T}if(rm(e)){for(var L="<"+jo.call(String(e.nodeName)),B=e.attributes||[],u=0;u<B.length;u++)L+=" "+B[u].name+"="+Il(jc(B[u].value),"double",o);return L+=">",e.childNodes&&e.childNodes.length&&(L+="..."),L+="</"+jo.call(String(e.nodeName))+">",L}if(fi(e)){if(e.length===0)return"[]";var y=Wr(e,g);return m&&!im(y)?"["+ui(y,m)+"]":"[ "+lt.call(y,", ")+" ]"}if(Hc(e)){var h=Wr(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!Bl.call(e,"cause")?"{ ["+String(e)+"] "+lt.call(qo.call("[cause]: "+g(e.cause),h),", ")+" }":h.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+lt.call(h,", ")+" }"}if(typeof e=="object"&&a){if(xo&&typeof e[xo]=="function"&&si)return si(e,{depth:c-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Kc(e)){var b=[];return Uo&&Uo.call(e,function(U,F){b.push(g(F,e,!0)+" => "+g(U,e))}),Jo("Map",nn.call(e),b,m)}if(em(e)){var M=[];return Wo&&Wo.call(e,function(U){M.push(g(U,e))}),Jo("Set",on.call(e),M,m)}if(Qc(e))return Hn("WeakMap");if(tm(e))return Hn("WeakSet");if($c(e))return Hn("WeakRef");if(Xc(e))return mr(g(Number(e)));if(xc(e))return mr(g(ai.call(e)));if(Yc(e))return mr(Rc.call(e));if(Zc(e))return mr(g(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===_n)return"{ [object globalThis] }";if(!qc(e)&&!Vo(e)){var k=Wr(e,g),A=Zo?Zo(e)===Object.prototype:e instanceof Object||e.constructor===Object,E=e instanceof Object?"":"null prototype",I=!A&&Ue&&Object(e)===e&&Ue in e?Gi.call(Ct(e),8,-1):E?"Object":"",p=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",w=p+(I||E?"["+lt.call(qo.call([],I||[],E||[]),": ")+"] ":"");return k.length===0?w+"{}":m?w+"{"+ui(k,m)+"}":w+"{ "+lt.call(k,", ")+" }"}return String(e)};function Il(r,e,t){var n=(t.quoteStyle||e)==="double"?'"':"'";return n+r+n}function jc(r){return Pt.call(String(r),/"/g,"&quot;")}function fi(r){return Ct(r)==="[object Array]"&&(!Ue||!(typeof r=="object"&&Ue in r))}function qc(r){return Ct(r)==="[object Date]"&&(!Ue||!(typeof r=="object"&&Ue in r))}function Vo(r){return Ct(r)==="[object RegExp]"&&(!Ue||!(typeof r=="object"&&Ue in r))}function Hc(r){return Ct(r)==="[object Error]"&&(!Ue||!(typeof r=="object"&&Ue in r))}function Zc(r){return Ct(r)==="[object String]"&&(!Ue||!(typeof r=="object"&&Ue in r))}function Xc(r){return Ct(r)==="[object Number]"&&(!Ue||!(typeof r=="object"&&Ue in r))}function Yc(r){return Ct(r)==="[object Boolean]"&&(!Ue||!(typeof r=="object"&&Ue in r))}function Fl(r){if($t)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!li)return!1;try{return li.call(r),!0}catch{}return!1}function xc(r){if(!r||typeof r!="object"||!ai)return!1;try{return ai.call(r),!0}catch{}return!1}var Vc=Object.prototype.hasOwnProperty||function(r){return r in this};function Mt(r,e){return Vc.call(r,e)}function Ct(r){return Dc.call(r)}function Jc(r){if(r.name)return r.name;var e=Nc.call(zc.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function Rl(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function Kc(r){if(!nn||!r||typeof r!="object")return!1;try{nn.call(r);try{on.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function Qc(r){if(!pr||!r||typeof r!="object")return!1;try{pr.call(r,pr);try{br.call(r,br)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function $c(r){if(!Go||!r||typeof r!="object")return!1;try{return Go.call(r),!0}catch{}return!1}function em(r){if(!on||!r||typeof r!="object")return!1;try{on.call(r);try{nn.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function tm(r){if(!br||!r||typeof r!="object")return!1;try{br.call(r,br);try{pr.call(r,pr)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function rm(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function Dl(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return Dl(Gi.call(r,0,e.maxStringLength),e)+n}var i=Pt.call(Pt.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,nm);return Il(i,"single",e)}function nm(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+Uc.call(e.toString(16))}function mr(r){return"Object("+r+")"}function Hn(r){return r+" { ? }"}function Jo(r,e,t,n){var i=n?ui(t,n):lt.call(t,", ");return r+" ("+e+") {"+i+"}"}function im(r){for(var e=0;e<r.length;e++)if(Rl(r[e],`
`)>=0)return!1;return!0}function om(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=lt.call(Array(r.indent+1)," ");else return null;return{base:t,prev:lt.call(Array(e+1),t)}}function ui(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+lt.call(r,","+t)+`
`+e.prev}function Wr(r,e){var t=fi(r),n=[];if(t){n.length=r.length;for(var i=0;i<r.length;i++)n[i]=Mt(r,i)?e(r[i],r):""}var o=typeof qn=="function"?qn(r):[],a;if($t){a={};for(var l=0;l<o.length;l++)a["$"+o[l]]=o[l]}for(var s in r)Mt(r,s)&&(t&&String(Number(s))===s&&s<r.length||$t&&a["$"+s]instanceof Symbol||(Tl.call(/[^\w$]/,s)?n.push(e(s,r)+": "+e(r[s],r)):n.push(s+": "+e(r[s],r))));if(typeof qn=="function")for(var f=0;f<o.length;f++)Bl.call(r,o[f])&&n.push("["+e(o[f])+"]: "+e(r[o[f]],r));return n}var zl=ut,ir=tt,am=Gc,lm=Lt,Gr=zl("%WeakMap%",!0),jr=zl("%Map%",!0),sm=ir("WeakMap.prototype.get",!0),fm=ir("WeakMap.prototype.set",!0),um=ir("WeakMap.prototype.has",!0),cm=ir("Map.prototype.get",!0),mm=ir("Map.prototype.set",!0),ym=ir("Map.prototype.has",!0),ji=function(r,e){for(var t=r,n;(n=t.next)!==null;t=n)if(n.key===e)return t.next=n.next,n.next=r.next,r.next=n,n},hm=function(r,e){var t=ji(r,e);return t&&t.value},gm=function(r,e,t){var n=ji(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},vm=function(r,e){return!!ji(r,e)},Nl=function(){var e,t,n,i={assert:function(o){if(!i.has(o))throw new lm("Side channel does not contain "+am(o))},get:function(o){if(Gr&&o&&(typeof o=="object"||typeof o=="function")){if(e)return sm(e,o)}else if(jr){if(t)return cm(t,o)}else if(n)return hm(n,o)},has:function(o){if(Gr&&o&&(typeof o=="object"||typeof o=="function")){if(e)return um(e,o)}else if(jr){if(t)return ym(t,o)}else if(n)return vm(n,o);return!1},set:function(o,a){Gr&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Gr),fm(e,o,a)):jr?(t||(t=new jr),mm(t,o,a)):(n||(n={key:{},next:null}),gm(n,o,a))}};return i},dm=cl,yr=Nl(),ht=Lt,qi={assert:function(r,e){if(!r||typeof r!="object"&&typeof r!="function")throw new ht("`O` is not an object");if(typeof e!="string")throw new ht("`slot` must be a string");if(yr.assert(r),!qi.has(r,e))throw new ht("`"+e+"` is not present on `O`")},get:function(r,e){if(!r||typeof r!="object"&&typeof r!="function")throw new ht("`O` is not an object");if(typeof e!="string")throw new ht("`slot` must be a string");var t=yr.get(r);return t&&t["$"+e]},has:function(r,e){if(!r||typeof r!="object"&&typeof r!="function")throw new ht("`O` is not an object");if(typeof e!="string")throw new ht("`slot` must be a string");var t=yr.get(r);return!!t&&dm(t,"$"+e)},set:function(r,e,t){if(!r||typeof r!="object"&&typeof r!="function")throw new ht("`O` is not an object");if(typeof e!="string")throw new ht("`slot` must be a string");var n=yr.get(r);n||(n={},yr.set(r,n)),n["$"+e]=t}};Object.freeze&&Object.freeze(qi);var pm=qi,hr=pm,bm=SyntaxError,Ko=typeof StopIteration=="object"?StopIteration:null,_m=function(e){if(!Ko)throw new bm("this environment lacks StopIteration");hr.set(e,"[[Done]]",!1);var t={next:function(){var i=hr.get(this,"[[Iterator]]"),o=hr.get(i,"[[Done]]");try{return{done:o,value:o?void 0:i.next()}}catch(a){if(hr.set(i,"[[Done]]",!0),a!==Ko)throw a;return{done:!0,value:void 0}}}};return hr.set(t,"[[Iterator]]",e),t},wm={}.toString,Ul=Array.isArray||function(r){return wm.call(r)=="[object Array]"},Sm=String.prototype.valueOf,Mm=function(e){try{return Sm.call(e),!0}catch{return!1}},Pm=Object.prototype.toString,km="[object String]",Em=Ut(),Wl=function(e){return typeof e=="string"?!0:typeof e!="object"?!1:Em?Mm(e):Pm.call(e)===km},Hi=typeof Map=="function"&&Map.prototype?Map:null,Am=typeof Set=="function"&&Set.prototype?Set:null,an;Hi||(an=function(e){return!1});var Gl=Hi?Map.prototype.has:null,Qo=Am?Set.prototype.has:null;!an&&!Gl&&(an=function(e){return!1});var jl=an||function(e){if(!e||typeof e!="object")return!1;try{if(Gl.call(e),Qo)try{Qo.call(e)}catch{return!0}return e instanceof Hi}catch{}return!1},Om=typeof Map=="function"&&Map.prototype?Map:null,Zi=typeof Set=="function"&&Set.prototype?Set:null,ln;Zi||(ln=function(e){return!1});var $o=Om?Map.prototype.has:null,ql=Zi?Set.prototype.has:null;!ln&&!ql&&(ln=function(e){return!1});var Hl=ln||function(e){if(!e||typeof e!="object")return!1;try{if(ql.call(e),$o)try{$o.call(e)}catch{return!0}return e instanceof Zi}catch{}return!1},ea=Cl,ta=_m;if(Ii()||wn()){var Zn=Symbol.iterator;Yr.exports=function(e){if(e!=null&&typeof e[Zn]<"u")return e[Zn]();if(ea(e))return Array.prototype[Zn].call(e)}}else{var Lm=Ul,Cm=Wl,ra=ut,Tm=ra("%Map%",!0),Bm=ra("%Set%",!0),nt=tt,na=nt("Array.prototype.push"),ia=nt("String.prototype.charCodeAt"),Im=nt("String.prototype.slice"),Fm=function(e,t){var n=e.length;if(t+1>=n)return t+1;var i=ia(e,t);if(i<55296||i>56319)return t+1;var o=ia(e,t+1);return o<56320||o>57343?t+1:t+2},Xn=function(e){var t=0;return{next:function(){var i=t>=e.length,o;return i||(o=e[t],t+=1),{done:i,value:o}}}},oa=function(e,t){if(Lm(e)||ea(e))return Xn(e);if(Cm(e)){var n=0;return{next:function(){var o=Fm(e,n),a=Im(e,n,o);return n=o,{done:o>e.length,value:a}}}}if(t&&typeof e["_es6-shim iterator_"]<"u")return e["_es6-shim iterator_"]()};if(!Tm&&!Bm)Yr.exports=function(e){if(e!=null)return oa(e,!0)};else{var Rm=jl,Dm=Hl,aa=nt("Map.prototype.forEach",!0),la=nt("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var sa=nt("Map.prototype.iterator",!0),fa=nt("Set.prototype.iterator",!0);var ua=nt("Map.prototype.@@iterator",!0)||nt("Map.prototype._es6-shim iterator_",!0),ca=nt("Set.prototype.@@iterator",!0)||nt("Set.prototype._es6-shim iterator_",!0),zm=function(e){if(Rm(e)){if(sa)return ta(sa(e));if(ua)return ua(e);if(aa){var t=[];return aa(e,function(i,o){na(t,[o,i])}),Xn(t)}}if(Dm(e)){if(fa)return ta(fa(e));if(ca)return ca(e);if(la){var n=[];return la(e,function(i){na(n,i)}),Xn(n)}}};Yr.exports=function(e){return zm(e)||oa(e)}}}var Nm=Yr.exports,ma=function(r){return r!==r},Zl=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||ma(e)&&ma(t))},Um=Zl,Xl=function(){return typeof Object.is=="function"?Object.is:Um},Wm=Xl,Gm=Nt,jm=function(){var e=Wm();return Gm(Object,{is:e},{is:function(){return Object.is!==e}}),e},qm=Nt,Hm=nr,Zm=Zl,Yl=Xl,Xm=jm,xl=Hm(Yl(),Object);qm(xl,{getPolyfill:Yl,implementation:Zm,shim:Xm});var Ym=xl,xm=nr,Vl=tt,Vm=ut,ci=Vm("%ArrayBuffer%",!0),xr=Vl("ArrayBuffer.prototype.byteLength",!0),Jm=Vl("Object.prototype.toString"),ya=!!ci&&!xr&&new ci(0).slice,ha=!!ya&&xm(ya),Jl=xr||ha?function(e){if(!e||typeof e!="object")return!1;try{return xr?xr(e):ha(e,0),!0}catch{return!1}}:ci?function(e){return Jm(e)==="[object ArrayBuffer]"}:function(e){return!1},Km=Date.prototype.getDay,Qm=function(e){try{return Km.call(e),!0}catch{return!1}},$m=Object.prototype.toString,ey="[object Date]",ty=Ut(),ry=function(e){return typeof e!="object"||e===null?!1:ty?Qm(e):$m.call(e)===ey},mi=tt,Kl=Ut(),Ql,$l,yi,hi;if(Kl){Ql=mi("Object.prototype.hasOwnProperty"),$l=mi("RegExp.prototype.exec"),yi={};var Yn=function(){throw yi};hi={toString:Yn,valueOf:Yn},typeof Symbol.toPrimitive=="symbol"&&(hi[Symbol.toPrimitive]=Yn)}var ny=mi("Object.prototype.toString"),iy=Object.getOwnPropertyDescriptor,oy="[object RegExp]",ay=Kl?function(e){if(!e||typeof e!="object")return!1;var t=iy(e,"lastIndex"),n=t&&Ql(t,"value");if(!n)return!1;try{$l(e,hi)}catch(i){return i===yi}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:ny(e)===oy},ly=tt,ga=ly("SharedArrayBuffer.prototype.byteLength",!0),sy=ga?function(e){if(!e||typeof e!="object")return!1;try{return ga(e),!0}catch{return!1}}:function(e){return!1},fy=Number.prototype.toString,uy=function(e){try{return fy.call(e),!0}catch{return!1}},cy=Object.prototype.toString,my="[object Number]",yy=Ut(),hy=function(e){return typeof e=="number"?!0:typeof e!="object"?!1:yy?uy(e):cy.call(e)===my},es=tt,gy=es("Boolean.prototype.toString"),vy=es("Object.prototype.toString"),dy=function(e){try{return gy(e),!0}catch{return!1}},py="[object Boolean]",by=Ut(),_y=function(e){return typeof e=="boolean"?!0:e===null||typeof e!="object"?!1:by&&Symbol.toStringTag in e?dy(e):vy(e)===py},gi={exports:{}},wy=Object.prototype.toString,Sy=Ii();if(Sy){var My=Symbol.prototype.toString,Py=/^Symbol\(.*\)$/,ky=function(e){return typeof e.valueOf()!="symbol"?!1:Py.test(My.call(e))};gi.exports=function(e){if(typeof e=="symbol")return!0;if(wy.call(e)!=="[object Symbol]")return!1;try{return ky(e)}catch{return!1}}}else gi.exports=function(e){return!1};var Ey=gi.exports,vi={exports:{}},va=typeof BigInt<"u"&&BigInt,Ay=function(){return typeof va=="function"&&typeof BigInt=="function"&&typeof va(42)=="bigint"&&typeof BigInt(42)=="bigint"},Oy=Ay();if(Oy){var Ly=BigInt.prototype.valueOf,Cy=function(e){try{return Ly.call(e),!0}catch{}return!1};vi.exports=function(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="function"?!1:typeof e=="bigint"?!0:Cy(e)}}else vi.exports=function(e){return!1};var Ty=vi.exports,By=Wl,Iy=hy,Fy=_y,Ry=Ey,Dy=Ty,zy=function(e){if(e==null||typeof e!="object"&&typeof e!="function")return null;if(By(e))return"String";if(Iy(e))return"Number";if(Fy(e))return"Boolean";if(Ry(e))return"Symbol";if(Dy(e))return"BigInt"},sn=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,da=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,fn;sn||(fn=function(e){return!1});var di=sn?sn.prototype.has:null,xn=da?da.prototype.has:null;!fn&&!di&&(fn=function(e){return!1});var Ny=fn||function(e){if(!e||typeof e!="object")return!1;try{if(di.call(e,di),xn)try{xn.call(e,xn)}catch{return!0}return e instanceof sn}catch{}return!1},pi={exports:{}},Uy=ut,ts=tt,Wy=Uy("%WeakSet%",!0),Vn=ts("WeakSet.prototype.has",!0);if(Vn){var Jn=ts("WeakMap.prototype.has",!0);pi.exports=function(e){if(!e||typeof e!="object")return!1;try{if(Vn(e,Vn),Jn)try{Jn(e,Jn)}catch{return!0}return e instanceof Wy}catch{}return!1}}else pi.exports=function(e){return!1};var Gy=pi.exports,jy=jl,qy=Hl,Hy=Ny,Zy=Gy,Xy=function(e){if(e&&typeof e=="object"){if(jy(e))return"Map";if(qy(e))return"Set";if(Hy(e))return"WeakMap";if(Zy(e))return"WeakSet"}return!1},rs=Function.prototype.toString,Jt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,bi,Vr;if(typeof Jt=="function"&&typeof Object.defineProperty=="function")try{bi=Object.defineProperty({},"length",{get:function(){throw Vr}}),Vr={},Jt(function(){throw 42},null,bi)}catch(r){r!==Vr&&(Jt=null)}else Jt=null;var Yy=/^\s*class\b/,_i=function(e){try{var t=rs.call(e);return Yy.test(t)}catch{return!1}},Kn=function(e){try{return _i(e)?!1:(rs.call(e),!0)}catch{return!1}},Jr=Object.prototype.toString,xy="[object Object]",Vy="[object Function]",Jy="[object GeneratorFunction]",Ky="[object HTMLAllCollection]",Qy="[object HTML document.all class]",$y="[object HTMLCollection]",eh=typeof Symbol=="function"&&!!Symbol.toStringTag,th=!(0 in[,]),wi=function(){return!1};if(typeof document=="object"){var rh=document.all;Jr.call(rh)===Jr.call(document.all)&&(wi=function(e){if((th||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=Jr.call(e);return(t===Ky||t===Qy||t===$y||t===xy)&&e("")==null}catch{}return!1})}var nh=Jt?function(e){if(wi(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Jt(e,null,bi)}catch(t){if(t!==Vr)return!1}return!_i(e)&&Kn(e)}:function(e){if(wi(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(eh)return Kn(e);if(_i(e))return!1;var t=Jr.call(e);return t!==Vy&&t!==Jy&&!/^\[object HTML/.test(t)?!1:Kn(e)},ih=nh,oh=Object.prototype.toString,ns=Object.prototype.hasOwnProperty,ah=function(e,t,n){for(var i=0,o=e.length;i<o;i++)ns.call(e,i)&&(n==null?t(e[i],i,e):t.call(n,e[i],i,e))},lh=function(e,t,n){for(var i=0,o=e.length;i<o;i++)n==null?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)},sh=function(e,t,n){for(var i in e)ns.call(e,i)&&(n==null?t(e[i],i,e):t.call(n,e[i],i,e))},fh=function(e,t,n){if(!ih(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),oh.call(e)==="[object Array]"?ah(e,t,i):typeof e=="string"?lh(e,t,i):sh(e,t,i)},uh=fh,ch=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],Qn=ch,mh=typeof globalThis>"u"?_n:globalThis,yh=function(){for(var e=[],t=0;t<Qn.length;t++)typeof mh[Qn[t]]=="function"&&(e[e.length]=Qn[t]);return e},un=uh,hh=yh,pa=nr,Xi=tt,Kr=Di,gh=Xi("Object.prototype.toString"),is=Ut(),ba=typeof globalThis>"u"?_n:globalThis,Si=hh(),Yi=Xi("String.prototype.slice"),$n=Object.getPrototypeOf,vh=Xi("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},cn={__proto__:null};is&&Kr&&$n?un(Si,function(r){var e=new ba[r];if(Symbol.toStringTag in e){var t=$n(e),n=Kr(t,Symbol.toStringTag);if(!n){var i=$n(t);n=Kr(i,Symbol.toStringTag)}cn["$"+r]=pa(n.get)}}):un(Si,function(r){var e=new ba[r],t=e.slice||e.set;t&&(cn["$"+r]=pa(t))});var dh=function(e){var t=!1;return un(cn,function(n,i){if(!t)try{"$"+n(e)===i&&(t=Yi(i,1))}catch{}}),t},ph=function(e){var t=!1;return un(cn,function(n,i){if(!t)try{n(e),t=Yi(i,1)}catch{}}),t},bh=function(e){if(!e||typeof e!="object")return!1;if(!is){var t=Yi(gh(e),8,-1);return vh(Si,t)>-1?t:t!=="Object"?!1:ph(e)}return Kr?dh(e):null},_h=tt,_a=_h("ArrayBuffer.prototype.byteLength",!0),wh=Jl,Sh=function(e){return wh(e)?_a?_a(e):e.byteLength:NaN},os=ec,ct=tt,wa=Pc,Mh=ut,er=Nm,Ph=Nl,Sa=Ym,Ma=Cl,Pa=Ul,ka=Jl,Ea=ry,Aa=ay,Oa=sy,La=Bi,Ca=zy,Ta=Xy,Ba=bh,Ia=Sh,Fa=ct("SharedArrayBuffer.prototype.byteLength",!0),Ra=ct("Date.prototype.getTime"),ei=Object.getPrototypeOf,Da=ct("Object.prototype.toString"),mn=Mh("%Set%",!0),Mi=ct("Map.prototype.has",!0),yn=ct("Map.prototype.get",!0),za=ct("Map.prototype.size",!0),hn=ct("Set.prototype.add",!0),as=ct("Set.prototype.delete",!0),gn=ct("Set.prototype.has",!0),Qr=ct("Set.prototype.size",!0);function Na(r,e,t,n){for(var i=er(r),o;(o=i.next())&&!o.done;)if(ot(e,o.value,t,n))return as(r,o.value),!0;return!1}function ls(r){if(typeof r>"u")return null;if(typeof r!="object")return typeof r=="symbol"?!1:typeof r=="string"||typeof r=="number"?+r==+r:!0}function kh(r,e,t,n,i,o){var a=ls(t);if(a!=null)return a;var l=yn(e,a),s=os({},i,{strict:!1});return typeof l>"u"&&!Mi(e,a)||!ot(n,l,s,o)?!1:!Mi(r,a)&&ot(n,l,s,o)}function Eh(r,e,t){var n=ls(t);return n??(gn(e,n)&&!gn(r,n))}function Ua(r,e,t,n,i,o){for(var a=er(r),l,s;(l=a.next())&&!l.done;)if(s=l.value,ot(t,s,i,o)&&ot(n,yn(e,s),i,o))return as(r,s),!0;return!1}function ot(r,e,t,n){var i=t||{};if(i.strict?Sa(r,e):r===e)return!0;var o=Ca(r),a=Ca(e);if(o!==a)return!1;if(!r||!e||typeof r!="object"&&typeof e!="object")return i.strict?Sa(r,e):r==e;var l=n.has(r),s=n.has(e),f;if(l&&s){if(n.get(r)===n.get(e))return!0}else f={};return l||n.set(r,f),s||n.set(e,f),Lh(r,e,i,n)}function Wa(r){return!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function Ah(r,e,t,n){if(Qr(r)!==Qr(e))return!1;for(var i=er(r),o=er(e),a,l,s;(a=i.next())&&!a.done;)if(a.value&&typeof a.value=="object")s||(s=new mn),hn(s,a.value);else if(!gn(e,a.value)){if(t.strict||!Eh(r,e,a.value))return!1;s||(s=new mn),hn(s,a.value)}if(s){for(;(l=o.next())&&!l.done;)if(l.value&&typeof l.value=="object"){if(!Na(s,l.value,t.strict,n))return!1}else if(!t.strict&&!gn(r,l.value)&&!Na(s,l.value,t.strict,n))return!1;return Qr(s)===0}return!0}function Oh(r,e,t,n){if(za(r)!==za(e))return!1;for(var i=er(r),o=er(e),a,l,s,f,c,m;(a=i.next())&&!a.done;)if(f=a.value[0],c=a.value[1],f&&typeof f=="object")s||(s=new mn),hn(s,f);else if(m=yn(e,f),typeof m>"u"&&!Mi(e,f)||!ot(c,m,t,n)){if(t.strict||!kh(r,e,f,c,t,n))return!1;s||(s=new mn),hn(s,f)}if(s){for(;(l=o.next())&&!l.done;)if(f=l.value[0],m=l.value[1],f&&typeof f=="object"){if(!Ua(s,r,f,m,t,n))return!1}else if(!t.strict&&(!r.has(f)||!ot(yn(r,f),m,t,n))&&!Ua(s,r,f,m,os({},t,{strict:!1}),n))return!1;return Qr(s)===0}return!0}function Lh(r,e,t,n){var i,o;if(typeof r!=typeof e||r==null||e==null||Da(r)!==Da(e)||Ma(r)!==Ma(e))return!1;var a=Pa(r),l=Pa(e);if(a!==l)return!1;var s=r instanceof Error,f=e instanceof Error;if(s!==f||(s||f)&&(r.name!==e.name||r.message!==e.message))return!1;var c=Aa(r),m=Aa(e);if(c!==m||(c||m)&&(r.source!==e.source||wa(r)!==wa(e)))return!1;var g=Ea(r),v=Ea(e);if(g!==v||(g||v)&&Ra(r)!==Ra(e)||t.strict&&ei&&ei(r)!==ei(e))return!1;var _=Ba(r),T=Ba(e);if(_!==T)return!1;if(_||T){if(r.length!==e.length)return!1;for(i=0;i<r.length;i++)if(r[i]!==e[i])return!1;return!0}var L=Wa(r),B=Wa(e);if(L!==B)return!1;if(L||B){if(r.length!==e.length)return!1;for(i=0;i<r.length;i++)if(r[i]!==e[i])return!1;return!0}var u=ka(r),y=ka(e);if(u!==y)return!1;if(u||y)return Ia(r)!==Ia(e)?!1:typeof Uint8Array=="function"&&ot(new Uint8Array(r),new Uint8Array(e),t,n);var h=Oa(r),b=Oa(e);if(h!==b)return!1;if(h||b)return Fa(r)!==Fa(e)?!1:typeof Uint8Array=="function"&&ot(new Uint8Array(r),new Uint8Array(e),t,n);if(typeof r!=typeof e)return!1;var M=La(r),k=La(e);if(M.length!==k.length)return!1;for(M.sort(),k.sort(),i=M.length-1;i>=0;i--)if(M[i]!=k[i])return!1;for(i=M.length-1;i>=0;i--)if(o=M[i],!ot(r[o],e[o],t,n))return!1;var A=Ta(r),E=Ta(e);return A!==E?!1:A==="Set"||E==="Set"?Ah(r,e,t,n):A==="Map"?Oh(r,e,t,n):!0}var Ch=function(e,t,n){return ot(e,t,n,Ph())};const Th=al(Ch);var Bh=Object.defineProperty,ue=(r,e)=>Bh(r,"name",{value:e,configurable:!0}),Ih=class{constructor(e){this.direction=!1,this.compareProperties=!0;var t,n,i;this.precision=10**-((t=e==null?void 0:e.precision)!=null?t:17),this.direction=(n=e==null?void 0:e.direction)!=null?n:!1,this.compareProperties=(i=e==null?void 0:e.compareProperties)!=null?i:!0}compare(e,t){if(e.type!==t.type||!vr(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const n=Pi(e),i=Pi(t);return n.every(o=>i.some(a=>this.compare(o,a)))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every((n,i)=>Math.abs(n-t[i])<this.precision)}compareLine(e,t,n=0,i=!1){if(!vr(e,t))return!1;const o=e;let a=t;if(i&&!this.compareCoord(o[0],a[0])){const s=this.fixStartIndex(a,o);if(s)a=s;else return!1}const l=this.compareCoord(o[n],a[n]);return this.direction||l?this.comparePath(o,a):this.compareCoord(o[n],a[a.length-(1+n)])?this.comparePath(o.slice().reverse(),a):!1}fixStartIndex(e,t){let n,i=-1;for(let o=0;o<e.length;o++)if(this.compareCoord(e[o],t[0])){i=o;break}return i>=0&&(n=[].concat(e.slice(i,e.length),e.slice(1,i+1))),n}comparePath(e,t){return e.every((n,i)=>this.compareCoord(n,t[i]))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const n=e.coordinates.slice(1,e.coordinates.length),i=t.coordinates.slice(1,t.coordinates.length);return n.every(o=>i.some(a=>this.compareLine(o,a,1,!0)))}return!1}compareGeometryCollection(e,t){return vr(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every((n,i)=>this.compare(n,t.geometries[i]))}compareFeature(e,t){return e.id===t.id&&(this.compareProperties?Th(e.properties,t.properties):!0)&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return vr(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every((n,i)=>this.compare(n,t.features[i]))}compareBBox(e,t){return!e.bbox&&!t.bbox||(e.bbox&&t.bbox?this.compareCoord(e.bbox,t.bbox):!1)}};ue(Ih,"GeojsonEquality");function vr(r,e){return r.coordinates?r.coordinates.length===e.coordinates.length:r.length===e.length}ue(vr,"sameLength");function Pi(r){return r.coordinates.map(e=>({type:r.type.replace("Multi",""),coordinates:e}))}ue(Pi,"explode");var He=63710088e-1,ss={centimeters:He*100,centimetres:He*100,degrees:360/(2*Math.PI),feet:He*3.28084,inches:He*39.37,kilometers:He/1e3,kilometres:He/1e3,meters:He,metres:He,miles:He/1609.344,millimeters:He*1e3,millimetres:He*1e3,nauticalmiles:He/1852,radians:1,yards:He*1.0936},Ga={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function ft(r,e,t={}){const n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=e||{},n.geometry=r,n}ue(ft,"feature");function Fh(r,e,t={}){switch(r){case"Point":return vt(e).geometry;case"LineString":return pt(e).geometry;case"Polygon":return xi(e).geometry;case"MultiPoint":return us(e).geometry;case"MultiLineString":return fs(e).geometry;case"MultiPolygon":return cs(e).geometry;default:throw new Error(r+" is invalid")}}ue(Fh,"geometry");function vt(r,e,t={}){if(!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!vn(r[0])||!vn(r[1]))throw new Error("coordinates must contain numbers");return ft({type:"Point",coordinates:r},e,t)}ue(vt,"point");function Rh(r,e,t={}){return Mn(r.map(n=>vt(n,e)),t)}ue(Rh,"points");function xi(r,e,t={}){for(const i of r){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}return ft({type:"Polygon",coordinates:r},e,t)}ue(xi,"polygon");function Dh(r,e,t={}){return Mn(r.map(n=>xi(n,e)),t)}ue(Dh,"polygons");function pt(r,e,t={}){if(r.length<2)throw new Error("coordinates must be an array of two or more positions");return ft({type:"LineString",coordinates:r},e,t)}ue(pt,"lineString");function zh(r,e,t={}){return Mn(r.map(n=>pt(n,e)),t)}ue(zh,"lineStrings");function Mn(r,e={}){const t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=r,t}ue(Mn,"featureCollection");function fs(r,e,t={}){return ft({type:"MultiLineString",coordinates:r},e,t)}ue(fs,"multiLineString");function us(r,e,t={}){return ft({type:"MultiPoint",coordinates:r},e,t)}ue(us,"multiPoint");function cs(r,e,t={}){return ft({type:"MultiPolygon",coordinates:r},e,t)}ue(cs,"multiPolygon");function Nh(r,e,t={}){return ft({type:"GeometryCollection",geometries:r},e,t)}ue(Nh,"geometryCollection");function Uh(r,e=0){if(e&&!(e>=0))throw new Error("precision must be a positive number");const t=Math.pow(10,e||0);return Math.round(r*t)/t}ue(Uh,"round");function ms(r,e="kilometers"){const t=ss[e];if(!t)throw new Error(e+" units is invalid");return r*t}ue(ms,"radiansToLength");function Vi(r,e="kilometers"){const t=ss[e];if(!t)throw new Error(e+" units is invalid");return r/t}ue(Vi,"lengthToRadians");function Wh(r,e){return ys(Vi(r,e))}ue(Wh,"lengthToDegrees");function Gh(r){let e=r%360;return e<0&&(e+=360),e}ue(Gh,"bearingToAzimuth");function ys(r){return r%(2*Math.PI)*180/Math.PI}ue(ys,"radiansToDegrees");function jh(r){return r%360*Math.PI/180}ue(jh,"degreesToRadians");function qh(r,e="kilometers",t="kilometers"){if(!(r>=0))throw new Error("length must be a positive number");return ms(Vi(r,e),t)}ue(qh,"convertLength");function Hh(r,e="meters",t="kilometers"){if(!(r>=0))throw new Error("area must be a positive number");const n=Ga[e];if(!n)throw new Error("invalid original units");const i=Ga[t];if(!i)throw new Error("invalid final units");return r/n*i}ue(Hh,"convertArea");function vn(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}ue(vn,"isNumber");function Ji(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}ue(Ji,"isObject");function Zh(r){if(!r)throw new Error("bbox is required");if(!Array.isArray(r))throw new Error("bbox must be an Array");if(r.length!==4&&r.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");r.forEach(e=>{if(!vn(e))throw new Error("bbox must only contain numbers")})}ue(Zh,"validateBBox");function Xh(r){if(!r)throw new Error("id is required");if(["string","number"].indexOf(typeof r)===-1)throw new Error("id must be a number or a string")}ue(Xh,"validateId");var Yh=Object.defineProperty,Ie=(r,e)=>Yh(r,"name",{value:e,configurable:!0});function Pr(r,e,t){if(r!==null)for(var n,i,o,a,l,s,f,c=0,m=0,g,v=r.type,_=v==="FeatureCollection",T=v==="Feature",L=_?r.features.length:1,B=0;B<L;B++){f=_?r.features[B].geometry:T?r.geometry:r,g=f?f.type==="GeometryCollection":!1,l=g?f.geometries.length:1;for(var u=0;u<l;u++){var y=0,h=0;if(a=g?f.geometries[u]:f,a!==null){s=a.coordinates;var b=a.type;switch(c=t&&(b==="Polygon"||b==="MultiPolygon")?1:0,b){case null:break;case"Point":if(e(s,m,B,y,h)===!1)return!1;m++,y++;break;case"LineString":case"MultiPoint":for(n=0;n<s.length;n++){if(e(s[n],m,B,y,h)===!1)return!1;m++,b==="MultiPoint"&&y++}b==="LineString"&&y++;break;case"Polygon":case"MultiLineString":for(n=0;n<s.length;n++){for(i=0;i<s[n].length-c;i++){if(e(s[n][i],m,B,y,h)===!1)return!1;m++}b==="MultiLineString"&&y++,b==="Polygon"&&h++}b==="Polygon"&&y++;break;case"MultiPolygon":for(n=0;n<s.length;n++){for(h=0,i=0;i<s[n].length;i++){for(o=0;o<s[n][i].length-c;o++){if(e(s[n][i][o],m,B,y,h)===!1)return!1;m++}h++}y++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(Pr(a.geometries[n],e,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}Ie(Pr,"coordEach");function xh(r,e,t,n){var i=t;return Pr(r,function(o,a,l,s,f){a===0&&t===void 0?i=o:i=e(i,o,a,l,s,f)},n),i}Ie(xh,"coordReduce");function hs(r,e){var t;switch(r.type){case"FeatureCollection":for(t=0;t<r.features.length&&e(r.features[t].properties,t)!==!1;t++);break;case"Feature":e(r.properties,0);break}}Ie(hs,"propEach");function Vh(r,e,t){var n=t;return hs(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}Ie(Vh,"propReduce");function gs(r,e){if(r.type==="Feature")e(r,0);else if(r.type==="FeatureCollection")for(var t=0;t<r.features.length&&e(r.features[t],t)!==!1;t++);}Ie(gs,"featureEach");function Jh(r,e,t){var n=t;return gs(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}Ie(Jh,"featureReduce");function Kh(r){var e=[];return Pr(r,function(t){e.push(t)}),e}Ie(Kh,"coordAll");function Ki(r,e){var t,n,i,o,a,l,s,f,c,m,g=0,v=r.type==="FeatureCollection",_=r.type==="Feature",T=v?r.features.length:1;for(t=0;t<T;t++){for(l=v?r.features[t].geometry:_?r.geometry:r,f=v?r.features[t].properties:_?r.properties:{},c=v?r.features[t].bbox:_?r.bbox:void 0,m=v?r.features[t].id:_?r.id:void 0,s=l?l.type==="GeometryCollection":!1,a=s?l.geometries.length:1,i=0;i<a;i++){if(o=s?l.geometries[i]:l,o===null){if(e(null,g,f,c,m)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(o,g,f,c,m)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(e(o.geometries[n],g,f,c,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}Ie(Ki,"geomEach");function vs(r,e,t){var n=t;return Ki(r,function(i,o,a,l,s){o===0&&t===void 0?n=i:n=e(n,i,o,a,l,s)}),n}Ie(vs,"geomReduce");function Pn(r,e){Ki(r,function(t,n,i,o,a){var l=t===null?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return e(ft(t,i,{bbox:o,id:a}),n,0)===!1?!1:void 0}var s;switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var f=0;f<t.coordinates.length;f++){var c=t.coordinates[f],m={type:s,coordinates:c};if(e(ft(m,i),n,f)===!1)return!1}})}Ie(Pn,"flattenEach");function Qh(r,e,t){var n=t;return Pn(r,function(i,o,a){o===0&&a===0&&t===void 0?n=i:n=e(n,i,o,a)}),n}Ie(Qh,"flattenReduce");function ds(r,e){Pn(r,function(t,n,i){var o=0;if(t.geometry){var a=t.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var l,s=0,f=0,c=0;if(Pr(t,function(m,g,v,_,T){if(l===void 0||n>s||_>f||T>c){l=m,s=n,f=_,c=T,o=0;return}var L=pt([l,m],t.properties);if(e(L,n,i,T,o)===!1)return!1;o++,l=m})===!1)return!1}}})}Ie(ds,"segmentEach");function $h(r,e,t){var n=t,i=!1;return ds(r,function(o,a,l,s,f){i===!1&&t===void 0?n=o:n=e(n,o,a,l,s,f),i=!0}),n}Ie($h,"segmentReduce");function ps(r,e){if(!r)throw new Error("geojson is required");Pn(r,function(t,n,i){if(t.geometry!==null){var o=t.geometry.type,a=t.geometry.coordinates;switch(o){case"LineString":if(e(t,n,i,0,0)===!1)return!1;break;case"Polygon":for(var l=0;l<a.length;l++)if(e(pt(a[l],t.properties),n,i,l)===!1)return!1;break}}})}Ie(ps,"lineEach");function eg(r,e,t){var n=t;return ps(r,function(i,o,a,l){o===0&&t===void 0?n=i:n=e(n,i,o,a,l)}),n}Ie(eg,"lineReduce");function tg(r,e){if(e=e||{},!Ji(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.segmentIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=s.length+o-1),pt([s[o],s[o+1]],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o-1),pt([s[i][o],s[i][o+1]],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o-1),pt([s[n][o],s[n][o+1]],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o-1),pt([s[n][i][o],s[n][i][o+1]],a,e)}throw new Error("geojson is invalid")}Ie(tg,"findSegment");function rg(r,e){if(e=e||{},!Ji(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.coordIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":return vt(s,a,e);case"MultiPoint":return n<0&&(n=s.length+n),vt(s[n],a,e);case"LineString":return o<0&&(o=s.length+o),vt(s[o],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o),vt(s[i][o],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o),vt(s[n][o],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o),vt(s[n][i][o],a,e)}throw new Error("geojson is invalid")}Ie(rg,"findPoint");var ng=Object.defineProperty,kn=(r,e)=>ng(r,"name",{value:e,configurable:!0});function bs(r){return vs(r,(e,t)=>e+_s(t),0)}kn(bs,"area");function _s(r){let e=0,t;switch(r.type){case"Polygon":return ki(r.coordinates);case"MultiPolygon":for(t=0;t<r.coordinates.length;t++)e+=ki(r.coordinates[t]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}kn(_s,"calculateArea");function ki(r){let e=0;if(r&&r.length>0){e+=Math.abs(Ei(r[0]));for(let t=1;t<r.length;t++)e-=Math.abs(Ei(r[t]))}return e}kn(ki,"polygonArea");var ig=He*He/2,ti=Math.PI/180;function Ei(r){const e=r.length;if(e<=2)return 0;let t=0,n=0;for(;n<e;){const i=r[n],o=r[n+1===e?0:n+1],a=r[n+2>=e?(n+2)%e:n+2],l=i[0]*ti,s=o[1]*ti,f=a[0]*ti;t+=(f-l)*Math.sin(s),n++}return t*ig}kn(Ei,"ringArea");var ja=bs,Re=63710088e-1,Qi={centimeters:Re*100,centimetres:Re*100,degrees:Re/111325,feet:Re*3.28084,inches:Re*39.37,kilometers:Re/1e3,kilometres:Re/1e3,meters:Re,metres:Re,miles:Re/1609.344,millimeters:Re*1e3,millimetres:Re*1e3,nauticalmiles:Re/1852,radians:1,yards:Re*1.0936},og={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Re,yards:1.0936133},Ai={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function et(r,e,t){t===void 0&&(t={});var n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=e||{},n.geometry=r,n}function ag(r,e,t){switch(r){case"Point":return Ye(e).geometry;case"LineString":return Qe(e).geometry;case"Polygon":return $i(e).geometry;case"MultiPoint":return Ss(e).geometry;case"MultiLineString":return ws(e).geometry;case"MultiPolygon":return Ms(e).geometry;default:throw new Error(r+" is invalid")}}function Ye(r,e,t){if(t===void 0&&(t={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!dn(r[0])||!dn(r[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:r};return et(n,e,t)}function lg(r,e,t){return t===void 0&&(t={}),zt(r.map(function(n){return Ye(n,e)}),t)}function $i(r,e,t){t===void 0&&(t={});for(var n=0,i=r;n<i.length;n++){var o=i[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}var l={type:"Polygon",coordinates:r};return et(l,e,t)}function sg(r,e,t){return t===void 0&&(t={}),zt(r.map(function(n){return $i(n,e)}),t)}function Qe(r,e,t){if(t===void 0&&(t={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:r};return et(n,e,t)}function fg(r,e,t){return t===void 0&&(t={}),zt(r.map(function(n){return Qe(n,e)}),t)}function zt(r,e){e===void 0&&(e={});var t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=r,t}function ws(r,e,t){t===void 0&&(t={});var n={type:"MultiLineString",coordinates:r};return et(n,e,t)}function Ss(r,e,t){t===void 0&&(t={});var n={type:"MultiPoint",coordinates:r};return et(n,e,t)}function Ms(r,e,t){t===void 0&&(t={});var n={type:"MultiPolygon",coordinates:r};return et(n,e,t)}function ug(r,e,t){t===void 0&&(t={});var n={type:"GeometryCollection",geometries:r};return et(n,e,t)}function cg(r,e){if(e===void 0&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var t=Math.pow(10,e||0);return Math.round(r*t)/t}function eo(r,e){e===void 0&&(e="kilometers");var t=Qi[e];if(!t)throw new Error(e+" units is invalid");return r*t}function En(r,e){e===void 0&&(e="kilometers");var t=Qi[e];if(!t)throw new Error(e+" units is invalid");return r/t}function mg(r,e){return wr(En(r,e))}function yg(r){var e=r%360;return e<0&&(e+=360),e}function wr(r){var e=r%(2*Math.PI);return e*180/Math.PI}function $e(r){var e=r%360;return e*Math.PI/180}function hg(r,e,t){if(e===void 0&&(e="kilometers"),t===void 0&&(t="kilometers"),!(r>=0))throw new Error("length must be a positive number");return eo(En(r,e),t)}function gg(r,e,t){if(e===void 0&&(e="meters"),t===void 0&&(t="kilometers"),!(r>=0))throw new Error("area must be a positive number");var n=Ai[e];if(!n)throw new Error("invalid original units");var i=Ai[t];if(!i)throw new Error("invalid final units");return r/n*i}function dn(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function to(r){return!!r&&r.constructor===Object}function vg(r){if(!r)throw new Error("bbox is required");if(!Array.isArray(r))throw new Error("bbox must be an Array");if(r.length!==4&&r.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");r.forEach(function(e){if(!dn(e))throw new Error("bbox must only contain numbers")})}function dg(r){if(!r)throw new Error("id is required");if(["string","number"].indexOf(typeof r)===-1)throw new Error("id must be a number or a string")}const pg=Object.freeze(Object.defineProperty({__proto__:null,areaFactors:Ai,bearingToAzimuth:yg,convertArea:gg,convertLength:hg,degreesToRadians:$e,earthRadius:Re,factors:Qi,feature:et,featureCollection:zt,geometry:ag,geometryCollection:ug,isNumber:dn,isObject:to,lengthToDegrees:mg,lengthToRadians:En,lineString:Qe,lineStrings:fg,multiLineString:ws,multiPoint:Ss,multiPolygon:Ms,point:Ye,points:lg,polygon:$i,polygons:sg,radiansToDegrees:wr,radiansToLength:eo,round:cg,unitsFactors:og,validateBBox:vg,validateId:dg},Symbol.toStringTag,{value:"Module"}));function Sr(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function tr(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Ps(r,e,t){if(t===void 0&&(t={}),t.final===!0)return bg(r,e);var n=Sr(r),i=Sr(e),o=$e(n[0]),a=$e(i[0]),l=$e(n[1]),s=$e(i[1]),f=Math.sin(a-o)*Math.cos(s),c=Math.cos(l)*Math.sin(s)-Math.sin(l)*Math.cos(s)*Math.cos(a-o);return wr(Math.atan2(f,c))}function bg(r,e){var t=Ps(e,r);return t=(t+180)%360,t}function gr(r,e,t){t===void 0&&(t={});var n=Sr(r),i=Sr(e),o=$e(i[1]-n[1]),a=$e(i[0]-n[0]),l=$e(n[1]),s=$e(i[1]),f=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(l)*Math.cos(s);return eo(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),t.units)}function qa(r,e,t,n){n===void 0&&(n={});var i=Sr(r),o=$e(i[0]),a=$e(i[1]),l=$e(t),s=En(e,n.units),f=Math.asin(Math.sin(a)*Math.cos(s)+Math.cos(a)*Math.sin(s)*Math.cos(l)),c=o+Math.atan2(Math.sin(l)*Math.sin(s)*Math.cos(a),Math.cos(s)-Math.sin(a)*Math.sin(f)),m=wr(c),g=wr(f);return Ye([m,g],n.properties)}function kr(r,e,t){if(r!==null)for(var n,i,o,a,l,s,f,c=0,m=0,g,v=r.type,_=v==="FeatureCollection",T=v==="Feature",L=_?r.features.length:1,B=0;B<L;B++){f=_?r.features[B].geometry:T?r.geometry:r,g=f?f.type==="GeometryCollection":!1,l=g?f.geometries.length:1;for(var u=0;u<l;u++){var y=0,h=0;if(a=g?f.geometries[u]:f,a!==null){s=a.coordinates;var b=a.type;switch(c=t&&(b==="Polygon"||b==="MultiPolygon")?1:0,b){case null:break;case"Point":if(e(s,m,B,y,h)===!1)return!1;m++,y++;break;case"LineString":case"MultiPoint":for(n=0;n<s.length;n++){if(e(s[n],m,B,y,h)===!1)return!1;m++,b==="MultiPoint"&&y++}b==="LineString"&&y++;break;case"Polygon":case"MultiLineString":for(n=0;n<s.length;n++){for(i=0;i<s[n].length-c;i++){if(e(s[n][i],m,B,y,h)===!1)return!1;m++}b==="MultiLineString"&&y++,b==="Polygon"&&h++}b==="Polygon"&&y++;break;case"MultiPolygon":for(n=0;n<s.length;n++){for(h=0,i=0;i<s[n].length;i++){for(o=0;o<s[n][i].length-c;o++){if(e(s[n][i][o],m,B,y,h)===!1)return!1;m++}h++}y++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(kr(a.geometries[n],e,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function _g(r,e,t,n){var i=t;return kr(r,function(o,a,l,s,f){a===0&&t===void 0?i=o:i=e(i,o,a,l,s,f)},n),i}function ks(r,e){var t;switch(r.type){case"FeatureCollection":for(t=0;t<r.features.length&&e(r.features[t].properties,t)!==!1;t++);break;case"Feature":e(r.properties,0);break}}function wg(r,e,t){var n=t;return ks(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}function pn(r,e){if(r.type==="Feature")e(r,0);else if(r.type==="FeatureCollection")for(var t=0;t<r.features.length&&e(r.features[t],t)!==!1;t++);}function Sg(r,e,t){var n=t;return pn(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}function Mg(r){var e=[];return kr(r,function(t){e.push(t)}),e}function ro(r,e){var t,n,i,o,a,l,s,f,c,m,g=0,v=r.type==="FeatureCollection",_=r.type==="Feature",T=v?r.features.length:1;for(t=0;t<T;t++){for(l=v?r.features[t].geometry:_?r.geometry:r,f=v?r.features[t].properties:_?r.properties:{},c=v?r.features[t].bbox:_?r.bbox:void 0,m=v?r.features[t].id:_?r.id:void 0,s=l?l.type==="GeometryCollection":!1,a=s?l.geometries.length:1,i=0;i<a;i++){if(o=s?l.geometries[i]:l,o===null){if(e(null,g,f,c,m)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(o,g,f,c,m)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(e(o.geometries[n],g,f,c,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function Pg(r,e,t){var n=t;return ro(r,function(i,o,a,l,s){o===0&&t===void 0?n=i:n=e(n,i,o,a,l,s)}),n}function or(r,e){ro(r,function(t,n,i,o,a){var l=t===null?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return e(et(t,i,{bbox:o,id:a}),n,0)===!1?!1:void 0}var s;switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var f=0;f<t.coordinates.length;f++){var c=t.coordinates[f],m={type:s,coordinates:c};if(e(et(m,i),n,f)===!1)return!1}})}function kg(r,e,t){var n=t;return or(r,function(i,o,a){o===0&&a===0&&t===void 0?n=i:n=e(n,i,o,a)}),n}function Es(r,e){or(r,function(t,n,i){var o=0;if(t.geometry){var a=t.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var l,s=0,f=0,c=0;if(kr(t,function(m,g,v,_,T){if(l===void 0||n>s||_>f||T>c){l=m,s=n,f=_,c=T,o=0;return}var L=Qe([l,m],t.properties);if(e(L,n,i,T,o)===!1)return!1;o++,l=m})===!1)return!1}}})}function Eg(r,e,t){var n=t,i=!1;return Es(r,function(o,a,l,s,f){i===!1&&t===void 0?n=o:n=e(n,o,a,l,s,f),i=!0}),n}function As(r,e){if(!r)throw new Error("geojson is required");or(r,function(t,n,i){if(t.geometry!==null){var o=t.geometry.type,a=t.geometry.coordinates;switch(o){case"LineString":if(e(t,n,i,0,0)===!1)return!1;break;case"Polygon":for(var l=0;l<a.length;l++)if(e(Qe(a[l],t.properties),n,i,l)===!1)return!1;break}}})}function Ag(r,e,t){var n=t;return As(r,function(i,o,a,l){o===0&&t===void 0?n=i:n=e(n,i,o,a,l)}),n}function Og(r,e){if(e=e||{},!to(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.segmentIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=s.length+o-1),Qe([s[o],s[o+1]],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o-1),Qe([s[i][o],s[i][o+1]],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o-1),Qe([s[n][o],s[n][o+1]],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o-1),Qe([s[n][i][o],s[n][i][o+1]],a,e)}throw new Error("geojson is invalid")}function Lg(r,e){if(e=e||{},!to(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.coordIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":return Ye(s,a,e);case"MultiPoint":return n<0&&(n=s.length+n),Ye(s[n],a,e);case"LineString":return o<0&&(o=s.length+o),Ye(s[o],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o),Ye(s[i][o],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o),Ye(s[n][o],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o),Ye(s[n][i][o],a,e)}throw new Error("geojson is invalid")}const Cg=Object.freeze(Object.defineProperty({__proto__:null,coordAll:Mg,coordEach:kr,coordReduce:_g,featureEach:pn,featureReduce:Sg,findPoint:Lg,findSegment:Og,flattenEach:or,flattenReduce:kg,geomEach:ro,geomReduce:Pg,lineEach:As,lineReduce:Ag,propEach:ks,propReduce:wg,segmentEach:Es,segmentReduce:Eg},Symbol.toStringTag,{value:"Module"}));function Ha(r){if(!r)throw new Error("geojson is required");var e=[];return or(r,function(t){Tg(t,e)}),zt(e)}function Tg(r,e){var t=[],n=r.geometry;if(n!==null){switch(n.type){case"Polygon":t=tr(n);break;case"LineString":t=[tr(n)]}t.forEach(function(i){var o=Bg(i,r.properties);o.forEach(function(a){a.id=e.length,e.push(a)})})}}function Bg(r,e){var t=[];return r.reduce(function(n,i){var o=Qe([n,i],e);return o.bbox=Ig(n,i),t.push(o),i}),t}function Ig(r,e){var t=r[0],n=r[1],i=e[0],o=e[1],a=t<i?t:i,l=n<o?n:o,s=t>i?t:i,f=n>o?n:o;return[a,l,s,f]}var no={exports:{}},Os={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(_n,function(){function t(u,y,h,b,M){(function k(A,E,I,p,w){for(;p>I;){if(p-I>600){var U=p-I+1,F=E-I+1,W=Math.log(U),G=.5*Math.exp(2*W/3),$=.5*Math.sqrt(W*G*(U-G)/U)*(F-U/2<0?-1:1),re=Math.max(I,Math.floor(E-F*G/U+$)),ye=Math.min(p,Math.floor(E+(U-F)*G/U+$));k(A,E,re,ye,w)}var ge=A[E],ce=I,fe=p;for(n(A,I,E),w(A[p],ge)>0&&n(A,I,p);ce<fe;){for(n(A,ce,fe),ce++,fe--;w(A[ce],ge)<0;)ce++;for(;w(A[fe],ge)>0;)fe--}w(A[I],ge)===0?n(A,I,fe):n(A,++fe,p),fe<=E&&(I=fe+1),E<=fe&&(p=fe-1)}})(u,y,h||0,b||u.length-1,M||i)}function n(u,y,h){var b=u[y];u[y]=u[h],u[h]=b}function i(u,y){return u<y?-1:u>y?1:0}var o=function(u){u===void 0&&(u=9),this._maxEntries=Math.max(4,u),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(u,y,h){if(!h)return y.indexOf(u);for(var b=0;b<y.length;b++)if(h(u,y[b]))return b;return-1}function l(u,y){s(u,0,u.children.length,y,u)}function s(u,y,h,b,M){M||(M=L(null)),M.minX=1/0,M.minY=1/0,M.maxX=-1/0,M.maxY=-1/0;for(var k=y;k<h;k++){var A=u.children[k];f(M,u.leaf?b(A):A)}return M}function f(u,y){return u.minX=Math.min(u.minX,y.minX),u.minY=Math.min(u.minY,y.minY),u.maxX=Math.max(u.maxX,y.maxX),u.maxY=Math.max(u.maxY,y.maxY),u}function c(u,y){return u.minX-y.minX}function m(u,y){return u.minY-y.minY}function g(u){return(u.maxX-u.minX)*(u.maxY-u.minY)}function v(u){return u.maxX-u.minX+(u.maxY-u.minY)}function _(u,y){return u.minX<=y.minX&&u.minY<=y.minY&&y.maxX<=u.maxX&&y.maxY<=u.maxY}function T(u,y){return y.minX<=u.maxX&&y.minY<=u.maxY&&y.maxX>=u.minX&&y.maxY>=u.minY}function L(u){return{children:u,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function B(u,y,h,b,M){for(var k=[y,h];k.length;)if(!((h=k.pop())-(y=k.pop())<=b)){var A=y+Math.ceil((h-y)/b/2)*b;t(u,A,y,h,M),k.push(y,A,A,h)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(u){var y=this.data,h=[];if(!T(u,y))return h;for(var b=this.toBBox,M=[];y;){for(var k=0;k<y.children.length;k++){var A=y.children[k],E=y.leaf?b(A):A;T(u,E)&&(y.leaf?h.push(A):_(u,E)?this._all(A,h):M.push(A))}y=M.pop()}return h},o.prototype.collides=function(u){var y=this.data;if(!T(u,y))return!1;for(var h=[];y;){for(var b=0;b<y.children.length;b++){var M=y.children[b],k=y.leaf?this.toBBox(M):M;if(T(u,k)){if(y.leaf||_(u,k))return!0;h.push(M)}}y=h.pop()}return!1},o.prototype.load=function(u){if(!u||!u.length)return this;if(u.length<this._minEntries){for(var y=0;y<u.length;y++)this.insert(u[y]);return this}var h=this._build(u.slice(),0,u.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else{if(this.data.height<h.height){var b=this.data;this.data=h,h=b}this._insert(h,this.data.height-h.height-1,!0)}else this.data=h;return this},o.prototype.insert=function(u){return u&&this._insert(u,this.data.height-1),this},o.prototype.clear=function(){return this.data=L([]),this},o.prototype.remove=function(u,y){if(!u)return this;for(var h,b,M,k=this.data,A=this.toBBox(u),E=[],I=[];k||E.length;){if(k||(k=E.pop(),b=E[E.length-1],h=I.pop(),M=!0),k.leaf){var p=a(u,k.children,y);if(p!==-1)return k.children.splice(p,1),E.push(k),this._condense(E),this}M||k.leaf||!_(k,A)?b?(h++,k=b.children[h],M=!1):k=null:(E.push(k),I.push(h),h=0,b=k,k=k.children[0])}return this},o.prototype.toBBox=function(u){return u},o.prototype.compareMinX=function(u,y){return u.minX-y.minX},o.prototype.compareMinY=function(u,y){return u.minY-y.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(u){return this.data=u,this},o.prototype._all=function(u,y){for(var h=[];u;)u.leaf?y.push.apply(y,u.children):h.push.apply(h,u.children),u=h.pop();return y},o.prototype._build=function(u,y,h,b){var M,k=h-y+1,A=this._maxEntries;if(k<=A)return l(M=L(u.slice(y,h+1)),this.toBBox),M;b||(b=Math.ceil(Math.log(k)/Math.log(A)),A=Math.ceil(k/Math.pow(A,b-1))),(M=L([])).leaf=!1,M.height=b;var E=Math.ceil(k/A),I=E*Math.ceil(Math.sqrt(A));B(u,y,h,I,this.compareMinX);for(var p=y;p<=h;p+=I){var w=Math.min(p+I-1,h);B(u,p,w,E,this.compareMinY);for(var U=p;U<=w;U+=E){var F=Math.min(U+E-1,w);M.children.push(this._build(u,U,F,b-1))}}return l(M,this.toBBox),M},o.prototype._chooseSubtree=function(u,y,h,b){for(;b.push(y),!y.leaf&&b.length-1!==h;){for(var M=1/0,k=1/0,A=void 0,E=0;E<y.children.length;E++){var I=y.children[E],p=g(I),w=(U=u,F=I,(Math.max(F.maxX,U.maxX)-Math.min(F.minX,U.minX))*(Math.max(F.maxY,U.maxY)-Math.min(F.minY,U.minY))-p);w<k?(k=w,M=p<M?p:M,A=I):w===k&&p<M&&(M=p,A=I)}y=A||y.children[0]}var U,F;return y},o.prototype._insert=function(u,y,h){var b=h?u:this.toBBox(u),M=[],k=this._chooseSubtree(b,this.data,y,M);for(k.children.push(u),f(k,b);y>=0&&M[y].children.length>this._maxEntries;)this._split(M,y),y--;this._adjustParentBBoxes(b,M,y)},o.prototype._split=function(u,y){var h=u[y],b=h.children.length,M=this._minEntries;this._chooseSplitAxis(h,M,b);var k=this._chooseSplitIndex(h,M,b),A=L(h.children.splice(k,h.children.length-k));A.height=h.height,A.leaf=h.leaf,l(h,this.toBBox),l(A,this.toBBox),y?u[y-1].children.push(A):this._splitRoot(h,A)},o.prototype._splitRoot=function(u,y){this.data=L([u,y]),this.data.height=u.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(u,y,h){for(var b,M,k,A,E,I,p,w=1/0,U=1/0,F=y;F<=h-y;F++){var W=s(u,0,F,this.toBBox),G=s(u,F,h,this.toBBox),$=(M=W,k=G,A=void 0,E=void 0,I=void 0,p=void 0,A=Math.max(M.minX,k.minX),E=Math.max(M.minY,k.minY),I=Math.min(M.maxX,k.maxX),p=Math.min(M.maxY,k.maxY),Math.max(0,I-A)*Math.max(0,p-E)),re=g(W)+g(G);$<w?(w=$,b=F,U=re<U?re:U):$===w&&re<U&&(U=re,b=F)}return b||h-y},o.prototype._chooseSplitAxis=function(u,y,h){var b=u.leaf?this.compareMinX:c,M=u.leaf?this.compareMinY:m;this._allDistMargin(u,y,h,b)<this._allDistMargin(u,y,h,M)&&u.children.sort(b)},o.prototype._allDistMargin=function(u,y,h,b){u.children.sort(b);for(var M=this.toBBox,k=s(u,0,y,M),A=s(u,h-y,h,M),E=v(k)+v(A),I=y;I<h-y;I++){var p=u.children[I];f(k,u.leaf?M(p):p),E+=v(k)}for(var w=h-y-1;w>=y;w--){var U=u.children[w];f(A,u.leaf?M(U):U),E+=v(A)}return E},o.prototype._adjustParentBBoxes=function(u,y,h){for(var b=h;b>=0;b--)f(y[b],u)},o.prototype._condense=function(u){for(var y=u.length-1,h=void 0;y>=0;y--)u[y].children.length===0?y>0?(h=u[y-1].children).splice(h.indexOf(u[y]),1):this.clear():l(u[y],this.toBBox)},o})})(Os);var Fg=Os.exports;const Rg=Ti(pg),Ls=Ti(Cg);var io={};Object.defineProperty(io,"__esModule",{value:!0});var Dg=Ls;function Oi(r){var e=[1/0,1/0,-1/0,-1/0];return Dg.coordEach(r,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}Oi.default=Oi;io.default=Oi;var at=Fg,Cs=Rg,Ts=Ls,xt=io.default,zg=Ts.featureEach;Ts.coordEach;Cs.polygon;var Za=Cs.featureCollection;function Bs(r){var e=new at(r);return e.insert=function(t){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:xt(t),at.prototype.insert.call(this,t)},e.load=function(t){var n=[];return Array.isArray(t)?t.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:xt(i),n.push(i)}):zg(t,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:xt(i),n.push(i)}),at.prototype.load.call(this,n)},e.remove=function(t,n){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:xt(t),at.prototype.remove.call(this,t,n)},e.clear=function(){return at.prototype.clear.call(this)},e.search=function(t){var n=at.prototype.search.call(this,this.toBBox(t));return Za(n)},e.collides=function(t){return at.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=at.prototype.all.call(this);return Za(t)},e.toJSON=function(){return at.prototype.toJSON.call(this)},e.fromJSON=function(t){return at.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var n;if(t.bbox)n=t.bbox;else if(Array.isArray(t)&&t.length===4)n=t;else if(Array.isArray(t)&&t.length===6)n=[t[0],t[1],t[3],t[4]];else if(t.type==="Feature")n=xt(t);else if(t.type==="FeatureCollection")n=xt(t);else throw new Error("invalid geojson");return{minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}},e}no.exports=Bs;no.exports.default=Bs;var Ng=no.exports;const Ug=al(Ng);function Wg(r,e){var t={},n=[];if(r.type==="LineString"&&(r=et(r)),e.type==="LineString"&&(e=et(e)),r.type==="Feature"&&e.type==="Feature"&&r.geometry!==null&&e.geometry!==null&&r.geometry.type==="LineString"&&e.geometry.type==="LineString"&&r.geometry.coordinates.length===2&&e.geometry.coordinates.length===2){var i=Xa(r,e);return i&&n.push(i),zt(n)}var o=Ug();return o.load(Ha(e)),pn(Ha(r),function(a){pn(o.search(a),function(l){var s=Xa(a,l);if(s){var f=tr(s).join(",");t[f]||(t[f]=!0,n.push(s))}})}),zt(n)}function Xa(r,e){var t=tr(r),n=tr(e);if(t.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(n.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=t[0][0],o=t[0][1],a=t[1][0],l=t[1][1],s=n[0][0],f=n[0][1],c=n[1][0],m=n[1][1],g=(m-f)*(a-i)-(c-s)*(l-o),v=(c-s)*(o-f)-(m-f)*(i-s),_=(a-i)*(o-f)-(l-o)*(i-s);if(g===0)return null;var T=v/g,L=_/g;if(T>=0&&T<=1&&L>=0&&L<=1){var B=i+T*(a-i),u=o+T*(l-o);return Ye([B,u])}return null}function Gg(r,e,t){t===void 0&&(t={});var n=Ye([1/0,1/0],{dist:1/0}),i=0;return or(r,function(o){for(var a=tr(o),l=0;l<a.length-1;l++){var s=Ye(a[l]);s.properties.dist=gr(e,s,t);var f=Ye(a[l+1]);f.properties.dist=gr(e,f,t);var c=gr(s,f,t),m=Math.max(s.properties.dist,f.properties.dist),g=Ps(s,f),v=qa(e,m,g+90,t),_=qa(e,m,g-90,t),T=Wg(Qe([v.geometry.coordinates,_.geometry.coordinates]),Qe([s.geometry.coordinates,f.geometry.coordinates])),L=null;T.features.length>0&&(L=T.features[0],L.properties.dist=gr(e,L,t),L.properties.location=i+gr(s,L,t)),s.properties.dist<n.properties.dist&&(n=s,n.properties.index=l,n.properties.location=i),f.properties.dist<n.properties.dist&&(n=f,n.properties.index=l+1,n.properties.location=i+c),L&&L.properties.dist<n.properties.dist&&(n=L,n.properties.index=l),i+=c}}),n}const jg=["==",["geometry-type"],"Polygon"],qg=["==",["geometry-type"],"LineString"],Hg=["==",["geometry-type"],"Point"];function ri(r){return{type:"Feature",properties:{},geometry:{type:"Point",coordinates:Is(r)}}}function Is(r){return[Math.round(r[0]*1e7)/1e7,Math.round(r[1]*1e7)/1e7]}const Fs=it({type:"FeatureCollection",features:[]}),Rs=it(0),Zg=100;class Xg{constructor(e){ke(this,"map");ke(this,"active");ke(this,"eventListenersSuccess");ke(this,"eventListenersUpdated");ke(this,"eventListenersFailure");ke(this,"points");ke(this,"cursor");ke(this,"hover");ke(this,"dragFrom");ke(this,"previousStates");ke(this,"onMouseMove",e=>{if(this.active&&!this.dragFrom)this.recalculateHovering(e);else if(this.active&&this.dragFrom){if(this.hover=="polygon"){let t=this.dragFrom[0]-e.lngLat.lng,n=this.dragFrom[1]-e.lngLat.lat;for(let i of this.points)i[0]-=t,i[1]-=n}else this.points[this.hover]=e.lngLat.toArray();this.dragFrom=e.lngLat.toArray(),this.redraw()}});ke(this,"onClick",e=>{if(this.beforeUpdate(),this.active&&this.cursor){let t=[];if(Ya(this.points).forEach((n,i)=>{t.push([i+1,Gg(n,this.cursor).properties.dist])}),t.sort((n,i)=>n[1]-i[1]),t.length>0){let n=t[0][0];this.points.splice(n,0,this.cursor.geometry.coordinates),this.hover=n}else this.points.push(this.cursor.geometry.coordinates),this.hover=this.points.length-1;this.redraw(),this.pointsUpdated()}else this.active&&typeof this.hover=="number"&&(this.points.splice(this.hover,1),this.hover=null,this.redraw(),this.pointsUpdated(),this.recalculateHovering(e))});ke(this,"onDoubleClick",e=>{this.active&&(e.preventDefault(),this.cursor=ri(e.lngLat.toArray()),this.onClick(e),this.finish())});ke(this,"onMouseDown",e=>{this.active&&!this.dragFrom&&this.hover!=null&&(e.preventDefault(),this.cursor=null,this.dragFrom=e.lngLat.toArray(),this.beforeUpdate(),this.redraw())});ke(this,"onMouseUp",()=>{this.active&&this.dragFrom&&(this.dragFrom=null,this.redraw(),this.pointsUpdated())});ke(this,"onKeypress",e=>{this.active&&(e.key=="Enter"?(e.stopPropagation(),this.finish()):e.key=="z"&&e.ctrlKey&&this.undo())});ke(this,"onKeyDown",e=>{this.active&&e.key=="Escape"&&(e.stopPropagation(),this.cancel())});this.map=e,this.active=!1,this.eventListenersSuccess=[],this.eventListenersUpdated=[],this.eventListenersFailure=[],this.points=[],this.cursor=null,this.hover=null,this.dragFrom=null,this.previousStates=[],this.map.on("mousemove",this.onMouseMove),this.map.on("click",this.onClick),this.map.on("dblclick",this.onDoubleClick),this.map.on("mousedown",this.onMouseDown),this.map.on("mouseup",this.onMouseUp),document.addEventListener("keypress",this.onKeypress),document.addEventListener("keydown",this.onKeyDown)}tearDown(){this.map.off("mousemove",this.onMouseMove),this.map.off("click",this.onClick),this.map.off("dblclick",this.onDoubleClick),this.map.off("mousedown",this.onMouseDown),this.map.off("mouseup",this.onMouseUp),document.removeEventListener("keypress",this.onKeypress),document.removeEventListener("keydown",this.onKeyDown)}finish(){let e=this.polygonFeature();if(e)for(let t of this.eventListenersSuccess)t(e);else for(let t of this.eventListenersFailure)t();this.stop()}cancel(){for(let e of this.eventListenersFailure)e();this.stop()}addEventListenerSuccess(e){this.eventListenersSuccess.push(e)}addEventListenerUpdated(e){this.eventListenersUpdated.push(e)}addEventListenerFailure(e){this.eventListenersFailure.push(e)}clearEventListeners(){this.eventListenersSuccess=[],this.eventListenersUpdated=[],this.eventListenersFailure=[]}startNew(){this.active=!0,this.map.doubleClickZoom.disable()}editExisting(e){this.active=!0,this.map.doubleClickZoom.disable(),this.points=JSON.parse(JSON.stringify(e.geometry.coordinates[0])),this.points.pop(),this.redraw()}stop(){this.map.doubleClickZoom.enable(),this.points=[],this.cursor=null,this.active=!1,this.hover=null,this.dragFrom=null,this.previousStates=[],this.redraw(),this.map.getCanvas().style.cursor="inherit"}undo(){this.dragFrom!=null||this.previousStates.length==0||(this.points=this.previousStates.pop(),this.hover=null,this.redraw())}redraw(){let e={type:"FeatureCollection",features:[]};this.points.forEach((i,o)=>{let a=ri(i);a.properties.hover=this.hover==o,a.properties.idx=o,e.features.push(a)}),e.features=e.features.concat(Ya(this.points));let t=this.polygonFeature();t&&(t.properties.hover=this.hover=="polygon",e.features.push(t)),Fs.set(e);let n="crosshair";this.hover!=null&&(n=this.dragFrom?"grabbing":"pointer"),this.map.getCanvas().style.cursor=n,Rs.set(this.previousStates.length)}pointsUpdated(){let e=this.polygonFeature();if(e)for(let t of this.eventListenersUpdated)t(e)}recalculateHovering(e){this.cursor=null,this.hover=null;for(let t of this.map.queryRenderedFeatures(e.point,{layers:["edit-polygon-fill","edit-polygon-vertices"]}))if(t.geometry.type=="Polygon"){this.hover="polygon";break}else if(t.geometry.type=="Point"&&Object.hasOwn(t.properties,"idx")){this.hover=t.properties.idx;break}this.hover==null&&(this.cursor=ri(e.lngLat.toArray())),this.redraw()}polygonFeature(){if(this.points.length<3)return null;let e=this.points.map(Is),t=[JSON.parse(JSON.stringify(e))];return t[0].push(JSON.parse(JSON.stringify(t[0][0]))),{type:"Feature",geometry:{type:"Polygon",coordinates:t},properties:{}}}beforeUpdate(){this.previousStates.push(JSON.parse(JSON.stringify(this.points))),this.previousStates.length>Zg&&this.previousStates.shift()}}function Ya(r){let e=[];for(let t=0;t<r.length-1;t++)e.push({type:"Feature",geometry:{type:"LineString",coordinates:[r[t],r[t+1]]},properties:{}});return r.length>=3&&e.push({type:"Feature",geometry:{type:"LineString",coordinates:[r[r.length-1],r[0]]},properties:{}}),e}let Yg=Date.now();function Er(r){return`${r}-${Yg++}`}const oo=Symbol.for("svelte-maplibre");function Ar(){return Xs(oo)}function xg(r){let e=new WeakMap;return t=>{var a;let n=e.get(t.originalEvent);if(n!==void 0)return n;let o=(a=t.target.queryRenderedFeatures(t.point).find(l=>{var s;return(s=r.get(l.layer.id))==null?void 0:s.interactive}))==null?void 0:a.layer.id;return e.set(t.originalEvent,o),o}}function Vg(){let r=new Map;return ol(oo,{map:it(null),source:Rn(null),layer:Rn(null),popupTarget:Rn(null),cluster:it(),loadedImages:it(new Set),minzoom:it(0),maxzoom:it(24),layerEvent:it(null),layerInfo:r,eventTopMost:xg(r)})}function xa(r){return{subscribe:r.subscribe}}function Ds({key:r,setPopupTarget:e=!1,setCluster:t=!1,setMouseEvent:n=!1}){let i=Ar(),o=it(null),a=xa(o),l={...i,[r]:xa(o)};if(e&&(l.popupTarget=a),n){let s=it(null);l.layerEvent=s,i.layerEvent=s}return t&&(l.cluster=it()),ol(oo,l),{...i,self:o}}function Jg(){return Ds({key:"source",setCluster:!0})}function Kg(r=!0){return Ds({key:"layer",setPopupTarget:r,setMouseEvent:r})}function Va(r){let e;return t=>{if(t)for(let n in t){let i=e==null?void 0:e[n],o=t[n];i!==o&&r(n,o,i)}else if(e)for(let n in e)r(n,void 0,e[n]);e=t}}function Qg(r,...e){let t=[r];for(let n of e)if(n)Array.isArray(n)&&n[0]===r?t.push(...n.slice(1)):t.push(n);else continue;if(t.length!==1)return t.length===2?t[1]:t}function $g(r){return r===!0?["has","point_count"]:r===!1?["!",["has","point_count"]]:void 0}var bn=ev;function ev(r){var e,t,n;if(r){if(Array.isArray(r)){for(e=[],t=r.length,n=0;n<t;n++){var i=r[n];i!=null&&e.push(i)}return e}if(typeof r=="object"){e={};var o=Object.keys(r);for(t=o.length,n=0;n<t;n++){var a=o[n],l=r[a];l!=null&&(e[a]=l)}return e}}}function Ja(r){let e=r[0],t,n,i=Ka(r);return{c(){i.c(),t=Ne()},l(o){i.l(o),t=Ne()},m(o,a){i.m(o,a),N(o,t,a),n=!0},p(o,a){a[0]&1&&he(e,e=o[0])?(Je(),z(i,1,1,me),Ke(),i=Ka(o),i.c(),D(i,1),i.m(t.parentNode,t)):i.p(o,a)},i(o){n||(D(i),n=!0)},o(o){z(i),n=!1},d(o){o&&O(t),i.d(o)}}}function Ka(r){let e;const t=r[36].default,n=kt(t,r,r[35],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o[1]&16)&&Et(n,t,i,i[35],e?Ot(t,i[35],o,null):At(i[35]),null)},i(i){e||(D(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function tv(r){let e,t,n=r[0]&&Ja(r);return{c(){n&&n.c(),e=Ne()},l(i){n&&n.l(i),e=Ne()},m(i,o){n&&n.m(i,o),N(i,e,o),t=!0},p(i,o){i[0]?n?(n.p(i,o),o[0]&1&&D(n,1)):(n=Ja(i),n.c(),D(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke())},i(i){t||(D(n),t=!0)},o(i){z(n),t=!1},d(i){i&&O(e),n&&n.d(i)}}}function rv(r,e,t){let n,i,o,a,l,s,f,c,m,g,v,_,{$$slots:T={},$$scope:L}=e,{id:B=Er("layer")}=e,{source:u=void 0}=e,{sourceLayer:y=void 0}=e,{beforeId:h=void 0}=e,{beforeLayerType:b=void 0}=e,{type:M}=e,{paint:k=void 0}=e,{layout:A=void 0}=e,{filter:E=void 0}=e,{applyToClusters:I=void 0}=e,{minzoom:p=void 0}=e,{maxzoom:w=void 0}=e,{manageHoverState:U=!1}=e,{hovered:F=null}=e,{interactive:W=!0}=e,{hoverCursor:G=void 0}=e,{eventsIfTopMost:$=!1}=e;const re=Ci(),{map:ye,source:ge,self:ce,minzoom:fe,maxzoom:Fe,eventTopMost:_e,layerInfo:We}=Kg();Ce(r,ye,P=>t(31,m=P)),Ce(r,ge,P=>t(32,g=P)),Ce(r,ce,P=>t(0,c=P)),Ce(r,fe,P=>t(34,_=P)),Ce(r,Fe,P=>t(33,v=P)),St(()=>{c&&m&&(We.delete(c),m==null||m.removeLayer(c))});let we;function Me(P){var ve,ne;if(!W||!c||!m||$&&_e(P)!==c)return;let H=P.features??[],Z=(ne=(ve=H[0])==null?void 0:ve.properties)==null?void 0:ne.cluster_id,Ge={event:P,map:m,clusterId:Z,layer:c,source:l,features:H};re(P.type,Ge)}function R(P){var ve,ne;if(!W||!c||!m||$&&_e(P)!==c)return;G&&(m.getCanvas().style.cursor=G);let H=P.features??[];t(6,F=H[0]??null);let Z=(ne=(ve=H[0])==null?void 0:ve.properties)==null?void 0:ne.cluster_id;re("mouseenter",{event:P,map:m,clusterId:Z,layer:c,source:l,features:H})}function q(P){var ve,ne,je;if(!W||!m)return;if($&&_e(P)!==c){t(6,F=null),U&&we!==void 0&&(m==null||m.setFeatureState({source:l,sourceLayer:y,id:we},{hover:!1}),we=void 0);return}m.getCanvas().style.cursor=G;let H=P.features??[],Z=(ne=(ve=H[0])==null?void 0:ve.properties)==null?void 0:ne.cluster_id,Ge=(je=H[0])==null?void 0:je.id;Ge!==we&&(U&&(we!==void 0&&(m==null||m.setFeatureState({source:l,id:we,sourceLayer:y},{hover:!1})),m==null||m.setFeatureState({source:l,id:Ge,sourceLayer:y},{hover:!0})),we=Ge,t(6,F=H[0]??null)),re("mousemove",{event:P,map:m,clusterId:Z,layer:c,source:l,features:H})}function ae(P){if(!(!W||!c||!m)){if(G&&(m.getCanvas().style.cursor=""),t(6,F=null),U&&we!==void 0){const H={source:l,id:we,sourceLayer:y};m==null||m.setFeatureState(H,{hover:!1}),we=void 0}re("mouseleave",{map:m,layer:c,source:l})}}let Ze=!0;function Xe(P){m&&(m.off("click",P,Me),m.off("dblclick",P,Me),m.off("contextmenu",P,Me),m.off("mouseenter",P,R),m.off("mousemove",P,q),m.off("mouseleave",P,ae))}return St(()=>{m&&c&&Xe(c)}),r.$$set=P=>{"id"in P&&t(7,B=P.id),"source"in P&&t(8,u=P.source),"sourceLayer"in P&&t(9,y=P.sourceLayer),"beforeId"in P&&t(10,h=P.beforeId),"beforeLayerType"in P&&t(11,b=P.beforeLayerType),"type"in P&&t(12,M=P.type),"paint"in P&&t(13,k=P.paint),"layout"in P&&t(14,A=P.layout),"filter"in P&&t(15,E=P.filter),"applyToClusters"in P&&t(16,I=P.applyToClusters),"minzoom"in P&&t(17,p=P.minzoom),"maxzoom"in P&&t(18,w=P.maxzoom),"manageHoverState"in P&&t(19,U=P.manageHoverState),"hovered"in P&&t(6,F=P.hovered),"interactive"in P&&t(20,W=P.interactive),"hoverCursor"in P&&t(21,G=P.hoverCursor),"eventsIfTopMost"in P&&t(22,$=P.eventsIfTopMost),"$$scope"in P&&t(35,L=P.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&65536&&t(30,n=$g(I)),r.$$.dirty[0]&1073774592&&t(24,i=Qg("all",n,E)),r.$$.dirty[0]&131072|r.$$.dirty[1]&8&&t(26,o=p??_),r.$$.dirty[0]&262144|r.$$.dirty[1]&4&&t(25,a=w??v),r.$$.dirty[0]&256|r.$$.dirty[1]&2&&t(29,l=u||g),r.$$.dirty[0]&654343809|r.$$.dirty[1]&1&&m&&c!==B&&l){c&&(Xe(c),We.delete(c));let P=h;if(!h&&b){let H=m.getStyle().layers,Z=typeof b=="function"?b:ve=>ve.type===b,Ge=H==null?void 0:H.find(Z);Ge&&(P=Ge.id)}wt(ce,c=B,c),m.addLayer(bn({id:c,type:M,source:l,"source-layer":y,filter:i,paint:k,layout:A,minzoom:o,maxzoom:a}),P),t(23,Ze=!0),m.on("click",c,Me),m.on("dblclick",c,Me),m.on("contextmenu",c,Me),m.on("mouseenter",c,R),m.on("mousemove",c,q),m.on("mouseleave",c,ae)}r.$$.dirty[0]&1048577&&c&&We.set(c,{interactive:W}),r.$$.dirty[0]&1|r.$$.dirty[1]&1&&t(28,s=c?Va((P,H)=>m==null?void 0:m.setPaintProperty(c,P,H)):void 0),r.$$.dirty[0]&1|r.$$.dirty[1]&1&&t(27,f=c?Va((P,H)=>m==null?void 0:m.setLayoutProperty(c,P,H)):void 0),r.$$.dirty[0]&268443648&&(s==null||s(k)),r.$$.dirty[0]&134234112&&(f==null||f(A)),r.$$.dirty[0]&100663297|r.$$.dirty[1]&1&&c&&(m==null||m.setLayerZoomRange(c,o,a)),r.$$.dirty[0]&25165825|r.$$.dirty[1]&1&&c&&(Ze?t(23,Ze=!1):m==null||m.setFilter(c,i))},[c,ye,ge,ce,fe,Fe,F,B,u,y,h,b,M,k,A,E,I,p,w,U,W,G,$,Ze,i,a,o,f,s,l,n,m,g,v,_,L,T]}class ao extends pe{constructor(e){super(),be(this,e,rv,tv,he,{id:7,source:8,sourceLayer:9,beforeId:10,beforeLayerType:11,type:12,paint:13,layout:14,filter:15,applyToClusters:16,minzoom:17,maxzoom:18,manageHoverState:19,hovered:6,interactive:20,hoverCursor:21,eventsIfTopMost:22},null,[-1,-1])}}function nv(r){let e;const t=r[16].default,n=kt(t,r,r[24],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&16777216)&&Et(n,t,i,i[24],e?Ot(t,i[24],o,null):At(i[24]),null)},i(i){e||(D(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function iv(r){let e,t,n;function i(a){r[17](a)}let o={id:r[1],type:"circle",source:r[2],sourceLayer:r[3],beforeId:r[4],beforeLayerType:r[5],paint:r[6],layout:r[7],filter:r[8],applyToClusters:r[9],minzoom:r[10],maxzoom:r[11],hoverCursor:r[12],manageHoverState:r[13],eventsIfTopMost:r[14],interactive:r[15],$$slots:{default:[nv]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.hovered=r[0]),e=new ao({props:o}),Pe.push(()=>Oe(e,"hovered",i)),e.$on("click",r[18]),e.$on("dblclick",r[19]),e.$on("contextmenu",r[20]),e.$on("mouseenter",r[21]),e.$on("mousemove",r[22]),e.$on("mouseleave",r[23]),{c(){X(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,l){x(e,a,l),n=!0},p(a,[l]){const s={};l&2&&(s.id=a[1]),l&4&&(s.source=a[2]),l&8&&(s.sourceLayer=a[3]),l&16&&(s.beforeId=a[4]),l&32&&(s.beforeLayerType=a[5]),l&64&&(s.paint=a[6]),l&128&&(s.layout=a[7]),l&256&&(s.filter=a[8]),l&512&&(s.applyToClusters=a[9]),l&1024&&(s.minzoom=a[10]),l&2048&&(s.maxzoom=a[11]),l&4096&&(s.hoverCursor=a[12]),l&8192&&(s.manageHoverState=a[13]),l&16384&&(s.eventsIfTopMost=a[14]),l&32768&&(s.interactive=a[15]),l&16777216&&(s.$$scope={dirty:l,ctx:a}),!t&&l&1&&(t=!0,s.hovered=a[0],Ae(()=>t=!1)),e.$set(s)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){V(e,a)}}}function ov(r,e,t){let{$$slots:n={},$$scope:i}=e,{id:o=Er("circle")}=e,{source:a=void 0}=e,{sourceLayer:l=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:f=void 0}=e,{paint:c}=e,{layout:m=void 0}=e,{filter:g=void 0}=e,{applyToClusters:v=void 0}=e,{minzoom:_=void 0}=e,{maxzoom:T=void 0}=e,{hoverCursor:L=void 0}=e,{manageHoverState:B=!1}=e,{hovered:u=null}=e,{eventsIfTopMost:y=!1}=e,{interactive:h=!0}=e;function b(w){u=w,t(0,u)}function M(w){Se.call(this,r,w)}function k(w){Se.call(this,r,w)}function A(w){Se.call(this,r,w)}function E(w){Se.call(this,r,w)}function I(w){Se.call(this,r,w)}function p(w){Se.call(this,r,w)}return r.$$set=w=>{"id"in w&&t(1,o=w.id),"source"in w&&t(2,a=w.source),"sourceLayer"in w&&t(3,l=w.sourceLayer),"beforeId"in w&&t(4,s=w.beforeId),"beforeLayerType"in w&&t(5,f=w.beforeLayerType),"paint"in w&&t(6,c=w.paint),"layout"in w&&t(7,m=w.layout),"filter"in w&&t(8,g=w.filter),"applyToClusters"in w&&t(9,v=w.applyToClusters),"minzoom"in w&&t(10,_=w.minzoom),"maxzoom"in w&&t(11,T=w.maxzoom),"hoverCursor"in w&&t(12,L=w.hoverCursor),"manageHoverState"in w&&t(13,B=w.manageHoverState),"hovered"in w&&t(0,u=w.hovered),"eventsIfTopMost"in w&&t(14,y=w.eventsIfTopMost),"interactive"in w&&t(15,h=w.interactive),"$$scope"in w&&t(24,i=w.$$scope)},[u,o,a,l,s,f,c,m,g,v,_,T,L,B,y,h,n,b,M,k,A,E,I,p,i]}class av extends pe{constructor(e){super(),be(this,e,ov,iv,he,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,applyToClusters:9,minzoom:10,maxzoom:11,hoverCursor:12,manageHoverState:13,hovered:0,eventsIfTopMost:14,interactive:15})}}function lv(r){let e;const t=r[15].default,n=kt(t,r,r[23],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8388608)&&Et(n,t,i,i[23],e?Ot(t,i[23],o,null):At(i[23]),null)},i(i){e||(D(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function sv(r){let e,t,n;function i(a){r[16](a)}let o={id:r[1],type:"fill",source:r[2],sourceLayer:r[3],beforeId:r[4],beforeLayerType:r[5],paint:r[6],layout:r[7],filter:r[8],minzoom:r[9],maxzoom:r[10],hoverCursor:r[11],manageHoverState:r[12],eventsIfTopMost:r[13],interactive:r[14],$$slots:{default:[lv]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.hovered=r[0]),e=new ao({props:o}),Pe.push(()=>Oe(e,"hovered",i)),e.$on("click",r[17]),e.$on("dblclick",r[18]),e.$on("contextmenu",r[19]),e.$on("mouseenter",r[20]),e.$on("mousemove",r[21]),e.$on("mouseleave",r[22]),{c(){X(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,l){x(e,a,l),n=!0},p(a,[l]){const s={};l&2&&(s.id=a[1]),l&4&&(s.source=a[2]),l&8&&(s.sourceLayer=a[3]),l&16&&(s.beforeId=a[4]),l&32&&(s.beforeLayerType=a[5]),l&64&&(s.paint=a[6]),l&128&&(s.layout=a[7]),l&256&&(s.filter=a[8]),l&512&&(s.minzoom=a[9]),l&1024&&(s.maxzoom=a[10]),l&2048&&(s.hoverCursor=a[11]),l&4096&&(s.manageHoverState=a[12]),l&8192&&(s.eventsIfTopMost=a[13]),l&16384&&(s.interactive=a[14]),l&8388608&&(s.$$scope={dirty:l,ctx:a}),!t&&l&1&&(t=!0,s.hovered=a[0],Ae(()=>t=!1)),e.$set(s)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){V(e,a)}}}function fv(r,e,t){let{$$slots:n={},$$scope:i}=e,{id:o=Er("fill")}=e,{source:a=void 0}=e,{sourceLayer:l=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:f=void 0}=e,{paint:c}=e,{layout:m=void 0}=e,{filter:g=void 0}=e,{minzoom:v=void 0}=e,{maxzoom:_=void 0}=e,{hoverCursor:T=void 0}=e,{manageHoverState:L=!1}=e,{hovered:B=null}=e,{eventsIfTopMost:u=!1}=e,{interactive:y=!0}=e;function h(p){B=p,t(0,B)}function b(p){Se.call(this,r,p)}function M(p){Se.call(this,r,p)}function k(p){Se.call(this,r,p)}function A(p){Se.call(this,r,p)}function E(p){Se.call(this,r,p)}function I(p){Se.call(this,r,p)}return r.$$set=p=>{"id"in p&&t(1,o=p.id),"source"in p&&t(2,a=p.source),"sourceLayer"in p&&t(3,l=p.sourceLayer),"beforeId"in p&&t(4,s=p.beforeId),"beforeLayerType"in p&&t(5,f=p.beforeLayerType),"paint"in p&&t(6,c=p.paint),"layout"in p&&t(7,m=p.layout),"filter"in p&&t(8,g=p.filter),"minzoom"in p&&t(9,v=p.minzoom),"maxzoom"in p&&t(10,_=p.maxzoom),"hoverCursor"in p&&t(11,T=p.hoverCursor),"manageHoverState"in p&&t(12,L=p.manageHoverState),"hovered"in p&&t(0,B=p.hovered),"eventsIfTopMost"in p&&t(13,u=p.eventsIfTopMost),"interactive"in p&&t(14,y=p.interactive),"$$scope"in p&&t(23,i=p.$$scope)},[B,o,a,l,s,f,c,m,g,v,_,T,L,u,y,n,h,b,M,k,A,E,I,i]}class zs extends pe{constructor(e){super(),be(this,e,fv,sv,he,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function uv(r,e,t){let n;const{map:i}=Ar();Ce(r,i,s=>t(4,n=s));let{position:o="top-left"}=e,{container:a=void 0}=e,l=null;return St(()=>{n!=null&&n.loaded()&&l&&n.removeControl(l)}),r.$$set=s=>{"position"in s&&t(1,o=s.position),"container"in s&&t(2,a=s.container)},r.$$.update=()=>{if(r.$$.dirty&30&&n&&!l){let s;typeof a=="string"?s=document.querySelector(a)??void 0:s=a,t(3,l=new rr.FullscreenControl({container:s})),n.addControl(l,o)}},[i,o,a,l,n]}class cv extends pe{constructor(e){super(),be(this,e,uv,null,he,{position:1,container:2})}}function mv(r,e,t,n,i){let o=!1;r.getSource(e)&&(o=!0,r.removeSource(e));const a=()=>{n(e)&&(r.addSource(e,t),i())};if(o){const l=()=>{e&&(r.getSource(e)?setTimeout(l,1):a())};l()}else a()}function yv(r,e,t){Ys().then(()=>{let n=xs(r);if(!n)return;n.getSource(e)===t&&n.removeSource(e)})}function Qa(r){let e=r[0],t,n,i=$a(r);return{c(){i.c(),t=Ne()},l(o){i.l(o),t=Ne()},m(o,a){i.m(o,a),N(o,t,a),n=!0},p(o,a){a&1&&he(e,e=o[0])?(Je(),z(i,1,1,me),Ke(),i=$a(o),i.c(),D(i,1),i.m(t.parentNode,t)):i.p(o,a)},i(o){n||(D(i),n=!0)},o(o){z(i),n=!1},d(o){o&&O(t),i.d(o)}}}function $a(r){let e;const t=r[15].default,n=kt(t,r,r[14],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&16384)&&Et(n,t,i,i[14],e?Ot(t,i[14],o,null):At(i[14]),null)},i(i){e||(D(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function hv(r){let e,t,n=r[0]&&Qa(r);return{c(){n&&n.c(),e=Ne()},l(i){n&&n.l(i),e=Ne()},m(i,o){n&&n.m(i,o),N(i,e,o),t=!0},p(i,[o]){i[0]?n?(n.p(i,o),o&1&&D(n,1)):(n=Qa(i),n.c(),D(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke())},i(i){t||(D(n),t=!0)},o(i){z(n),t=!1},d(i){i&&O(e),n&&n.d(i)}}}function gv(r,e,t){let n,i,o,{$$slots:a={},$$scope:l}=e,{id:s=Er("geojson")}=e,{data:f}=e,{generateId:c=!1}=e,{promoteId:m=void 0}=e,{filter:g=void 0}=e,{lineMetrics:v=void 0}=e,{cluster:_=void 0}=e;const{map:T,cluster:L,self:B}=Jg();Ce(r,T,h=>t(13,i=h)),Ce(r,L,h=>t(16,o=h)),Ce(r,B,h=>t(0,n=h));let u,y=!0;return St(()=>{n&&u&&i&&(yv(T,n,u),wt(B,n=null,n),t(11,u=void 0))}),r.$$set=h=>{"id"in h&&t(4,s=h.id),"data"in h&&t(5,f=h.data),"generateId"in h&&t(6,c=h.generateId),"promoteId"in h&&t(7,m=h.promoteId),"filter"in h&&t(8,g=h.filter),"lineMetrics"in h&&t(9,v=h.lineMetrics),"cluster"in h&&t(10,_=h.cluster),"$$scope"in h&&t(14,l=h.$$scope)},r.$$.update=()=>{r.$$.dirty&1024&&wt(L,o=_,o),r.$$.dirty&12273&&i&&n!==s&&(wt(B,n=s,n),mv(i,n,bn({type:"geojson",data:f,filter:g,lineMetrics:v,generateId:c,promoteId:m,cluster:!!_,clusterMinPoints:_==null?void 0:_.minPoints,clusterMaxZoom:_==null?void 0:_.maxZoom,clusterRadius:_==null?void 0:_.radius,clusterProperties:_==null?void 0:_.properties}),h=>i&&h===n,()=>{n&&(t(11,u=i==null?void 0:i.getSource(n)),t(12,y=!0))})),r.$$.dirty&8208&&(i==null||i.on("style.load",()=>{t(11,u=i==null?void 0:i.getSource(s))})),r.$$.dirty&6176&&u&&(y?t(12,y=!1):u.setData(f)),r.$$.dirty&3072&&(u==null||u.setClusterOptions(bn({cluster:!!_,clusterMaxZoom:_==null?void 0:_.maxZoom,clusterRadius:_==null?void 0:_.radius})))},[n,T,L,B,s,f,c,m,g,v,_,u,y,i,l,a]}class Ns extends pe{constructor(e){super(),be(this,e,gv,hv,he,{id:4,data:5,generateId:6,promoteId:7,filter:8,lineMetrics:9,cluster:10})}}function vv(r,e,t){let n;const{map:i}=Ar();Ce(r,i,g=>t(8,n=g));let{position:o="top-left"}=e,{positionOptions:a=void 0}=e,{fitBoundsOptions:l=void 0}=e,{trackUserLocation:s=!1}=e,{showAccuracyCircle:f=!0}=e,{showUserLocation:c=!0}=e,m=null;return St(()=>{n!=null&&n.loaded()&&m&&n.removeControl(m)}),r.$$set=g=>{"position"in g&&t(1,o=g.position),"positionOptions"in g&&t(2,a=g.positionOptions),"fitBoundsOptions"in g&&t(3,l=g.fitBoundsOptions),"trackUserLocation"in g&&t(4,s=g.trackUserLocation),"showAccuracyCircle"in g&&t(5,f=g.showAccuracyCircle),"showUserLocation"in g&&t(6,c=g.showUserLocation)},r.$$.update=()=>{r.$$.dirty&510&&n&&!m&&(t(7,m=new rr.GeolocateControl({positionOptions:a,fitBoundsOptions:l,trackUserLocation:s,showAccuracyCircle:f,showUserLocation:c})),n.addControl(m,o))},[i,o,a,l,s,f,c,m,n]}class dv extends pe{constructor(e){super(),be(this,e,vv,null,he,{position:1,positionOptions:2,fitBoundsOptions:3,trackUserLocation:4,showAccuracyCircle:5,showUserLocation:6})}}function pv(r){let e;const t=r[15].default,n=kt(t,r,r[23],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8388608)&&Et(n,t,i,i[23],e?Ot(t,i[23],o,null):At(i[23]),null)},i(i){e||(D(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function bv(r){let e,t,n;function i(a){r[16](a)}let o={id:r[1],type:"line",source:r[2],sourceLayer:r[3],beforeId:r[4],beforeLayerType:r[5],paint:r[6],layout:r[7],filter:r[8],minzoom:r[9],maxzoom:r[10],hoverCursor:r[11],manageHoverState:r[12],eventsIfTopMost:r[13],interactive:r[14],$$slots:{default:[pv]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.hovered=r[0]),e=new ao({props:o}),Pe.push(()=>Oe(e,"hovered",i)),e.$on("click",r[17]),e.$on("dblclick",r[18]),e.$on("contextmenu",r[19]),e.$on("mouseenter",r[20]),e.$on("mousemove",r[21]),e.$on("mouseleave",r[22]),{c(){X(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,l){x(e,a,l),n=!0},p(a,[l]){const s={};l&2&&(s.id=a[1]),l&4&&(s.source=a[2]),l&8&&(s.sourceLayer=a[3]),l&16&&(s.beforeId=a[4]),l&32&&(s.beforeLayerType=a[5]),l&64&&(s.paint=a[6]),l&128&&(s.layout=a[7]),l&256&&(s.filter=a[8]),l&512&&(s.minzoom=a[9]),l&1024&&(s.maxzoom=a[10]),l&2048&&(s.hoverCursor=a[11]),l&4096&&(s.manageHoverState=a[12]),l&8192&&(s.eventsIfTopMost=a[13]),l&16384&&(s.interactive=a[14]),l&8388608&&(s.$$scope={dirty:l,ctx:a}),!t&&l&1&&(t=!0,s.hovered=a[0],Ae(()=>t=!1)),e.$set(s)},i(a){n||(D(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){V(e,a)}}}function _v(r,e,t){let{$$slots:n={},$$scope:i}=e,{id:o=Er("line")}=e,{source:a=void 0}=e,{sourceLayer:l=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:f=void 0}=e,{paint:c}=e,{layout:m=void 0}=e,{filter:g=void 0}=e,{minzoom:v=void 0}=e,{maxzoom:_=void 0}=e,{hoverCursor:T=void 0}=e,{manageHoverState:L=!1}=e,{hovered:B=null}=e,{eventsIfTopMost:u=!1}=e,{interactive:y=!0}=e;function h(p){B=p,t(0,B)}function b(p){Se.call(this,r,p)}function M(p){Se.call(this,r,p)}function k(p){Se.call(this,r,p)}function A(p){Se.call(this,r,p)}function E(p){Se.call(this,r,p)}function I(p){Se.call(this,r,p)}return r.$$set=p=>{"id"in p&&t(1,o=p.id),"source"in p&&t(2,a=p.source),"sourceLayer"in p&&t(3,l=p.sourceLayer),"beforeId"in p&&t(4,s=p.beforeId),"beforeLayerType"in p&&t(5,f=p.beforeLayerType),"paint"in p&&t(6,c=p.paint),"layout"in p&&t(7,m=p.layout),"filter"in p&&t(8,g=p.filter),"minzoom"in p&&t(9,v=p.minzoom),"maxzoom"in p&&t(10,_=p.maxzoom),"hoverCursor"in p&&t(11,T=p.hoverCursor),"manageHoverState"in p&&t(12,L=p.manageHoverState),"hovered"in p&&t(0,B=p.hovered),"eventsIfTopMost"in p&&t(13,u=p.eventsIfTopMost),"interactive"in p&&t(14,y=p.interactive),"$$scope"in p&&t(23,i=p.$$scope)},[B,o,a,l,s,f,c,m,g,v,_,T,L,u,y,n,h,b,M,k,A,E,I,i]}class wv extends pe{constructor(e){super(),be(this,e,_v,bv,he,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function Sv(r){let e=r.getCenter(),t=Math.round(r.getZoom()*100)/100,n=Math.ceil((t*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,n),o=Math.round(e.lat*i)/i,a=Math.round(e.lng*i)/i,l=`${t}/${o}/${a}`,s=r.getBearing(),f=r.getPitch();return(s||f)&&(l+=`/${Math.round(s*10)/10}`),f&&(l+=`/${Math.round(f)}`),`#${l}`}function Mv(r){return r.replace("#","").split("/").map(parseFloat)}var qr=lo;function lo(r,e){return r===e||r!==r&&e!==e?!0:typeof r!=typeof e||{}.toString.call(r)!={}.toString.call(e)||r!==Object(r)||!r?!1:Array.isArray(r)?el(r,e):{}.toString.call(r)=="[object Set]"?el(Array.from(r),Array.from(e)):{}.toString.call(r)=="[object Object]"?kv(r,e):Pv(r,e)}function Pv(r,e){return r.toString()===e.toString()}function el(r,e){var t=r.length;if(t!=e.length)return!1;for(var n=0;n<t;n++)if(!lo(r[n],e[n]))return!1;return!0}function kv(r,e){var t=Object.keys(r),n=t.length;if(n!=Object.keys(e).length)return!1;for(var i=0;i<n;i++){var o=t[i];if(!(e.hasOwnProperty(o)&&lo(r[o],e[o])))return!1}return!0}function Ev(r,e,t){let n;const{map:i}=Ar();Ce(r,i,c=>t(6,n=c));let{position:o="top-left"}=e,{showCompass:a=!0}=e,{showZoom:l=!0}=e,{visualizePitch:s=!1}=e,f=null;return St(()=>{n!=null&&n.loaded()&&f&&n.removeControl(f)}),r.$$set=c=>{"position"in c&&t(1,o=c.position),"showCompass"in c&&t(2,a=c.showCompass),"showZoom"in c&&t(3,l=c.showZoom),"visualizePitch"in c&&t(4,s=c.visualizePitch)},r.$$.update=()=>{r.$$.dirty&126&&n&&!f&&(t(5,f=new rr.NavigationControl({showCompass:a,showZoom:l,visualizePitch:s})),n.addControl(f,o))},[i,o,a,l,s,f,n]}class Av extends pe{constructor(e){super(),be(this,e,Ev,null,he,{position:1,showCompass:2,showZoom:3,visualizePitch:4})}}function Ov(r,e,t){let n;const{map:i}=Ar();Ce(r,i,f=>t(5,n=f));let{position:o="bottom-left"}=e,{maxWidth:a=void 0}=e,{unit:l="metric"}=e,s=null;return St(()=>{n!=null&&n.loaded()&&s&&n.removeControl(s)}),r.$$set=f=>{"position"in f&&t(1,o=f.position),"maxWidth"in f&&t(2,a=f.maxWidth),"unit"in f&&t(3,l=f.unit)},r.$$.update=()=>{r.$$.dirty&62&&n&&!s&&(t(4,s=new rr.ScaleControl({maxWidth:a,unit:l})),n.addControl(s,o))},[i,o,a,l,s,n]}class Lv extends pe{constructor(e){super(),be(this,e,Ov,null,he,{position:1,maxWidth:2,unit:3})}}const Cv=r=>({map:r[0]&8,loadedImages:r[0]&16,allImagesLoaded:r[0]&32}),tl=r=>({map:r[3],loadedImages:r[4],allImagesLoaded:r[5]});function rl(r){let e,t,n=r[2]&&nl(r);const i=r[36].default,o=kt(i,r,r[35],tl);return{c(){n&&n.c(),e=J(),o&&o.c()},l(a){n&&n.l(a),e=K(a),o&&o.l(a)},m(a,l){n&&n.m(a,l),N(a,e,l),o&&o.m(a,l),t=!0},p(a,l){a[2]?n?(n.p(a,l),l[0]&4&&D(n,1)):(n=nl(a),n.c(),D(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke()),o&&o.p&&(!t||l[0]&56|l[1]&16)&&Et(o,i,a,a[35],t?Ot(i,a[35],l,Cv):At(a[35]),tl)},i(a){t||(D(n),D(o,a),t=!0)},o(a){z(n),z(o,a),t=!1},d(a){a&&O(e),n&&n.d(a),o&&o.d(a)}}}function nl(r){let e,t,n,i,o,a,l,s;return e=new Av({props:{position:r[6]}}),n=new dv({props:{position:r[6],fitBoundsOptions:{maxZoom:12}}}),o=new cv({props:{position:r[6]}}),l=new Lv({props:{position:r[6]}}),{c(){X(e.$$.fragment),t=J(),X(n.$$.fragment),i=J(),X(o.$$.fragment),a=J(),X(l.$$.fragment)},l(f){Y(e.$$.fragment,f),t=K(f),Y(n.$$.fragment,f),i=K(f),Y(o.$$.fragment,f),a=K(f),Y(l.$$.fragment,f)},m(f,c){x(e,f,c),N(f,t,c),x(n,f,c),N(f,i,c),x(o,f,c),N(f,a,c),x(l,f,c),s=!0},p(f,c){const m={};c[0]&64&&(m.position=f[6]),e.$set(m);const g={};c[0]&64&&(g.position=f[6]),n.$set(g);const v={};c[0]&64&&(v.position=f[6]),o.$set(v);const _={};c[0]&64&&(_.position=f[6]),l.$set(_)},i(f){s||(D(e.$$.fragment,f),D(n.$$.fragment,f),D(o.$$.fragment,f),D(l.$$.fragment,f),s=!0)},o(f){z(e.$$.fragment,f),z(n.$$.fragment,f),z(o.$$.fragment,f),z(l.$$.fragment,f),s=!1},d(f){f&&(O(t),O(i),O(a)),V(e,f),V(n,f),V(o,f),V(l,f)}}}function Tv(r){let e,t,n,i,o,a=r[3]&&r[0]&&rl(r);return{c(){e=ee("div"),a&&a.c(),this.h()},l(l){e=te(l,"DIV",{class:!0});var s=le(e);a&&a.l(s),s.forEach(O),this.h()},h(){C(e,"class",t=en(r[1])+" svelte-p00lfq"),st(e,"expand-map",!r[1])},m(l,s){N(l,e,s),a&&a.m(e,null),n=!0,i||(o=Vs(r[9].call(null,e)),i=!0)},p(l,s){l[3]&&l[0]?a?(a.p(l,s),s[0]&9&&D(a,1)):(a=rl(l),a.c(),D(a,1),a.m(e,null)):a&&(Je(),z(a,1,1,()=>{a=null}),Ke()),(!n||s[0]&2&&t!==(t=en(l[1])+" svelte-p00lfq"))&&C(e,"class",t),(!n||s[0]&2)&&st(e,"expand-map",!l[1])},i(l){n||(D(a),n=!0)},o(l){z(a),n=!1},d(l){l&&O(e),a&&a.d(),i=!1,o()}}}function Bv(r,e,t){let n,i,o,a,{$$slots:l={},$$scope:s}=e,{map:f=null}=e,{class:c=void 0}=e,{style:m}=e,{diffStyleUpdates:g=!1}=e,{center:v=void 0}=e,{zoom:_=void 0}=e,{pitch:T=0}=e,{bearing:L=0}=e,{bounds:B=void 0}=e,{hash:u=!1}=e,{loaded:y=!1}=e,{minZoom:h=0}=e,{maxZoom:b=22}=e,{zoomOnDoubleClick:M=!0}=e,{locale:k=void 0}=e,{interactive:A=!0}=e,{attributionControl:E=!0}=e,{cooperativeGestures:I=!1}=e,{preserveDrawingBuffer:p=!1}=e,{maxBounds:w=void 0}=e,{images:U=[]}=e,{standardControls:F=!1}=e,{filterLayers:W=void 0}=e,{transformRequest:G=void 0}=e;const $=Ci(),{map:re,loadedImages:ye}=Vg();Ce(r,re,R=>t(3,o=R)),Ce(r,ye,R=>t(4,a=R));let ge=new Set;async function ce(R,q=!1){if(o&&!(!o.loaded()&&!q))if("url"in R){ge.add(R.id);try{let ae=await o.loadImage(R.url);o==null||o.addImage(R.id,ae.data,R.options),a.add(R.id),ye.set(a)}catch(ae){$("error",ae)}finally{ge.delete(R.id)}}else o.addImage(R.id,R.data,R.options),a.add(R.id),ye.set(a)}let fe,Fe,_e,We;function we(R){if(u){let q=Mv(window.location.hash);q.length>=3&&(t(11,_=q[0]),t(10,v=[q[2],q[1]])),q.length==5&&(t(15,L=q[3]),t(14,T=q[4]))}return wt(re,o=new rr.Map(bn({container:R,style:m,locale:k,center:v,zoom:_,pitch:T,bearing:L,minZoom:h,maxZoom:b,interactive:A,preserveDrawingBuffer:p,maxBounds:w,bounds:B,attributionControl:E,transformRequest:G,cooperativeGestures:I})),o),o.on("load",q=>{t(0,y=!0),$("load",o)}),o.on("error",q=>$("error",{...q,map:o})),o.on("movestart",q=>$("movestart",{...q,map:o})),o.on("moveend",q=>{if(t(10,v=q.target.getCenter()),t(11,_=q.target.getZoom()),t(12,B=q.target.getBounds()),$("moveend",{...q,map:o}),u){let ae=window.location.href.replace(/(#.+)?$/,Sv(o));window.history.replaceState(window.history.state,"",ae)}}),o.on("zoomstart",q=>$("zoomstart",{...q,map:o})),o.on("zoom",q=>{t(11,_=q.target.getZoom()),$("zoom",{...q,map:o})}),o.on("zoomend",q=>{t(11,_=q.target.getZoom()),$("zoomend",{...q,map:o})}),o.on("style.load",()=>{if(o){const q=o.getStyle();if(t(32,fe=q.layers.map(ae=>ae.id)),t(33,Fe=Object.keys(q.sources)),We)for(const[ae,Ze]of Object.entries(We))o.addSource(ae,Ze);if(_e)for(const ae of _e)o.addLayer(ae);for(const ae of U)ce(ae,!0)}}),o.on("styledata",q=>{if(o&&W){const ae=o.getStyle().layers;if(ae)for(let Ze of ae)W(Ze)||o.setLayoutProperty(Ze.id,"visibility","none")}$("styledata",{...q,map:o})}),{destroy(){t(0,y=!1),o==null||o.remove(),wt(re,o=null,o)}}}let Me=m;return r.$$set=R=>{"map"in R&&t(13,f=R.map),"class"in R&&t(1,c=R.class),"style"in R&&t(16,m=R.style),"diffStyleUpdates"in R&&t(17,g=R.diffStyleUpdates),"center"in R&&t(10,v=R.center),"zoom"in R&&t(11,_=R.zoom),"pitch"in R&&t(14,T=R.pitch),"bearing"in R&&t(15,L=R.bearing),"bounds"in R&&t(12,B=R.bounds),"hash"in R&&t(18,u=R.hash),"loaded"in R&&t(0,y=R.loaded),"minZoom"in R&&t(19,h=R.minZoom),"maxZoom"in R&&t(20,b=R.maxZoom),"zoomOnDoubleClick"in R&&t(21,M=R.zoomOnDoubleClick),"locale"in R&&t(22,k=R.locale),"interactive"in R&&t(23,A=R.interactive),"attributionControl"in R&&t(24,E=R.attributionControl),"cooperativeGestures"in R&&t(25,I=R.cooperativeGestures),"preserveDrawingBuffer"in R&&t(26,p=R.preserveDrawingBuffer),"maxBounds"in R&&t(27,w=R.maxBounds),"images"in R&&t(28,U=R.images),"standardControls"in R&&t(2,F=R.standardControls),"filterLayers"in R&&t(29,W=R.filterLayers),"transformRequest"in R&&t(30,G=R.transformRequest),"$$scope"in R&&t(35,s=R.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&4&&t(6,n=typeof F=="boolean"?void 0:F),r.$$.dirty[0]&8&&t(13,f=o),r.$$.dirty[0]&196616|r.$$.dirty[1]&14&&o&&!qr(m,Me)){const R=o.getStyle();if(fe&&(_e=R.layers.filter(q=>!fe.includes(q.id))),Fe){const q=Object.keys(R.sources).filter(ae=>!Fe.includes(ae));We={};for(const ae of q)We[ae]=R.sources[ae]}t(34,Me=m),o.setStyle(m,{diff:g}),wt(ye,a=new Set,a),t(31,ge=new Set)}if(r.$$.dirty[0]&268435481|r.$$.dirty[1]&1&&y&&o!=null&&o.loaded())for(let R of U)!a.has(R.id)&&!ge.has(R.id)&&!o.hasImage(R.id)&&ce(R);r.$$.dirty[0]&268435472&&t(5,i=U.every(R=>a.has(R.id))),r.$$.dirty[0]&1032&&v&&!qr(v,o==null?void 0:o.getCenter())&&(o==null||o.panTo(v)),r.$$.dirty[0]&2056&&_&&!qr(_,o==null?void 0:o.getZoom())&&(o==null||o.zoomTo(_)),r.$$.dirty[0]&4104&&B&&!qr(B,o==null?void 0:o.getBounds())&&(o==null||o.fitBounds(B)),r.$$.dirty[0]&2097160&&(M?o==null||o.doubleClickZoom.enable():o==null||o.doubleClickZoom.disable())},[y,c,F,o,a,i,n,re,ye,we,v,_,B,f,T,L,m,g,u,h,b,M,k,A,E,I,p,w,U,W,G,ge,fe,Fe,Me,s,l]}class Iv extends pe{constructor(e){super(),be(this,e,Bv,Tv,he,{map:13,class:1,style:16,diffStyleUpdates:17,center:10,zoom:11,pitch:14,bearing:15,bounds:12,hash:18,loaded:0,minZoom:19,maxZoom:20,zoomOnDoubleClick:21,locale:22,interactive:23,attributionControl:24,cooperativeGestures:25,preserveDrawingBuffer:26,maxBounds:27,images:28,standardControls:2,filterLayers:29,transformRequest:30},null,[-1,-1])}}var Or=Uint8Array,Us=Uint16Array,Fv=Int32Array,Rv=new Or([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dv=new Or([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ws=function(r,e){for(var t=new Us(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new Fv(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)i[o]=o-t[n]<<5|n;return{b:t,r:i}},Gs=Ws(Rv,2),zv=Gs.b,Nv=Gs.r;zv[28]=258,Nv[258]=28;Ws(Dv,0);var Uv=new Us(32768);for(se=0;se<32768;++se)gt=(se&43690)>>1|(se&21845)<<1,gt=(gt&52428)>>2|(gt&13107)<<2,gt=(gt&61680)>>4|(gt&3855)<<4,Uv[se]=((gt&65280)>>8|(gt&255)<<8)>>1;var gt,se,An=new Or(288);for(se=0;se<144;++se)An[se]=8;var se;for(se=144;se<256;++se)An[se]=9;var se;for(se=256;se<280;++se)An[se]=7;var se;for(se=280;se<288;++se)An[se]=8;var se,Wv=new Or(32);for(se=0;se<32;++se)Wv[se]=5;var se,Gv=new Or(0),jv=typeof TextDecoder<"u"&&new TextDecoder,qv=0;try{jv.decode(Gv,{stream:!0}),qv=1}catch{}function Hv(r){let e,t,n,i,o,a;return e=new zs({props:{id:"edit-polygon-fill",filter:jg,paint:{"fill-color":"red","fill-opacity":["case",["boolean",["get","hover"],"false"],1,.5]}}}),n=new wv({props:{id:"edit-polygon-lines",filter:qg,paint:{"line-color":"black","line-width":8,"line-opacity":.5}}}),o=new av({props:{id:"edit-polygon-vertices",filter:Hg,paint:{"circle-color":"black","circle-opacity":["case",["has","hovered"],1,.5],"circle-radius":10}}}),{c(){X(e.$$.fragment),t=J(),X(n.$$.fragment),i=J(),X(o.$$.fragment)},l(l){Y(e.$$.fragment,l),t=K(l),Y(n.$$.fragment,l),i=K(l),Y(o.$$.fragment,l)},m(l,s){x(e,l,s),N(l,t,s),x(n,l,s),N(l,i,s),x(o,l,s),a=!0},p:me,i(l){a||(D(e.$$.fragment,l),D(n.$$.fragment,l),D(o.$$.fragment,l),a=!0)},o(l){z(e.$$.fragment,l),z(n.$$.fragment,l),z(o.$$.fragment,l),a=!1},d(l){l&&(O(t),O(i)),V(e,l),V(n,l),V(o,l)}}}function Zv(r){let e,t;return e=new Ns({props:{data:r[0],$$slots:{default:[Hv]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const o={};i&1&&(o.data=n[0]),i&2&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Xv(r,e,t){let n;return Ce(r,Fs,i=>t(0,n=i)),[n]}class Yv extends pe{constructor(e){super(),be(this,e,Xv,Zv,he,{})}}function xv(r){let e,t="Map loading...";return{c(){e=ee("p"),e.textContent=t},l(n){e=te(n,"P",{"data-svelte-h":!0}),$r(e)!=="svelte-1r8199k"&&(e.textContent=t)},m(n,i){N(n,e,i)},p:me,i:me,o:me,d(n){n&&O(e)}}}function Vv(r){let e,t,n,i;e=new uf({props:{$$slots:{default:[Kv]},$$scope:{ctx:r}}}),e.$on("click",r[5]);let o=r[0].summary.polygon&&il(r);return{c(){X(e.$$.fragment),t=J(),o&&o.c(),n=Ne()},l(a){Y(e.$$.fragment,a),t=K(a),o&&o.l(a),n=Ne()},m(a,l){x(e,a,l),N(a,t,l),o&&o.m(a,l),N(a,n,l),i=!0},p(a,l){const s={};l&4096&&(s.$$scope={dirty:l,ctx:a}),e.$set(s),a[0].summary.polygon?o?(o.p(a,l),l&1&&D(o,1)):(o=il(a),o.c(),D(o,1),o.m(n.parentNode,n)):o&&(Je(),z(o,1,1,()=>{o=null}),Ke())},i(a){i||(D(e.$$.fragment,a),D(o),i=!0)},o(a){z(e.$$.fragment,a),z(o),i=!1},d(a){a&&(O(t),O(n)),V(e,a),o&&o.d(a)}}}function Jv(r){let e,t,n,i,o,a,l;return t=new Fn({props:{$$slots:{default:[$v]},$$scope:{ctx:r}}}),t.$on("click",r[7]),i=new Fn({props:{$$slots:{default:[ed]},$$scope:{ctx:r}}}),i.$on("click",r[8]),a=new Fn({props:{disabled:r[4]==0,$$slots:{default:[nd]},$$scope:{ctx:r}}}),a.$on("click",r[9]),{c(){e=ee("div"),X(t.$$.fragment),n=J(),X(i.$$.fragment),o=J(),X(a.$$.fragment),this.h()},l(s){e=te(s,"DIV",{style:!0});var f=le(e);Y(t.$$.fragment,f),n=K(f),Y(i.$$.fragment,f),o=K(f),Y(a.$$.fragment,f),f.forEach(O),this.h()},h(){dt(e,"display","flex"),dt(e,"justify-content","space-between")},m(s,f){N(s,e,f),x(t,e,null),Q(e,n),x(i,e,null),Q(e,o),x(a,e,null),l=!0},p(s,f){const c={};f&4096&&(c.$$scope={dirty:f,ctx:s}),t.$set(c);const m={};f&4096&&(m.$$scope={dirty:f,ctx:s}),i.$set(m);const g={};f&16&&(g.disabled=s[4]==0),f&4112&&(g.$$scope={dirty:f,ctx:s}),a.$set(g)},i(s){l||(D(t.$$.fragment,s),D(i.$$.fragment,s),D(a.$$.fragment,s),l=!0)},o(s){z(t.$$.fragment,s),z(i.$$.fragment,s),z(a.$$.fragment,s),l=!1},d(s){s&&O(e),V(t),V(i),V(a)}}}function Kv(r){let e;return{c(){e=Te("Edit polygon")},l(t){e=Be(t,"Edit polygon")},m(t,n){N(t,e,n)},d(t){t&&O(e)}}}function il(r){let e,t,n,i,o=ja(r[0].summary.polygon).toFixed(1)+"",a,l,s;return e=new tf({props:{$$slots:{default:[Qv]},$$scope:{ctx:r}}}),e.$on("click",r[6]),{c(){X(e.$$.fragment),t=J(),n=ee("p"),i=Te("Polygon area: "),a=Te(o),l=Te(" square meters")},l(f){Y(e.$$.fragment,f),t=K(f),n=te(f,"P",{});var c=le(n);i=Be(c,"Polygon area: "),a=Be(c,o),l=Be(c," square meters"),c.forEach(O)},m(f,c){x(e,f,c),N(f,t,c),N(f,n,c),Q(n,i),Q(n,a),Q(n,l),s=!0},p(f,c){const m={};c&4096&&(m.$$scope={dirty:c,ctx:f}),e.$set(m),(!s||c&1)&&o!==(o=ja(f[0].summary.polygon).toFixed(1)+"")&&Dt(a,o)},i(f){s||(D(e.$$.fragment,f),s=!0)},o(f){z(e.$$.fragment,f),s=!1},d(f){f&&(O(t),O(n)),V(e,f)}}}function Qv(r){let e;return{c(){e=Te("Delete and start over")},l(t){e=Be(t,"Delete and start over")},m(t,n){N(t,e,n)},d(t){t&&O(e)}}}function $v(r){let e;return{c(){e=Te("Finish")},l(t){e=Be(t,"Finish")},m(t,n){N(t,e,n)},d(t){t&&O(e)}}}function ed(r){let e;return{c(){e=Te("Cancel")},l(t){e=Be(t,"Cancel")},m(t,n){N(t,e,n)},d(t){t&&O(e)}}}function td(r){let e,t,n;return{c(){e=Te("Undo ("),t=Te(r[4]),n=Te(")")},l(i){e=Be(i,"Undo ("),t=Be(i,r[4]),n=Be(i,")")},m(i,o){N(i,e,o),N(i,t,o),N(i,n,o)},p(i,o){o&16&&Dt(t,i[4])},d(i){i&&(O(e),O(t),O(n))}}}function rd(r){let e;return{c(){e=Te("Undo")},l(t){e=Be(t,"Undo")},m(t,n){N(t,e,n)},p:me,d(t){t&&O(e)}}}function nd(r){let e;function t(o,a){return o[4]==0?rd:td}let n=t(r),i=n(r);return{c(){i.c(),e=Ne()},l(o){i.l(o),e=Ne()},m(o,a){i.m(o,a),N(o,e,a)},p(o,a){n===(n=t(o))&&i?i.p(o,a):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){o&&O(e),i.d(o)}}}function id(r){let e,t;return e=new zs({props:{layout:{visibility:r[2]?"none":"visible"},paint:{"fill-color":"red","fill-opacity":.8}}}),{c(){X(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const o={};i&4&&(o.layout={visibility:n[2]?"none":"visible"}),e.$set(o)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function od(r){let e,t,n,i,o,a;return e=new Gf({props:{map:r[1]}}),n=new Yv({}),o=new Ns({props:{data:r[3],$$slots:{default:[id]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment),t=J(),X(n.$$.fragment),i=J(),X(o.$$.fragment)},l(l){Y(e.$$.fragment,l),t=K(l),Y(n.$$.fragment,l),i=K(l),Y(o.$$.fragment,l)},m(l,s){x(e,l,s),N(l,t,s),x(n,l,s),N(l,i,s),x(o,l,s),a=!0},p(l,s){const f={};s&2&&(f.map=l[1]),e.$set(f);const c={};s&8&&(c.data=l[3]),s&4100&&(c.$$scope={dirty:s,ctx:l}),o.$set(c)},i(l){a||(D(e.$$.fragment,l),D(n.$$.fragment,l),D(o.$$.fragment,l),a=!0)},o(l){z(e.$$.fragment,l),z(n.$$.fragment,l),z(o.$$.fragment,l),a=!1},d(l){l&&(O(t),O(i)),V(e,l),V(n,l),V(o,l)}}}function ad(r){let e,t,n,i,o,a,l;const s=[Jv,Vv,xv],f=[];function c(v,_){return v[2]?0:v[1]?1:2}e=c(r),t=f[e]=s[e](r);function m(v){r[10](v)}let g={style:"https://api.maptiler.com/maps/uk-openzoomstack-light/style.json?key=MZEJTanw3WpxRvt7qDfo",standardControls:!0,$$slots:{default:[od,({map:v})=>({1:v}),({map:v})=>v?2:0]},$$scope:{ctx:r}};return r[1]!==void 0&&(g.map=r[1]),o=new Iv({props:g}),Pe.push(()=>Oe(o,"map",m)),o.$on("error",r[11]),{c(){t.c(),n=J(),i=ee("div"),X(o.$$.fragment),this.h()},l(v){t.l(v),n=K(v),i=te(v,"DIV",{style:!0});var _=le(i);Y(o.$$.fragment,_),_.forEach(O),this.h()},h(){dt(i,"position","relative"),dt(i,"width","100%"),dt(i,"height","300px")},m(v,_){f[e].m(v,_),N(v,n,_),N(v,i,_),x(o,i,null),l=!0},p(v,[_]){let T=e;e=c(v),e===T?f[e].p(v,_):(Je(),z(f[T],1,1,()=>{f[T]=null}),Ke(),t=f[e],t?t.p(v,_):(t=f[e]=s[e](v),t.c()),D(t,1),t.m(n.parentNode,n));const L={};_&4110&&(L.$$scope={dirty:_,ctx:v}),!a&&_&2&&(a=!0,L.map=v[1],Ae(()=>a=!1)),o.$set(L)},i(v){l||(D(t),D(o.$$.fragment,v),l=!0)},o(v){z(t),z(o.$$.fragment,v),l=!1},d(v){v&&(O(n),O(i)),f[e].d(v),V(o)}}}function ld(r,e,t){let n,i,o;Ce(r,Ee,T=>t(0,i=T)),Ce(r,Rs,T=>t(4,o=T));let a=null,l=null;St(()=>{l==null||l.tearDown()});function s(){a&&(t(2,l=new Xg(a)),i.summary.polygon?l.editExisting(i.summary.polygon):l.startNew(),l.addEventListenerSuccess(async T=>{t(2,l=null),wt(Ee,i.summary.polygon=T,i)}),l.addEventListenerFailure(()=>{t(2,l=null)}))}function f(){wt(Ee,i.summary.polygon=null,i),s()}const c=()=>l==null?void 0:l.finish(),m=()=>l==null?void 0:l.cancel(),g=()=>l==null?void 0:l.undo();function v(T){a=T,t(1,a)}const _=T=>{console.log(T.detail.error)};return r.$$.update=()=>{r.$$.dirty&1&&t(3,n=i.summary.polygon??{type:"FeatureCollection",features:[]}),r.$$.dirty&2&&a&&s()},[i,a,l,n,o,s,f,c,m,g,v,_]}class sd extends pe{constructor(e){super(),be(this,e,ld,ad,he,{})}}function fd(r){let e,t,n,i,o,a,l,s,f,c,m,g,v,_,T,L,B,u,y,h,b,M,k,A,E,I,p,w,U,F,W,G,$,re,ye,ge,ce,fe,Fe,_e,We,we,Me,R="Network context",q,ae,Ze=`Please add a drawing of the area being assessed below, including the location
  of measures proposed by the scheme.`,Xe,P,H;function Z(d){r[1](d)}let Ge={label:"Date of design review"};r[0].summary.dateDesignReview!==void 0&&(Ge.value=r[0].summary.dateDesignReview),e=new ur({props:Ge}),Pe.push(()=>Oe(e,"value",Z));function ve(d){r[2](d)}let ne={label:"Scheme reference"};r[0].summary.schemeReference!==void 0&&(ne.value=r[0].summary.schemeReference),i=new ur({props:ne}),Pe.push(()=>Oe(i,"value",ve));function je(d){r[3](d)}let Tt={label:"Scheme name"};r[0].summary.schemeName!==void 0&&(Tt.value=r[0].summary.schemeName),l=new ur({props:Tt}),Pe.push(()=>Oe(l,"value",je));function mt(d){r[4](d)}let yt={label:"Scheme summary"};r[0].summary.schemeSummary!==void 0&&(yt.value=r[0].summary.schemeSummary),c=new Ur({props:yt}),Pe.push(()=>Oe(c,"value",mt));function Wt(d){r[5](d)}let Gt={label:"Scheme information reviewed"};r[0].summary.schemeInfoReviewed!==void 0&&(Gt.value=r[0].summary.schemeInfoReviewed),v=new Ur({props:Gt}),Pe.push(()=>Oe(v,"value",Wt));function On(d){r[6](d)}let rt={label:"Authority",emptyOption:!0,choices:sr(rf)};r[0].summary.authority!==void 0&&(rt.value=r[0].summary.authority),L=new fr({props:rt}),Pe.push(()=>Oe(L,"value",On));function Lr(d){r[7](d)}let jt={label:"Transport / Combined Authority",emptyOption:!0,choices:sr(nf)};r[0].summary.transportOrCombinedAuthority!==void 0&&(jt.value=r[0].summary.transportOrCombinedAuthority),y=new fr({props:jt}),Pe.push(()=>Oe(y,"value",Lr));function ar(d){r[8](d)}let Cr={label:"Region",emptyOption:!0,choices:sr(of)};r[0].summary.region!==void 0&&(Cr.value=r[0].summary.region),M=new fr({props:Cr}),Pe.push(()=>Oe(M,"value",ar));function Ln(d){r[9](d)}let Tr={label:"Funding programme",emptyOption:!0,choices:sr(af)};r[0].summary.fundingProgramme!==void 0&&(Tr.value=r[0].summary.fundingProgramme),E=new fr({props:Tr}),Pe.push(()=>Oe(E,"value",Ln));function lr(d){r[10](d)}let qt={label:"Design stage",emptyOption:!0,choices:sr(lf)};r[0].summary.designStage!==void 0&&(qt.value=r[0].summary.designStage),w=new fr({props:qt}),Pe.push(()=>Oe(w,"value",lr));function Cn(d){r[11](d)}let Br={label:"Funding conditions"};r[0].summary.fundingConditions!==void 0&&(Br.value=r[0].summary.fundingConditions),W=new Ur({props:Br}),Pe.push(()=>Oe(W,"value",Cn));function Tn(d){r[12](d)}let Ir={label:"Inspector email address"};r[0].summary.inspectorEmail!==void 0&&(Ir.value=r[0].summary.inspectorEmail),re=new ur({props:Ir}),Pe.push(()=>Oe(re,"value",Tn));function Bn(d){r[13](d)}let Fr={label:"Scheme area size (km²)"};r[0].summary.schemeAreaSizeKm2!==void 0&&(Fr.value=r[0].summary.schemeAreaSizeKm2),ce=new ur({props:Fr}),Pe.push(()=>Oe(ce,"value",Bn));function In(d){r[14](d)}let Rr={label:"Notes"};return r[0].summary.notes!==void 0&&(Rr.value=r[0].summary.notes),_e=new Ur({props:Rr}),Pe.push(()=>Oe(_e,"value",In)),P=new sd({}),{c(){X(e.$$.fragment),n=J(),X(i.$$.fragment),a=J(),X(l.$$.fragment),f=J(),X(c.$$.fragment),g=J(),X(v.$$.fragment),T=J(),X(L.$$.fragment),u=J(),X(y.$$.fragment),b=J(),X(M.$$.fragment),A=J(),X(E.$$.fragment),p=J(),X(w.$$.fragment),F=J(),X(W.$$.fragment),$=J(),X(re.$$.fragment),ge=J(),X(ce.$$.fragment),Fe=J(),X(_e.$$.fragment),we=J(),Me=ee("h2"),Me.textContent=R,q=J(),ae=ee("p"),ae.textContent=Ze,Xe=J(),X(P.$$.fragment)},l(d){Y(e.$$.fragment,d),n=K(d),Y(i.$$.fragment,d),a=K(d),Y(l.$$.fragment,d),f=K(d),Y(c.$$.fragment,d),g=K(d),Y(v.$$.fragment,d),T=K(d),Y(L.$$.fragment,d),u=K(d),Y(y.$$.fragment,d),b=K(d),Y(M.$$.fragment,d),A=K(d),Y(E.$$.fragment,d),p=K(d),Y(w.$$.fragment,d),F=K(d),Y(W.$$.fragment,d),$=K(d),Y(re.$$.fragment,d),ge=K(d),Y(ce.$$.fragment,d),Fe=K(d),Y(_e.$$.fragment,d),we=K(d),Me=te(d,"H2",{"data-svelte-h":!0}),$r(Me)!=="svelte-1tcb68x"&&(Me.textContent=R),q=K(d),ae=te(d,"P",{"data-svelte-h":!0}),$r(ae)!=="svelte-1unchfe"&&(ae.textContent=Ze),Xe=K(d),Y(P.$$.fragment,d)},m(d,j){x(e,d,j),N(d,n,j),x(i,d,j),N(d,a,j),x(l,d,j),N(d,f,j),x(c,d,j),N(d,g,j),x(v,d,j),N(d,T,j),x(L,d,j),N(d,u,j),x(y,d,j),N(d,b,j),x(M,d,j),N(d,A,j),x(E,d,j),N(d,p,j),x(w,d,j),N(d,F,j),x(W,d,j),N(d,$,j),x(re,d,j),N(d,ge,j),x(ce,d,j),N(d,Fe,j),x(_e,d,j),N(d,we,j),N(d,Me,j),N(d,q,j),N(d,ae,j),N(d,Xe,j),x(P,d,j),H=!0},p(d,[j]){const Dr={};!t&&j&1&&(t=!0,Dr.value=d[0].summary.dateDesignReview,Ae(()=>t=!1)),e.$set(Dr);const zr={};!o&&j&1&&(o=!0,zr.value=d[0].summary.schemeReference,Ae(()=>o=!1)),i.$set(zr);const Nr={};!s&&j&1&&(s=!0,Nr.value=d[0].summary.schemeName,Ae(()=>s=!1)),l.$set(Nr);const S={};!m&&j&1&&(m=!0,S.value=d[0].summary.schemeSummary,Ae(()=>m=!1)),c.$set(S);const de={};!_&&j&1&&(_=!0,de.value=d[0].summary.schemeInfoReviewed,Ae(()=>_=!1)),v.$set(de);const xe={};!B&&j&1&&(B=!0,xe.value=d[0].summary.authority,Ae(()=>B=!1)),L.$set(xe);const Ve={};!h&&j&1&&(h=!0,Ve.value=d[0].summary.transportOrCombinedAuthority,Ae(()=>h=!1)),y.$set(Ve);const ie={};!k&&j&1&&(k=!0,ie.value=d[0].summary.region,Ae(()=>k=!1)),M.$set(ie);const qe={};!I&&j&1&&(I=!0,qe.value=d[0].summary.fundingProgramme,Ae(()=>I=!1)),E.$set(qe);const Bt={};!U&&j&1&&(U=!0,Bt.value=d[0].summary.designStage,Ae(()=>U=!1)),w.$set(Bt);const Ht={};!G&&j&1&&(G=!0,Ht.value=d[0].summary.fundingConditions,Ae(()=>G=!1)),W.$set(Ht);const Zt={};!ye&&j&1&&(ye=!0,Zt.value=d[0].summary.inspectorEmail,Ae(()=>ye=!1)),re.$set(Zt);const It={};!fe&&j&1&&(fe=!0,It.value=d[0].summary.schemeAreaSizeKm2,Ae(()=>fe=!1)),ce.$set(It);const so={};!We&&j&1&&(We=!0,so.value=d[0].summary.notes,Ae(()=>We=!1)),_e.$set(so)},i(d){H||(D(e.$$.fragment,d),D(i.$$.fragment,d),D(l.$$.fragment,d),D(c.$$.fragment,d),D(v.$$.fragment,d),D(L.$$.fragment,d),D(y.$$.fragment,d),D(M.$$.fragment,d),D(E.$$.fragment,d),D(w.$$.fragment,d),D(W.$$.fragment,d),D(re.$$.fragment,d),D(ce.$$.fragment,d),D(_e.$$.fragment,d),D(P.$$.fragment,d),H=!0)},o(d){z(e.$$.fragment,d),z(i.$$.fragment,d),z(l.$$.fragment,d),z(c.$$.fragment,d),z(v.$$.fragment,d),z(L.$$.fragment,d),z(y.$$.fragment,d),z(M.$$.fragment,d),z(E.$$.fragment,d),z(w.$$.fragment,d),z(W.$$.fragment,d),z(re.$$.fragment,d),z(ce.$$.fragment,d),z(_e.$$.fragment,d),z(P.$$.fragment,d),H=!1},d(d){d&&(O(n),O(a),O(f),O(g),O(T),O(u),O(b),O(A),O(p),O(F),O($),O(ge),O(Fe),O(we),O(Me),O(q),O(ae),O(Xe)),V(e,d),V(i,d),V(l,d),V(c,d),V(v,d),V(L,d),V(y,d),V(M,d),V(E,d),V(w,d),V(W,d),V(re,d),V(ce,d),V(_e,d),V(P,d)}}}function ud(r,e,t){let n;Ce(r,Ee,u=>t(0,n=u));function i(u){r.$$.not_equal(n.summary.dateDesignReview,u)&&(n.summary.dateDesignReview=u,Ee.set(n))}function o(u){r.$$.not_equal(n.summary.schemeReference,u)&&(n.summary.schemeReference=u,Ee.set(n))}function a(u){r.$$.not_equal(n.summary.schemeName,u)&&(n.summary.schemeName=u,Ee.set(n))}function l(u){r.$$.not_equal(n.summary.schemeSummary,u)&&(n.summary.schemeSummary=u,Ee.set(n))}function s(u){r.$$.not_equal(n.summary.schemeInfoReviewed,u)&&(n.summary.schemeInfoReviewed=u,Ee.set(n))}function f(u){r.$$.not_equal(n.summary.authority,u)&&(n.summary.authority=u,Ee.set(n))}function c(u){r.$$.not_equal(n.summary.transportOrCombinedAuthority,u)&&(n.summary.transportOrCombinedAuthority=u,Ee.set(n))}function m(u){r.$$.not_equal(n.summary.region,u)&&(n.summary.region=u,Ee.set(n))}function g(u){r.$$.not_equal(n.summary.fundingProgramme,u)&&(n.summary.fundingProgramme=u,Ee.set(n))}function v(u){r.$$.not_equal(n.summary.designStage,u)&&(n.summary.designStage=u,Ee.set(n))}function _(u){r.$$.not_equal(n.summary.fundingConditions,u)&&(n.summary.fundingConditions=u,Ee.set(n))}function T(u){r.$$.not_equal(n.summary.inspectorEmail,u)&&(n.summary.inspectorEmail=u,Ee.set(n))}function L(u){r.$$.not_equal(n.summary.schemeAreaSizeKm2,u)&&(n.summary.schemeAreaSizeKm2=u,Ee.set(n))}function B(u){r.$$.not_equal(n.summary.notes,u)&&(n.summary.notes=u,Ee.set(n))}return[n,i,o,a,l,s,f,c,m,g,v,_,T,L,B]}class Ad extends pe{constructor(e){super(),be(this,e,ud,fd,he,{})}}export{Ad as component};
