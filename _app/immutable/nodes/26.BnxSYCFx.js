import{s as Ce,k as fe,e as d,a as C,c as k,l as w,g as y,b as X,f as u,i as _,p as le,t as K,d as U,K as de,h as v,j as we}from"../chunks/scheduler.BKca8jgz.js";import{S as ye,i as Le,c as J,a as j,m as q,t as F,b as R,d as z,g as Te,f as xe}from"../chunks/index.CFqagxlr.js";import{b as A}from"../chunks/paths.D9iwVPMD.js";import{e as ke,u as Me,o as He}from"../chunks/Geocoder.svelte_svelte_type_style_lang.CLPLPTv_.js";import{E as Se}from"../chunks/ExternalLink.2VggN0hv.js";import{s as re,c as ce,g as ne,n as Ie,e as Pe,l as Fe}from"../chunks/data.BEAYl6QY.js";import{C as be}from"../chunks/CollapsibleCard.D7ypCGs6.js";import{S as ae}from"../chunks/SecondaryButton.4UiulqFF.js";import{T as Re}from"../chunks/TextArea.BfFYyba3.js";function ge(c,e,n){const t=c.slice();return t[12]=e[n],t}function Oe(c){let e;return{c(){e=K("New file")},l(n){e=U(n,"New file")},m(n,t){_(n,e,t)},d(n){n&&u(e)}}}function Ee(c){let e=c[12].slice(c[0].length)+"",n;return{c(){n=K(e)},l(t){n=U(t,e)},m(t,l){_(t,n,l)},p(t,l){l&3&&e!==(e=t[12].slice(t[0].length)+"")&&we(n,e)},d(t){t&&u(n)}}}function Ne(c){let e;return{c(){e=K("Rename")},l(n){e=U(n,"Rename")},m(n,t){_(n,e,t)},d(n){n&&u(e)}}}function De(c){let e;return{c(){e=K("Delete")},l(n){e=U(n,"Delete")},m(n,t){_(n,e,t)},d(n){n&&u(e)}}}function ve(c,e){let n,t,l,f,r,m,s,b,p;function P(){return e[9](e[12])}l=new ae({props:{disabled:e[3]==e[12],$$slots:{default:[Ee]},$$scope:{ctx:e}}}),l.$on("click",P);function M(){return e[10](e[12])}r=new ae({props:{$$slots:{default:[Ne]},$$scope:{ctx:e}}}),r.$on("click",M);function I(){return e[11](e[12])}return s=new ae({props:{$$slots:{default:[De]},$$scope:{ctx:e}}}),s.$on("click",I),{key:c,first:null,c(){n=d("li"),t=d("span"),J(l.$$.fragment),f=C(),J(r.$$.fragment),m=C(),J(s.$$.fragment),b=C(),this.h()},l(h){n=k(h,"LI",{});var i=X(n);t=k(i,"SPAN",{style:!0});var L=X(t);j(l.$$.fragment,L),f=y(L),j(r.$$.fragment,L),m=y(L),j(s.$$.fragment,L),L.forEach(u),b=y(i),i.forEach(u),this.h()},h(){de(t,"display","flex"),de(t,"justify-content","space-between"),this.first=n},m(h,i){_(h,n,i),v(n,t),q(l,t,null),v(t,f),q(r,t,null),v(t,m),q(s,t,null),v(n,b),p=!0},p(h,i){e=h;const L={};i&10&&(L.disabled=e[3]==e[12]),i&32771&&(L.$$scope={dirty:i,ctx:e}),l.$set(L);const S={};i&32768&&(S.$$scope={dirty:i,ctx:e}),r.$set(S);const x={};i&32768&&(x.$$scope={dirty:i,ctx:e}),s.$set(x)},i(h){p||(F(l.$$.fragment,h),F(r.$$.fragment,h),F(s.$$.fragment,h),p=!0)},o(h){R(l.$$.fragment,h),R(r.$$.fragment,h),R(s.$$.fragment,h),p=!1},d(h){h&&u(n),z(l),z(r),z(s)}}}function Ae(c){let e,n;return e=new Re({props:{label:"JSON",value:JSON.stringify(c[2],null,"  "),rows:10}}),{c(){J(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){q(e,t,l),n=!0},p(t,l){const f={};l&4&&(f.value=JSON.stringify(t[2],null,"  ")),e.$set(f)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Je(c){let e,n="TODO: Export file, make a copy, load from file...",t,l,f,r,m="Load a saved file:",s,b,p=[],P=new Map,M,I,h,i,L=`All files are auto-saved in your browser's local storage. You can close your
    browser and resume later.`,S,x,Y;l=new ae({props:{$$slots:{default:[Oe]},$$scope:{ctx:c}}}),l.$on("click",c[8]);let O=ke(c[1]);const E=a=>a[12];for(let a=0;a<O.length;a+=1){let o=ge(c,O,a),T=E(o);P.set(T,p[a]=ve(T,o))}return x=new be({props:{label:"Debug",$$slots:{default:[Ae]},$$scope:{ctx:c}}}),{c(){e=d("p"),e.textContent=n,t=C(),J(l.$$.fragment),f=C(),r=d("p"),r.textContent=m,s=C(),b=d("ul");for(let a=0;a<p.length;a+=1)p[a].c();M=C(),I=d("hr"),h=C(),i=d("p"),i.textContent=L,S=C(),J(x.$$.fragment)},l(a){e=k(a,"P",{"data-svelte-h":!0}),w(e)!=="svelte-920an8"&&(e.textContent=n),t=y(a),j(l.$$.fragment,a),f=y(a),r=k(a,"P",{"data-svelte-h":!0}),w(r)!=="svelte-1xydj1w"&&(r.textContent=m),s=y(a),b=k(a,"UL",{});var o=X(b);for(let T=0;T<p.length;T+=1)p[T].l(o);o.forEach(u),M=y(a),I=k(a,"HR",{}),h=y(a),i=k(a,"P",{"data-svelte-h":!0}),w(i)!=="svelte-zqinpp"&&(i.textContent=L),S=y(a),j(x.$$.fragment,a)},m(a,o){_(a,e,o),_(a,t,o),q(l,a,o),_(a,f,o),_(a,r,o),_(a,s,o),_(a,b,o);for(let T=0;T<p.length;T+=1)p[T]&&p[T].m(b,null);_(a,M,o),_(a,I,o),_(a,h,o),_(a,i,o),_(a,S,o),q(x,a,o),Y=!0},p(a,o){const T={};o&32768&&(T.$$scope={dirty:o,ctx:a}),l.$set(T),o&187&&(O=ke(a[1]),Te(),p=Me(p,o,E,1,a,O,P,b,He,ve,null,ge),xe());const B={};o&32772&&(B.$$scope={dirty:o,ctx:a}),x.$set(B)},i(a){if(!Y){F(l.$$.fragment,a);for(let o=0;o<O.length;o+=1)F(p[o]);F(x.$$.fragment,a),Y=!0}},o(a){R(l.$$.fragment,a);for(let o=0;o<p.length;o+=1)R(p[o]);R(x.$$.fragment,a),Y=!1},d(a){a&&(u(e),u(t),u(f),u(r),u(s),u(b),u(M),u(I),u(h),u(i),u(S)),z(l,a);for(let o=0;o<p.length;o+=1)p[o].d();z(x,a)}}}function je(c){let e,n;return e=new be({props:{label:"Files",open:!0,$$slots:{default:[Je]},$$scope:{ctx:c}}}),{c(){J(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,l){q(e,t,l),n=!0},p(t,[l]){const f={};l&32783&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function qe(c,e,n){let t,l;fe(c,re,i=>n(2,t=i)),fe(c,ce,i=>n(3,l=i));let{prefix:f}=e,r=ne();function m(i){if(l==i){window.alert("TODO: Can't delete current file yet");return}window.confirm(`Really delete file ${i.slice(f.length)}? You can't undo this.`)&&(window.localStorage.removeItem(i),n(1,r=ne()))}function s(i){if(l==i){window.alert("TODO: Can't rename current file yet");return}let L=window.prompt(`Rename file ${i.slice(f.length)} to what?`,i.slice(f.length));if(L){let S=window.localStorage.getItem(i);window.localStorage.setItem(`${f}${L}`,S),window.localStorage.removeItem(i),n(1,r=ne())}}function b(){le(ce,l=Ie(),l),le(re,t=Pe(),t),window.localStorage.setItem(l,JSON.stringify(t)),n(1,r=ne())}function p(i){try{let L=Fe(i);le(ce,l=i,l),le(re,t=L,t)}catch(L){window.alert(`Couldn't load ${i}: ${L}`)}}const P=()=>b(),M=i=>p(i),I=i=>s(i),h=i=>m(i);return c.$$set=i=>{"prefix"in i&&n(0,f=i.prefix)},[f,r,t,l,m,s,b,p,P,M,I,h]}class ze extends ye{constructor(e){super(),Le(this,e,qe,je,Ce,{prefix:0})}}function Ye(c){let e;return{c(){e=K(`scheme review tool
  `)},l(n){e=U(n,`scheme review tool
  `)},m(n,t){_(n,e,t)},d(n){n&&u(e)}}}function Be(c){let e,n="<i>Street Check (disabled, because of the Route Check Type set in Summary</i>",t,l,f=`<i>Street Placemaking Check (disabled, because of the Route Check Type set
        in Summary</i>`;return{c(){e=d("li"),e.innerHTML=n,t=C(),l=d("li"),l.innerHTML=f},l(r){e=k(r,"LI",{"data-svelte-h":!0}),w(e)!=="svelte-gxw4ae"&&(e.innerHTML=n),t=y(r),l=k(r,"LI",{"data-svelte-h":!0}),w(l)!=="svelte-is2acy"&&(l.innerHTML=f)},m(r,m){_(r,e,m),_(r,t,m),_(r,l,m)},d(r){r&&(u(e),u(t),u(l))}}}function Ke(c){let e,n=`<a href="${A}/route_check/street_check">Street Check</a>`,t,l,f=`<a href="${A}/route_check/street_placemaking_check">Street Placemaking Check</a>`;return{c(){e=d("li"),e.innerHTML=n,t=C(),l=d("li"),l.innerHTML=f},l(r){e=k(r,"LI",{"data-svelte-h":!0}),w(e)!=="svelte-qr5auz"&&(e.innerHTML=n),t=y(r),l=k(r,"LI",{"data-svelte-h":!0}),w(l)!=="svelte-7dzxwi"&&(l.innerHTML=f)},m(r,m){_(r,e,m),_(r,t,m),_(r,l,m)},d(r){r&&(u(e),u(t),u(l))}}}function Ue(c){let e,n="<i>Path Check (disabled, because of the Route Check Type set in Summary</i>",t,l,f=`<i>Path Placemaking Check (disabled, because of the Route Check Type set in
        Summary</i>`;return{c(){e=d("li"),e.innerHTML=n,t=C(),l=d("li"),l.innerHTML=f},l(r){e=k(r,"LI",{"data-svelte-h":!0}),w(e)!=="svelte-luysfy"&&(e.innerHTML=n),t=y(r),l=k(r,"LI",{"data-svelte-h":!0}),w(l)!=="svelte-1sart1a"&&(l.innerHTML=f)},m(r,m){_(r,e,m),_(r,t,m),_(r,l,m)},d(r){r&&(u(e),u(t),u(l))}}}function Ge(c){let e,n=`<a href="${A}/route_check/path_check">Path Check</a>`,t,l,f=`<a href="${A}/route_check/path_placemaking_check">Path Placemaking Check</a>`;return{c(){e=d("li"),e.innerHTML=n,t=C(),l=d("li"),l.innerHTML=f},l(r){e=k(r,"LI",{"data-svelte-h":!0}),w(e)!=="svelte-1yrsyln"&&(e.innerHTML=n),t=y(r),l=k(r,"LI",{"data-svelte-h":!0}),w(l)!=="svelte-89yh4a"&&(l.innerHTML=f)},m(r,m){_(r,e,m),_(r,t,m),_(r,l,m)},d(r){r&&(u(e),u(t),u(l))}}}function Qe(c){let e,n,t,l,f,r,m,s,b,p=`<a href="${A}/route_check/summary">Summary of Scheme</a>`,P,M,I=`<a href="${A}/route_check/policy_check">Policy Check</a>`,h,i,L=`<a href="${A}/route_check/policy_conflict_log">Policy Conflict Log</a>`,S,x,Y=`<a href="${A}/route_check/safety_check">Safety Check</a>`,O,E,a=`<a href="${A}/route_check/critical_issues_log">Critical Issues Log</a>`,o,T,B,G,ue="JAT Check",ie,Q,_e="Results Summary",se,V,me="Results Further Analysis",oe,W,$e="Results Export",Z;t=new Se({props:{href:"https://www.gov.uk/government/publications/active-travel-england-scheme-review-tools",$$slots:{default:[Ye]},$$scope:{ctx:c}}}),r=new ze({props:{prefix:"route-check/"}});function pe($,H){return $[0].summary.checkType=="street"?Ke:Be}let ee=pe(c),N=ee(c);function he($,H){return $[0].summary.checkType=="path"?Ge:Ue}let te=he(c),D=te(c);return{c(){e=d("p"),n=K("This is an experimental version of a "),J(t.$$.fragment),l=K("."),f=C(),J(r.$$.fragment),m=C(),s=d("ol"),b=d("li"),b.innerHTML=p,P=C(),M=d("li"),M.innerHTML=I,h=C(),i=d("li"),i.innerHTML=L,S=C(),x=d("li"),x.innerHTML=Y,O=C(),E=d("li"),E.innerHTML=a,o=C(),N.c(),T=C(),D.c(),B=C(),G=d("li"),G.textContent=ue,ie=C(),Q=d("li"),Q.textContent=_e,se=C(),V=d("li"),V.textContent=me,oe=C(),W=d("li"),W.textContent=$e},l($){e=k($,"P",{});var H=X(e);n=U(H,"This is an experimental version of a "),j(t.$$.fragment,H),l=U(H,"."),H.forEach(u),f=y($),j(r.$$.fragment,$),m=y($),s=k($,"OL",{});var g=X(s);b=k(g,"LI",{"data-svelte-h":!0}),w(b)!=="svelte-ukoito"&&(b.innerHTML=p),P=y(g),M=k(g,"LI",{"data-svelte-h":!0}),w(M)!=="svelte-1569dhf"&&(M.innerHTML=I),h=y(g),i=k(g,"LI",{"data-svelte-h":!0}),w(i)!=="svelte-8hn04u"&&(i.innerHTML=L),S=y(g),x=k(g,"LI",{"data-svelte-h":!0}),w(x)!=="svelte-cxa0x3"&&(x.innerHTML=Y),O=y(g),E=k(g,"LI",{"data-svelte-h":!0}),w(E)!=="svelte-6aehbs"&&(E.innerHTML=a),o=y(g),N.l(g),T=y(g),D.l(g),B=y(g),G=k(g,"LI",{"data-svelte-h":!0}),w(G)!=="svelte-1dooms7"&&(G.textContent=ue),ie=y(g),Q=k(g,"LI",{"data-svelte-h":!0}),w(Q)!=="svelte-128hs1o"&&(Q.textContent=_e),se=y(g),V=k(g,"LI",{"data-svelte-h":!0}),w(V)!=="svelte-ep2hdy"&&(V.textContent=me),oe=y(g),W=k(g,"LI",{"data-svelte-h":!0}),w(W)!=="svelte-1v81g90"&&(W.textContent=$e),g.forEach(u)},m($,H){_($,e,H),v(e,n),q(t,e,null),v(e,l),_($,f,H),q(r,$,H),_($,m,H),_($,s,H),v(s,b),v(s,P),v(s,M),v(s,h),v(s,i),v(s,S),v(s,x),v(s,O),v(s,E),v(s,o),N.m(s,null),v(s,T),D.m(s,null),v(s,B),v(s,G),v(s,ie),v(s,Q),v(s,se),v(s,V),v(s,oe),v(s,W),Z=!0},p($,[H]){const g={};H&2&&(g.$$scope={dirty:H,ctx:$}),t.$set(g),ee!==(ee=pe($))&&(N.d(1),N=ee($),N&&(N.c(),N.m(s,T))),te!==(te=he($))&&(D.d(1),D=te($),D&&(D.c(),D.m(s,B)))},i($){Z||(F(t.$$.fragment,$),F(r.$$.fragment,$),Z=!0)},o($){R(t.$$.fragment,$),R(r.$$.fragment,$),Z=!1},d($){$&&(u(e),u(f),u(m),u(s)),z(t),z(r,$),N.d(),D.d()}}}function Ve(c,e,n){let t;return fe(c,re,l=>n(0,t=l)),[t]}class it extends ye{constructor(e){super(),Le(this,e,Ve,Qe,Ce,{})}}export{it as component};
