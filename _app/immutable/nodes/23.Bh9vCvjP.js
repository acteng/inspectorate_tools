import{s as be,l as $e,e as d,a as C,c as k,g as I,d as w,b as X,f,i as h,m as ae,t as U,k as V,q as ve,j as _,o as Se,h as Ie}from"../chunks/scheduler.D5yJ-k4D.js";import{S as Le,i as xe,c as O,a as F,m as N,t as R,b as E,d as D,g as Me,f as He}from"../chunks/index.Cd1_ar9A.js";import{e as Ce,u as Pe,o as Re,B as Ee}from"../chunks/Geocoder.svelte_svelte_type_style_lang.BvyoFpV4.js";import{E as Oe}from"../chunks/ExternalLink.DMCU-W-h.js";import{b as Y}from"../chunks/paths.d8hzclJO.js";import{s as ie,c as me,e as Fe}from"../chunks/data.C1sCAV9a.js";import{C as Te}from"../chunks/CollapsibleCard.CFgWij2F.js";import{S as se}from"../chunks/SecondaryButton.BZUjxO0Y.js";import{T as Ne}from"../chunks/TextArea.icZ1GY31.js";function we(c,e,n){const t=c.slice();return t[13]=e[n],t}function De(c){let e;return{c(){e=U("New file")},l(n){e=V(n,"New file")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function qe(c){let e=c[13].slice(c[0].length)+"",n;return{c(){n=U(e)},l(t){n=V(t,e)},m(t,l){h(t,n,l)},p(t,l){l&3&&e!==(e=t[13].slice(t[0].length)+"")&&Se(n,e)},d(t){t&&f(n)}}}function Je(c){let e;return{c(){e=U("Rename")},l(n){e=V(n,"Rename")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function je(c){let e;return{c(){e=U("Delete")},l(n){e=V(n,"Delete")},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function ye(c,e){let n,t,l,o,r,m,T,L,p;function u(){return e[9](e[13])}l=new se({props:{disabled:e[3]==e[13],$$slots:{default:[qe]},$$scope:{ctx:e}}}),l.$on("click",u);function M(){return e[10](e[13])}r=new se({props:{$$slots:{default:[Je]},$$scope:{ctx:e}}}),r.$on("click",M);function P(){return e[11](e[13])}return T=new se({props:{$$slots:{default:[je]},$$scope:{ctx:e}}}),T.$on("click",P),{key:c,first:null,c(){n=d("li"),t=d("span"),O(l.$$.fragment),o=C(),O(r.$$.fragment),m=C(),O(T.$$.fragment),L=C(),this.h()},l(g){n=k(g,"LI",{});var $=X(n);t=k($,"SPAN",{style:!0});var i=X(t);F(l.$$.fragment,i),o=w(i),F(r.$$.fragment,i),m=w(i),F(T.$$.fragment,i),i.forEach(f),L=w($),$.forEach(f),this.h()},h(){ve(t,"display","flex"),ve(t,"justify-content","space-between"),this.first=n},m(g,$){h(g,n,$),_(n,t),N(l,t,null),_(t,o),N(r,t,null),_(t,m),N(T,t,null),_(n,L),p=!0},p(g,$){e=g;const i={};$&10&&(i.disabled=e[3]==e[13]),$&65539&&(i.$$scope={dirty:$,ctx:e}),l.$set(i);const v={};$&65536&&(v.$$scope={dirty:$,ctx:e}),r.$set(v);const y={};$&65536&&(y.$$scope={dirty:$,ctx:e}),T.$set(y)},i(g){p||(R(l.$$.fragment,g),R(r.$$.fragment,g),R(T.$$.fragment,g),p=!0)},o(g){E(l.$$.fragment,g),E(r.$$.fragment,g),E(T.$$.fragment,g),p=!1},d(g){g&&f(n),D(l),D(r),D(T)}}}function Ae(c){let e,n;return e=new Ne({props:{label:"JSON",value:JSON.stringify(c[2],null,"  "),rows:10}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){N(e,t,l),n=!0},p(t,l){const o={};l&4&&(o.value=JSON.stringify(t[2],null,"  ")),e.$set(o)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function Be(c){let e,n="TODO: Export file, make a copy, load from file...",t,l,o,r,m="Load a saved file:",T,L,p=[],u=new Map,M,P,g,$,i=`All files are auto-saved in your browser's local storage. You can close your
    browser and resume later.`,v,y,B;l=new se({props:{$$slots:{default:[De]},$$scope:{ctx:c}}}),l.$on("click",c[8]);let q=Ce(c[1]);const J=a=>a[13];for(let a=0;a<q.length;a+=1){let s=we(c,q,a),S=J(s);u.set(S,p[a]=ye(S,s))}return y=new Te({props:{label:"Debug",$$slots:{default:[Ae]},$$scope:{ctx:c}}}),{c(){e=d("p"),e.textContent=n,t=C(),O(l.$$.fragment),o=C(),r=d("p"),r.textContent=m,T=C(),L=d("ul");for(let a=0;a<p.length;a+=1)p[a].c();M=C(),P=d("hr"),g=C(),$=d("p"),$.textContent=i,v=C(),O(y.$$.fragment)},l(a){e=k(a,"P",{"data-svelte-h":!0}),I(e)!=="svelte-920an8"&&(e.textContent=n),t=w(a),F(l.$$.fragment,a),o=w(a),r=k(a,"P",{"data-svelte-h":!0}),I(r)!=="svelte-1xydj1w"&&(r.textContent=m),T=w(a),L=k(a,"UL",{});var s=X(L);for(let S=0;S<p.length;S+=1)p[S].l(s);s.forEach(f),M=w(a),P=k(a,"HR",{}),g=w(a),$=k(a,"P",{"data-svelte-h":!0}),I($)!=="svelte-zqinpp"&&($.textContent=i),v=w(a),F(y.$$.fragment,a)},m(a,s){h(a,e,s),h(a,t,s),N(l,a,s),h(a,o,s),h(a,r,s),h(a,T,s),h(a,L,s);for(let S=0;S<p.length;S+=1)p[S]&&p[S].m(L,null);h(a,M,s),h(a,P,s),h(a,g,s),h(a,$,s),h(a,v,s),N(y,a,s),B=!0},p(a,s){const S={};s&65536&&(S.$$scope={dirty:s,ctx:a}),l.$set(S),s&123&&(q=Ce(a[1]),Me(),p=Pe(p,s,J,1,a,q,u,L,Re,ye,null,we),He());const Z={};s&65540&&(Z.$$scope={dirty:s,ctx:a}),y.$set(Z)},i(a){if(!B){R(l.$$.fragment,a);for(let s=0;s<q.length;s+=1)R(p[s]);R(y.$$.fragment,a),B=!0}},o(a){E(l.$$.fragment,a);for(let s=0;s<p.length;s+=1)E(p[s]);E(y.$$.fragment,a),B=!1},d(a){a&&(f(e),f(t),f(o),f(r),f(T),f(L),f(M),f(P),f(g),f($),f(v)),D(l,a);for(let s=0;s<p.length;s+=1)p[s].d();D(y,a)}}}function ze(c){let e,n;return e=new Te({props:{label:"Files",open:!0,$$slots:{default:[Be]},$$scope:{ctx:c}}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){N(e,t,l),n=!0},p(t,[l]){const o={};l&65551&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(R(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function Ye(c,e,n){let t,l;$e(c,ie,i=>n(2,t=i)),$e(c,me,i=>n(3,l=i));let{prefix:o}=e,r=m();function m(){let i=[];for(let v=0;v<window.localStorage.length;v++){let y=window.localStorage.key(v);y.startsWith(o)&&i.push(y)}return i.sort(),i}function T(i){try{let v=JSON.parse(window.localStorage.getItem(i)||"{}");if(!v.streetPlacemakingCheck)throw new Error("File format appears outdated");ae(me,l=i,l),ae(ie,t=v,t)}catch(v){window.alert(`Couldn't load ${i.slice(o.length)}: ${v}`)}}function L(i){if(l==i){window.alert("TODO: Can't delete current file yet");return}window.confirm(`Really delete file ${i.slice(o.length)}? You can't undo this.`)&&(window.localStorage.removeItem(i),n(1,r=m()))}function p(i){if(l==i){window.alert("TODO: Can't rename current file yet");return}let v=window.prompt(`Rename file ${i.slice(o.length)} to what?`,i.slice(o.length));if(v){let y=window.localStorage.getItem(i);window.localStorage.setItem(`${o}${v}`,y),window.localStorage.removeItem(i),n(1,r=m())}}function u(){for(let i=1;i<=r.length;i++){let v=`${o}untitled${i}`;if(!r.includes(v)){ae(me,l=v,l),ae(ie,t=Fe(),t),window.localStorage.setItem(l,JSON.stringify(t)),n(1,r=m());return}}throw new Error("Couldn't make a new filename; this shouldn't be possible")}const M=()=>u(),P=i=>T(i),g=i=>p(i),$=i=>L(i);return c.$$set=i=>{"prefix"in i&&n(0,o=i.prefix)},[o,r,t,l,T,L,p,u,M,P,g,$]}class Ue extends Le{constructor(e){super(),xe(this,e,Ye,ze,be,{prefix:0})}}function Ve(c){let e;return{c(){e=U(`scheme review tool
    `)},l(n){e=V(n,`scheme review tool
    `)},m(n,t){h(n,e,t)},d(n){n&&f(e)}}}function We(c){let e,n="<i>Street Check (disabled, because of the Route Check Type set in Summary</i>",t,l,o=`<i>Street Placemaking Check (disabled, because of the Route Check Type
          set in Summary</i>`;return{c(){e=d("li"),e.innerHTML=n,t=C(),l=d("li"),l.innerHTML=o},l(r){e=k(r,"LI",{"data-svelte-h":!0}),I(e)!=="svelte-177rigm"&&(e.innerHTML=n),t=w(r),l=k(r,"LI",{"data-svelte-h":!0}),I(l)!=="svelte-fkqj1y"&&(l.innerHTML=o)},m(r,m){h(r,e,m),h(r,t,m),h(r,l,m)},d(r){r&&(f(e),f(t),f(l))}}}function Ge(c){let e,n=`<a href="${Y}/route_check/street_check">Street Check</a>`,t,l,o=`<a href="${Y}/route_check/street_placemaking_check">Street Placemaking Check</a>`;return{c(){e=d("li"),e.innerHTML=n,t=C(),l=d("li"),l.innerHTML=o},l(r){e=k(r,"LI",{"data-svelte-h":!0}),I(e)!=="svelte-qr5auz"&&(e.innerHTML=n),t=w(r),l=k(r,"LI",{"data-svelte-h":!0}),I(l)!=="svelte-116k6le"&&(l.innerHTML=o)},m(r,m){h(r,e,m),h(r,t,m),h(r,l,m)},d(r){r&&(f(e),f(t),f(l))}}}function Ke(c){let e,n="<i>Path Check (disabled, because of the Route Check Type set in Summary</i>",t,l,o=`<i>Path Placemaking Check (disabled, because of the Route Check Type set
          in Summary</i>`;return{c(){e=d("li"),e.innerHTML=n,t=C(),l=d("li"),l.innerHTML=o},l(r){e=k(r,"LI",{"data-svelte-h":!0}),I(e)!=="svelte-1qcyf3y"&&(e.innerHTML=n),t=w(r),l=k(r,"LI",{"data-svelte-h":!0}),I(l)!=="svelte-12nesn6"&&(l.innerHTML=o)},m(r,m){h(r,e,m),h(r,t,m),h(r,l,m)},d(r){r&&(f(e),f(t),f(l))}}}function Qe(c){let e,n=`<a href="${Y}/route_check/path_check">Path Check</a>`,t,l,o=`<a href="${Y}/route_check/path_placemaking_check">Path Placemaking Check</a>`;return{c(){e=d("li"),e.innerHTML=n,t=C(),l=d("li"),l.innerHTML=o},l(r){e=k(r,"LI",{"data-svelte-h":!0}),I(e)!=="svelte-1yrsyln"&&(e.innerHTML=n),t=w(r),l=k(r,"LI",{"data-svelte-h":!0}),I(l)!=="svelte-17pw8oa"&&(l.innerHTML=o)},m(r,m){h(r,e,m),h(r,t,m),h(r,l,m)},d(r){r&&(f(e),f(t),f(l))}}}function Xe(c){let e,n,t,l,o,r,m,T,L,p,u,M,P=`<a href="${Y}/route_check/summary">Summary of Scheme</a>`,g,$,i=`<a href="${Y}/route_check/policy_check">Policy Check</a>`,v,y,B="Policy Conflict Log",q,J,a=`<a href="${Y}/route_check/safety_check">Safety Check</a>`,s,S,Z="Critical Issues Log",oe,ee,te,W,_e="JAT Check",ce,G,he="Results Summary",fe,K,pe="Results Further Analysis",ue,Q,de="Results Export",le;n=new Ee({props:{links:[["Tools","/"]],current:"Route check tool"}}),r=new Oe({props:{href:"https://www.gov.uk/government/publications/active-travel-england-scheme-review-tools",$$slots:{default:[Ve]},$$scope:{ctx:c}}}),L=new Ue({props:{prefix:"route-check/"}});function ke(b,H){return b[0].summary.checkType=="street"?Ge:We}let ne=ke(c),j=ne(c);function ge(b,H){return b[0].summary.checkType=="path"?Qe:Ke}let re=ge(c),A=re(c);return{c(){e=d("div"),O(n.$$.fragment),t=C(),l=d("p"),o=U("This is an experimental version of a "),O(r.$$.fragment),m=U("."),T=C(),O(L.$$.fragment),p=C(),u=d("ol"),M=d("li"),M.innerHTML=P,g=C(),$=d("li"),$.innerHTML=i,v=C(),y=d("li"),y.textContent=B,q=C(),J=d("li"),J.innerHTML=a,s=C(),S=d("li"),S.textContent=Z,oe=C(),j.c(),ee=C(),A.c(),te=C(),W=d("li"),W.textContent=_e,ce=C(),G=d("li"),G.textContent=he,fe=C(),K=d("li"),K.textContent=pe,ue=C(),Q=d("li"),Q.textContent=de,this.h()},l(b){e=k(b,"DIV",{class:!0});var H=X(e);F(n.$$.fragment,H),t=w(H),l=k(H,"P",{});var z=X(l);o=V(z,"This is an experimental version of a "),F(r.$$.fragment,z),m=V(z,"."),z.forEach(f),T=w(H),F(L.$$.fragment,H),p=w(H),u=k(H,"OL",{});var x=X(u);M=k(x,"LI",{"data-svelte-h":!0}),I(M)!=="svelte-ukoito"&&(M.innerHTML=P),g=w(x),$=k(x,"LI",{"data-svelte-h":!0}),I($)!=="svelte-1569dhf"&&($.innerHTML=i),v=w(x),y=k(x,"LI",{"data-svelte-h":!0}),I(y)!=="svelte-sms2k4"&&(y.textContent=B),q=w(x),J=k(x,"LI",{"data-svelte-h":!0}),I(J)!=="svelte-cxa0x3"&&(J.innerHTML=a),s=w(x),S=k(x,"LI",{"data-svelte-h":!0}),I(S)!=="svelte-13j3915"&&(S.textContent=Z),oe=w(x),j.l(x),ee=w(x),A.l(x),te=w(x),W=k(x,"LI",{"data-svelte-h":!0}),I(W)!=="svelte-1dooms7"&&(W.textContent=_e),ce=w(x),G=k(x,"LI",{"data-svelte-h":!0}),I(G)!=="svelte-128hs1o"&&(G.textContent=he),fe=w(x),K=k(x,"LI",{"data-svelte-h":!0}),I(K)!=="svelte-ep2hdy"&&(K.textContent=pe),ue=w(x),Q=k(x,"LI",{"data-svelte-h":!0}),I(Q)!=="svelte-1v81g90"&&(Q.textContent=de),x.forEach(f),H.forEach(f),this.h()},h(){Ie(e,"class","govuk-prose")},m(b,H){h(b,e,H),N(n,e,null),_(e,t),_(e,l),_(l,o),N(r,l,null),_(l,m),_(e,T),N(L,e,null),_(e,p),_(e,u),_(u,M),_(u,g),_(u,$),_(u,v),_(u,y),_(u,q),_(u,J),_(u,s),_(u,S),_(u,oe),j.m(u,null),_(u,ee),A.m(u,null),_(u,te),_(u,W),_(u,ce),_(u,G),_(u,fe),_(u,K),_(u,ue),_(u,Q),le=!0},p(b,[H]){const z={};H&2&&(z.$$scope={dirty:H,ctx:b}),r.$set(z),ne!==(ne=ke(b))&&(j.d(1),j=ne(b),j&&(j.c(),j.m(u,ee))),re!==(re=ge(b))&&(A.d(1),A=re(b),A&&(A.c(),A.m(u,te)))},i(b){le||(R(n.$$.fragment,b),R(r.$$.fragment,b),R(L.$$.fragment,b),le=!0)},o(b){E(n.$$.fragment,b),E(r.$$.fragment,b),E(L.$$.fragment,b),le=!1},d(b){b&&f(e),D(n),D(r),D(L),j.d(),A.d()}}}function Ze(c,e,n){let t;return $e(c,ie,l=>n(0,t=l)),[t]}class ct extends Le{constructor(e){super(),xe(this,e,Ze,Xe,be,{})}}export{ct as component};
