import{s as ot,e as q,a as o,t as ke,c as O,x as se,g as l,b as de,d as Se,f as J,q as me,i as ve,h as i,k as lt,w as it,p as I,A as Tt,r as T}from"../chunks/scheduler.DnywFkU9.js";import{S as ft,i as pt,c as d,a as v,m as y,t as $,g as Mt,b as _,f as qt,d as b,e as M}from"../chunks/index.DT47VLXg.js";import{p as ye}from"../chunks/index.YZekPLB5.js";import{S as ce}from"../chunks/Select.Bt-9RdZM.js";import{T as we}from"../chunks/TextArea.CQavfcce.js";import{T as Ce}from"../chunks/TextInput.BcfMzP77.js";import{s as C}from"../chunks/data.C9TFp-7L.js";import{a as Ot,t as Et,r as Dt,f as xt,d as Nt}from"../chunks/lists.Ci0sBo6t.js";import"../chunks/paths.6JU4d7iZ.js";import{F as Pt}from"../chunks/FileInput.DlWpEDcY.js";import{W as At}from"../chunks/WarningButton.CIyVn5Hj.js";import{E as Ht}from"../chunks/ExternalLink.DR2Xovi3.js";/* empty css                                                    */import{C as Kt}from"../chunks/Popup.DZ1BKUjg.js";import{M as jt}from"../chunks/MapLibreMap.D_Y_IQYi.js";import{D as ut}from"../chunks/DecimalInput.BwlSWJO2.js";function mt(a){let n,u;return n=new At({props:{$$slots:{default:[Ft]},$$scope:{ctx:a}}}),n.$on("click",a[1]),{c(){d(n.$$.fragment)},l(e){v(n.$$.fragment,e)},m(e,f){y(n,e,f),u=!0},p(e,f){const m={};f&8&&(m.$$scope={dirty:f,ctx:e}),n.$set(m)},i(e){u||($(n.$$.fragment,e),u=!0)},o(e){_(n.$$.fragment,e),u=!1},d(e){b(n,e)}}}function Ft(a){let n;return{c(){n=ke("Clear map")},l(u){n=Se(u,"Clear map")},m(u,e){ve(u,n,e)},d(u){u&&J(n)}}}function Gt(a){let n;return{c(){n=ke("Scheme Sketcher")},l(u){n=Se(u,"Scheme Sketcher")},m(u,e){ve(u,n,e)},d(u){u&&J(n)}}}function Vt(a){let n,u;return n=new Kt({props:{gj:a[0].summary.networkMap,show:!0}}),{c(){d(n.$$.fragment)},l(e){v(n.$$.fragment,e)},m(e,f){y(n,e,f),u=!0},p(e,f){const m={};f&1&&(m.gj=e[0].summary.networkMap),n.$set(m)},i(e){u||($(n.$$.fragment,e),u=!0)},o(e){_(n.$$.fragment,e),u=!1},d(e){b(n,e)}}}function Wt(a){let n,u="Network Map",e,f,m,E,B=`Please add a map showing the section of route being scored in this file.
      If the route is part of a longer route of multiple sections (covered in
      other files), please show this on the map for context too.`,S,k,ne,R,W,ie="You can use the external Scheme Sketcher tool to draw this map:",D,c,A,x,N,ae,r,U,le="Choose the area best covering this scheme",H,Q,fe=`Use the <i>New route</i>
        tool to sketch the route. It can contain segments snapped to existing roads
        or free-hand segments.`,K,X,pe=`Optionally, use the <i>Split route</i>
        tool to denote just the sections assessed in this file.`,j,Z,ge=`You can set <i>Name</i>
        and
        <i>Description</i>
        to whatever is useful for display on the map`,F,ee,$e=`Save the map by clicking <i>Manage files</i>
        , then
        <i>Save</i>`,G,te,he="Load the saved file above",V,Y,z,P;k=new Pt({props:{label:"Import from GeoJSON file",onLoad:a[2]}});let h=a[0].summary.networkMap.features.length>0&&mt(a);return N=new Ht({props:{href:"https://acteng.github.io/atip",$$slots:{default:[Gt]},$$scope:{ctx:a}}}),z=new jt({props:{$$slots:{default:[Vt]},$$scope:{ctx:a}}}),{c(){n=q("h2"),n.textContent=u,e=o(),f=q("div"),m=q("div"),E=q("p"),E.textContent=B,S=o(),d(k.$$.fragment),ne=o(),h&&h.c(),R=o(),W=q("p"),W.textContent=ie,D=o(),c=q("ol"),A=q("li"),x=ke("Go to the "),d(N.$$.fragment),ae=ke(" tool"),r=o(),U=q("li"),U.textContent=le,H=o(),Q=q("li"),Q.innerHTML=fe,K=o(),X=q("li"),X.innerHTML=pe,j=o(),Z=q("li"),Z.innerHTML=ge,F=o(),ee=q("li"),ee.innerHTML=$e,G=o(),te=q("li"),te.textContent=he,V=o(),Y=q("div"),d(z.$$.fragment),this.h()},l(p){n=O(p,"H2",{"data-svelte-h":!0}),se(n)!=="svelte-1fkh1ci"&&(n.textContent=u),e=l(p),f=O(p,"DIV",{style:!0});var g=de(f);m=O(g,"DIV",{style:!0});var L=de(m);E=O(L,"P",{"data-svelte-h":!0}),se(E)!=="svelte-1r7hkzo"&&(E.textContent=B),S=l(L),v(k.$$.fragment,L),ne=l(L),h&&h.l(L),R=l(L),W=O(L,"P",{"data-svelte-h":!0}),se(W)!=="svelte-1els6f1"&&(W.textContent=ie),D=l(L),c=O(L,"OL",{});var w=de(c);A=O(w,"LI",{});var ue=de(A);x=Se(ue,"Go to the "),v(N.$$.fragment,ue),ae=Se(ue," tool"),ue.forEach(J),r=l(w),U=O(w,"LI",{"data-svelte-h":!0}),se(U)!=="svelte-aj705b"&&(U.textContent=le),H=l(w),Q=O(w,"LI",{"data-svelte-h":!0}),se(Q)!=="svelte-1vb2muj"&&(Q.innerHTML=fe),K=l(w),X=O(w,"LI",{"data-svelte-h":!0}),se(X)!=="svelte-3xdyru"&&(X.innerHTML=pe),j=l(w),Z=O(w,"LI",{"data-svelte-h":!0}),se(Z)!=="svelte-1r1ljcj"&&(Z.innerHTML=ge),F=l(w),ee=O(w,"LI",{"data-svelte-h":!0}),se(ee)!=="svelte-sz4wlr"&&(ee.innerHTML=$e),G=l(w),te=O(w,"LI",{"data-svelte-h":!0}),se(te)!=="svelte-x3zkxb"&&(te.textContent=he),w.forEach(J),L.forEach(J),V=l(g),Y=O(g,"DIV",{style:!0});var _e=de(Y);v(z.$$.fragment,_e),_e.forEach(J),g.forEach(J),this.h()},h(){me(m,"width","30%"),me(m,"overflow-y","scroll"),me(m,"padding","10px"),me(m,"border","1px solid black"),me(Y,"position","relative"),me(Y,"width","70%"),me(f,"display","flex"),me(f,"height","80vh")},m(p,g){ve(p,n,g),ve(p,e,g),ve(p,f,g),i(f,m),i(m,E),i(m,S),y(k,m,null),i(m,ne),h&&h.m(m,null),i(m,R),i(m,W),i(m,D),i(m,c),i(c,A),i(A,x),y(N,A,null),i(A,ae),i(c,r),i(c,U),i(c,H),i(c,Q),i(c,K),i(c,X),i(c,j),i(c,Z),i(c,F),i(c,ee),i(c,G),i(c,te),i(f,V),i(f,Y),y(z,Y,null),P=!0},p(p,[g]){p[0].summary.networkMap.features.length>0?h?(h.p(p,g),g&1&&$(h,1)):(h=mt(p),h.c(),$(h,1),h.m(m,R)):h&&(Mt(),_(h,1,1,()=>{h=null}),qt());const L={};g&8&&(L.$$scope={dirty:g,ctx:p}),N.$set(L);const w={};g&9&&(w.$$scope={dirty:g,ctx:p}),z.$set(w)},i(p){P||($(k.$$.fragment,p),$(h),$(N.$$.fragment,p),$(z.$$.fragment,p),P=!0)},o(p){_(k.$$.fragment,p),_(h),_(N.$$.fragment,p),_(z.$$.fragment,p),P=!1},d(p){p&&(J(n),J(e),J(f)),b(k),h&&h.d(),b(N),b(z)}}}function zt(a,n,u){let e;lt(a,C,E=>u(0,e=E));function f(){window.confirm("Do you really want to erase the map data?")&&it(C,e.summary.networkMap={type:"FeatureCollection",features:[]},e)}function m(E,B){var S;try{let k=JSON.parse(B);if(k.type!="FeatureCollection")throw new Error("This doesn't look like a GeoJSON file");if(!((S=k.origin)!=null&&S.startsWith("atip-")))throw new Error("This file wasn't produced with the Scheme Sketcher");if(k.crs)throw new Error("This file has a Coordinate Reference System set; it's not suitable for a web map");it(C,e.summary.networkMap=k,e)}catch{}}return[e,f,m]}class Jt extends ft{constructor(n){super(),pt(this,n,zt,Wt,ot,{})}}function Yt(a){let n,u,e,f,m,E,B,S,k,ne,R,W,ie,D,c,A,x,N,ae,r,U,le,H,Q,fe,K,X,pe,j,Z,ge,F,ee,$e,G,te,he,V,Y,z,P,h,p,g,L,w,ue,_e,re,Le,Re,oe,be;function gt(t){a[1](t)}let Ie={label:"Date of design review"};a[0].summary.dateDesignReview!==void 0&&(Ie.value=a[0].summary.dateDesignReview),u=new Ce({props:Ie}),I.push(()=>M(u,"value",gt));function $t(t){a[2](t)}let Te={label:"Scheme reference"};a[0].summary.schemeReference!==void 0&&(Te.value=a[0].summary.schemeReference),m=new Ce({props:Te}),I.push(()=>M(m,"value",$t));function ht(t){a[3](t)}let Me={label:"Scheme name"};a[0].summary.schemeName!==void 0&&(Me.value=a[0].summary.schemeName),S=new Ce({props:Me}),I.push(()=>M(S,"value",ht));function _t(t){a[4](t)}let qe={label:"Scheme summary"};a[0].summary.schemeSummary!==void 0&&(qe.value=a[0].summary.schemeSummary),R=new we({props:qe}),I.push(()=>M(R,"value",_t));function ct(t){a[5](t)}let Oe={label:"Scheme information reviewed"};a[0].summary.schemeInfoReviewed!==void 0&&(Oe.value=a[0].summary.schemeInfoReviewed),D=new we({props:Oe}),I.push(()=>M(D,"value",ct));function dt(t){a[6](t)}let Ee={label:"Authority",emptyOption:!0,choices:ye(Ot)};a[0].summary.authority!==void 0&&(Ee.value=a[0].summary.authority),x=new ce({props:Ee}),I.push(()=>M(x,"value",dt));function vt(t){a[7](t)}let De={label:"Transport / Combined Authority",emptyOption:!0,choices:ye(Et)};a[0].summary.transportOrCombinedAuthority!==void 0&&(De.value=a[0].summary.transportOrCombinedAuthority),r=new ce({props:De}),I.push(()=>M(r,"value",vt));function yt(t){a[8](t)}let xe={label:"Region",emptyOption:!0,choices:ye(Dt)};a[0].summary.region!==void 0&&(xe.value=a[0].summary.region),H=new ce({props:xe}),I.push(()=>M(H,"value",yt));function bt(t){a[9](t)}let Ne={label:"Funding programme",emptyOption:!0,choices:ye(xt)};a[0].summary.fundingProgramme!==void 0&&(Ne.value=a[0].summary.fundingProgramme),K=new ce({props:Ne}),I.push(()=>M(K,"value",bt));function wt(t){a[10](t)}let Pe={label:"Design stage",emptyOption:!0,choices:ye(Nt)};a[0].summary.designStage!==void 0&&(Pe.value=a[0].summary.designStage),j=new ce({props:Pe}),I.push(()=>M(j,"value",wt));function Ct(t){a[11](t)}let Ae={label:"Funding conditions"};a[0].summary.fundingConditions!==void 0&&(Ae.value=a[0].summary.fundingConditions),F=new we({props:Ae}),I.push(()=>M(F,"value",Ct));function kt(t){a[12](t)}let He={label:"Inspector email address"};a[0].summary.inspectorEmail!==void 0&&(He.value=a[0].summary.inspectorEmail),G=new Ce({props:He}),I.push(()=>M(G,"value",kt));function St(t){a[13](t)}let Ke={label:"Route length assessed here (km)",width:6,min:0};a[0].summary.assessedRouteLengthKm!==void 0&&(Ke.value=a[0].summary.assessedRouteLengthKm),V=new ut({props:Ke}),I.push(()=>M(V,"value",St));function Lt(t){a[14](t)}let je={label:"Total route length (km)",width:6,min:0};a[0].summary.totalRouteLengthKm!==void 0&&(je.value=a[0].summary.totalRouteLengthKm),P=new ut({props:je}),I.push(()=>M(P,"value",Lt));function Rt(t){a[15](t)}let Fe={label:"Notes"};a[0].summary.notes!==void 0&&(Fe.value=a[0].summary.notes),g=new we({props:Fe}),I.push(()=>M(g,"value",Rt));function It(t){a[16](t)}let Ge={label:"Route Check Type (Street or Path)",hint:"What type of route is being reviewed: Street Check (e.g. on- or by-carriageway) or Path Check (e.g. a traffic-free path featuring minimal interactions with motor traffic)",emptyOption:!0,choices:[["street","Street Check"],["path","Path Check"]]};return a[0].summary.checkType!==void 0&&(Ge.value=a[0].summary.checkType),re=new ce({props:Ge}),I.push(()=>M(re,"value",It)),oe=new Jt({}),{c(){n=q("div"),d(u.$$.fragment),f=o(),d(m.$$.fragment),B=o(),d(S.$$.fragment),ne=o(),d(R.$$.fragment),ie=o(),d(D.$$.fragment),A=o(),d(x.$$.fragment),ae=o(),d(r.$$.fragment),le=o(),d(H.$$.fragment),fe=o(),d(K.$$.fragment),pe=o(),d(j.$$.fragment),ge=o(),d(F.$$.fragment),$e=o(),d(G.$$.fragment),he=o(),d(V.$$.fragment),z=o(),d(P.$$.fragment),p=o(),d(g.$$.fragment),w=o(),ue=q("hr"),_e=o(),d(re.$$.fragment),Re=o(),d(oe.$$.fragment),this.h()},l(t){n=O(t,"DIV",{class:!0});var s=de(n);v(u.$$.fragment,s),f=l(s),v(m.$$.fragment,s),B=l(s),v(S.$$.fragment,s),ne=l(s),v(R.$$.fragment,s),ie=l(s),v(D.$$.fragment,s),A=l(s),v(x.$$.fragment,s),ae=l(s),v(r.$$.fragment,s),le=l(s),v(H.$$.fragment,s),fe=l(s),v(K.$$.fragment,s),pe=l(s),v(j.$$.fragment,s),ge=l(s),v(F.$$.fragment,s),$e=l(s),v(G.$$.fragment,s),he=l(s),v(V.$$.fragment,s),z=l(s),v(P.$$.fragment,s),p=l(s),v(g.$$.fragment,s),w=l(s),ue=O(s,"HR",{}),_e=l(s),v(re.$$.fragment,s),Re=l(s),v(oe.$$.fragment,s),s.forEach(J),this.h()},h(){Tt(n,"class","govuk-width-container")},m(t,s){ve(t,n,s),y(u,n,null),i(n,f),y(m,n,null),i(n,B),y(S,n,null),i(n,ne),y(R,n,null),i(n,ie),y(D,n,null),i(n,A),y(x,n,null),i(n,ae),y(r,n,null),i(n,le),y(H,n,null),i(n,fe),y(K,n,null),i(n,pe),y(j,n,null),i(n,ge),y(F,n,null),i(n,$e),y(G,n,null),i(n,he),y(V,n,null),i(n,z),y(P,n,null),i(n,p),y(g,n,null),i(n,w),i(n,ue),i(n,_e),y(re,n,null),i(n,Re),y(oe,n,null),be=!0},p(t,[s]){const Ve={};!e&&s&1&&(e=!0,Ve.value=t[0].summary.dateDesignReview,T(()=>e=!1)),u.$set(Ve);const We={};!E&&s&1&&(E=!0,We.value=t[0].summary.schemeReference,T(()=>E=!1)),m.$set(We);const ze={};!k&&s&1&&(k=!0,ze.value=t[0].summary.schemeName,T(()=>k=!1)),S.$set(ze);const Je={};!W&&s&1&&(W=!0,Je.value=t[0].summary.schemeSummary,T(()=>W=!1)),R.$set(Je);const Ye={};!c&&s&1&&(c=!0,Ye.value=t[0].summary.schemeInfoReviewed,T(()=>c=!1)),D.$set(Ye);const Be={};!N&&s&1&&(N=!0,Be.value=t[0].summary.authority,T(()=>N=!1)),x.$set(Be);const Ue={};!U&&s&1&&(U=!0,Ue.value=t[0].summary.transportOrCombinedAuthority,T(()=>U=!1)),r.$set(Ue);const Qe={};!Q&&s&1&&(Q=!0,Qe.value=t[0].summary.region,T(()=>Q=!1)),H.$set(Qe);const Xe={};!X&&s&1&&(X=!0,Xe.value=t[0].summary.fundingProgramme,T(()=>X=!1)),K.$set(Xe);const Ze={};!Z&&s&1&&(Z=!0,Ze.value=t[0].summary.designStage,T(()=>Z=!1)),j.$set(Ze);const et={};!ee&&s&1&&(ee=!0,et.value=t[0].summary.fundingConditions,T(()=>ee=!1)),F.$set(et);const tt={};!te&&s&1&&(te=!0,tt.value=t[0].summary.inspectorEmail,T(()=>te=!1)),G.$set(tt);const nt={};!Y&&s&1&&(Y=!0,nt.value=t[0].summary.assessedRouteLengthKm,T(()=>Y=!1)),V.$set(nt);const at={};!h&&s&1&&(h=!0,at.value=t[0].summary.totalRouteLengthKm,T(()=>h=!1)),P.$set(at);const rt={};!L&&s&1&&(L=!0,rt.value=t[0].summary.notes,T(()=>L=!1)),g.$set(rt);const st={};!Le&&s&1&&(Le=!0,st.value=t[0].summary.checkType,T(()=>Le=!1)),re.$set(st)},i(t){be||($(u.$$.fragment,t),$(m.$$.fragment,t),$(S.$$.fragment,t),$(R.$$.fragment,t),$(D.$$.fragment,t),$(x.$$.fragment,t),$(r.$$.fragment,t),$(H.$$.fragment,t),$(K.$$.fragment,t),$(j.$$.fragment,t),$(F.$$.fragment,t),$(G.$$.fragment,t),$(V.$$.fragment,t),$(P.$$.fragment,t),$(g.$$.fragment,t),$(re.$$.fragment,t),$(oe.$$.fragment,t),be=!0)},o(t){_(u.$$.fragment,t),_(m.$$.fragment,t),_(S.$$.fragment,t),_(R.$$.fragment,t),_(D.$$.fragment,t),_(x.$$.fragment,t),_(r.$$.fragment,t),_(H.$$.fragment,t),_(K.$$.fragment,t),_(j.$$.fragment,t),_(F.$$.fragment,t),_(G.$$.fragment,t),_(V.$$.fragment,t),_(P.$$.fragment,t),_(g.$$.fragment,t),_(re.$$.fragment,t),_(oe.$$.fragment,t),be=!1},d(t){t&&J(n),b(u),b(m),b(S),b(R),b(D),b(x),b(r),b(H),b(K),b(j),b(F),b(G),b(V),b(P),b(g),b(re),b(oe)}}}function Bt(a,n,u){let e;lt(a,C,r=>u(0,e=r));function f(r){a.$$.not_equal(e.summary.dateDesignReview,r)&&(e.summary.dateDesignReview=r,C.set(e))}function m(r){a.$$.not_equal(e.summary.schemeReference,r)&&(e.summary.schemeReference=r,C.set(e))}function E(r){a.$$.not_equal(e.summary.schemeName,r)&&(e.summary.schemeName=r,C.set(e))}function B(r){a.$$.not_equal(e.summary.schemeSummary,r)&&(e.summary.schemeSummary=r,C.set(e))}function S(r){a.$$.not_equal(e.summary.schemeInfoReviewed,r)&&(e.summary.schemeInfoReviewed=r,C.set(e))}function k(r){a.$$.not_equal(e.summary.authority,r)&&(e.summary.authority=r,C.set(e))}function ne(r){a.$$.not_equal(e.summary.transportOrCombinedAuthority,r)&&(e.summary.transportOrCombinedAuthority=r,C.set(e))}function R(r){a.$$.not_equal(e.summary.region,r)&&(e.summary.region=r,C.set(e))}function W(r){a.$$.not_equal(e.summary.fundingProgramme,r)&&(e.summary.fundingProgramme=r,C.set(e))}function ie(r){a.$$.not_equal(e.summary.designStage,r)&&(e.summary.designStage=r,C.set(e))}function D(r){a.$$.not_equal(e.summary.fundingConditions,r)&&(e.summary.fundingConditions=r,C.set(e))}function c(r){a.$$.not_equal(e.summary.inspectorEmail,r)&&(e.summary.inspectorEmail=r,C.set(e))}function A(r){a.$$.not_equal(e.summary.assessedRouteLengthKm,r)&&(e.summary.assessedRouteLengthKm=r,C.set(e))}function x(r){a.$$.not_equal(e.summary.totalRouteLengthKm,r)&&(e.summary.totalRouteLengthKm=r,C.set(e))}function N(r){a.$$.not_equal(e.summary.notes,r)&&(e.summary.notes=r,C.set(e))}function ae(r){a.$$.not_equal(e.summary.checkType,r)&&(e.summary.checkType=r,C.set(e))}return[e,f,m,E,B,S,k,ne,R,W,ie,D,c,A,x,N,ae]}class gn extends ft{constructor(n){super(),pt(this,n,Bt,Yt,ot,{})}}export{gn as component};
