import{s as J,b as R,e as P,h as M,c as q,a as U,i as v,w as we,x as X,d as b,y as Oe,q as je,G as te,f as V,H as ke,u as ze,r as Ge,v as Je,I as ye,E as x,o as O,L as Y,k as B,p as E,l as ie,$ as Ke,t as H,j as A,g as le,z as ae,D as Qe,A as Te,n as ee}from"../chunks/scheduler.CGD5Klry.js";import{S as K,i as Q,c as T,a as L,m as D,t as w,b as k,d as S,e as W,g as Ee,f as We}from"../chunks/index.C9Pm0gl5.js";import{e as Z,u as Xe,o as Ye}from"../chunks/each.BLhKzBwu.js";import{S as j,p as z}from"../chunks/Select.C6TnQIDp.js";import{g as Ze,W as xe,C as ne}from"../chunks/WarningButton.cnjbPhKy.js";import{s as N,l as et}from"../chunks/data.C9LIaLbC.js";import{F as tt,v as at,E as nt}from"../chunks/FormElement.BveGiCWh.js";import{b as Le}from"../chunks/paths.k3yF8npF.js";function st(n){let e,a,t,s,o,i,c;return e=new nt({props:{errorMessage:n[5](n[2])}}),{c(){T(e.$$.fragment),a=R(),t=P("input"),this.h()},l(r){L(e.$$.fragment,r),a=M(r),t=q(r,"INPUT",{type:!0,inputmode:!0,class:!0,id:!0}),this.h()},h(){U(t,"type","text"),U(t,"inputmode","numeric"),U(t,"class",s=`govuk-input govuk-input--width-${n[1]}`),U(t,"id",n[3])},m(r,l){D(e,r,l),v(r,a,l),v(r,t,l),we(t,n[2]),o=!0,i||(c=[X(t,"input",n[9]),X(t,"change",n[4])],i=!0)},p(r,l){const u={};l&4&&(u.errorMessage=r[5](r[2])),e.$set(u),(!o||l&2&&s!==(s=`govuk-input govuk-input--width-${r[1]}`))&&U(t,"class",s),l&4&&t.value!==r[2]&&we(t,r[2])},i(r){o||(w(e.$$.fragment,r),o=!0)},o(r){k(e.$$.fragment,r),o=!1},d(r){r&&(b(a),b(t)),S(e,r),i=!1,Oe(c)}}}function it(n){let e,a;return e=new tt({props:{label:n[0],id:n[3],$$slots:{default:[st]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){D(e,t,s),a=!0},p(t,[s]){const o={};s&1&&(o.label=t[0]),s&1030&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function lt(n,e,a){let{label:t}=e,{value:s}=e,{width:o}=e,{min:i=void 0}=e,{max:c=void 0}=e,r=s==null?void 0:s.toString(),l=at();function u(){a(6,s=r==null?void 0:parseInt(r,10))}function _(f){if(f==""||f==null)return"";if(f.includes("."))return"Please enter a number without decimals";let g=Number(f);return isNaN(g)?"Please enter a valid number":i!=null&&g<i?`Please enter a number that's at least ${i};`:c!=null&&g>c?`Please enter a number that's at most ${c};`:""}function d(){r=this.value,a(2,r)}return n.$$set=f=>{"label"in f&&a(0,t=f.label),"value"in f&&a(6,s=f.value),"width"in f&&a(1,o=f.width),"min"in f&&a(7,i=f.min),"max"in f&&a(8,c=f.max)},[t,o,r,l,u,_,s,i,c,d]}class rt extends K{constructor(e){super(),Q(this,e,lt,it,J,{label:0,value:6,width:1,min:7,max:8})}}function ot(n){let e,a,t,s;const o=n[2].default,i=je(o,n,n[1],null);let c=[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},n[0]],r={};for(let l=0;l<c.length;l+=1)r=te(r,c[l]);return{c(){e=P("button"),i&&i.c(),this.h()},l(l){e=q(l,"BUTTON",{type:!0,class:!0,"data-module":!0});var u=V(e);i&&i.l(u),u.forEach(b),this.h()},h(){ke(e,r)},m(l,u){v(l,e,u),i&&i.m(e,null),e.autofocus&&e.focus(),a=!0,t||(s=[X(e,"click",n[3]),X(e,"mouseenter",n[4]),X(e,"mouseleave",n[5])],t=!0)},p(l,[u]){i&&i.p&&(!a||u&2)&&ze(i,o,l,l[1],a?Je(o,l[1],u,null):Ge(l[1]),null),ke(e,r=Ze(c,[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},u&1&&l[0]]))},i(l){a||(w(i,l),a=!0)},o(l){k(i,l),a=!1},d(l){l&&b(e),i&&i.d(l),t=!1,Oe(s)}}}function ft(n,e,a){let{$$slots:t={},$$scope:s}=e;function o(r){x.call(this,n,r)}function i(r){x.call(this,n,r)}function c(r){x.call(this,n,r)}return n.$$set=r=>{a(0,e=te(te({},e),ye(r))),"$$scope"in r&&a(1,s=r.$$scope)},e=ye(e),[e,s,t,o,i,c]}class se extends K{constructor(e){super(),Q(this,e,ft,ot,J,{})}}let ut={Footway:["2.60","2.60","2.60","","","2.00","2.00","2.00",""],"Narrow Traffic / Bus Lane":["3.25","","","","","3.25","","",""],"Wide Traffic / Bus Lane":["4.50","","","","","3.90","","",""],"Traffic Lane (no buses): speed limit 20/30":["3.00","","","","","2.75","","",""],"On-highway advisory/mandatory cycle lane":["2.00","","","","","1.50","","",""],"1-way protected cycle track":["2.30","2.50","2.80","","","1.80","2.30","2.30",""],"2-way protected cycle track":["3.30","3.30","4.30","","","2.30","2.80","3.30",""],"Shared use cycle track":["3.00","4.50","","","","3.00","4.50","",""],"Parking Bay":["2.00","","","","","1.80","","",""],"Disabled Parking Bay":["2.70","","","","","2.70","","",""],"Loading Bay":["2.70","","","","","1.80","","",""],"Buffer / Verge":["0.50","1.00","2.00","2.50","3.50","-  ","0.50","1.50","2.00","3.00"]};function De(n,e,a){let t=ut[n],s=a=="Desirable"?t.slice(1,6):t.slice(6,11);if(e=="High Street (active frontages)")return s[0];if(e=="Residential street")return s[1];if(e=="Local distributor road")return s[2];throw new Error(`Unknown streetFunction ${e}`)}let Se={Footway:["Manual for Streets 2: Section 5 pp.43","DMRB CD143 Designing for walking, cycling & horse-riding Annex pp. 7"],"Narrow Traffic / Bus Lane":[],"Wide Traffic / Bus Lane":[],"Traffic Lane (no buses): speed limit 20/30":["LTN 1/20 Table 7-2 pp. 76","LTN 1/20 Figure 4.1 pp. 33"],"On-highway advisory/mandatory cycle lane":["LTN 1/20 Table 5-2 pp.43","LTN 1/20 Figure 4.1 pp. 33"],"1-way protected cycle track":["LTN 1/20 Table 5-2 pp.43","LTN 1/20 Figure 4.1 pp. 33"],"2-way protected cycle track":["LTN 1/20 Table 5-2 pp.43","LTN 1/20 Figure 4.1 pp. 33"],"Shared use cycle track":["LTN 1/20 Table 6-3 pp.68"],"Parking Bay":["LTN 1/20 table 7-3 pp77"],"Disabled Parking Bay":[],"Loading Bay":["LTN 1/20 table 7-3 pp77"],"Buffer / Verge":["LTN 1/20 table 6-1 pp54"]};function Ce(n,e,a){const t=n.slice();return t[11]=e[a],t}function Fe(n){let e,a,t,s=De(n[0],n[4].proposed.trafficData.streetFunction,n[3])+"",o,i,c,r="References:",l,u,_=Z(Se[n[0]]),d=[];for(let f=0;f<_.length;f+=1)d[f]=Re(Ce(n,_,f));return{c(){e=P("p"),a=H(n[3]),t=H(" minimum width (m): "),o=H(s),i=R(),c=P("u"),c.textContent=r,l=R(),u=P("ul");for(let f=0;f<d.length;f+=1)d[f].c()},l(f){e=q(f,"P",{});var g=V(e);a=A(g,n[3]),t=A(g," minimum width (m): "),o=A(g,s),g.forEach(b),i=M(f),c=q(f,"U",{"data-svelte-h":!0}),le(c)!=="svelte-fphw6y"&&(c.textContent=r),l=M(f),u=q(f,"UL",{});var h=V(u);for(let m=0;m<d.length;m+=1)d[m].l(h);h.forEach(b)},m(f,g){v(f,e,g),B(e,a),B(e,t),B(e,o),v(f,i,g),v(f,c,g),v(f,l,g),v(f,u,g);for(let h=0;h<d.length;h+=1)d[h]&&d[h].m(u,null)},p(f,g){if(g&8&&ae(a,f[3]),g&25&&s!==(s=De(f[0],f[4].proposed.trafficData.streetFunction,f[3])+"")&&ae(o,s),g&1){_=Z(Se[f[0]]);let h;for(h=0;h<_.length;h+=1){const m=Ce(f,_,h);d[h]?d[h].p(m,g):(d[h]=Re(m),d[h].c(),d[h].m(u,null))}for(;h<d.length;h+=1)d[h].d(1);d.length=_.length}},d(f){f&&(b(e),b(i),b(c),b(l),b(u)),Qe(d,f)}}}function Re(n){let e,a=n[11]+"",t;return{c(){e=P("li"),t=H(a)},l(s){e=q(s,"LI",{});var o=V(e);t=A(o,a),o.forEach(b)},m(s,o){v(s,e,o),B(e,t)},p(s,o){o&1&&a!==(a=s[11]+"")&&ae(t,a)},d(s){s&&b(e)}}}function ct(n){let e;return{c(){e=H("←")},l(a){e=A(a,"←")},m(a,t){v(a,e,t)},d(a){a&&b(e)}}}function pt(n){let e;return{c(){e=H("Delete")},l(a){e=A(a,"Delete")},m(a,t){v(a,e,t)},d(a){a&&b(e)}}}function dt(n){let e;return{c(){e=H("→")},l(a){e=A(a,"→")},m(a,t){v(a,e,t)},d(a){a&&b(e)}}}function mt(n){let e,a,t,s,o,i,c,r,l,u,_,d;function f(m){n[7](m)}let g={label:"Lane type",emptyOption:!0,choices:n[6]};n[0]!==void 0&&(g.value=n[0]),a=new j({props:g}),O.push(()=>W(a,"value",f));let h=n[0]&&Fe(n);return c=new se({props:{disabled:n[1],$$slots:{default:[ct]},$$scope:{ctx:n}}}),c.$on("click",n[8]),l=new xe({props:{$$slots:{default:[pt]},$$scope:{ctx:n}}}),l.$on("click",n[9]),_=new se({props:{disabled:n[2],$$slots:{default:[dt]},$$scope:{ctx:n}}}),_.$on("click",n[10]),{c(){e=P("div"),T(a.$$.fragment),s=R(),h&&h.c(),o=R(),i=P("div"),T(c.$$.fragment),r=R(),T(l.$$.fragment),u=R(),T(_.$$.fragment),this.h()},l(m){e=q(m,"DIV",{class:!0});var $=V(e);L(a.$$.fragment,$),s=M($),h&&h.l($),o=M($),i=q($,"DIV",{style:!0,class:!0});var C=V(i);L(c.$$.fragment,C),r=M(C),L(l.$$.fragment,C),u=M(C),L(_.$$.fragment,C),C.forEach(b),$.forEach(b),this.h()},h(){Y(i,"display","flex"),Y(i,"justify-content","space-between"),U(i,"class","svelte-jig4ga"),U(e,"class","svelte-jig4ga")},m(m,$){v(m,e,$),D(a,e,null),B(e,s),h&&h.m(e,null),B(e,o),B(e,i),D(c,i,null),B(i,r),D(l,i,null),B(i,u),D(_,i,null),d=!0},p(m,[$]){const C={};!t&&$&1&&(t=!0,C.value=m[0],E(()=>t=!1)),a.$set(C),m[0]?h?h.p(m,$):(h=Fe(m),h.c(),h.m(e,o)):h&&(h.d(1),h=null);const F={};$&2&&(F.disabled=m[1]),$&16384&&(F.$$scope={dirty:$,ctx:m}),c.$set(F);const G={};$&16384&&(G.$$scope={dirty:$,ctx:m}),l.$set(G);const I={};$&4&&(I.disabled=m[2]),$&16384&&(I.$$scope={dirty:$,ctx:m}),_.$set(I)},i(m){d||(w(a.$$.fragment,m),w(c.$$.fragment,m),w(l.$$.fragment,m),w(_.$$.fragment,m),d=!0)},o(m){k(a.$$.fragment,m),k(c.$$.fragment,m),k(l.$$.fragment,m),k(_.$$.fragment,m),d=!1},d(m){m&&b(e),S(a),h&&h.d(),S(c),S(l),S(_)}}}function _t(n,e,a){let t;ie(n,N,g=>a(4,t=g));let{value:s}=e,{isFirst:o}=e,{isLast:i}=e,{sectionType:c}=e,r=Ke(),l=z(et);function u(g){s=g,a(0,s)}const _=()=>r("moveLeft"),d=()=>r("delete"),f=()=>r("moveRight");return n.$$set=g=>{"value"in g&&a(0,s=g.value),"isFirst"in g&&a(1,o=g.isFirst),"isLast"in g&&a(2,i=g.isLast),"sectionType"in g&&a(3,c=g.sectionType)},[s,o,i,c,t,r,l,u,_,d,f]}class gt extends K{constructor(e){super(),Q(this,e,_t,mt,J,{value:0,isFirst:1,isLast:2,sectionType:3})}}function Me(n,e,a){const t=n.slice();return t[10]=e[a],t[11]=e,t[12]=a,t}function ht(n){let e;return{c(){e=H("Add")},l(a){e=A(a,"Add")},m(a,t){v(a,e,t)},d(a){a&&b(e)}}}function Ne(n,e){let a,t,s,o;function i(_){e[6](_,e[10],e[11],e[12])}function c(){return e[7](e[12])}function r(){return e[8](e[12])}function l(){return e[9](e[12])}let u={isFirst:e[12]==0,isLast:e[12]==e[0].length-1,sectionType:e[1]};return e[10]!==void 0&&(u.value=e[10]),t=new gt({props:u}),O.push(()=>W(t,"value",i)),t.$on("delete",c),t.$on("moveLeft",r),t.$on("moveRight",l),{key:n,first:null,c(){a=Te(),T(t.$$.fragment),this.h()},l(_){a=Te(),L(t.$$.fragment,_),this.h()},h(){this.first=a},m(_,d){v(_,a,d),D(t,_,d),o=!0},p(_,d){e=_;const f={};d&1&&(f.isFirst=e[12]==0),d&1&&(f.isLast=e[12]==e[0].length-1),d&2&&(f.sectionType=e[1]),!s&&d&1&&(s=!0,f.value=e[10],E(()=>s=!1)),t.$set(f)},i(_){o||(w(t.$$.fragment,_),o=!0)},o(_){k(t.$$.fragment,_),o=!1},d(_){_&&b(a),S(t,_)}}}function $t(n){let e,a,t,s=[],o=new Map,i;e=new se({props:{$$slots:{default:[ht]},$$scope:{ctx:n}}}),e.$on("click",n[2]);let c=Z(n[0]);const r=l=>l[12];for(let l=0;l<c.length;l+=1){let u=Me(n,c,l),_=r(u);o.set(_,s[l]=Ne(_,u))}return{c(){T(e.$$.fragment),a=R(),t=P("div");for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){L(e.$$.fragment,l),a=M(l),t=q(l,"DIV",{style:!0});var u=V(t);for(let _=0;_<s.length;_+=1)s[_].l(u);u.forEach(b),this.h()},h(){Y(t,"display","flex"),Y(t,"flex-direction","row")},m(l,u){D(e,l,u),v(l,a,u),v(l,t,u);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(t,null);i=!0},p(l,[u]){const _={};u&8192&&(_.$$scope={dirty:u,ctx:l}),e.$set(_),u&59&&(c=Z(l[0]),Ee(),s=Xe(s,u,r,1,l,c,o,t,Ye,Ne,null,Me),We())},i(l){if(!i){w(e.$$.fragment,l);for(let u=0;u<c.length;u+=1)w(s[u]);i=!0}},o(l){k(e.$$.fragment,l);for(let u=0;u<s.length;u+=1)k(s[u]);i=!1},d(l){l&&(b(a),b(t)),S(e,l);for(let u=0;u<s.length;u+=1)s[u].d()}}}function bt(n,e,a){let{lanesLeftToRight:t}=e,{sectionType:s}=e;function o(){a(0,t=[...t,""])}function i(f){t.splice(f,1),a(0,t)}function c(f){a(0,[t[f-1],t[f]]=[t[f],t[f-1]],t)}function r(f){a(0,[t[f+1],t[f]]=[t[f],t[f+1]],t)}function l(f,g,h,m){h[m]=f,a(0,t)}const u=f=>i(f),_=f=>c(f),d=f=>r(f);return n.$$set=f=>{"lanesLeftToRight"in f&&a(0,t=f.lanesLeftToRight),"sectionType"in f&&a(1,s=f.sectionType)},[t,s,o,i,c,r,l,u,_,d]}class Be extends K{constructor(e){super(),Q(this,e,bt,$t,J,{lanesLeftToRight:0,sectionType:1})}}function vt(n){let e,a,t,s,o,i,c,r,l,u,_,d,f,g,h,m,$,C,F,G,I;function Pe(p){n[2](p)}let re={label:"Expected peak hour cycle flow: 1-way cycle tracks",emptyOption:!0,choices:z(["<200","200-800",">800"])};n[0].proposed.trafficData.flowOneWay!==void 0&&(re.value=n[0].proposed.trafficData.flowOneWay),e=new j({props:re}),O.push(()=>W(e,"value",Pe));function qe(p){n[3](p)}let oe={label:"Expected peak hour cycle flow: 2-way cycle tracks",emptyOption:!0,choices:z(["<300","300-1,000",">1,000"])};n[0].proposed.trafficData.flowTwoWay!==void 0&&(oe.value=n[0].proposed.trafficData.flowTwoWay),s=new j({props:oe}),O.push(()=>W(s,"value",qe));function Ue(p){n[4](p)}let fe={label:"Expected peak hour cycle flow: shared use cycle tracks",emptyOption:!0,choices:z(["<300",">300"])};n[0].proposed.trafficData.flowSharedUse!==void 0&&(fe.value=n[0].proposed.trafficData.flowSharedUse),c=new j({props:fe}),O.push(()=>W(c,"value",Ue));function Ie(p){n[5](p)}let ue={label:"Traffic flow (vpd)",emptyOption:!0,choices:z(["<2,500","2,500-5,000","5,000-10,000",">10,000"])};n[0].proposed.trafficData.trafficFlow!==void 0&&(ue.value=n[0].proposed.trafficData.trafficFlow),u=new j({props:ue}),O.push(()=>W(u,"value",Ie));function He(p){n[6](p)}let ce={label:"Speed limit (MPH)",emptyOption:!0,choices:z(["<30","30","40","50","60","70"])};n[0].proposed.trafficData.speedLimit!==void 0&&(ce.value=n[0].proposed.trafficData.speedLimit),f=new j({props:ce}),O.push(()=>W(f,"value",He));function Ae(p){n[7](p)}let pe={label:"Observed 85th percentile speed (MPH)",width:3,min:0,max:120};n[0].proposed.trafficData.observedSpeed!==void 0&&(pe.value=n[0].proposed.trafficData.observedSpeed),m=new rt({props:pe}),O.push(()=>W(m,"value",Ae));function Ve(p){n[8](p)}let de={label:"Street function",emptyOption:!0,choices:z(["High Street (active frontages)","Residential street","Local distributor road"])};return n[0].proposed.trafficData.streetFunction!==void 0&&(de.value=n[0].proposed.trafficData.streetFunction),F=new j({props:de}),O.push(()=>W(F,"value",Ve)),{c(){T(e.$$.fragment),t=R(),T(s.$$.fragment),i=R(),T(c.$$.fragment),l=R(),T(u.$$.fragment),d=R(),T(f.$$.fragment),h=R(),T(m.$$.fragment),C=R(),T(F.$$.fragment)},l(p){L(e.$$.fragment,p),t=M(p),L(s.$$.fragment,p),i=M(p),L(c.$$.fragment,p),l=M(p),L(u.$$.fragment,p),d=M(p),L(f.$$.fragment,p),h=M(p),L(m.$$.fragment,p),C=M(p),L(F.$$.fragment,p)},m(p,y){D(e,p,y),v(p,t,y),D(s,p,y),v(p,i,y),D(c,p,y),v(p,l,y),D(u,p,y),v(p,d,y),D(f,p,y),v(p,h,y),D(m,p,y),v(p,C,y),D(F,p,y),I=!0},p(p,y){const me={};!a&&y&1&&(a=!0,me.value=p[0].proposed.trafficData.flowOneWay,E(()=>a=!1)),e.$set(me);const _e={};!o&&y&1&&(o=!0,_e.value=p[0].proposed.trafficData.flowTwoWay,E(()=>o=!1)),s.$set(_e);const ge={};!r&&y&1&&(r=!0,ge.value=p[0].proposed.trafficData.flowSharedUse,E(()=>r=!1)),c.$set(ge);const he={};!_&&y&1&&(_=!0,he.value=p[0].proposed.trafficData.trafficFlow,E(()=>_=!1)),u.$set(he);const $e={};!g&&y&1&&(g=!0,$e.value=p[0].proposed.trafficData.speedLimit,E(()=>g=!1)),f.$set($e);const be={};!$&&y&1&&($=!0,be.value=p[0].proposed.trafficData.observedSpeed,E(()=>$=!1)),m.$set(be);const ve={};!G&&y&1&&(G=!0,ve.value=p[0].proposed.trafficData.streetFunction,E(()=>G=!1)),F.$set(ve)},i(p){I||(w(e.$$.fragment,p),w(s.$$.fragment,p),w(c.$$.fragment,p),w(u.$$.fragment,p),w(f.$$.fragment,p),w(m.$$.fragment,p),w(F.$$.fragment,p),I=!0)},o(p){k(e.$$.fragment,p),k(s.$$.fragment,p),k(c.$$.fragment,p),k(u.$$.fragment,p),k(f.$$.fragment,p),k(m.$$.fragment,p),k(F.$$.fragment,p),I=!1},d(p){p&&(b(t),b(i),b(l),b(d),b(h),b(C)),S(e,p),S(s,p),S(c,p),S(u,p),S(f,p),S(m,p),S(F,p)}}}function wt(n){let e,a;return e=new ne({props:{label:"Traffic data and additional information",$$slots:{default:[vt]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){D(e,t,s),a=!0},p(t,[s]){const o={};s&513&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function kt(n,e,a){let t;ie(n,N,d=>a(0,t=d));let{valid:s}=e;function o(d){n.$$.not_equal(t.proposed.trafficData.flowOneWay,d)&&(t.proposed.trafficData.flowOneWay=d,N.set(t))}function i(d){n.$$.not_equal(t.proposed.trafficData.flowTwoWay,d)&&(t.proposed.trafficData.flowTwoWay=d,N.set(t))}function c(d){n.$$.not_equal(t.proposed.trafficData.flowSharedUse,d)&&(t.proposed.trafficData.flowSharedUse=d,N.set(t))}function r(d){n.$$.not_equal(t.proposed.trafficData.trafficFlow,d)&&(t.proposed.trafficData.trafficFlow=d,N.set(t))}function l(d){n.$$.not_equal(t.proposed.trafficData.speedLimit,d)&&(t.proposed.trafficData.speedLimit=d,N.set(t))}function u(d){n.$$.not_equal(t.proposed.trafficData.observedSpeed,d)&&(t.proposed.trafficData.observedSpeed=d,N.set(t))}function _(d){n.$$.not_equal(t.proposed.trafficData.streetFunction,d)&&(t.proposed.trafficData.streetFunction=d,N.set(t))}return n.$$set=d=>{"valid"in d&&a(1,s=d.valid)},n.$$.update=()=>{n.$$.dirty&1&&a(1,s=t.proposed.trafficData.flowOneWay!=""&&t.proposed.trafficData.flowTwoWay!=""&&t.proposed.trafficData.flowSharedUse!=""&&t.proposed.trafficData.trafficFlow!=""&&t.proposed.trafficData.speedLimit!=""&&t.proposed.trafficData.observedSpeed!=null&&t.proposed.trafficData.streetFunction!="")},[t,s,o,i,c,r,l,u,_]}class yt extends K{constructor(e){super(),Q(this,e,kt,wt,J,{valid:1})}}function Tt(n){let e,a="Fill out all data above to continue";return{c(){e=P("p"),e.textContent=a},l(t){e=q(t,"P",{"data-svelte-h":!0}),le(e)!=="svelte-ma95"&&(e.textContent=a)},m(t,s){v(t,e,s)},p:ee,i:ee,o:ee,d(t){t&&b(e)}}}function Lt(n){let e,a,t,s;return e=new ne({props:{label:"Desirable Minimum Cross-Section",$$slots:{default:[Dt]},$$scope:{ctx:n}}}),t=new ne({props:{label:"Absolute Minimum Cross-Section",$$slots:{default:[St]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment),a=R(),T(t.$$.fragment)},l(o){L(e.$$.fragment,o),a=M(o),L(t.$$.fragment,o)},m(o,i){D(e,o,i),v(o,a,i),D(t,o,i),s=!0},p(o,i){const c={};i&34&&(c.$$scope={dirty:i,ctx:o}),e.$set(c);const r={};i&34&&(r.$$scope={dirty:i,ctx:o}),t.$set(r)},i(o){s||(w(e.$$.fragment,o),w(t.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),k(t.$$.fragment,o),s=!1},d(o){o&&b(a),S(e,o),S(t,o)}}}function Dt(n){let e,a,t;function s(i){n[3](i)}let o={sectionType:"Desirable"};return n[1].proposed.desirableMinimumCrossSection!==void 0&&(o.lanesLeftToRight=n[1].proposed.desirableMinimumCrossSection),e=new Be({props:o}),O.push(()=>W(e,"lanesLeftToRight",s)),{c(){T(e.$$.fragment)},l(i){L(e.$$.fragment,i)},m(i,c){D(e,i,c),t=!0},p(i,c){const r={};!a&&c&2&&(a=!0,r.lanesLeftToRight=i[1].proposed.desirableMinimumCrossSection,E(()=>a=!1)),e.$set(r)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){S(e,i)}}}function St(n){let e,a,t;function s(i){n[4](i)}let o={sectionType:"Absolute"};return n[1].proposed.absoluteMinimumCrossSection!==void 0&&(o.lanesLeftToRight=n[1].proposed.absoluteMinimumCrossSection),e=new Be({props:o}),O.push(()=>W(e,"lanesLeftToRight",s)),{c(){T(e.$$.fragment)},l(i){L(e.$$.fragment,i)},m(i,c){D(e,i,c),t=!0},p(i,c){const r={};!a&&c&2&&(a=!0,r.lanesLeftToRight=i[1].proposed.absoluteMinimumCrossSection,E(()=>a=!1)),e.$set(r)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){k(e.$$.fragment,i),t=!1},d(i){S(e,i)}}}function Ct(n){let e,a,t=`<ol class="govuk-breadcrumbs__list"><li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${Le}/">Tools</a></li> <li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${Le}/cross_section">Route cross-section</a></li> <li class="govuk-breadcrumbs__list-item">Proposed Cross-Sections</li></ol>`,s,o,i,c,r,l,u;function _(m){n[2](m)}let d={};n[0]!==void 0&&(d.valid=n[0]),o=new yt({props:d}),O.push(()=>W(o,"valid",_));const f=[Lt,Tt],g=[];function h(m,$){return m[0]?0:1}return r=h(n),l=g[r]=f[r](n),{c(){e=P("div"),a=P("div"),a.innerHTML=t,s=R(),T(o.$$.fragment),c=R(),l.c(),this.h()},l(m){e=q(m,"DIV",{class:!0});var $=V(e);a=q($,"DIV",{class:!0,"data-svelte-h":!0}),le(a)!=="svelte-7mvyxb"&&(a.innerHTML=t),s=M($),L(o.$$.fragment,$),c=M($),l.l($),$.forEach(b),this.h()},h(){U(a,"class","govuk-breadcrumbs"),U(e,"class","govuk-prose")},m(m,$){v(m,e,$),B(e,a),B(e,s),D(o,e,null),B(e,c),g[r].m(e,null),u=!0},p(m,[$]){const C={};!i&&$&1&&(i=!0,C.valid=m[0],E(()=>i=!1)),o.$set(C);let F=r;r=h(m),r===F?g[r].p(m,$):(Ee(),k(g[F],1,1,()=>{g[F]=null}),We(),l=g[r],l?l.p(m,$):(l=g[r]=f[r](m),l.c()),w(l,1),l.m(e,null))},i(m){u||(w(o.$$.fragment,m),w(l),u=!0)},o(m){k(o.$$.fragment,m),k(l),u=!1},d(m){m&&b(e),S(o),g[r].d()}}}function Ft(n,e,a){let t;ie(n,N,r=>a(1,t=r));let s=!1;function o(r){s=r,a(0,s)}function i(r){n.$$.not_equal(t.proposed.desirableMinimumCrossSection,r)&&(t.proposed.desirableMinimumCrossSection=r,N.set(t))}function c(r){n.$$.not_equal(t.proposed.absoluteMinimumCrossSection,r)&&(t.proposed.absoluteMinimumCrossSection=r,N.set(t))}return[s,t,o,i,c]}class qt extends K{constructor(e){super(),Q(this,e,Ft,Ct,J,{})}}export{qt as component};
