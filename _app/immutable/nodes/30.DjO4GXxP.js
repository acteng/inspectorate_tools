import{s as fe,l as Ie,e as O,a as E,c as R,b as W,g as S,f as b,r as D,w as ne,i as L,h as j,z as ee,u as Ee,m as Se,o as Ne,B as $e,H as Je,a8 as it,t as X,d as x,y as ge,j as re,q as pe,O as ot,C as De,v as z,E as me,x as J,a9 as Ye,k as ye,U as Ce,N as de,p as ve,n as st,R as be,S as ke}from"../chunks/scheduler.BV_JqZpr.js";import{S as ue,i as ce,t as w,b as I,c as A,a as q,m as T,d as M,e as Y,g as se,f as ae}from"../chunks/index.DDJL-Wug.js";import{e as le}from"../chunks/each.DPttds9k.js";import{c as at,p as rt}from"../chunks/colors.CYEpEtTL.js";import{p as Ze}from"../chunks/index.DOsTyyGl.js";import{S as Le,W as ft}from"../chunks/WarningButton.Ck9VEuu1.js";import{S as he}from"../chunks/Select.CsgDAO5u.js";import{T as Qe}from"../chunks/TextArea.BH4PHWGI.js";import{T as Xe}from"../chunks/TextInput.XULGbN7s.js";import{s as G}from"../chunks/data.A-TegUa4.js";import{Y as xe}from"../chunks/YesNo.Crxw4q8L.js";import{D as ut}from"../chunks/DefaultButton.DCHkaEOp.js";import{v as et,E as ct}from"../chunks/FormElement.DdgtvYg6.js";import{b as _t,B as pt,G as gt,a as mt,M as tt}from"../chunks/GeoreferenceLayer.VoSFQfkO.js";import{M as dt,G as ht}from"../chunks/MapLibreMap.BXOO8Y6R.js";import{C as $t}from"../chunks/CircleLayer.BTfErOLF.js";const nt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,vt=n=>({}),Be=n=>({});function bt(n){let e,l,t,i,p,u,c,f,v;const g=n[5].default,r=Ie(g,n,n[4],null),_=n[5].right,s=Ie(_,n,n[4],Be);return{c(){e=O("div"),l=O("input"),t=E(),i=O("label"),r&&r.c(),p=E(),u=O("span"),s&&s.c(),this.h()},l(o){e=R(o,"DIV",{class:!0,style:!0});var h=W(e);l=R(h,"INPUT",{type:!0,class:!0,id:!0}),t=S(h),i=R(h,"LABEL",{class:!0,for:!0,title:!0});var k=W(i);r&&r.l(k),k.forEach(b),p=S(h),u=R(h,"SPAN",{style:!0});var d=W(u);s&&s.l(d),d.forEach(b),h.forEach(b),this.h()},h(){D(l,"type","checkbox"),D(l,"class","govuk-checkboxes__input"),D(l,"id",n[3]),D(i,"class","govuk-label govuk-checkboxes__label"),D(i,"for",n[3]),D(i,"title",n[1]),ne(u,"float","right"),D(e,"class","govuk-checkboxes__item"),D(e,"style",n[2])},m(o,h){L(o,e,h),j(e,l),l.checked=n[0],j(e,t),j(e,i),r&&r.m(i,null),j(e,p),j(e,u),s&&s.m(u,null),c=!0,f||(v=[ee(l,"change",n[7]),ee(l,"change",n[6])],f=!0)},p(o,[h]){h&1&&(l.checked=o[0]),r&&r.p&&(!c||h&16)&&Ee(r,g,o,o[4],c?Ne(g,o[4],h,null):Se(o[4]),null),(!c||h&2)&&D(i,"title",o[1]),s&&s.p&&(!c||h&16)&&Ee(s,_,o,o[4],c?Ne(_,o[4],h,vt):Se(o[4]),Be)},i(o){c||(w(r,o),w(s,o),c=!0)},o(o){I(r,o),I(s,o),c=!1},d(o){o&&b(e),r&&r.d(o),s&&s.d(o),f=!1,$e(v)}}}function kt(n,e,l){let{$$slots:t={},$$scope:i}=e;const p=it(t);let{checked:u}=e,{hint:c=null}=e,v=p.right!==void 0?"float: none":"",g=et();function r(s){Je.call(this,n,s)}function _(){u=this.checked,l(0,u)}return n.$$set=s=>{"checked"in s&&l(0,u=s.checked),"hint"in s&&l(1,c=s.hint),"$$scope"in s&&l(4,i=s.$$scope)},[u,c,v,g,i,t,r,_]}class wt extends ue{constructor(e){super(),ce(this,e,kt,bt,fe,{checked:0,hint:1})}}function Ae(n,e,l){const t=n.slice();return t[10]=e[l][0],t[11]=e[l][1],t}function qe(n){let e,l,t,i,p=!1,u,c,f=n[11]+"",v,g,r,_,s,o;return _=ot(n[9][0]),{c(){e=O("div"),l=O("input"),u=E(),c=O("label"),v=X(f),r=E(),this.h()},l(h){e=R(h,"DIV",{class:!0});var k=W(e);l=R(k,"INPUT",{class:!0,id:!0,type:!0}),u=S(k),c=R(k,"LABEL",{class:!0,for:!0});var d=W(c);v=x(d,f),d.forEach(b),r=S(k),k.forEach(b),this.h()},h(){D(l,"class","govuk-radios__input"),D(l,"id",t=n[5]+n[10]),D(l,"type","radio"),l.__value=i=n[10],De(l,l.__value),D(c,"class","govuk-label govuk-radios__label"),D(c,"for",g=n[5]+n[10]),D(e,"class","govuk-radios__item"),_.p(l)},m(h,k){L(h,e,k),j(e,l),l.checked=l.__value===n[0],j(e,u),j(e,c),j(c,v),j(e,r),s||(o=[ee(l,"change",n[8]),ee(l,"change",n[7])],s=!0)},p(h,k){k&4&&t!==(t=h[5]+h[10])&&D(l,"id",t),k&4&&i!==(i=h[10])&&(l.__value=i,De(l,l.__value),p=!0),(p||k&5)&&(l.checked=l.__value===h[0]),k&4&&f!==(f=h[11]+"")&&re(v,f),k&4&&g!==(g=h[5]+h[10])&&D(c,"for",g)},d(h){h&&b(e),_.r(),s=!1,$e(o)}}}function yt(n){let e,l,t,i,p,u,c,f,v;u=new ct({props:{errorMessage:n[4]}});let g=le(n[2]),r=[];for(let _=0;_<g.length;_+=1)r[_]=qe(Ae(n,g,_));return{c(){e=O("div"),l=O("fieldset"),t=O("legend"),i=X(n[1]),p=E(),A(u.$$.fragment),c=E(),f=O("div");for(let _=0;_<r.length;_+=1)r[_].c();this.h()},l(_){e=R(_,"DIV",{class:!0});var s=W(e);l=R(s,"FIELDSET",{class:!0});var o=W(l);t=R(o,"LEGEND",{class:!0});var h=W(t);i=x(h,n[1]),h.forEach(b),p=S(o),q(u.$$.fragment,o),c=S(o),f=R(o,"DIV",{class:!0,"data-module":!0});var k=W(f);for(let d=0;d<r.length;d+=1)r[d].l(k);k.forEach(b),o.forEach(b),s.forEach(b),this.h()},h(){D(t,"class","govuk-fieldset__legend govuk-label--s"),D(f,"class","govuk-radios"),D(f,"data-module","govuk-radios"),ge(f,"govuk-radios--inline",n[3]),ge(f,"govuk-radios--small",n[3]),D(l,"class","govuk-fieldset"),D(e,"class","govuk-form-group")},m(_,s){L(_,e,s),j(e,l),j(l,t),j(t,i),j(l,p),T(u,l,null),j(l,c),j(l,f);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(f,null);v=!0},p(_,[s]){(!v||s&2)&&re(i,_[1]);const o={};if(s&16&&(o.errorMessage=_[4]),u.$set(o),s&37){g=le(_[2]);let h;for(h=0;h<g.length;h+=1){const k=Ae(_,g,h);r[h]?r[h].p(k,s):(r[h]=qe(k),r[h].c(),r[h].m(f,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=g.length}(!v||s&8)&&ge(f,"govuk-radios--inline",_[3]),(!v||s&8)&&ge(f,"govuk-radios--small",_[3])},i(_){v||(w(u.$$.fragment,_),v=!0)},o(_){I(u.$$.fragment,_),v=!1},d(_){_&&b(e),M(u),pe(r,_)}}}function Ct(n,e,l){let t,{legend:i}=e,{choices:p}=e,{inlineSmall:u=!1}=e,{required:c=!1}=e,{value:f}=e,v=et();const g=[[]];function r(s){Je.call(this,n,s)}function _(){f=this.__value,l(0,f)}return n.$$set=s=>{"legend"in s&&l(1,i=s.legend),"choices"in s&&l(2,p=s.choices),"inlineSmall"in s&&l(3,u=s.inlineSmall),"required"in s&&l(6,c=s.required),"value"in s&&l(0,f=s.value)},n.$$.update=()=>{n.$$.dirty&65&&l(4,t=c&&f==""?"Required":"")},[f,i,p,u,t,v,c,r,_,g]}class lt extends ue{constructor(e){super(),ce(this,e,Ct,yt,fe,{legend:1,choices:2,inlineSmall:3,required:6,value:0})}}const{window:Lt}=nt;function It(n){let e;return{c(){e=X("StreetView")},l(l){e=x(l,"StreetView")},m(l,t){L(l,e,t)},d(l){l&&b(e)}}}function Te(n){let e,l,t;function i(u){n[5](u)}let p={legend:"Source",choices:[["google","Google StreetView"],["bing","Bing Streetside"]],inlineSmall:!0};return n[1]!==void 0&&(p.value=n[1]),e=new lt({props:p}),z.push(()=>Y(e,"value",i)),{c(){A(e.$$.fragment)},l(u){q(e.$$.fragment,u)},m(u,c){T(e,u,c),t=!0},p(u,c){const f={};!l&&c&2&&(l=!0,f.value=u[1],J(()=>l=!1)),e.$set(f)},i(u){t||(w(e.$$.fragment,u),t=!0)},o(u){I(e.$$.fragment,u),t=!1},d(u){M(e,u)}}}function Et(n){let e,l,t,i,p,u,c;function f(r){n[4](r)}let v={$$slots:{default:[It]},$$scope:{ctx:n}};n[0]!==void 0&&(v.checked=n[0]),e=new wt({props:v}),z.push(()=>Y(e,"checked",f));let g=n[0]&&Te(n);return{c(){A(e.$$.fragment),t=E(),g&&g.c(),i=me()},l(r){q(e.$$.fragment,r),t=S(r),g&&g.l(r),i=me()},m(r,_){T(e,r,_),L(r,t,_),g&&g.m(r,_),L(r,i,_),p=!0,u||(c=ee(Lt,"keydown",n[2]),u=!0)},p(r,[_]){const s={};_&512&&(s.$$scope={dirty:_,ctx:r}),!l&&_&1&&(l=!0,s.checked=r[0],J(()=>l=!1)),e.$set(s),r[0]?g?(g.p(r,_),_&1&&w(g,1)):(g=Te(r),g.c(),w(g,1),g.m(i.parentNode,i)):g&&(se(),I(g,1,1,()=>{g=null}),ae())},i(r){p||(w(e.$$.fragment,r),w(g),p=!0)},o(r){I(e.$$.fragment,r),I(g),p=!1},d(r){r&&(b(t),b(i)),M(e,r),g&&g.d(r),u=!1,c()}}}function St(n,e,l){let{map:t}=e,{enabled:i=!1}=e,p="google";function u(){t.on("click",f),t.getCanvas().style.cursor="zoom-in"}function c(){t.off("click",f),t.getCanvas().style.cursor="auto"}Ye(c);function f(_){let s=_.lngLat.lng,o=_.lngLat.lat;p=="google"?window.open(`http://maps.google.com/maps?q=&layer=c&cbll=${o},${s}&cbp=11,0,0,0,0`,"_blank"):p=="bing"&&window.open(`https://www.bing.com/maps?cp=${o}~${s}&style=x`,"_blank")}function v(_){i&&_.key=="Escape"&&l(0,i=!1)}function g(_){i=_,l(0,i)}function r(_){p=_,l(1,p)}return n.$$set=_=>{"map"in _&&l(3,t=_.map),"enabled"in _&&l(0,i=_.enabled)},n.$$.update=()=>{n.$$.dirty&1&&(i?u():c())},[i,p,v,t,g,r]}class Nt extends ue{constructor(e){super(),ce(this,e,St,Et,fe,{map:3,enabled:0})}}function Me(n){let e,l;return e=new Le({props:{$$slots:{default:[Dt]},$$scope:{ctx:n}}}),e.$on("click",n[4]),{c(){A(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,i){T(e,t,i),l=!0},p(t,i){const p={};i&2050&&(p.$$scope={dirty:i,ctx:t}),e.$set(p)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){M(e,t)}}}function Dt(n){let e,l;return{c(){e=X("Use lookup: "),l=X(n[1])},l(t){e=x(t,"Use lookup: "),l=x(t,n[1])},m(t,i){L(t,e,i),L(t,l,i)},p(t,i){i&2&&re(l,t[1])},d(t){t&&(b(e),b(l))}}}function Bt(n){let e,l,t,i,p,u,c,f,v,g,r,_,s,o,h,k;function d(a){n[5](a)}let N={label:"Critical Issue",emptyOption:!0,choices:n[3]};n[2].criticalIssues[n[0]].criticalIssue!==void 0&&(N.value=n[2].criticalIssues[n[0]].criticalIssue),e=new he({props:N}),z.push(()=>Y(e,"value",d));function U(a){n[6](a)}let K={label:"Stage",emptyOption:!0,choices:Ze(["Existing","Design"])};n[2].criticalIssues[n[0]].stage!==void 0&&(K.value=n[2].criticalIssues[n[0]].stage),i=new he({props:K}),z.push(()=>Y(i,"value",U));function te(a){n[7](a)}let Z={label:"Location Name"};n[2].criticalIssues[n[0]].locationName!==void 0&&(Z.value=n[2].criticalIssues[n[0]].locationName),c=new Xe({props:Z}),z.push(()=>Y(c,"value",te));let y=n[1]&&n[1]!="Loading"&&n[1]!=n[2].criticalIssues[n[0]].locationName&&Me(n);function P(a){n[8](a)}let ie={label:"Resolved by Design"};n[2].criticalIssues[n[0]].resolved!==void 0&&(ie.value=n[2].criticalIssues[n[0]].resolved),r=new xe({props:ie}),z.push(()=>Y(r,"value",P));function oe(a){n[9](a)}let Q={label:"Commentary & Feedback"};return n[2].criticalIssues[n[0]].notes!==void 0&&(Q.value=n[2].criticalIssues[n[0]].notes),o=new Qe({props:Q}),z.push(()=>Y(o,"value",oe)),{c(){A(e.$$.fragment),t=E(),A(i.$$.fragment),u=E(),A(c.$$.fragment),v=E(),y&&y.c(),g=E(),A(r.$$.fragment),s=E(),A(o.$$.fragment)},l(a){q(e.$$.fragment,a),t=S(a),q(i.$$.fragment,a),u=S(a),q(c.$$.fragment,a),v=S(a),y&&y.l(a),g=S(a),q(r.$$.fragment,a),s=S(a),q(o.$$.fragment,a)},m(a,C){T(e,a,C),L(a,t,C),T(i,a,C),L(a,u,C),T(c,a,C),L(a,v,C),y&&y.m(a,C),L(a,g,C),T(r,a,C),L(a,s,C),T(o,a,C),k=!0},p(a,[C]){const V={};!l&&C&5&&(l=!0,V.value=a[2].criticalIssues[a[0]].criticalIssue,J(()=>l=!1)),e.$set(V);const m={};!p&&C&5&&(p=!0,m.value=a[2].criticalIssues[a[0]].stage,J(()=>p=!1)),i.$set(m);const $={};!f&&C&5&&(f=!0,$.value=a[2].criticalIssues[a[0]].locationName,J(()=>f=!1)),c.$set($),a[1]&&a[1]!="Loading"&&a[1]!=a[2].criticalIssues[a[0]].locationName?y?(y.p(a,C),C&7&&w(y,1)):(y=Me(a),y.c(),w(y,1),y.m(g.parentNode,g)):y&&(se(),I(y,1,1,()=>{y=null}),ae());const B={};!_&&C&5&&(_=!0,B.value=a[2].criticalIssues[a[0]].resolved,J(()=>_=!1)),r.$set(B);const H={};!h&&C&5&&(h=!0,H.value=a[2].criticalIssues[a[0]].notes,J(()=>h=!1)),o.$set(H)},i(a){k||(w(e.$$.fragment,a),w(i.$$.fragment,a),w(c.$$.fragment,a),w(y),w(r.$$.fragment,a),w(o.$$.fragment,a),k=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),I(c.$$.fragment,a),I(y),I(r.$$.fragment,a),I(o.$$.fragment,a),k=!1},d(a){a&&(b(t),b(u),b(v),b(g),b(s)),M(e,a),M(i,a),M(c,a),y&&y.d(a),M(r,a),M(o,a)}}}function At(n,e,l){let t;ye(n,G,o=>l(2,t=o));let{idx:i}=e,p=[["1","1 - Conflict at Side Roads and Priority Junctions: >2,500vpd cut across main walking, wheeling or cycling streams"],["2","2 - Conflict at Roundabouts and Signal Junctions: >2,500vpd cut across main walking, wheeling or cycling streams"],["3","3 - Lane Widths: Cyclists unprotected in 3.25-3.9m wide nearside lane"],["4","4 - Trip Hazards: Level differences >13mm with no tactile information and colour contrast"],["5A","5A - Kerbside Activity: Cycle facility next to parking/loading with insufficient buffer"],["5B","5B - Kerbside Activity: Unprotected cycle lane next to a frequently used bus layby"],["6A","6A - Provision of Crossings: on busy streets (>8,000vpd), formal crossings are more than 400m apart"],["6B","6B - Provision of Crossings: on quieter streets (<8,000vpd), desire lines are blocked by parking/loading"],["7A","7A - Standard of Crossings: on busy streets (>8,000vpd), uncontrolled crossings of 2+ lanes with no gaps in traffic"],["7B","7B - Standard of Crossings: at signal junctions, there are arms with no green man for pedestrians"],["8","8 - Motor Traffic Speed: Mean speed > 30mph when cyclists/pedestrians are unprotected"],["9A","9A - Motor Traffic Volume: >1,000 vehicles in busiest hour when cyclists/pedestrians are unprotected"],["9B","9B - Motor Traffic Volume: >5% HGV traffic when cyclists/pedestrians are unprotected and >500 vehicles in busiest hour"],["10","10 - Pedestrian Crossing Speed: Pedestrians must cross at speeds >1.2m/s"],["11A","11A - Footway Width: <1m clear width"],["11B","11B - Footway Width: 1.0-1.5m wide clear width for over 6m"],["11C","11C - Footway Width: <2m clear width and pedestrian comfort level is poor (PCL of D-E)"],["11D","11D - Footway Width: no footway"],["12A","12A - Effective Width next to Tram Lines: <2.4m effective width for cyclists from tramline edge to kerb on a straight run"],["12B","12B - Effective Width next to Tram Lines: insufficient effective width for cyclists on a curved section of tram route"],["13","13 - Crossing Angle of Tram/Train Rails: Cyclist crossing angle <60Â°"],["14",'14 - Cycling Surface and Maintenance Defects: Major defects (provide further information in "commentary and feedback")'],["15",'15 - Walking/Wheeling Surface and Maintenance Defects: Major defects (provide further information in "commentary and feedback")'],["16","16 - Guard Railing: used as standard without consideration of inherent safety risks"]],u="Loading";Ce(async()=>{await c(t.criticalIssues[i].point)});async function c(o){let h=`https://nominatim.openstreetmap.org/reverse?lon=${o[0]}&lat=${o[1]}&format=json`;try{let d=await(await fetch(h)).json();l(1,u=d.address.road??d.display_name)}catch(k){return console.log(`Location lookup failed: ${k}`),""}}function f(){de(G,t.criticalIssues[i].locationName=u,t)}function v(o){n.$$.not_equal(t.criticalIssues[i].criticalIssue,o)&&(t.criticalIssues[i].criticalIssue=o,G.set(t))}function g(o){n.$$.not_equal(t.criticalIssues[i].stage,o)&&(t.criticalIssues[i].stage=o,G.set(t))}function r(o){n.$$.not_equal(t.criticalIssues[i].locationName,o)&&(t.criticalIssues[i].locationName=o,G.set(t))}function _(o){n.$$.not_equal(t.criticalIssues[i].resolved,o)&&(t.criticalIssues[i].resolved=o,G.set(t))}function s(o){n.$$.not_equal(t.criticalIssues[i].notes,o)&&(t.criticalIssues[i].notes=o,G.set(t))}return n.$$set=o=>{"idx"in o&&l(0,i=o.idx)},[i,u,t,p,f,v,g,r,_,s]}class qt extends ue{constructor(e){super(),ce(this,e,At,Bt,fe,{idx:0})}}function je(n){let e,l;return e=new Le({props:{$$slots:{default:[Tt]},$$scope:{ctx:n}}}),e.$on("click",n[4]),{c(){A(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,i){T(e,t,i),l=!0},p(t,i){const p={};i&2050&&(p.$$scope={dirty:i,ctx:t}),e.$set(p)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){M(e,t)}}}function Tt(n){let e,l;return{c(){e=X("Use lookup: "),l=X(n[1])},l(t){e=x(t,"Use lookup: "),l=x(t,n[1])},m(t,i){L(t,e,i),L(t,l,i)},p(t,i){i&2&&re(l,t[1])},d(t){t&&(b(e),b(l))}}}function Mt(n){let e,l,t,i,p,u,c,f,v,g,r,_,s,o,h,k;function d(a){n[5](a)}let N={label:"Policy Conflict",emptyOption:!0,choices:n[3]};n[2].policyConflictLog[n[0]].conflict!==void 0&&(N.value=n[2].policyConflictLog[n[0]].conflict),e=new he({props:N}),z.push(()=>Y(e,"value",d));function U(a){n[6](a)}let K={label:"Stage",emptyOption:!0,choices:Ze(["Existing","Design"])};n[2].policyConflictLog[n[0]].stage!==void 0&&(K.value=n[2].policyConflictLog[n[0]].stage),i=new he({props:K}),z.push(()=>Y(i,"value",U));function te(a){n[7](a)}let Z={label:"Location Name"};n[2].policyConflictLog[n[0]].locationName!==void 0&&(Z.value=n[2].policyConflictLog[n[0]].locationName),c=new Xe({props:Z}),z.push(()=>Y(c,"value",te));let y=n[1]&&n[1]!="Loading"&&n[1]!=n[2].policyConflictLog[n[0]].locationName&&je(n);function P(a){n[8](a)}let ie={label:"Resolved by Design"};n[2].policyConflictLog[n[0]].resolved!==void 0&&(ie.value=n[2].policyConflictLog[n[0]].resolved),r=new xe({props:ie}),z.push(()=>Y(r,"value",P));function oe(a){n[9](a)}let Q={label:"Commentary & Feedback"};return n[2].policyConflictLog[n[0]].notes!==void 0&&(Q.value=n[2].policyConflictLog[n[0]].notes),o=new Qe({props:Q}),z.push(()=>Y(o,"value",oe)),{c(){A(e.$$.fragment),t=E(),A(i.$$.fragment),u=E(),A(c.$$.fragment),v=E(),y&&y.c(),g=E(),A(r.$$.fragment),s=E(),A(o.$$.fragment)},l(a){q(e.$$.fragment,a),t=S(a),q(i.$$.fragment,a),u=S(a),q(c.$$.fragment,a),v=S(a),y&&y.l(a),g=S(a),q(r.$$.fragment,a),s=S(a),q(o.$$.fragment,a)},m(a,C){T(e,a,C),L(a,t,C),T(i,a,C),L(a,u,C),T(c,a,C),L(a,v,C),y&&y.m(a,C),L(a,g,C),T(r,a,C),L(a,s,C),T(o,a,C),k=!0},p(a,[C]){const V={};!l&&C&5&&(l=!0,V.value=a[2].policyConflictLog[a[0]].conflict,J(()=>l=!1)),e.$set(V);const m={};!p&&C&5&&(p=!0,m.value=a[2].policyConflictLog[a[0]].stage,J(()=>p=!1)),i.$set(m);const $={};!f&&C&5&&(f=!0,$.value=a[2].policyConflictLog[a[0]].locationName,J(()=>f=!1)),c.$set($),a[1]&&a[1]!="Loading"&&a[1]!=a[2].policyConflictLog[a[0]].locationName?y?(y.p(a,C),C&7&&w(y,1)):(y=je(a),y.c(),w(y,1),y.m(g.parentNode,g)):y&&(se(),I(y,1,1,()=>{y=null}),ae());const B={};!_&&C&5&&(_=!0,B.value=a[2].policyConflictLog[a[0]].resolved,J(()=>_=!1)),r.$set(B);const H={};!h&&C&5&&(h=!0,H.value=a[2].policyConflictLog[a[0]].notes,J(()=>h=!1)),o.$set(H)},i(a){k||(w(e.$$.fragment,a),w(i.$$.fragment,a),w(c.$$.fragment,a),w(y),w(r.$$.fragment,a),w(o.$$.fragment,a),k=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),I(c.$$.fragment,a),I(y),I(r.$$.fragment,a),I(o.$$.fragment,a),k=!1},d(a){a&&(b(t),b(u),b(v),b(g),b(s)),M(e,a),M(i,a),M(c,a),y&&y.d(a),M(r,a),M(o,a)}}}function jt(n,e,l){let t;ye(n,G,o=>l(2,t=o));let{idx:i}=e,p=[["1","1 - Cyclists are not separated from pedestrians"],["2",'2 - Barriers, steps, or "Cyclist Dismount" signs are present'],["3","3 - The route is not direct, logical and intuitive"],["4","4 - Inappropriate surface materials"],["5","5 - Appropriate lighting is not provided"],["6","6 - Routes miss opportunities to join together with other facilities as a network"]],u="Loading";Ce(async()=>{await c(t.policyConflictLog[i].point)});async function c(o){let h=`https://nominatim.openstreetmap.org/reverse?lon=${o[0]}&lat=${o[1]}&format=json`;try{let d=await(await fetch(h)).json();l(1,u=d.address.road??d.display_name)}catch(k){return console.log(`Location lookup failed: ${k}`),""}}function f(){de(G,t.policyConflictLog[i].locationName=u,t)}function v(o){n.$$.not_equal(t.policyConflictLog[i].conflict,o)&&(t.policyConflictLog[i].conflict=o,G.set(t))}function g(o){n.$$.not_equal(t.policyConflictLog[i].stage,o)&&(t.policyConflictLog[i].stage=o,G.set(t))}function r(o){n.$$.not_equal(t.policyConflictLog[i].locationName,o)&&(t.policyConflictLog[i].locationName=o,G.set(t))}function _(o){n.$$.not_equal(t.policyConflictLog[i].resolved,o)&&(t.policyConflictLog[i].resolved=o,G.set(t))}function s(o){n.$$.not_equal(t.policyConflictLog[i].notes,o)&&(t.policyConflictLog[i].notes=o,G.set(t))}return n.$$set=o=>{"idx"in o&&l(0,i=o.idx)},[i,u,t,p,f,v,g,r,_,s]}class Pt extends ue{constructor(e){super(),ce(this,e,jt,Mt,fe,{idx:0})}}const{window:Vt}=nt;function Pe(n,e,l){const t=n.slice();return t[29]=e[l],t[30]=e,t[31]=l,t}function Ve(n,e,l){const t=n.slice();return t[32]=e[l],t[33]=e,t[31]=l,t}function Fe(n,e,l){const t=n.slice();return t[29]=e[l],t[31]=l,t}function Oe(n,e,l){const t=n.slice();return t[32]=e[l],t[31]=l,t}function Ft(n){let e,l,t,i,p,u,c,f;e=new ut({props:{$$slots:{default:[Rt]},$$scope:{ctx:n}}}),e.$on("click",n[20]),t=new ft({props:{$$slots:{default:[Wt]},$$scope:{ctx:n}}}),t.$on("click",n[8]);const v=[Ut,Gt],g=[];function r(_,s){return _[0].kind=="critical"?0:1}return p=r(n),u=g[p]=v[p](n),{c(){A(e.$$.fragment),l=E(),A(t.$$.fragment),i=E(),u.c(),c=me()},l(_){q(e.$$.fragment,_),l=S(_),q(t.$$.fragment,_),i=S(_),u.l(_),c=me()},m(_,s){T(e,_,s),L(_,l,s),T(t,_,s),L(_,i,s),g[p].m(_,s),L(_,c,s),f=!0},p(_,s){const o={};s[1]&32&&(o.$$scope={dirty:s,ctx:_}),e.$set(o);const h={};s[1]&32&&(h.$$scope={dirty:s,ctx:_}),t.$set(h);let k=p;p=r(_),p===k?g[p].p(_,s):(se(),I(g[k],1,1,()=>{g[k]=null}),ae(),u=g[p],u?u.p(_,s):(u=g[p]=v[p](_),u.c()),w(u,1),u.m(c.parentNode,c))},i(_){f||(w(e.$$.fragment,_),w(t.$$.fragment,_),w(u),f=!0)},o(_){I(e.$$.fragment,_),I(t.$$.fragment,_),I(u),f=!1},d(_){_&&(b(l),b(i),b(c)),M(e,_),M(t,_),g[p].d(_)}}}function Ot(n){let e,l,t,i,p,u,c,f,v,g,r,_="Click the map to add a pin, or select a pin to fill out data",s,o,h="Critical Issues",k,d,N,U,K="Policy Conflicts",te,Z,y;e=new Le({props:{$$slots:{default:[Ht]},$$scope:{ctx:n}}}),e.$on("click",n[11]),t=new pt({}),p=new gt({});let P=n[3]&&Re(n);function ie(m){n[13](m)}let oe={legend:"Create new pins",choices:[["critical","Critical Issue"],["conflict","Policy Conflict"]],inlineSmall:!0};n[4]!==void 0&&(oe.value=n[4]),f=new lt({props:oe}),z.push(()=>Y(f,"value",ie));let Q=le(n[2].criticalIssues),a=[];for(let m=0;m<Q.length;m+=1)a[m]=We(Oe(n,Q,m));let C=le(n[2].policyConflictLog),V=[];for(let m=0;m<C.length;m+=1)V[m]=Ge(Fe(n,C,m));return{c(){A(e.$$.fragment),l=E(),A(t.$$.fragment),i=E(),A(p.$$.fragment),u=E(),P&&P.c(),c=E(),A(f.$$.fragment),g=E(),r=O("p"),r.textContent=_,s=E(),o=O("h3"),o.textContent=h,k=E(),d=O("ol");for(let m=0;m<a.length;m+=1)a[m].c();N=E(),U=O("h3"),U.textContent=K,te=E(),Z=O("ol");for(let m=0;m<V.length;m+=1)V[m].c()},l(m){q(e.$$.fragment,m),l=S(m),q(t.$$.fragment,m),i=S(m),q(p.$$.fragment,m),u=S(m),P&&P.l(m),c=S(m),q(f.$$.fragment,m),g=S(m),r=R(m,"P",{"data-svelte-h":!0}),ve(r)!=="svelte-sv95ee"&&(r.textContent=_),s=S(m),o=R(m,"H3",{"data-svelte-h":!0}),ve(o)!=="svelte-1qhh5xr"&&(o.textContent=h),k=S(m),d=R(m,"OL",{});var $=W(d);for(let H=0;H<a.length;H+=1)a[H].l($);$.forEach(b),N=S(m),U=R(m,"H3",{"data-svelte-h":!0}),ve(U)!=="svelte-eyxzjx"&&(U.textContent=K),te=S(m),Z=R(m,"OL",{});var B=W(Z);for(let H=0;H<V.length;H+=1)V[H].l(B);B.forEach(b)},m(m,$){T(e,m,$),L(m,l,$),T(t,m,$),L(m,i,$),T(p,m,$),L(m,u,$),P&&P.m(m,$),L(m,c,$),T(f,m,$),L(m,g,$),L(m,r,$),L(m,s,$),L(m,o,$),L(m,k,$),L(m,d,$);for(let B=0;B<a.length;B+=1)a[B]&&a[B].m(d,null);L(m,N,$),L(m,U,$),L(m,te,$),L(m,Z,$);for(let B=0;B<V.length;B+=1)V[B]&&V[B].m(Z,null);y=!0},p(m,$){const B={};$[1]&32&&(B.$$scope={dirty:$,ctx:m}),e.$set(B),m[3]?P?(P.p(m,$),$[0]&8&&w(P,1)):(P=Re(m),P.c(),w(P,1),P.m(c.parentNode,c)):P&&(se(),I(P,1,1,()=>{P=null}),ae());const H={};if(!v&&$[0]&16&&(v=!0,H.value=m[4],J(()=>v=!1)),f.$set(H),$[0]&134){Q=le(m[2].criticalIssues);let F;for(F=0;F<Q.length;F+=1){const _e=Oe(m,Q,F);a[F]?a[F].p(_e,$):(a[F]=We(_e),a[F].c(),a[F].m(d,null))}for(;F<a.length;F+=1)a[F].d(1);a.length=Q.length}if($[0]&134){C=le(m[2].policyConflictLog);let F;for(F=0;F<C.length;F+=1){const _e=Fe(m,C,F);V[F]?V[F].p(_e,$):(V[F]=Ge(_e),V[F].c(),V[F].m(Z,null))}for(;F<V.length;F+=1)V[F].d(1);V.length=C.length}},i(m){y||(w(e.$$.fragment,m),w(t.$$.fragment,m),w(p.$$.fragment,m),w(P),w(f.$$.fragment,m),y=!0)},o(m){I(e.$$.fragment,m),I(t.$$.fragment,m),I(p.$$.fragment,m),I(P),I(f.$$.fragment,m),y=!1},d(m){m&&(b(l),b(i),b(u),b(c),b(g),b(r),b(s),b(o),b(k),b(d),b(N),b(U),b(te),b(Z)),M(e,m),M(t,m),M(p,m),P&&P.d(m),M(f,m),pe(a,m),pe(V,m)}}}function Rt(n){let e;return{c(){e=X("Save")},l(l){e=x(l,"Save")},m(l,t){L(l,e,t)},d(l){l&&b(e)}}}function Wt(n){let e;return{c(){e=X("Delete")},l(l){e=x(l,"Delete")},m(l,t){L(l,e,t)},d(l){l&&b(e)}}}function Gt(n){let e,l;return e=new Pt({props:{idx:n[0].idx}}),{c(){A(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,i){T(e,t,i),l=!0},p(t,i){const p={};i[0]&1&&(p.idx=t[0].idx),e.$set(p)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){M(e,t)}}}function Ut(n){let e,l;return e=new qt({props:{idx:n[0].idx}}),{c(){A(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,i){T(e,t,i),l=!0},p(t,i){const p={};i[0]&1&&(p.idx=t[0].idx),e.$set(p)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){M(e,t)}}}function Ht(n){let e;return{c(){e=X("Zoom to fit")},l(l){e=x(l,"Zoom to fit")},m(l,t){L(l,e,t)},d(l){l&&b(e)}}}function Re(n){let e,l,t;function i(u){n[12](u)}let p={map:n[3]};return n[5]!==void 0&&(p.enabled=n[5]),e=new Nt({props:p}),z.push(()=>Y(e,"enabled",i)),{c(){A(e.$$.fragment)},l(u){q(e.$$.fragment,u)},m(u,c){T(e,u,c),t=!0},p(u,c){const f={};c[0]&8&&(f.map=u[3]),!l&&c[0]&32&&(l=!0,f.enabled=u[5],J(()=>l=!1)),e.$set(f)},i(u){t||(w(e.$$.fragment,u),t=!0)},o(u){I(e.$$.fragment,u),t=!1},d(u){M(e,u)}}}function We(n){let e,l,t=Ke(n[32])+"",i,p,u,c;function f(){return n[14](n[31])}function v(){return n[15](n[31])}return{c(){e=O("li"),l=O("a"),i=X(t),p=E(),this.h()},l(g){e=R(g,"LI",{});var r=W(e);l=R(r,"A",{href:!0});var _=W(l);i=x(_,t),_.forEach(b),p=S(r),r.forEach(b),this.h()},h(){D(l,"href","#")},m(g,r){L(g,e,r),j(e,l),j(l,i),j(e,p),u||(c=[ee(l,"click",f),ee(l,"mouseenter",v),ee(l,"mouseleave",n[16])],u=!0)},p(g,r){n=g,r[0]&4&&t!==(t=Ke(n[32])+"")&&re(i,t)},d(g){g&&b(e),u=!1,$e(c)}}}function Ge(n){let e,l,t=ze(n[29])+"",i,p,u,c;function f(){return n[17](n[31])}function v(){return n[18](n[31])}return{c(){e=O("li"),l=O("a"),i=X(t),p=E(),this.h()},l(g){e=R(g,"LI",{});var r=W(e);l=R(r,"A",{href:!0});var _=W(l);i=x(_,t),_.forEach(b),p=S(r),r.forEach(b),this.h()},h(){D(l,"href","#")},m(g,r){L(g,e,r),j(e,l),j(l,i),j(e,p),u||(c=[ee(l,"click",f),ee(l,"mouseenter",v),ee(l,"mouseleave",n[19])],u=!0)},p(g,r){n=g,r[0]&4&&t!==(t=ze(n[29])+"")&&re(i,t)},d(g){g&&b(e),u=!1,$e(c)}}}function Kt(n){let e,l,t,i=n[32].criticalIssue+"",p;return{c(){e=be("svg"),l=be("polygon"),t=be("text"),p=X(i),this.h()},l(u){e=ke(u,"svg",{width:!0,height:!0,xmlns:!0});var c=W(e);l=ke(c,"polygon",{points:!0,fill:!0,class:!0}),W(l).forEach(b),t=ke(c,"text",{x:!0,y:!0});var f=W(t);p=x(f,i),f.forEach(b),c.forEach(b),this.h()},h(){D(l,"points","20,0 0,40 40,40"),D(l,"fill",at.critical.background),D(l,"class","svelte-996go8"),D(t,"x","13"),D(t,"y","30"),ne(t,"fill","white"),D(e,"width","40"),D(e,"height","40"),D(e,"xmlns","http://www.w3.org/2000/svg")},m(u,c){L(u,e,c),j(e,l),j(e,t),j(t,p)},p(u,c){c[0]&4&&i!==(i=u[32].criticalIssue+"")&&re(p,i)},d(u){u&&b(e)}}}function Ue(n){let e,l,t;function i(f){n[21](f,n[32])}function p(){return n[22](n[31])}function u(){return n[23](n[31])}let c={draggable:!0,$$slots:{default:[Kt]},$$scope:{ctx:n}};return n[32].point!==void 0&&(c.lngLat=n[32].point),e=new tt({props:c}),z.push(()=>Y(e,"lngLat",i)),e.$on("click",p),e.$on("dragend",u),{c(){A(e.$$.fragment)},l(f){q(e.$$.fragment,f)},m(f,v){T(e,f,v),t=!0},p(f,v){n=f;const g={};v[0]&4|v[1]&32&&(g.$$scope={dirty:v,ctx:n}),!l&&v[0]&4&&(l=!0,g.lngLat=n[32].point,J(()=>l=!1)),e.$set(g)},i(f){t||(w(e.$$.fragment,f),t=!0)},o(f){I(e.$$.fragment,f),t=!1},d(f){M(e,f)}}}function zt(n){let e,l=n[29].conflict+"",t;return{c(){e=O("span"),t=X(l),this.h()},l(i){e=R(i,"SPAN",{class:!0});var p=W(e);t=x(p,l),p.forEach(b),this.h()},h(){D(e,"class","dot svelte-996go8"),ne(e,"background",rt)},m(i,p){L(i,e,p),j(e,t)},p(i,p){p[0]&4&&l!==(l=i[29].conflict+"")&&re(t,l)},d(i){i&&b(e)}}}function He(n){let e,l,t;function i(f){n[24](f,n[29])}function p(){return n[25](n[31])}function u(){return n[26](n[31])}let c={draggable:!0,$$slots:{default:[zt]},$$scope:{ctx:n}};return n[29].point!==void 0&&(c.lngLat=n[29].point),e=new tt({props:c}),z.push(()=>Y(e,"lngLat",i)),e.$on("click",p),e.$on("dragend",u),{c(){A(e.$$.fragment)},l(f){q(e.$$.fragment,f)},m(f,v){T(e,f,v),t=!0},p(f,v){n=f;const g={};v[0]&4|v[1]&32&&(g.$$scope={dirty:v,ctx:n}),!l&&v[0]&4&&(l=!0,g.lngLat=n[29].point,J(()=>l=!1)),e.$set(g)},i(f){t||(w(e.$$.fragment,f),t=!0)},o(f){I(e.$$.fragment,f),t=!1},d(f){M(e,f)}}}function Jt(n){let e,l;return e=new $t({props:{paint:{"circle-radius":30,"circle-color":"yellow"}}}),{c(){A(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,i){T(e,t,i),l=!0},p:st,i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){M(e,t)}}}function Yt(n){let e,l,t,i,p,u,c=le(n[2].criticalIssues),f=[];for(let s=0;s<c.length;s+=1)f[s]=Ue(Ve(n,c,s));const v=s=>I(f[s],1,1,()=>{f[s]=null});let g=le(n[2].policyConflictLog),r=[];for(let s=0;s<g.length;s+=1)r[s]=He(Pe(n,g,s));const _=s=>I(r[s],1,1,()=>{r[s]=null});return t=new ht({props:{data:n[6],$$slots:{default:[Jt]},$$scope:{ctx:n}}}),p=new mt({props:{map:n[3]}}),{c(){for(let s=0;s<f.length;s+=1)f[s].c();e=E();for(let s=0;s<r.length;s+=1)r[s].c();l=E(),A(t.$$.fragment),i=E(),A(p.$$.fragment)},l(s){for(let o=0;o<f.length;o+=1)f[o].l(s);e=S(s);for(let o=0;o<r.length;o+=1)r[o].l(s);l=S(s),q(t.$$.fragment,s),i=S(s),q(p.$$.fragment,s)},m(s,o){for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(s,o);L(s,e,o);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(s,o);L(s,l,o),T(t,s,o),L(s,i,o),T(p,s,o),u=!0},p(s,o){if(o[0]&132){c=le(s[2].criticalIssues);let d;for(d=0;d<c.length;d+=1){const N=Ve(s,c,d);f[d]?(f[d].p(N,o),w(f[d],1)):(f[d]=Ue(N),f[d].c(),w(f[d],1),f[d].m(e.parentNode,e))}for(se(),d=c.length;d<f.length;d+=1)v(d);ae()}if(o[0]&132){g=le(s[2].policyConflictLog);let d;for(d=0;d<g.length;d+=1){const N=Pe(s,g,d);r[d]?(r[d].p(N,o),w(r[d],1)):(r[d]=He(N),r[d].c(),w(r[d],1),r[d].m(l.parentNode,l))}for(se(),d=g.length;d<r.length;d+=1)_(d);ae()}const h={};o[0]&64&&(h.data=s[6]),o[1]&32&&(h.$$scope={dirty:o,ctx:s}),t.$set(h);const k={};o[0]&8&&(k.map=s[3]),p.$set(k)},i(s){if(!u){for(let o=0;o<c.length;o+=1)w(f[o]);for(let o=0;o<g.length;o+=1)w(r[o]);w(t.$$.fragment,s),w(p.$$.fragment,s),u=!0}},o(s){f=f.filter(Boolean);for(let o=0;o<f.length;o+=1)I(f[o]);r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)I(r[o]);I(t.$$.fragment,s),I(p.$$.fragment,s),u=!1},d(s){s&&(b(e),b(l),b(i)),pe(f,s),pe(r,s),M(t,s),M(p,s)}}}function Zt(n){let e,l,t,i,p,u,c,f,v,g,r;const _=[Ot,Ft],s=[];function o(d,N){return d[0]==null?0:1}t=o(n),i=s[t]=_[t](n);function h(d){n[27](d)}let k={$$slots:{default:[Yt]},$$scope:{ctx:n}};return n[3]!==void 0&&(k.map=n[3]),c=new dt({props:k}),z.push(()=>Y(c,"map",h)),{c(){e=O("div"),l=O("div"),i.c(),p=E(),u=O("div"),A(c.$$.fragment),this.h()},l(d){e=R(d,"DIV",{style:!0});var N=W(e);l=R(N,"DIV",{style:!0});var U=W(l);i.l(U),U.forEach(b),p=S(N),u=R(N,"DIV",{style:!0});var K=W(u);q(c.$$.fragment,K),K.forEach(b),N.forEach(b),this.h()},h(){ne(l,"width","30%"),ne(l,"overflow-y","scroll"),ne(l,"padding","10px"),ne(u,"position","relative"),ne(u,"width","70%"),ne(e,"display","flex"),ne(e,"height","600px")},m(d,N){L(d,e,N),j(e,l),s[t].m(l,null),j(e,p),j(e,u),T(c,u,null),v=!0,g||(r=ee(Vt,"keydown",n[10]),g=!0)},p(d,N){let U=t;t=o(d),t===U?s[t].p(d,N):(se(),I(s[U],1,1,()=>{s[U]=null}),ae(),i=s[t],i?i.p(d,N):(i=s[t]=_[t](d),i.c()),w(i,1),i.m(l,null));const K={};N[0]&76|N[1]&32&&(K.$$scope={dirty:N,ctx:d}),!f&&N[0]&8&&(f=!0,K.map=d[3],J(()=>f=!1)),c.$set(K)},i(d){v||(w(i),w(c.$$.fragment,d),v=!0)},o(d){I(i),I(c.$$.fragment,d),v=!1},d(d){d&&b(e),s[t].d(),M(c),g=!1,r()}}}function Qt(n,e,l){let t={type:"FeatureCollection",features:[]},i=e??l;if(i!=null){let p=i.kind=="critical"?n.criticalIssues:n.policyConflictLog;t.features.push(we(p[i.idx].point))}return t}function we(n){return{type:"Feature",properties:{},geometry:{type:"Point",coordinates:n}}}function Ke(n){return`${n.criticalIssue||"Unknown critical"}: ${n.locationName||"???"}`}function ze(n){return`${n.conflict||"Unknown conflict"}: ${n.locationName||"???"}`}function Xt(n,e,l){let t,i;ye(n,G,$=>l(2,i=$));let p,u="critical",c=null,f=null,v=!1;function g($){l(0,c=$),l(1,f=null)}function r($){if(!v){if(c!=null){l(0,c=null);return}u=="critical"?(de(G,i.criticalIssues=[...i.criticalIssues,{id:"TODO",criticalIssue:"",stage:"",point:$.lngLat.toArray(),locationName:"",resolved:"",notes:""}],i),l(0,c={kind:"critical",idx:i.criticalIssues.length-1})):(de(G,i.policyConflictLog=[...i.policyConflictLog,{id:"TODO",conflict:"",stage:"",point:$.lngLat.toArray(),locationName:"",resolved:"",notes:""}],i),l(0,c={kind:"conflict",idx:i.policyConflictLog.length-1})),l(1,f=null)}}Ce(()=>{p.on("click",r),s()}),Ye(()=>{p.off("click",r)});function _(){window.confirm("Delete this entry?")&&(c.kind=="critical"?(i.criticalIssues.splice(c.idx,1),G.set(i)):(i.policyConflictLog.splice(c.idx,1),G.set(i)),l(0,c=null))}function s($){let B={type:"FeatureCollection",features:[...i.criticalIssues.map(H=>we(H.point)),...i.policyConflictLog.map(H=>we(H.point))]};B.features.length>0&&p.fitBounds(_t(B),{padding:20,animate:!0})}function o($){c!=null&&$.key=="Escape"&&($.stopPropagation(),l(0,c=null))}const h=()=>s();function k($){v=$,l(5,v)}function d($){u=$,l(4,u)}const N=$=>g({kind:"critical",idx:$}),U=$=>l(1,f={kind:"critical",idx:$}),K=()=>l(1,f=null),te=$=>g({kind:"conflict",idx:$}),Z=$=>l(1,f={kind:"conflict",idx:$}),y=()=>l(1,f=null),P=()=>l(0,c=null);function ie($,B){n.$$.not_equal(B.point,$)&&(B.point=$,G.set(i))}const oe=$=>g({kind:"critical",idx:$}),Q=$=>g({kind:"critical",idx:$});function a($,B){n.$$.not_equal(B.point,$)&&(B.point=$,G.set(i))}const C=$=>g({kind:"conflict",idx:$}),V=$=>g({kind:"conflict",idx:$});function m($){p=$,l(3,p)}return n.$$.update=()=>{n.$$.dirty[0]&7&&l(6,t=Qt(i,c,f))},[c,f,i,p,u,v,t,g,_,s,o,h,k,d,N,U,K,te,Z,y,P,ie,oe,Q,a,C,V,m]}class dn extends ue{constructor(e){super(),ce(this,e,Xt,Zt,fe,{},null,[-1,-1])}}export{dn as component};
