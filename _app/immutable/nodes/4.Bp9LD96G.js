import{B as de,s as J,o as _e,e as E,t as ee,b as R,c as C,f as F,h as te,d as g,j as U,a as T,i as $,k as I,l as ge,u as he,p as pe,q as be,r as ae,n as ie,g as ve,P as x,Q as Z,R as se,S as ue,T as fe,U as re,G as nt,V as Ne,W as lt,X as at,y as q,Y as V,Z as st,x as Fe,m as je,_ as it}from"../chunks/scheduler.C6wGf0y2.js";import{a as p,t as b,S as j,i as X,c as k,b as y,m as D,d as S,f as H,g as Xe,e as Ye}from"../chunks/index.D-aa-kS0.js";import{w as rt}from"../chunks/index.D-aZuUzx.js";import{b as Pe}from"../chunks/paths.BW4fE0MF.js";function ce(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ot(n,e){p(n,1,1,()=>{e.delete(n.key)})}function ut(n,e,l,t,r,s,i,u,o,a,f,c){let m=n.length,_=s.length,h=m;const P={};for(;h--;)P[n[h].key]=h;const M=[],G=new Map,v=new Map,w=[];for(h=_;h--;){const L=c(r,s,h),B=l(L);let W=i.get(B);W?t&&w.push(()=>W.p(L,e)):(W=a(B,L),W.c()),G.set(B,M[h]=W),B in P&&v.set(B,Math.abs(h-P[B]))}const Q=new Set,Y=new Set;function z(L){b(L,1),L.m(u,f),i.set(L.key,L),f=L.first,_--}for(;m&&_;){const L=M[_-1],B=n[m-1],W=L.key,ne=B.key;L===B?(f=L.first,m--,_--):G.has(ne)?!i.has(W)||Q.has(W)?z(L):Y.has(ne)?m--:v.get(W)>v.get(ne)?(Y.add(W),z(L)):(Q.add(ne),m--):(o(B,i),m--)}for(;m--;){const L=n[m];G.has(L.key)||o(L,i)}for(;_;)z(M[_-1]);return de(w),M}function Ge(n,e){const l={},t={},r={$$scope:1};let s=n.length;for(;s--;){const i=n[s],u=e[s];if(u){for(const o in i)o in u||(t[o]=1);for(const o in u)r[o]||(l[o]=u[o],r[o]=1);n[s]=u}else for(const o in i)r[o]=1}for(const i in t)i in l||(l[i]=void 0);return l}let oe;const ft=new Uint8Array(16);function ct(){if(!oe&&(oe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oe(ft)}const N=[];for(let n=0;n<256;++n)N.push((n+256).toString(16).slice(1));function mt(n,e=0){return N[n[e+0]]+N[n[e+1]]+N[n[e+2]]+N[n[e+3]]+"-"+N[n[e+4]]+N[n[e+5]]+"-"+N[n[e+6]]+N[n[e+7]]+"-"+N[n[e+8]]+N[n[e+9]]+"-"+N[n[e+10]]+N[n[e+11]]+N[n[e+12]]+N[n[e+13]]+N[n[e+14]]+N[n[e+15]]}const dt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),We={randomUUID:dt};function $e(n,e,l){if(We.randomUUID&&!e&&!n)return We.randomUUID();n=n||{};const t=n.random||(n.rng||ct)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,e){l=l||0;for(let r=0;r<16;++r)e[l+r]=t[r];return e}return mt(t)}function _t(n){let e,l,t,r,s,i,u;const o=n[3].default,a=_e(o,n,n[2],null);return{c(){e=E("details"),l=E("summary"),t=E("span"),r=ee(n[0]),s=R(),i=E("div"),a&&a.c(),this.h()},l(f){e=C(f,"DETAILS",{class:!0,"data-module":!0});var c=F(e);l=C(c,"SUMMARY",{class:!0});var m=F(l);t=C(m,"SPAN",{class:!0});var _=F(t);r=te(_,n[0]),_.forEach(g),m.forEach(g),s=U(c),i=C(c,"DIV",{class:!0});var h=F(i);a&&a.l(h),h.forEach(g),c.forEach(g),this.h()},h(){T(t,"class","govuk-details__summary-text"),T(l,"class","govuk-details__summary"),T(i,"class","govuk-details__text"),e.open=n[1],T(e,"class","govuk-details"),T(e,"data-module","govuk-details")},m(f,c){$(f,e,c),I(e,l),I(l,t),I(t,r),I(e,s),I(e,i),a&&a.m(i,null),u=!0},p(f,[c]){(!u||c&1)&&ge(r,f[0]),a&&a.p&&(!u||c&4)&&he(a,o,f,f[2],u?be(o,f[2],c,null):pe(f[2]),null),(!u||c&2)&&(e.open=f[1])},i(f){u||(b(a,f),u=!0)},o(f){p(a,f),u=!1},d(f){f&&g(e),a&&a.d(f)}}}function gt(n,e,l){let{$$slots:t={},$$scope:r}=e,{label:s}=e,{open:i=!1}=e;return n.$$set=u=>{"label"in u&&l(0,s=u.label),"open"in u&&l(1,i=u.open),"$$scope"in u&&l(2,r=u.$$scope)},[s,i,r,t]}class me extends j{constructor(e){super(),X(this,e,gt,_t,J,{label:0,open:1})}}function Ae(n){let e,l,t="Error:",r,s;return{c(){e=E("div"),l=E("span"),l.textContent=t,r=R(),s=ee(n[0]),this.h()},l(i){e=C(i,"DIV",{class:!0});var u=F(e);l=C(u,"SPAN",{class:!0,"data-svelte-h":!0}),ve(l)!=="svelte-1gidx8i"&&(l.textContent=t),r=U(u),s=te(u,n[0]),u.forEach(g),this.h()},h(){T(l,"class","govuk-visually-hidden"),T(e,"class","govuk-error-message")},m(i,u){$(i,e,u),I(e,l),I(e,r),I(e,s)},p(i,u){u&1&&ge(s,i[0])},d(i){i&&g(e)}}}function ht(n){let e,l=n[0]&&Ae(n);return{c(){l&&l.c(),e=ae()},l(t){l&&l.l(t),e=ae()},m(t,r){l&&l.m(t,r),$(t,e,r)},p(t,[r]){t[0]?l?l.p(t,r):(l=Ae(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ie,o:ie,d(t){t&&g(e),l&&l.d(t)}}}function pt(n,e,l){let{errorMessage:t}=e;return n.$$set=r=>{"errorMessage"in r&&l(0,t=r.errorMessage)},[t]}class we extends j{constructor(e){super(),X(this,e,pt,ht,J,{errorMessage:0})}}function bt(n){let e,l,t,r,s;const i=n[3].default,u=_e(i,n,n[2],null);return{c(){e=E("div"),l=E("label"),t=ee(n[0]),r=R(),u&&u.c(),this.h()},l(o){e=C(o,"DIV",{class:!0});var a=F(e);l=C(a,"LABEL",{class:!0,for:!0});var f=F(l);t=te(f,n[0]),f.forEach(g),r=U(a),u&&u.l(a),a.forEach(g),this.h()},h(){T(l,"class","govuk-label govuk-label--s"),T(l,"for",n[1]),T(e,"class","govuk-form-group")},m(o,a){$(o,e,a),I(e,l),I(l,t),I(e,r),u&&u.m(e,null),s=!0},p(o,[a]){(!s||a&1)&&ge(t,o[0]),(!s||a&2)&&T(l,"for",o[1]),u&&u.p&&(!s||a&4)&&he(u,i,o,o[2],s?be(i,o[2],a,null):pe(o[2]),null)},i(o){s||(b(u,o),s=!0)},o(o){p(u,o),s=!1},d(o){o&&g(e),u&&u.d(o)}}}function vt(n,e,l){let{$$slots:t={},$$scope:r}=e,{label:s}=e,{id:i}=e;return n.$$set=u=>{"label"in u&&l(0,s=u.label),"id"in u&&l(1,i=u.id),"$$scope"in u&&l(2,r=u.$$scope)},[s,i,r,t]}class ke extends j{constructor(e){super(),X(this,e,vt,bt,J,{label:0,id:1})}}function $t(n){let e,l,t,r,s,i,u;return e=new we({props:{errorMessage:n[5](n[2])}}),{c(){k(e.$$.fragment),l=R(),t=E("input"),this.h()},l(o){y(e.$$.fragment,o),l=U(o),t=C(o,"INPUT",{type:!0,inputmode:!0,class:!0,id:!0}),this.h()},h(){T(t,"type","text"),T(t,"inputmode","numeric"),T(t,"class",r=`govuk-input govuk-input--width-${n[1]}`),T(t,"id",n[3])},m(o,a){D(e,o,a),$(o,l,a),$(o,t,a),x(t,n[2]),s=!0,i||(u=[Z(t,"input",n[9]),Z(t,"change",n[4])],i=!0)},p(o,a){const f={};a&4&&(f.errorMessage=o[5](o[2])),e.$set(f),(!s||a&2&&r!==(r=`govuk-input govuk-input--width-${o[1]}`))&&T(t,"class",r),a&4&&t.value!==o[2]&&x(t,o[2])},i(o){s||(b(e.$$.fragment,o),s=!0)},o(o){p(e.$$.fragment,o),s=!1},d(o){o&&(g(l),g(t)),S(e,o),i=!1,de(u)}}}function wt(n){let e,l;return e=new ke({props:{label:n[0],id:n[3],$$slots:{default:[$t]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){D(e,t,r),l=!0},p(t,[r]){const s={};r&1&&(s.label=t[0]),r&1030&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function kt(n,e,l){let{label:t}=e,{value:r}=e,{width:s}=e,{min:i=void 0}=e,{max:u=void 0}=e,o=r==null?void 0:r.toString(),a=$e();function f(){l(6,r=o==null?void 0:parseInt(o,10))}function c(_){if(_==""||_==null)return"";if(_.includes("."))return"Please enter a number without decimals";let h=Number(_);return isNaN(h)?"Please enter a valid number":i!=null&&h<i?`Please enter a number that's at least ${i};`:u!=null&&h>u?`Please enter a number that's at most ${u};`:""}function m(){o=this.value,l(2,o)}return n.$$set=_=>{"label"in _&&l(0,t=_.label),"value"in _&&l(6,r=_.value),"width"in _&&l(1,s=_.width),"min"in _&&l(7,i=_.min),"max"in _&&l(8,u=_.max)},[t,s,o,a,f,c,r,i,u,m]}class yt extends j{constructor(e){super(),X(this,e,kt,wt,J,{label:0,value:6,width:1,min:7,max:8})}}function Dt(n){let e,l,t,r;const s=n[2].default,i=_e(s,n,n[1],null);let u=[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},n[0]],o={};for(let a=0;a<u.length;a+=1)o=se(o,u[a]);return{c(){e=E("button"),i&&i.c(),this.h()},l(a){e=C(a,"BUTTON",{type:!0,class:!0,"data-module":!0});var f=F(e);i&&i.l(f),f.forEach(g),this.h()},h(){ue(e,o)},m(a,f){$(a,e,f),i&&i.m(e,null),e.autofocus&&e.focus(),l=!0,t||(r=[Z(e,"click",n[3]),Z(e,"mouseenter",n[4]),Z(e,"mouseleave",n[5])],t=!0)},p(a,[f]){i&&i.p&&(!l||f&2)&&he(i,s,a,a[1],l?be(s,a[1],f,null):pe(a[1]),null),ue(e,o=Ge(u,[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},f&1&&a[0]]))},i(a){l||(b(i,a),l=!0)},o(a){p(i,a),l=!1},d(a){a&&g(e),i&&i.d(a),t=!1,de(r)}}}function St(n,e,l){let{$$slots:t={},$$scope:r}=e;function s(o){re.call(this,n,o)}function i(o){re.call(this,n,o)}function u(o){re.call(this,n,o)}return n.$$set=o=>{l(0,e=se(se({},e),fe(o))),"$$scope"in o&&l(1,r=o.$$scope)},e=fe(e),[e,r,t,s,i,u]}class Tt extends j{constructor(e){super(),X(this,e,St,Dt,J,{})}}function Be(n,e,l){const t=n.slice();return t[9]=e[l][0],t[10]=e[l][1],t}function qe(n){let e;return{c(){e=E("option"),this.h()},l(l){e=C(l,"OPTION",{}),F(e).forEach(g),this.h()},h(){e.__value="",x(e,e.__value)},m(l,t){$(l,e,t)},d(l){l&&g(e)}}}function Ve(n){let e,l=n[10]+"",t,r;return{c(){e=E("option"),t=ee(l),this.h()},l(s){e=C(s,"OPTION",{});var i=F(e);t=te(i,l),i.forEach(g),this.h()},h(){e.__value=r=n[9],x(e,e.__value)},m(s,i){$(s,e,i),I(e,t)},p(s,i){i&4&&l!==(l=s[10]+"")&&ge(t,l),i&4&&r!==(r=s[9])&&(e.__value=r,x(e,e.__value))},d(s){s&&g(e)}}}function Mt(n){let e,l,t,r,s,i,u;e=new we({props:{errorMessage:n[5]}});let o=n[3]&&qe(),a=ce(n[2]),f=[];for(let c=0;c<a.length;c+=1)f[c]=Ve(Be(n,a,c));return{c(){k(e.$$.fragment),l=R(),t=E("select"),o&&o.c(),r=ae();for(let c=0;c<f.length;c+=1)f[c].c();this.h()},l(c){y(e.$$.fragment,c),l=U(c),t=C(c,"SELECT",{class:!0,id:!0});var m=F(t);o&&o.l(m),r=ae();for(let _=0;_<f.length;_+=1)f[_].l(m);m.forEach(g),this.h()},h(){T(t,"class","govuk-select"),T(t,"id",n[6]),t.disabled=n[4],n[0]===void 0&&nt(()=>n[8].call(t))},m(c,m){D(e,c,m),$(c,l,m),$(c,t,m),o&&o.m(t,null),I(t,r);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(t,null);Ne(t,n[0],!0),s=!0,i||(u=[Z(t,"change",n[8]),Z(t,"change",n[7])],i=!0)},p(c,m){const _={};if(m&32&&(_.errorMessage=c[5]),e.$set(_),c[3]?o||(o=qe(),o.c(),o.m(t,r)):o&&(o.d(1),o=null),m&4){a=ce(c[2]);let h;for(h=0;h<a.length;h+=1){const P=Be(c,a,h);f[h]?f[h].p(P,m):(f[h]=Ve(P),f[h].c(),f[h].m(t,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=a.length}(!s||m&16)&&(t.disabled=c[4]),m&5&&Ne(t,c[0])},i(c){s||(b(e.$$.fragment,c),s=!0)},o(c){p(e.$$.fragment,c),s=!1},d(c){c&&(g(l),g(t)),S(e,c),o&&o.d(),lt(f,c),i=!1,de(u)}}}function Lt(n){let e,l;return e=new ke({props:{label:n[1],id:n[6],$$slots:{default:[Mt]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){D(e,t,r),l=!0},p(t,[r]){const s={};r&2&&(s.label=t[1]),r&8253&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function Ot(n,e,l){let{label:t}=e,{choices:r}=e,{emptyOption:s=!1}=e,{disabled:i=!1}=e,{errorMessage:u=""}=e,{value:o}=e,a=$e();function f(m){re.call(this,n,m)}function c(){o=at(this),l(0,o),l(2,r)}return n.$$set=m=>{"label"in m&&l(1,t=m.label),"choices"in m&&l(2,r=m.choices),"emptyOption"in m&&l(3,s=m.emptyOption),"disabled"in m&&l(4,i=m.disabled),"errorMessage"in m&&l(5,u=m.errorMessage),"value"in m&&l(0,o=m.value)},[o,t,r,s,i,u,a,f,c]}class K extends j{constructor(e){super(),X(this,e,Ot,Lt,J,{label:1,choices:2,emptyOption:3,disabled:4,errorMessage:5,value:0})}}function Et(n){let e,l,t,r,s,i;return e=new we({props:{errorMessage:n[3]}}),{c(){k(e.$$.fragment),l=R(),t=E("textarea"),this.h()},l(u){y(e.$$.fragment,u),l=U(u),t=C(u,"TEXTAREA",{class:!0,id:!0,rows:!0}),F(t).forEach(g),this.h()},h(){T(t,"class","govuk-textarea"),T(t,"id",n[4]),T(t,"rows",n[2])},m(u,o){D(e,u,o),$(u,l,o),$(u,t,o),x(t,n[0]),r=!0,s||(i=Z(t,"input",n[5]),s=!0)},p(u,o){const a={};o&8&&(a.errorMessage=u[3]),e.$set(a),(!r||o&4)&&T(t,"rows",u[2]),o&1&&x(t,u[0])},i(u){r||(b(e.$$.fragment,u),r=!0)},o(u){p(e.$$.fragment,u),r=!1},d(u){u&&(g(l),g(t)),S(e,u),s=!1,i()}}}function Ct(n){let e,l;return e=new ke({props:{label:n[1],id:n[4],$$slots:{default:[Et]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){D(e,t,r),l=!0},p(t,[r]){const s={};r&2&&(s.label=t[1]),r&77&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function Rt(n,e,l){let{label:t}=e,{value:r}=e,{rows:s=5}=e,{errorMessage:i=""}=e,u=$e();function o(){r=this.value,l(0,r)}return n.$$set=a=>{"label"in a&&l(1,t=a.label),"value"in a&&l(0,r=a.value),"rows"in a&&l(2,s=a.rows),"errorMessage"in a&&l(3,i=a.errorMessage)},[r,t,s,i,u,o]}class Ut extends j{constructor(e){super(),X(this,e,Rt,Ct,J,{label:1,value:0,rows:2,errorMessage:3})}}function It(n){let e,l,t,r;const s=n[2].default,i=_e(s,n,n[1],null);let u=[{type:"button"},{class:"govuk-button govuk-button--warning"},{"data-module":"govuk-button"},n[0]],o={};for(let a=0;a<u.length;a+=1)o=se(o,u[a]);return{c(){e=E("button"),i&&i.c(),this.h()},l(a){e=C(a,"BUTTON",{type:!0,class:!0,"data-module":!0});var f=F(e);i&&i.l(f),f.forEach(g),this.h()},h(){ue(e,o)},m(a,f){$(a,e,f),i&&i.m(e,null),e.autofocus&&e.focus(),l=!0,t||(r=Z(e,"click",n[3]),t=!0)},p(a,[f]){i&&i.p&&(!l||f&2)&&he(i,s,a,a[1],l?be(s,a[1],f,null):pe(a[1]),null),ue(e,o=Ge(u,[{type:"button"},{class:"govuk-button govuk-button--warning"},{"data-module":"govuk-button"},f&1&&a[0]]))},i(a){l||(b(i,a),l=!0)},o(a){p(i,a),l=!1},d(a){a&&g(e),i&&i.d(a),t=!1,r()}}}function Nt(n,e,l){let{$$slots:t={},$$scope:r}=e;function s(i){re.call(this,n,i)}return n.$$set=i=>{l(0,e=se(se({},e),fe(i))),"$$scope"in i&&l(1,r=i.$$scope)},e=fe(e),[e,r,t,s]}class Qe extends j{constructor(e){super(),X(this,e,Nt,It,J,{})}}let A=rt(Ft());A.subscribe(n=>window.localStorage.setItem("cross-section",JSON.stringify(n)));function Ft(){let n=JSON.parse(window.localStorage.getItem("cross-section")||"{}");return n.trafficData?n:Ze()}function Ze(){return{trafficData:{flowOneWay:"",flowTwoWay:"",flowSharedUse:"",trafficFlow:"",speedLimit:"",observedSpeed:void 0,streetFunction:""},desirableMinimumCrossSection:[],absoluteMinimumCrossSection:[]}}let Pt=["Footway","Narrow Traffic / Bus Lane","Wide Traffic / Bus Lane","Traffic Lane (no buses): speed limit 20/30","On-highway advisory/mandatory cycle lane","1-way protected cycle track","2-way protected cycle track","Shared use cycle track","Parking Bay","Disabled Parking Bay","Loading Bay","Buffer / Verge"];function Wt(n){let e;return{c(){e=ee("Delete")},l(l){e=te(l,"Delete")},m(l,t){$(l,e,t)},d(l){l&&g(e)}}}function At(n){let e,l,t,r,s,i;function u(a){n[2](a)}let o={label:"Lane type",emptyOption:!0,choices:Bt(Pt)};return n[0]!==void 0&&(o.value=n[0]),l=new K({props:o}),q.push(()=>H(l,"value",u)),s=new Qe({props:{$$slots:{default:[Wt]},$$scope:{ctx:n}}}),s.$on("click",n[3]),{c(){e=E("div"),k(l.$$.fragment),r=R(),k(s.$$.fragment),this.h()},l(a){e=C(a,"DIV",{class:!0});var f=F(e);y(l.$$.fragment,f),r=U(f),y(s.$$.fragment,f),f.forEach(g),this.h()},h(){T(e,"class","svelte-jig4ga")},m(a,f){$(a,e,f),D(l,e,null),I(e,r),D(s,e,null),i=!0},p(a,[f]){const c={};!t&&f&1&&(t=!0,c.value=a[0],V(()=>t=!1)),l.$set(c);const m={};f&16&&(m.$$scope={dirty:f,ctx:a}),s.$set(m)},i(a){i||(b(l.$$.fragment,a),b(s.$$.fragment,a),i=!0)},o(a){p(l.$$.fragment,a),p(s.$$.fragment,a),i=!1},d(a){a&&g(e),S(l),S(s)}}}function Bt(n){return n.map(e=>[e,e])}function qt(n,e,l){let{value:t}=e,r=st();function s(u){t=u,l(0,t)}const i=()=>r("delete");return n.$$set=u=>{"value"in u&&l(0,t=u.value)},[t,r,s,i]}class Vt extends j{constructor(e){super(),X(this,e,qt,At,J,{value:0})}}function He(n,e,l){const t=n.slice();return t[5]=e[l],t[6]=e,t[7]=l,t}function Ht(n){let e;return{c(){e=ee("Add")},l(l){e=te(l,"Add")},m(l,t){$(l,e,t)},d(l){l&&g(e)}}}function Je(n,e){let l,t,r,s;function i(a){e[3](a,e[5],e[6],e[7])}function u(){return e[4](e[7])}let o={};return e[5]!==void 0&&(o.value=e[5]),t=new Vt({props:o}),q.push(()=>H(t,"value",i)),t.$on("delete",u),{key:n,first:null,c(){l=ae(),k(t.$$.fragment),this.h()},l(a){l=ae(),y(t.$$.fragment,a),this.h()},h(){this.first=l},m(a,f){$(a,l,f),D(t,a,f),s=!0},p(a,f){e=a;const c={};!r&&f&1&&(r=!0,c.value=e[5],V(()=>r=!1)),t.$set(c)},i(a){s||(b(t.$$.fragment,a),s=!0)},o(a){p(t.$$.fragment,a),s=!1},d(a){a&&g(l),S(t,a)}}}function Jt(n){let e,l,t,r=[],s=new Map,i;e=new Tt({props:{$$slots:{default:[Ht]},$$scope:{ctx:n}}}),e.$on("click",n[1]);let u=ce(n[0]);const o=a=>a[7];for(let a=0;a<u.length;a+=1){let f=He(n,u,a),c=o(f);s.set(c,r[a]=Je(c,f))}return{c(){k(e.$$.fragment),l=R(),t=E("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){y(e.$$.fragment,a),l=U(a),t=C(a,"DIV",{style:!0});var f=F(t);for(let c=0;c<r.length;c+=1)r[c].l(f);f.forEach(g),this.h()},h(){Fe(t,"display","flex"),Fe(t,"flex-direction","row")},m(a,f){D(e,a,f),$(a,l,f),$(a,t,f);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(t,null);i=!0},p(a,[f]){const c={};f&256&&(c.$$scope={dirty:f,ctx:a}),e.$set(c),f&5&&(u=ce(a[0]),Xe(),r=ut(r,f,o,1,a,u,s,t,ot,Je,null,He),Ye())},i(a){if(!i){b(e.$$.fragment,a);for(let f=0;f<u.length;f+=1)b(r[f]);i=!0}},o(a){p(e.$$.fragment,a);for(let f=0;f<r.length;f+=1)p(r[f]);i=!1},d(a){a&&(g(l),g(t)),S(e,a);for(let f=0;f<r.length;f+=1)r[f].d()}}}function jt(n,e,l){let{lanesLeftToRight:t}=e;function r(){l(0,t=[...t,""])}function s(o){t.splice(o,1),l(0,t)}function i(o,a,f,c){f[c]=o,l(0,t)}const u=o=>s(o);return n.$$set=o=>{"lanesLeftToRight"in o&&l(0,t=o.lanesLeftToRight)},[t,r,s,i,u]}class ze extends j{constructor(e){super(),X(this,e,jt,Jt,J,{lanesLeftToRight:0})}}function Xt(n){let e,l,t,r,s,i,u,o,a,f,c,m,_,h,P,M,G,v,w,Q,Y;function z(d){n[2](d)}let L={label:"Expected peak hour cycle flow: 1-way cycle tracks",emptyOption:!0,choices:le(["<200","200-800",">800"])};n[0].trafficData.flowOneWay!==void 0&&(L.value=n[0].trafficData.flowOneWay),e=new K({props:L}),q.push(()=>H(e,"value",z));function B(d){n[3](d)}let W={label:"Expected peak hour cycle flow: 2-way cycle tracks",emptyOption:!0,choices:le(["<300","300-1,000",">1,000"])};n[0].trafficData.flowTwoWay!==void 0&&(W.value=n[0].trafficData.flowTwoWay),r=new K({props:W}),q.push(()=>H(r,"value",B));function ne(d){n[4](d)}let ye={label:"Expected peak hour cycle flow: shared use cycle tracks",emptyOption:!0,choices:le(["<300",">300"])};n[0].trafficData.flowSharedUse!==void 0&&(ye.value=n[0].trafficData.flowSharedUse),u=new K({props:ye}),q.push(()=>H(u,"value",ne));function Ke(d){n[5](d)}let De={label:"Traffic flow (vpd)",emptyOption:!0,choices:le(["<2,500","2,500-5,000","5,000-10,000",">10,000"])};n[0].trafficData.trafficFlow!==void 0&&(De.value=n[0].trafficData.trafficFlow),f=new K({props:De}),q.push(()=>H(f,"value",Ke));function xe(d){n[6](d)}let Se={label:"Speed limit (MPH)",emptyOption:!0,choices:le(["<30","30","40","50","60","70"])};n[0].trafficData.speedLimit!==void 0&&(Se.value=n[0].trafficData.speedLimit),_=new K({props:Se}),q.push(()=>H(_,"value",xe));function et(d){n[7](d)}let Te={label:"Observed 85th percentile speed (MPH)",width:3,min:0,max:120};n[0].trafficData.observedSpeed!==void 0&&(Te.value=n[0].trafficData.observedSpeed),M=new yt({props:Te}),q.push(()=>H(M,"value",et));function tt(d){n[8](d)}let Me={label:"Street function",emptyOption:!0,choices:le(["High Street (active frontages)","Residential street","Local distributor road"])};return n[0].trafficData.streetFunction!==void 0&&(Me.value=n[0].trafficData.streetFunction),w=new K({props:Me}),q.push(()=>H(w,"value",tt)),{c(){k(e.$$.fragment),t=R(),k(r.$$.fragment),i=R(),k(u.$$.fragment),a=R(),k(f.$$.fragment),m=R(),k(_.$$.fragment),P=R(),k(M.$$.fragment),v=R(),k(w.$$.fragment)},l(d){y(e.$$.fragment,d),t=U(d),y(r.$$.fragment,d),i=U(d),y(u.$$.fragment,d),a=U(d),y(f.$$.fragment,d),m=U(d),y(_.$$.fragment,d),P=U(d),y(M.$$.fragment,d),v=U(d),y(w.$$.fragment,d)},m(d,O){D(e,d,O),$(d,t,O),D(r,d,O),$(d,i,O),D(u,d,O),$(d,a,O),D(f,d,O),$(d,m,O),D(_,d,O),$(d,P,O),D(M,d,O),$(d,v,O),D(w,d,O),Y=!0},p(d,O){const Le={};!l&&O&1&&(l=!0,Le.value=d[0].trafficData.flowOneWay,V(()=>l=!1)),e.$set(Le);const Oe={};!s&&O&1&&(s=!0,Oe.value=d[0].trafficData.flowTwoWay,V(()=>s=!1)),r.$set(Oe);const Ee={};!o&&O&1&&(o=!0,Ee.value=d[0].trafficData.flowSharedUse,V(()=>o=!1)),u.$set(Ee);const Ce={};!c&&O&1&&(c=!0,Ce.value=d[0].trafficData.trafficFlow,V(()=>c=!1)),f.$set(Ce);const Re={};!h&&O&1&&(h=!0,Re.value=d[0].trafficData.speedLimit,V(()=>h=!1)),_.$set(Re);const Ue={};!G&&O&1&&(G=!0,Ue.value=d[0].trafficData.observedSpeed,V(()=>G=!1)),M.$set(Ue);const Ie={};!Q&&O&1&&(Q=!0,Ie.value=d[0].trafficData.streetFunction,V(()=>Q=!1)),w.$set(Ie)},i(d){Y||(b(e.$$.fragment,d),b(r.$$.fragment,d),b(u.$$.fragment,d),b(f.$$.fragment,d),b(_.$$.fragment,d),b(M.$$.fragment,d),b(w.$$.fragment,d),Y=!0)},o(d){p(e.$$.fragment,d),p(r.$$.fragment,d),p(u.$$.fragment,d),p(f.$$.fragment,d),p(_.$$.fragment,d),p(M.$$.fragment,d),p(w.$$.fragment,d),Y=!1},d(d){d&&(g(t),g(i),g(a),g(m),g(P),g(v)),S(e,d),S(r,d),S(u,d),S(f,d),S(_,d),S(M,d),S(w,d)}}}function Yt(n){let e,l;return e=new me({props:{label:"Traffic data and additional information",$$slots:{default:[Xt]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,r){D(e,t,r),l=!0},p(t,[r]){const s={};r&513&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){S(e,t)}}}function le(n){return n.map(e=>[e,e])}function Gt(n,e,l){let t;je(n,A,m=>l(0,t=m));let{valid:r}=e;function s(m){n.$$.not_equal(t.trafficData.flowOneWay,m)&&(t.trafficData.flowOneWay=m,A.set(t))}function i(m){n.$$.not_equal(t.trafficData.flowTwoWay,m)&&(t.trafficData.flowTwoWay=m,A.set(t))}function u(m){n.$$.not_equal(t.trafficData.flowSharedUse,m)&&(t.trafficData.flowSharedUse=m,A.set(t))}function o(m){n.$$.not_equal(t.trafficData.trafficFlow,m)&&(t.trafficData.trafficFlow=m,A.set(t))}function a(m){n.$$.not_equal(t.trafficData.speedLimit,m)&&(t.trafficData.speedLimit=m,A.set(t))}function f(m){n.$$.not_equal(t.trafficData.observedSpeed,m)&&(t.trafficData.observedSpeed=m,A.set(t))}function c(m){n.$$.not_equal(t.trafficData.streetFunction,m)&&(t.trafficData.streetFunction=m,A.set(t))}return n.$$set=m=>{"valid"in m&&l(1,r=m.valid)},n.$$.update=()=>{n.$$.dirty&1&&l(1,r=t.trafficData.flowOneWay!=""&&t.trafficData.flowTwoWay!=""&&t.trafficData.flowSharedUse!=""&&t.trafficData.trafficFlow!=""&&t.trafficData.speedLimit!=""&&t.trafficData.observedSpeed!=null&&t.trafficData.streetFunction!="")},[t,r,s,i,u,o,a,f,c]}class Qt extends j{constructor(e){super(),X(this,e,Gt,Yt,J,{valid:1})}}function Zt(n){let e,l="Fill out all data above to continue";return{c(){e=E("p"),e.textContent=l},l(t){e=C(t,"P",{"data-svelte-h":!0}),ve(e)!=="svelte-ma95"&&(e.textContent=l)},m(t,r){$(t,e,r)},p:ie,i:ie,o:ie,d(t){t&&g(e)}}}function zt(n){let e,l,t,r;return e=new me({props:{label:"Desirable Minimum Cross-Section",$$slots:{default:[Kt]},$$scope:{ctx:n}}}),t=new me({props:{label:"Absolute Minimum Cross-Section",$$slots:{default:[xt]},$$scope:{ctx:n}}}),{c(){k(e.$$.fragment),l=R(),k(t.$$.fragment)},l(s){y(e.$$.fragment,s),l=U(s),y(t.$$.fragment,s)},m(s,i){D(e,s,i),$(s,l,i),D(t,s,i),r=!0},p(s,i){const u={};i&66&&(u.$$scope={dirty:i,ctx:s}),e.$set(u);const o={};i&66&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){r||(b(e.$$.fragment,s),b(t.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),r=!1},d(s){s&&g(l),S(e,s),S(t,s)}}}function Kt(n){let e,l,t;function r(i){n[4](i)}let s={};return n[1].desirableMinimumCrossSection!==void 0&&(s.lanesLeftToRight=n[1].desirableMinimumCrossSection),e=new ze({props:s}),q.push(()=>H(e,"lanesLeftToRight",r)),{c(){k(e.$$.fragment)},l(i){y(e.$$.fragment,i)},m(i,u){D(e,i,u),t=!0},p(i,u){const o={};!l&&u&2&&(l=!0,o.lanesLeftToRight=i[1].desirableMinimumCrossSection,V(()=>l=!1)),e.$set(o)},i(i){t||(b(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){S(e,i)}}}function xt(n){let e,l,t;function r(i){n[5](i)}let s={};return n[1].absoluteMinimumCrossSection!==void 0&&(s.lanesLeftToRight=n[1].absoluteMinimumCrossSection),e=new ze({props:s}),q.push(()=>H(e,"lanesLeftToRight",r)),{c(){k(e.$$.fragment)},l(i){y(e.$$.fragment,i)},m(i,u){D(e,i,u),t=!0},p(i,u){const o={};!l&&u&2&&(l=!0,o.lanesLeftToRight=i[1].absoluteMinimumCrossSection,V(()=>l=!1)),e.$set(o)},i(i){t||(b(e.$$.fragment,i),t=!0)},o(i){p(e.$$.fragment,i),t=!1},d(i){S(e,i)}}}function en(n){let e;return{c(){e=ee("Reset")},l(l){e=te(l,"Reset")},m(l,t){$(l,e,t)},d(l){l&&g(e)}}}function tn(n){let e,l,t,r;return e=new Qe({props:{$$slots:{default:[en]},$$scope:{ctx:n}}}),e.$on("click",n[2]),t=new Ut({props:{label:"JSON",value:JSON.stringify(n[1],null,"  "),rows:10}}),{c(){k(e.$$.fragment),l=R(),k(t.$$.fragment)},l(s){y(e.$$.fragment,s),l=U(s),y(t.$$.fragment,s)},m(s,i){D(e,s,i),$(s,l,i),D(t,s,i),r=!0},p(s,i){const u={};i&64&&(u.$$scope={dirty:i,ctx:s}),e.$set(u);const o={};i&2&&(o.value=JSON.stringify(s[1],null,"  ")),t.$set(o)},i(s){r||(b(e.$$.fragment,s),b(t.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),r=!1},d(s){s&&g(l),S(e,s),S(t,s)}}}function nn(n){let e,l,t=`<ol class="govuk-breadcrumbs__list"><li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${Pe}/">Tools</a></li> <li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${Pe}/cross_section">Route cross-section</a></li> <li class="govuk-breadcrumbs__list-item">Proposed Cross-Sections</li></ol>`,r,s,i,u,o,a,f,c,m;function _(v){n[3](v)}let h={};n[0]!==void 0&&(h.valid=n[0]),s=new Qt({props:h}),q.push(()=>H(s,"valid",_));const P=[zt,Zt],M=[];function G(v,w){return v[0]?0:1}return o=G(n),a=M[o]=P[o](n),c=new me({props:{label:"Debug",$$slots:{default:[tn]},$$scope:{ctx:n}}}),{c(){e=E("div"),l=E("div"),l.innerHTML=t,r=R(),k(s.$$.fragment),u=R(),a.c(),f=R(),k(c.$$.fragment),this.h()},l(v){e=C(v,"DIV",{class:!0});var w=F(e);l=C(w,"DIV",{class:!0,"data-svelte-h":!0}),ve(l)!=="svelte-7mvyxb"&&(l.innerHTML=t),r=U(w),y(s.$$.fragment,w),u=U(w),a.l(w),f=U(w),y(c.$$.fragment,w),w.forEach(g),this.h()},h(){T(l,"class","govuk-breadcrumbs"),T(e,"class","govuk-prose")},m(v,w){$(v,e,w),I(e,l),I(e,r),D(s,e,null),I(e,u),M[o].m(e,null),I(e,f),D(c,e,null),m=!0},p(v,[w]){const Q={};!i&&w&1&&(i=!0,Q.valid=v[0],V(()=>i=!1)),s.$set(Q);let Y=o;o=G(v),o===Y?M[o].p(v,w):(Xe(),p(M[Y],1,1,()=>{M[Y]=null}),Ye(),a=M[o],a?a.p(v,w):(a=M[o]=P[o](v),a.c()),b(a,1),a.m(e,f));const z={};w&66&&(z.$$scope={dirty:w,ctx:v}),c.$set(z)},i(v){m||(b(s.$$.fragment,v),b(a),b(c.$$.fragment,v),m=!0)},o(v){p(s.$$.fragment,v),p(a),p(c.$$.fragment,v),m=!1},d(v){v&&g(e),S(s),M[o].d(),S(c)}}}function ln(n,e,l){let t;je(n,A,a=>l(1,t=a));let r=!1;function s(){it(A,t=Ze(),t)}function i(a){r=a,l(0,r)}function u(a){n.$$.not_equal(t.desirableMinimumCrossSection,a)&&(t.desirableMinimumCrossSection=a,A.set(t))}function o(a){n.$$.not_equal(t.absoluteMinimumCrossSection,a)&&(t.absoluteMinimumCrossSection=a,A.set(t))}return[r,t,s,i,u,o]}class un extends j{constructor(e){super(),X(this,e,ln,nn,J,{})}}export{un as component};
