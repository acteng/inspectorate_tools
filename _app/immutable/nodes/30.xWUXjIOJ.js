import{s as _e,v as x,x as ne,l as He,u as Re,m as Ue,o as Je,H as fe,E as ge,i as $,f as v,a9 as hn,a8 as bn,k as be,U as Ut,a7 as Jt,N as Be,e as Q,c as Y,b as oe,r as Ke,a as D,g as H,q as qe,n as We,t as V,d as X,w as ee,h as ue,j as ye,z as yn,p as yt}from"../chunks/scheduler.Bsni_e59.js";import{S as ve,i as we,e as re,c as F,a as B,m as q,t as b,b as j,d as N,g as ie,f as le}from"../chunks/index.CCfAUppz.js";import{e as ce}from"../chunks/each.ChCadThl.js";import{B as vn}from"../chunks/ButtonGroup.hr9f_7ak.js";import{W as Kt,S as pe}from"../chunks/WarningButton.D9QeV9gM.js";import{T as lt}from"../chunks/TextInput.CHbK327s.js";import{s as Z}from"../chunks/data.CWG_8hc7.js";import{L as Wt,a as Vt,e as wn,m as Me,i as kn,f as Xt,M as jn,G as vt,h as wt,g as Cn}from"../chunks/MapLibreMap.zCNF9HhJ.js";import{c as Ge}from"../chunks/colors.CYEpEtTL.js";import{a as En,c as Ln,M as tt,C as $n,R as Mn,B as Pn,G as In,S as On}from"../chunks/GeoreferenceLayer.CX2X9iN8.js";import{C as Tn}from"../chunks/CollapsibleCard.DoOZ0Bze.js";import{D as An}from"../chunks/DefaultButton.DyQsHGbh.js";import{T as Zt}from"../chunks/TextArea.DbePhW6L.js";import{p as Sn}from"../chunks/index.BIInYyxR.js";import{S as kt}from"../chunks/Select.N7F_8zcJ.js";function Fn(t){let e;const n=t[15].default,r=He(n,t,t[23],null);return{c(){r&&r.c()},l(o){r&&r.l(o)},m(o,l){r&&r.m(o,l),e=!0},p(o,l){r&&r.p&&(!e||l&8388608)&&Re(r,n,o,o[23],e?Je(n,o[23],l,null):Ue(o[23]),null)},i(o){e||(b(r,o),e=!0)},o(o){j(r,o),e=!1},d(o){r&&r.d(o)}}}function Bn(t){let e,n,r;function o(i){t[16](i)}let l={id:t[1],type:"line",source:t[2],sourceLayer:t[3],beforeId:t[4],beforeLayerType:t[5],paint:t[6],layout:t[7],filter:t[8],minzoom:t[9],maxzoom:t[10],hoverCursor:t[11],manageHoverState:t[12],eventsIfTopMost:t[13],interactive:t[14],$$slots:{default:[Fn]},$$scope:{ctx:t}};return t[0]!==void 0&&(l.hovered=t[0]),e=new Wt({props:l}),x.push(()=>re(e,"hovered",o)),e.$on("click",t[17]),e.$on("dblclick",t[18]),e.$on("contextmenu",t[19]),e.$on("mouseenter",t[20]),e.$on("mousemove",t[21]),e.$on("mouseleave",t[22]),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,a){q(e,i,a),r=!0},p(i,[a]){const s={};a&2&&(s.id=i[1]),a&4&&(s.source=i[2]),a&8&&(s.sourceLayer=i[3]),a&16&&(s.beforeId=i[4]),a&32&&(s.beforeLayerType=i[5]),a&64&&(s.paint=i[6]),a&128&&(s.layout=i[7]),a&256&&(s.filter=i[8]),a&512&&(s.minzoom=i[9]),a&1024&&(s.maxzoom=i[10]),a&2048&&(s.hoverCursor=i[11]),a&4096&&(s.manageHoverState=i[12]),a&8192&&(s.eventsIfTopMost=i[13]),a&16384&&(s.interactive=i[14]),a&8388608&&(s.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,s.hovered=i[0],ne(()=>n=!1)),e.$set(s)},i(i){r||(b(e.$$.fragment,i),r=!0)},o(i){j(e.$$.fragment,i),r=!1},d(i){N(e,i)}}}function qn(t,e,n){let{$$slots:r={},$$scope:o}=e,{id:l=Vt("line")}=e,{source:i=void 0}=e,{sourceLayer:a=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:g=void 0}=e,{paint:f}=e,{layout:_=void 0}=e,{filter:m=void 0}=e,{minzoom:d=void 0}=e,{maxzoom:I=void 0}=e,{hoverCursor:c=void 0}=e,{manageHoverState:h=!1}=e,{hovered:T=null}=e,{eventsIfTopMost:O=!1}=e,{interactive:L=!0}=e;function k(P){T=P,n(0,T)}function y(P){fe.call(this,t,P)}function E(P){fe.call(this,t,P)}function G(P){fe.call(this,t,P)}function K(P){fe.call(this,t,P)}function z(P){fe.call(this,t,P)}function S(P){fe.call(this,t,P)}return t.$$set=P=>{"id"in P&&n(1,l=P.id),"source"in P&&n(2,i=P.source),"sourceLayer"in P&&n(3,a=P.sourceLayer),"beforeId"in P&&n(4,s=P.beforeId),"beforeLayerType"in P&&n(5,g=P.beforeLayerType),"paint"in P&&n(6,f=P.paint),"layout"in P&&n(7,_=P.layout),"filter"in P&&n(8,m=P.filter),"minzoom"in P&&n(9,d=P.minzoom),"maxzoom"in P&&n(10,I=P.maxzoom),"hoverCursor"in P&&n(11,c=P.hoverCursor),"manageHoverState"in P&&n(12,h=P.manageHoverState),"hovered"in P&&n(0,T=P.hovered),"eventsIfTopMost"in P&&n(13,O=P.eventsIfTopMost),"interactive"in P&&n(14,L=P.interactive),"$$scope"in P&&n(23,o=P.$$scope)},[T,l,i,a,s,g,f,_,m,d,I,c,h,O,L,r,k,y,E,G,K,z,S,o]}class nt extends ve{constructor(e){super(),we(this,e,qn,Bn,_e,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}const Nn=t=>({features:t[0]&16,data:t[0]&16,map:t[0]&4,close:t[0]&1}),jt=t=>{var e;return{features:t[4],data:(e=t[4])==null?void 0:e[0],map:t[2],close:t[31]}};function Ct(t){let e,n,r=(t[4]||t[3]instanceof Me.Marker)&&Et(t);return{c(){e=Q("div"),r&&r.c()},l(o){e=Y(o,"DIV",{});var l=oe(e);r&&r.l(l),l.forEach(v)},m(o,l){$(o,e,l),r&&r.m(e,null),t[32](e),n=!0},p(o,l){o[4]||o[3]instanceof Me.Marker?r?(r.p(o,l),l[0]&24&&b(r,1)):(r=Et(o),r.c(),b(r,1),r.m(e,null)):r&&(ie(),j(r,1,1,()=>{r=null}),le())},i(o){n||(b(r),n=!0)},o(o){j(r),n=!1},d(o){o&&v(e),r&&r.d(),t[32](null)}}}function Et(t){let e;const n=t[30].default,r=He(n,t,t[29],jt);return{c(){r&&r.c()},l(o){r&&r.l(o)},m(o,l){r&&r.m(o,l),e=!0},p(o,l){r&&r.p&&(!e||l[0]&536870933)&&Re(r,n,o,o[29],e?Je(n,o[29],l,Nn):Ue(o[29]),jt)},i(o){e||(b(r,o),e=!0)},o(o){j(r,o),e=!1},d(o){r&&r.d(o)}}}function Gn(t){let e,n,r=t[9].default&&Ct(t);return{c(){r&&r.c(),e=ge()},l(o){r&&r.l(o),e=ge()},m(o,l){r&&r.m(o,l),$(o,e,l),n=!0},p(o,l){o[9].default?r?(r.p(o,l),l[0]&512&&b(r,1)):(r=Ct(o),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(ie(),j(r,1,1,()=>{r=null}),le())},i(o){n||(b(r),n=!0)},o(o){j(r),n=!1},d(o){o&&v(e),r&&r.d(o)}}}function zn(t,e,n){let r,o,l,i,a,s,{$$slots:g={},$$scope:f}=e;const _=hn(g);let{closeButton:m=void 0}=e,{closeOnClickOutside:d=!0}=e,{closeOnClickInside:I=!1}=e,{closeOnMove:c=!1}=e,{openOn:h="click"}=e,{openIfTopMost:T=!0}=e,{focusAfterOpen:O=!0}=e,{anchor:L=void 0}=e,{offset:k=void 0}=e,{popupClass:y=void 0}=e,{maxWidth:E=void 0}=e,{lngLat:G=void 0}=e,{html:K=void 0}=e,{open:z=!1}=e;const S=bn(),{map:P,popupTarget:C,layerEvent:te,layer:M,eventTopMost:Oe}=wn();be(t,P,w=>n(2,l=w)),be(t,C,w=>n(3,a=w)),be(t,te,w=>n(28,i=w)),be(t,M,w=>n(35,s=w));const u=["click","dblclick","contextmenu"];let p,R=!1,W;function A(){if(!p)return;let w=p.getElement();!w||w===W||(W=w,h==="hover"&&(W.style.pointerEvents="none"),W.addEventListener("mouseenter",()=>{n(24,R=!0)},{passive:!0}),W.addEventListener("mouseleave",()=>{n(24,R=!1)},{passive:!0}),W.addEventListener("click",()=>{I&&n(0,z=!1)},{passive:!0}))}Ut(()=>{if(l)return l.on("click",Ne),l.on("contextmenu",Ne),typeof a=="string"&&(l.on("click",a,Le),l.on("dblclick",a,Le),l.on("contextmenu",a,Le),l.on("mousemove",a,bt),l.on("mouseleave",a,ht),l.on("touchstart",a,_t),l.on("touchend",a,pt)),()=>{l!=null&&l.loaded()&&(p==null||p.remove(),l.off("click",Ne),l.off("contextmenu",Ne),a instanceof Me.Marker?a.getPopup()===p&&a.setPopup(void 0):typeof a=="string"&&(l.off("click",a,Le),l.off("dblclick",a,Le),l.off("contextmenu",a,Le),l.off("mousemove",a,bt),l.off("mouseleave",a,ht),l.off("touchstart",a,_t),l.off("touchend",a,pt)))}});function he(w){return T?!("marker"in w)&&!kn(w)&&Oe(w)!==s:!1}let me=null,de="normal";function Le(w){w.type===h&&(he(w)||("layerType"in w?w.layerType==="deckgl"?(n(10,G=w.coordinate),n(4,me=w.object?[w.object]:null)):(n(10,G=w.lngLat),n(4,me=w.features??[])):(n(10,G=w.lngLat),n(4,me=w.features??[])),setTimeout(()=>n(0,z=!0))))}let $e=null;function _t(w){$e=w.point}function pt(w){if(!$e||h!=="hover")return;let Ye=$e.dist(w.point);$e=null,Ye<3&&(n(10,G=w.lngLat),n(4,me=w.features??[]),p.isOpen()?n(25,de="justOpened"):(n(25,de="opening"),n(0,z=!0)))}function ht(w){h!=="hover"||$e||de!=="normal"||(n(0,z=!1),n(4,me=null))}function bt(w){if(!(h!=="hover"||$e||de!=="normal")){if(he(w)){n(0,z=!1),n(4,me=null);return}n(0,z=!0),n(4,me=w.features??[]),n(10,G=w.lngLat)}}function Ne(w){if(de==="justOpened"){n(25,de="normal");return}if(!d)return;let Ye=[W,a instanceof Me.Marker?a==null?void 0:a.getElement():null];z&&p.isOpen()&&!Ye.some(xe=>xe==null?void 0:xe.contains(w.originalEvent.target))&&(w.type==="contextmenu"&&h==="contextmenu"||w.type!=="contextmenu")&&n(0,z=!1)}Jt(()=>{l&&(p!=null&&p.isOpen())&&p.remove()});let Te;const _n=()=>n(0,z=!1);function pn(w){x[w?"unshift":"push"](()=>{Te=w,n(1,Te)})}return t.$$set=w=>{"closeButton"in w&&n(11,m=w.closeButton),"closeOnClickOutside"in w&&n(12,d=w.closeOnClickOutside),"closeOnClickInside"in w&&n(13,I=w.closeOnClickInside),"closeOnMove"in w&&n(14,c=w.closeOnMove),"openOn"in w&&n(15,h=w.openOn),"openIfTopMost"in w&&n(16,T=w.openIfTopMost),"focusAfterOpen"in w&&n(17,O=w.focusAfterOpen),"anchor"in w&&n(18,L=w.anchor),"offset"in w&&n(19,k=w.offset),"popupClass"in w&&n(20,y=w.popupClass),"maxWidth"in w&&n(21,E=w.maxWidth),"lngLat"in w&&n(10,G=w.lngLat),"html"in w&&n(22,K=w.html),"open"in w&&n(0,z=w.open),"$$scope"in w&&n(29,f=w.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&14336&&n(27,r=m??(!d&&!I)),t.$$.dirty[0]&146685952&&(p||(n(23,p=new Me.Popup({closeButton:r,closeOnClick:!1,closeOnMove:c,focusAfterOpen:O,maxWidth:E,className:y,anchor:L,offset:k})),W=p.getElement(),p.on("open",()=>{n(0,z=!0),A(),S("open",p)}),p.on("close",()=>{n(0,z=!1),S("close",p)}),p.on("hover",()=>{S("hover",p)}))),t.$$.dirty[0]&8421384&&p&&a instanceof Me.Marker&&(h==="click"?a.setPopup(p):a.getPopup()===p&&a.setPopup(void 0)),t.$$.dirty[0]&268468224&&u.includes(h)&&(i==null?void 0:i.type)===h&&(Le(i),Be(te,i=null,i)),t.$$.dirty[0]&268468224&&n(26,o=h==="hover"&&((i==null?void 0:i.type)==="mousemove"||(i==null?void 0:i.type)==="mouseenter")),t.$$.dirty[0]&352354304&&h==="hover"&&te&&(o&&i&&(i.layerType==="deckgl"?(n(10,G=i.coordinate),n(4,me=i.object?[i.object]:null)):(n(10,G=i.lngLat),n(4,me=i.features??[]))),n(0,z=(o||R)??!1)),t.$$.dirty[0]&12582914&&(Te?p.setDOMContent(Te):K&&p.setHTML(K)),t.$$.dirty[0]&8389632&&G&&p.setLngLat(G),t.$$.dirty[0]&41943045&&l){let w=p.isOpen();z&&!w?(p.addTo(l),de==="opening"&&n(25,de="justOpened")):!z&&w&&p.remove()}},[z,Te,l,a,me,P,C,te,M,_,G,m,d,I,c,h,T,O,L,k,y,E,K,p,R,de,o,r,i,f,g,_n,pn]}class Dn extends ve{constructor(e){super(),we(this,e,zn,Gn,_e,{closeButton:11,closeOnClickOutside:12,closeOnClickInside:13,closeOnMove:14,openOn:15,openIfTopMost:16,focusAfterOpen:17,anchor:18,offset:19,popupClass:20,maxWidth:21,lngLat:10,html:22,open:0},null,[-1,-1])}}function Hn(t){let e;const n=t[16].default,r=He(n,t,t[24],null);return{c(){r&&r.c()},l(o){r&&r.l(o)},m(o,l){r&&r.m(o,l),e=!0},p(o,l){r&&r.p&&(!e||l&16777216)&&Re(r,n,o,o[24],e?Je(n,o[24],l,null):Ue(o[24]),null)},i(o){e||(b(r,o),e=!0)},o(o){j(r,o),e=!1},d(o){r&&r.d(o)}}}function Rn(t){let e,n,r;function o(i){t[17](i)}let l={id:t[1],type:"symbol",source:t[2],sourceLayer:t[3],beforeId:t[4],beforeLayerType:t[5],paint:t[6],layout:t[7],filter:t[8],applyToClusters:t[9],minzoom:t[10],maxzoom:t[11],hoverCursor:t[12],manageHoverState:t[13],eventsIfTopMost:t[14],interactive:t[15],$$slots:{default:[Hn]},$$scope:{ctx:t}};return t[0]!==void 0&&(l.hovered=t[0]),e=new Wt({props:l}),x.push(()=>re(e,"hovered",o)),e.$on("click",t[18]),e.$on("dblclick",t[19]),e.$on("contextmenu",t[20]),e.$on("mouseenter",t[21]),e.$on("mousemove",t[22]),e.$on("mouseleave",t[23]),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,a){q(e,i,a),r=!0},p(i,[a]){const s={};a&2&&(s.id=i[1]),a&4&&(s.source=i[2]),a&8&&(s.sourceLayer=i[3]),a&16&&(s.beforeId=i[4]),a&32&&(s.beforeLayerType=i[5]),a&64&&(s.paint=i[6]),a&128&&(s.layout=i[7]),a&256&&(s.filter=i[8]),a&512&&(s.applyToClusters=i[9]),a&1024&&(s.minzoom=i[10]),a&2048&&(s.maxzoom=i[11]),a&4096&&(s.hoverCursor=i[12]),a&8192&&(s.manageHoverState=i[13]),a&16384&&(s.eventsIfTopMost=i[14]),a&32768&&(s.interactive=i[15]),a&16777216&&(s.$$scope={dirty:a,ctx:i}),!n&&a&1&&(n=!0,s.hovered=i[0],ne(()=>n=!1)),e.$set(s)},i(i){r||(b(e.$$.fragment,i),r=!0)},o(i){j(e.$$.fragment,i),r=!1},d(i){N(e,i)}}}function Un(t,e,n){let{$$slots:r={},$$scope:o}=e,{id:l=Vt("symbol")}=e,{source:i=void 0}=e,{sourceLayer:a=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:g=void 0}=e,{paint:f=void 0}=e,{layout:_=void 0}=e,{filter:m=void 0}=e,{applyToClusters:d=void 0}=e,{minzoom:I=void 0}=e,{maxzoom:c=void 0}=e,{hoverCursor:h=void 0}=e,{manageHoverState:T=!1}=e,{hovered:O=null}=e,{eventsIfTopMost:L=!1}=e,{interactive:k=!0}=e;function y(C){O=C,n(0,O)}function E(C){fe.call(this,t,C)}function G(C){fe.call(this,t,C)}function K(C){fe.call(this,t,C)}function z(C){fe.call(this,t,C)}function S(C){fe.call(this,t,C)}function P(C){fe.call(this,t,C)}return t.$$set=C=>{"id"in C&&n(1,l=C.id),"source"in C&&n(2,i=C.source),"sourceLayer"in C&&n(3,a=C.sourceLayer),"beforeId"in C&&n(4,s=C.beforeId),"beforeLayerType"in C&&n(5,g=C.beforeLayerType),"paint"in C&&n(6,f=C.paint),"layout"in C&&n(7,_=C.layout),"filter"in C&&n(8,m=C.filter),"applyToClusters"in C&&n(9,d=C.applyToClusters),"minzoom"in C&&n(10,I=C.minzoom),"maxzoom"in C&&n(11,c=C.maxzoom),"hoverCursor"in C&&n(12,h=C.hoverCursor),"manageHoverState"in C&&n(13,T=C.manageHoverState),"hovered"in C&&n(0,O=C.hovered),"eventsIfTopMost"in C&&n(14,L=C.eventsIfTopMost),"interactive"in C&&n(15,k=C.interactive),"$$scope"in C&&n(24,o=C.$$scope)},[O,l,i,a,s,g,f,_,m,d,I,c,h,T,L,k,r,y,E,G,K,z,S,P,o]}class Jn extends ve{constructor(e){super(),we(this,e,Un,Rn,_e,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,applyToClusters:9,minzoom:10,maxzoom:11,hoverCursor:12,manageHoverState:13,hovered:0,eventsIfTopMost:14,interactive:15})}}const Kn=t=>({props:t&8}),Lt=t=>({props:Xn(t[3])});function Wn(t){let e,n;const r=t[1].default,o=He(r,t,t[2],Lt);return{c(){e=Q("div"),o&&o.c(),this.h()},l(l){e=Y(l,"DIV",{class:!0});var i=oe(e);o&&o.l(i),i.forEach(v),this.h()},h(){Ke(e,"class","govuk-prose")},m(l,i){$(l,e,i),o&&o.m(e,null),n=!0},p(l,i){o&&o.p&&(!n||i&12)&&Re(o,r,l,l[2],n?Je(r,l[2],i,Kn):Ue(l[2]),Lt)},i(l){n||(b(o,l),n=!0)},o(l){j(o,l),n=!1},d(l){l&&v(e),o&&o.d(l)}}}function Vn(t){let e,n;return e=new Dn({props:{openOn:t[0],$$slots:{default:[Wn,({features:r})=>({3:r}),({features:r})=>r?8:0]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment)},l(r){B(e.$$.fragment,r)},m(r,o){q(e,r,o),n=!0},p(r,[o]){const l={};o&1&&(l.openOn=r[0]),o&12&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Xn(t){return t?t[0].properties??{}:{}}function Zn(t,e,n){let{$$slots:r={},$$scope:o}=e,{openOn:l="hover"}=e;return t.$$set=i=>{"openOn"in i&&n(0,l=i.openOn),"$$scope"in i&&n(2,o=i.$$scope)},[l,r,o]}class Qt extends ve{constructor(e){super(),we(this,e,Zn,Vn,_e,{openOn:0})}}var Qn=Object.defineProperty,U=(t,e)=>Qn(t,"name",{value:e,configurable:!0}),Yn=class{constructor(e){this.direction=!1,this.compareProperties=!0;var n,r,o;this.precision=10**-((n=e==null?void 0:e.precision)!=null?n:17),this.direction=(r=e==null?void 0:e.direction)!=null?r:!1,this.compareProperties=(o=e==null?void 0:e.compareProperties)!=null?o:!0}compare(e,n){if(e.type!==n.type||!Ae(e,n))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,n.coordinates);case"LineString":return this.compareLine(e.coordinates,n.coordinates);case"Polygon":return this.comparePolygon(e,n);case"GeometryCollection":return this.compareGeometryCollection(e,n);case"Feature":return this.compareFeature(e,n);case"FeatureCollection":return this.compareFeatureCollection(e,n);default:if(e.type.startsWith("Multi")){const r=rt(e),o=rt(n);return r.every(l=>o.some(i=>this.compare(l,i)))}}return!1}compareCoord(e,n){return e.length===n.length&&e.every((r,o)=>Math.abs(r-n[o])<this.precision)}compareLine(e,n,r=0,o=!1){if(!Ae(e,n))return!1;const l=e;let i=n;if(o&&!this.compareCoord(l[0],i[0])){const s=this.fixStartIndex(i,l);if(s)i=s;else return!1}const a=this.compareCoord(l[r],i[r]);return this.direction||a?this.comparePath(l,i):this.compareCoord(l[r],i[i.length-(1+r)])?this.comparePath(l.slice().reverse(),i):!1}fixStartIndex(e,n){let r,o=-1;for(let l=0;l<e.length;l++)if(this.compareCoord(e[l],n[0])){o=l;break}return o>=0&&(r=[].concat(e.slice(o,e.length),e.slice(1,o+1))),r}comparePath(e,n){return e.every((r,o)=>this.compareCoord(r,n[o]))}comparePolygon(e,n){if(this.compareLine(e.coordinates[0],n.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),o=n.coordinates.slice(1,n.coordinates.length);return r.every(l=>o.some(i=>this.compareLine(l,i,1,!0)))}return!1}compareGeometryCollection(e,n){return Ae(e.geometries,n.geometries)&&this.compareBBox(e,n)&&e.geometries.every((r,o)=>this.compare(r,n.geometries[o]))}compareFeature(e,n){return e.id===n.id&&(this.compareProperties?Xt(e.properties,n.properties):!0)&&this.compareBBox(e,n)&&this.compare(e.geometry,n.geometry)}compareFeatureCollection(e,n){return Ae(e.features,n.features)&&this.compareBBox(e,n)&&e.features.every((r,o)=>this.compare(r,n.features[o]))}compareBBox(e,n){return!e.bbox&&!n.bbox||(e.bbox&&n.bbox?this.compareCoord(e.bbox,n.bbox):!1)}};U(Yn,"GeojsonEquality");function Ae(t,e){return t.coordinates?t.coordinates.length===e.coordinates.length:t.length===e.length}U(Ae,"sameLength");function rt(t){return t.coordinates.map(e=>({type:t.type.replace("Multi",""),coordinates:e}))}U(rt,"explode");var ae=63710088e-1,Yt={centimeters:ae*100,centimetres:ae*100,degrees:360/(2*Math.PI),feet:ae*3.28084,inches:ae*39.37,kilometers:ae/1e3,kilometres:ae/1e3,meters:ae,metres:ae,miles:ae/1609.344,millimeters:ae*1e3,millimetres:ae*1e3,nauticalmiles:ae/1852,radians:1,yards:ae*1.0936},$t={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function ke(t,e,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}U(ke,"feature");function xn(t,e,n={}){switch(t){case"Point":return Ve(e).geometry;case"LineString":return st(e).geometry;case"Polygon":return at(e).geometry;case"MultiPoint":return en(e).geometry;case"MultiLineString":return xt(e).geometry;case"MultiPolygon":return tn(e).geometry;default:throw new Error(t+" is invalid")}}U(xn,"geometry");function Ve(t,e,n={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Pe(t[0])||!Pe(t[1]))throw new Error("coordinates must contain numbers");return ke({type:"Point",coordinates:t},e,n)}U(Ve,"point");function er(t,e,n={}){return Xe(t.map(r=>Ve(r,e)),n)}U(er,"points");function at(t,e,n={}){for(const o of t){if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(o[o.length-1].length!==o[0].length)throw new Error("First and last Position are not equivalent.");for(let l=0;l<o[o.length-1].length;l++)if(o[o.length-1][l]!==o[0][l])throw new Error("First and last Position are not equivalent.")}return ke({type:"Polygon",coordinates:t},e,n)}U(at,"polygon");function tr(t,e,n={}){return Xe(t.map(r=>at(r,e)),n)}U(tr,"polygons");function st(t,e,n={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return ke({type:"LineString",coordinates:t},e,n)}U(st,"lineString");function nr(t,e,n={}){return Xe(t.map(r=>st(r,e)),n)}U(nr,"lineStrings");function Xe(t,e={}){const n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}U(Xe,"featureCollection");function xt(t,e,n={}){return ke({type:"MultiLineString",coordinates:t},e,n)}U(xt,"multiLineString");function en(t,e,n={}){return ke({type:"MultiPoint",coordinates:t},e,n)}U(en,"multiPoint");function tn(t,e,n={}){return ke({type:"MultiPolygon",coordinates:t},e,n)}U(tn,"multiPolygon");function rr(t,e,n={}){return ke({type:"GeometryCollection",geometries:t},e,n)}U(rr,"geometryCollection");function or(t,e=0){if(e&&!(e>=0))throw new Error("precision must be a positive number");const n=Math.pow(10,e||0);return Math.round(t*n)/n}U(or,"round");function nn(t,e="kilometers"){const n=Yt[e];if(!n)throw new Error(e+" units is invalid");return t*n}U(nn,"radiansToLength");function Ze(t,e="kilometers"){const n=Yt[e];if(!n)throw new Error(e+" units is invalid");return t/n}U(Ze,"lengthToRadians");function ir(t,e){return De(Ze(t,e))}U(ir,"lengthToDegrees");function lr(t){let e=t%360;return e<0&&(e+=360),e}U(lr,"bearingToAzimuth");function De(t){return t%(2*Math.PI)*180/Math.PI}U(De,"radiansToDegrees");function ze(t){return t%360*Math.PI/180}U(ze,"degreesToRadians");function ar(t,e="kilometers",n="kilometers"){if(!(t>=0))throw new Error("length must be a positive number");return nn(Ze(t,e),n)}U(ar,"convertLength");function sr(t,e="meters",n="kilometers"){if(!(t>=0))throw new Error("area must be a positive number");const r=$t[e];if(!r)throw new Error("invalid original units");const o=$t[n];if(!o)throw new Error("invalid final units");return t/r*o}U(sr,"convertArea");function Pe(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}U(Pe,"isNumber");function ur(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}U(ur,"isObject");function fr(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(t.length!==4&&t.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(e=>{if(!Pe(e))throw new Error("bbox must only contain numbers")})}U(fr,"validateBBox");function mr(t){if(!t)throw new Error("id is required");if(["string","number"].indexOf(typeof t)===-1)throw new Error("id must be a number or a string")}U(mr,"validateId");var cr=Object.defineProperty,je=(t,e)=>cr(t,"name",{value:e,configurable:!0});function rn(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}je(rn,"getCoord");function gr(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}je(gr,"getCoords");function on(t){if(t.length>1&&Pe(t[0])&&Pe(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return on(t[0]);throw new Error("coordinates must only contain numbers")}je(on,"containsNumber");function dr(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}je(dr,"geojsonType");function _r(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}je(_r,"featureOf");function pr(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection")throw new Error("Invalid input to "+n+", FeatureCollection required");for(const r of t.features){if(!r||r.type!=="Feature"||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}}je(pr,"collectionOf");function hr(t){return t.type==="Feature"?t.geometry:t}je(hr,"getGeom");function br(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}je(br,"getType");var yr=Object.defineProperty,vr=(t,e)=>yr(t,"name",{value:e,configurable:!0});function ln(t,e,n,r={}){const o=rn(t),l=ze(o[0]),i=ze(o[1]),a=ze(n),s=Ze(e,r.units),g=Math.asin(Math.sin(i)*Math.cos(s)+Math.cos(i)*Math.sin(s)*Math.cos(a)),f=l+Math.atan2(Math.sin(a)*Math.sin(s)*Math.cos(i),Math.cos(s)-Math.sin(i)*Math.sin(g)),_=De(f),m=De(g);return Ve([_,m],r.properties)}vr(ln,"destination");var wr=ln,kr=Object.defineProperty,J=(t,e)=>kr(t,"name",{value:e,configurable:!0}),jr=class{constructor(e){this.direction=!1,this.compareProperties=!0;var n,r,o;this.precision=10**-((n=e==null?void 0:e.precision)!=null?n:17),this.direction=(r=e==null?void 0:e.direction)!=null?r:!1,this.compareProperties=(o=e==null?void 0:e.compareProperties)!=null?o:!0}compare(e,n){if(e.type!==n.type||!Se(e,n))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,n.coordinates);case"LineString":return this.compareLine(e.coordinates,n.coordinates);case"Polygon":return this.comparePolygon(e,n);case"GeometryCollection":return this.compareGeometryCollection(e,n);case"Feature":return this.compareFeature(e,n);case"FeatureCollection":return this.compareFeatureCollection(e,n);default:if(e.type.startsWith("Multi")){const r=ot(e),o=ot(n);return r.every(l=>o.some(i=>this.compare(l,i)))}}return!1}compareCoord(e,n){return e.length===n.length&&e.every((r,o)=>Math.abs(r-n[o])<this.precision)}compareLine(e,n,r=0,o=!1){if(!Se(e,n))return!1;const l=e;let i=n;if(o&&!this.compareCoord(l[0],i[0])){const s=this.fixStartIndex(i,l);if(s)i=s;else return!1}const a=this.compareCoord(l[r],i[r]);return this.direction||a?this.comparePath(l,i):this.compareCoord(l[r],i[i.length-(1+r)])?this.comparePath(l.slice().reverse(),i):!1}fixStartIndex(e,n){let r,o=-1;for(let l=0;l<e.length;l++)if(this.compareCoord(e[l],n[0])){o=l;break}return o>=0&&(r=[].concat(e.slice(o,e.length),e.slice(1,o+1))),r}comparePath(e,n){return e.every((r,o)=>this.compareCoord(r,n[o]))}comparePolygon(e,n){if(this.compareLine(e.coordinates[0],n.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),o=n.coordinates.slice(1,n.coordinates.length);return r.every(l=>o.some(i=>this.compareLine(l,i,1,!0)))}return!1}compareGeometryCollection(e,n){return Se(e.geometries,n.geometries)&&this.compareBBox(e,n)&&e.geometries.every((r,o)=>this.compare(r,n.geometries[o]))}compareFeature(e,n){return e.id===n.id&&(this.compareProperties?Xt(e.properties,n.properties):!0)&&this.compareBBox(e,n)&&this.compare(e.geometry,n.geometry)}compareFeatureCollection(e,n){return Se(e.features,n.features)&&this.compareBBox(e,n)&&e.features.every((r,o)=>this.compare(r,n.features[o]))}compareBBox(e,n){return!e.bbox&&!n.bbox||(e.bbox&&n.bbox?this.compareCoord(e.bbox,n.bbox):!1)}};J(jr,"GeojsonEquality");function Se(t,e){return t.coordinates?t.coordinates.length===e.coordinates.length:t.length===e.length}J(Se,"sameLength");function ot(t){return t.coordinates.map(e=>({type:t.type.replace("Multi",""),coordinates:e}))}J(ot,"explode");var se=63710088e-1,an={centimeters:se*100,centimetres:se*100,degrees:360/(2*Math.PI),feet:se*3.28084,inches:se*39.37,kilometers:se/1e3,kilometres:se/1e3,meters:se,metres:se,miles:se/1609.344,millimeters:se*1e3,millimetres:se*1e3,nauticalmiles:se/1852,radians:1,yards:se*1.0936},Mt={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Ce(t,e,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}J(Ce,"feature");function Cr(t,e,n={}){switch(t){case"Point":return ut(e).geometry;case"LineString":return mt(e).geometry;case"Polygon":return ft(e).geometry;case"MultiPoint":return un(e).geometry;case"MultiLineString":return sn(e).geometry;case"MultiPolygon":return fn(e).geometry;default:throw new Error(t+" is invalid")}}J(Cr,"geometry");function ut(t,e,n={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ie(t[0])||!Ie(t[1]))throw new Error("coordinates must contain numbers");return Ce({type:"Point",coordinates:t},e,n)}J(ut,"point");function Er(t,e,n={}){return Qe(t.map(r=>ut(r,e)),n)}J(Er,"points");function ft(t,e,n={}){for(const o of t){if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(o[o.length-1].length!==o[0].length)throw new Error("First and last Position are not equivalent.");for(let l=0;l<o[o.length-1].length;l++)if(o[o.length-1][l]!==o[0][l])throw new Error("First and last Position are not equivalent.")}return Ce({type:"Polygon",coordinates:t},e,n)}J(ft,"polygon");function Lr(t,e,n={}){return Qe(t.map(r=>ft(r,e)),n)}J(Lr,"polygons");function mt(t,e,n={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return Ce({type:"LineString",coordinates:t},e,n)}J(mt,"lineString");function $r(t,e,n={}){return Qe(t.map(r=>mt(r,e)),n)}J($r,"lineStrings");function Qe(t,e={}){const n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}J(Qe,"featureCollection");function sn(t,e,n={}){return Ce({type:"MultiLineString",coordinates:t},e,n)}J(sn,"multiLineString");function un(t,e,n={}){return Ce({type:"MultiPoint",coordinates:t},e,n)}J(un,"multiPoint");function fn(t,e,n={}){return Ce({type:"MultiPolygon",coordinates:t},e,n)}J(fn,"multiPolygon");function Mr(t,e,n={}){return Ce({type:"GeometryCollection",geometries:t},e,n)}J(Mr,"geometryCollection");function Pr(t,e=0){if(e&&!(e>=0))throw new Error("precision must be a positive number");const n=Math.pow(10,e||0);return Math.round(t*n)/n}J(Pr,"round");function mn(t,e="kilometers"){const n=an[e];if(!n)throw new Error(e+" units is invalid");return t*n}J(mn,"radiansToLength");function ct(t,e="kilometers"){const n=an[e];if(!n)throw new Error(e+" units is invalid");return t/n}J(ct,"lengthToRadians");function Ir(t,e){return gt(ct(t,e))}J(Ir,"lengthToDegrees");function Or(t){let e=t%360;return e<0&&(e+=360),e}J(Or,"bearingToAzimuth");function gt(t){return t%(2*Math.PI)*180/Math.PI}J(gt,"radiansToDegrees");function Fe(t){return t%360*Math.PI/180}J(Fe,"degreesToRadians");function Tr(t,e="kilometers",n="kilometers"){if(!(t>=0))throw new Error("length must be a positive number");return mn(ct(t,e),n)}J(Tr,"convertLength");function Ar(t,e="meters",n="kilometers"){if(!(t>=0))throw new Error("area must be a positive number");const r=Mt[e];if(!r)throw new Error("invalid original units");const o=Mt[n];if(!o)throw new Error("invalid final units");return t/r*o}J(Ar,"convertArea");function Ie(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}J(Ie,"isNumber");function Sr(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}J(Sr,"isObject");function Fr(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(t.length!==4&&t.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(e=>{if(!Ie(e))throw new Error("bbox must only contain numbers")})}J(Fr,"validateBBox");function Br(t){if(!t)throw new Error("id is required");if(["string","number"].indexOf(typeof t)===-1)throw new Error("id must be a number or a string")}J(Br,"validateId");var qr=Object.defineProperty,Ee=(t,e)=>qr(t,"name",{value:e,configurable:!0});function it(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}Ee(it,"getCoord");function Nr(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}Ee(Nr,"getCoords");function cn(t){if(t.length>1&&Ie(t[0])&&Ie(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return cn(t[0]);throw new Error("coordinates must only contain numbers")}Ee(cn,"containsNumber");function Gr(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}Ee(Gr,"geojsonType");function zr(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}Ee(zr,"featureOf");function Dr(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection")throw new Error("Invalid input to "+n+", FeatureCollection required");for(const r of t.features){if(!r||r.type!=="Feature"||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}}Ee(Dr,"collectionOf");function Hr(t){return t.type==="Feature"?t.geometry:t}Ee(Hr,"getGeom");function Rr(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}Ee(Rr,"getType");var Ur=Object.defineProperty,gn=(t,e)=>Ur(t,"name",{value:e,configurable:!0});function dt(t,e,n={}){if(n.final===!0)return dn(t,e);const r=it(t),o=it(e),l=Fe(r[0]),i=Fe(o[0]),a=Fe(r[1]),s=Fe(o[1]),g=Math.sin(i-l)*Math.cos(s),f=Math.cos(a)*Math.sin(s)-Math.sin(a)*Math.cos(s)*Math.cos(i-l);return gt(Math.atan2(g,f))}gn(dt,"bearing");function dn(t,e){let n=dt(e,t);return n=(n+180)%360,n}gn(dn,"calculateFinalBearing");var Jr=dt;function Pt(t,e,n){const r=t.slice();return r[30]=e[n],r[31]=e,r[32]=n,r}function It(t,e,n){const r=t.slice();return r[33]=e[n],r[34]=e,r[32]=n,r}function Kr(t){let e,n=ro(t[32])+"",r;return{c(){e=Q("span"),r=V(n),this.h()},l(o){e=Y(o,"SPAN",{class:!0});var l=oe(e);r=X(l,n),l.forEach(v),this.h()},h(){Ke(e,"class","dot svelte-o3xbby"),ee(e,"color","#4472c4"),ee(e,"background-color","white")},m(o,l){$(o,e,l),ue(e,r)},p:We,d(o){o&&v(e)}}}function Ot(t){let e,n,r;function o(s){t[15](s,t[33])}function l(){return t[16](t[32])}function i(){return t[17](t[32])}let a={draggable:!0,$$slots:{default:[Kr]},$$scope:{ctx:t}};return t[33].point!==void 0&&(a.lngLat=t[33].point),e=new tt({props:a}),x.push(()=>re(e,"lngLat",o)),e.$on("dragend",l),e.$on("click",i),{c(){F(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,g){q(e,s,g),r=!0},p(s,g){t=s;const f={};g[1]&16&&(f.$$scope={dirty:g,ctx:t}),!n&&g[0]&7&&(n=!0,f.lngLat=t[33].point,ne(()=>n=!1)),e.$set(f)},i(s){r||(b(e.$$.fragment,s),r=!0)},o(s){j(e.$$.fragment,s),r=!1},d(s){N(e,s)}}}function Wr(t){let e;return{c(){e=Q("span"),this.h()},l(n){e=Y(n,"SPAN",{class:!0}),oe(e).forEach(v),this.h()},h(){Ke(e,"class","dot svelte-o3xbby"),ee(e,"background-color",t[5][t[30].score]),ee(e,"opacity",t[30].kind=="pedestrian"?"0%":"100%")},m(n,r){$(n,e,r)},p(n,r){r[0]&7&&ee(e,"background-color",n[5][n[30].score]),r[0]&7&&ee(e,"opacity",n[30].kind=="pedestrian"?"0%":"100%")},d(n){n&&v(e)}}}function Vr(t){let e;return{c(){e=Q("span"),this.h()},l(n){e=Y(n,"SPAN",{class:!0}),oe(e).forEach(v),this.h()},h(){Ke(e,"class","dot svelte-o3xbby"),ee(e,"background-color",t[5][t[30].score]),ee(e,"opacity","0%")},m(n,r){$(n,e,r)},p(n,r){r[0]&7&&ee(e,"background-color",n[5][n[30].score])},d(n){n&&v(e)}}}function Tt(t){let e,n,r,o,l,i;function a(c){t[18](c,t[30])}function s(){return t[19](t[32])}function g(){return t[20](t[32])}let f={draggable:!0,$$slots:{default:[Wr]},$$scope:{ctx:t}};t[30].point1!==void 0&&(f.lngLat=t[30].point1),e=new tt({props:f}),x.push(()=>re(e,"lngLat",a)),e.$on("dragend",s),e.$on("click",g);function _(c){t[21](c,t[30])}function m(){return t[22](t[32])}function d(){return t[23](t[32])}let I={draggable:!0,$$slots:{default:[Vr]},$$scope:{ctx:t}};return t[30].point2!==void 0&&(I.lngLat=t[30].point2),o=new tt({props:I}),x.push(()=>re(o,"lngLat",_)),o.$on("dragend",m),o.$on("click",d),{c(){F(e.$$.fragment),r=D(),F(o.$$.fragment)},l(c){B(e.$$.fragment,c),r=H(c),B(o.$$.fragment,c)},m(c,h){q(e,c,h),$(c,r,h),q(o,c,h),i=!0},p(c,h){t=c;const T={};h[0]&7|h[1]&16&&(T.$$scope={dirty:h,ctx:t}),!n&&h[0]&7&&(n=!0,T.lngLat=t[30].point1,ne(()=>n=!1)),e.$set(T);const O={};h[0]&7|h[1]&16&&(O.$$scope={dirty:h,ctx:t}),!l&&h[0]&7&&(l=!0,O.lngLat=t[30].point2,ne(()=>l=!1)),o.$set(O)},i(c){i||(b(e.$$.fragment,c),b(o.$$.fragment,c),i=!0)},o(c){j(e.$$.fragment,c),j(o.$$.fragment,c),i=!1},d(c){c&&v(r),N(e,c),N(o,c)}}}function Xr(t){let e=(t[29].name||"Untitled movement")+"",n;return{c(){n=V(e)},l(r){n=X(r,e)},m(r,o){$(r,n,o)},p(r,o){o[0]&536870912&&e!==(e=(r[29].name||"Untitled movement")+"")&&ye(n,e)},d(r){r&&v(n)}}}function Zr(t){let e,n;return e=new Qt({props:{$$slots:{default:[Xr,({props:r})=>({29:r}),({props:r})=>[r?536870912:0]]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment)},l(r){B(e.$$.fragment,r)},m(r,o){q(e,r,o),n=!0},p(r,o){const l={};o[0]&536870912|o[1]&16&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Qr(t){let e=(t[29].name||"Untitled movement")+"",n;return{c(){n=V(e)},l(r){n=X(r,e)},m(r,o){$(r,n,o)},p(r,o){o[0]&536870912&&e!==(e=(r[29].name||"Untitled movement")+"")&&ye(n,e)},d(r){r&&v(n)}}}function Yr(t){let e,n;return e=new Qt({props:{$$slots:{default:[Qr,({props:r})=>({29:r}),({props:r})=>[r?536870912:0]]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment)},l(r){B(e.$$.fragment,r)},m(r,o){q(e,r,o),n=!0},p(r,o){const l={};o[0]&536870912|o[1]&16&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function xr(t){let e,n,r,o,l,i;return e=new nt({props:{id:"jat-cycling",manageHoverState:!0,paint:{"line-width":wt(6,10),"line-color":["get","color"]},filter:["!=",["get","kind"],"pedestrian"],$$slots:{default:[Zr]},$$scope:{ctx:t}}}),e.$on("click",t[7]),r=new nt({props:{id:"jat-pedestrian",manageHoverState:!0,paint:{"line-width":wt(6,8),"line-color":["get","color"],"line-dasharray":[3,2]},filter:["==",["get","kind"],"pedestrian"],$$slots:{default:[Yr]},$$scope:{ctx:t}}}),r.$on("click",t[7]),l=new Jn({props:{id:"jat-arrow",filter:["has","angle"],paint:{"text-color":["get","color"],"text-halo-color":"white","text-halo-width":3},layout:{"text-field":"â¬†","text-overlap":"always","text-rotate":["+",["get","angle"],["match",["get","kind"],"cycling-left-turn",-90,"cycling-right-turn",90,0]],"text-size":70}}}),{c(){F(e.$$.fragment),n=D(),F(r.$$.fragment),o=D(),F(l.$$.fragment)},l(a){B(e.$$.fragment,a),n=H(a),B(r.$$.fragment,a),o=H(a),B(l.$$.fragment,a)},m(a,s){q(e,a,s),$(a,n,s),q(r,a,s),$(a,o,s),q(l,a,s),i=!0},p(a,s){const g={};s[1]&16&&(g.$$scope={dirty:s,ctx:a}),e.$set(g);const f={};s[1]&16&&(f.$$scope={dirty:s,ctx:a}),r.$set(f)},i(a){i||(b(e.$$.fragment,a),b(r.$$.fragment,a),b(l.$$.fragment,a),i=!0)},o(a){j(e.$$.fragment,a),j(r.$$.fragment,a),j(l.$$.fragment,a),i=!1},d(a){a&&(v(n),v(o)),N(e,a),N(r,a),N(l,a)}}}function eo(t){let e,n,r,o;return e=new nt({props:{paint:{"line-width":5,"line-color":"yellow","line-gap-width":45}}}),r=new $n({props:{filter:["==",["get","kind"],"arm"],paint:{"circle-radius":20,"circle-opacity":0,"circle-stroke-width":5,"circle-stroke-color":"yellow"}}}),{c(){F(e.$$.fragment),n=D(),F(r.$$.fragment)},l(l){B(e.$$.fragment,l),n=H(l),B(r.$$.fragment,l)},m(l,i){q(e,l,i),$(l,n,i),q(r,l,i),o=!0},p:We,i(l){o||(b(e.$$.fragment,l),b(r.$$.fragment,l),o=!0)},o(l){j(e.$$.fragment,l),j(r.$$.fragment,l),o=!1},d(l){l&&v(n),N(e,l),N(r,l)}}}function to(t){let e,n,r,o,l,i,a,s,g=ce(t[2].jat[t[0]][t[1]].arms),f=[];for(let c=0;c<g.length;c+=1)f[c]=Ot(It(t,g,c));const _=c=>j(f[c],1,1,()=>{f[c]=null});let m=ce(t[2].jat[t[0]][t[1]].movements),d=[];for(let c=0;c<m.length;c+=1)d[c]=Tt(Pt(t,m,c));const I=c=>j(d[c],1,1,()=>{d[c]=null});return r=new vt({props:{data:t[8](t[2]),$$slots:{default:[xr]},$$scope:{ctx:t}}}),l=new vt({props:{data:t[4],$$slots:{default:[eo]},$$scope:{ctx:t}}}),a=new Ln({props:{map:t[3]}}),{c(){for(let c=0;c<f.length;c+=1)f[c].c();e=D();for(let c=0;c<d.length;c+=1)d[c].c();n=D(),F(r.$$.fragment),o=D(),F(l.$$.fragment),i=D(),F(a.$$.fragment)},l(c){for(let h=0;h<f.length;h+=1)f[h].l(c);e=H(c);for(let h=0;h<d.length;h+=1)d[h].l(c);n=H(c),B(r.$$.fragment,c),o=H(c),B(l.$$.fragment,c),i=H(c),B(a.$$.fragment,c)},m(c,h){for(let T=0;T<f.length;T+=1)f[T]&&f[T].m(c,h);$(c,e,h);for(let T=0;T<d.length;T+=1)d[T]&&d[T].m(c,h);$(c,n,h),q(r,c,h),$(c,o,h),q(l,c,h),$(c,i,h),q(a,c,h),s=!0},p(c,h){if(h[0]&71){g=ce(c[2].jat[c[0]][c[1]].arms);let k;for(k=0;k<g.length;k+=1){const y=It(c,g,k);f[k]?(f[k].p(y,h),b(f[k],1)):(f[k]=Ot(y),f[k].c(),b(f[k],1),f[k].m(e.parentNode,e))}for(ie(),k=g.length;k<f.length;k+=1)_(k);le()}if(h[0]&103){m=ce(c[2].jat[c[0]][c[1]].movements);let k;for(k=0;k<m.length;k+=1){const y=Pt(c,m,k);d[k]?(d[k].p(y,h),b(d[k],1)):(d[k]=Tt(y),d[k].c(),b(d[k],1),d[k].m(n.parentNode,n))}for(ie(),k=m.length;k<d.length;k+=1)I(k);le()}const T={};h[0]&4&&(T.data=c[8](c[2])),h[1]&16&&(T.$$scope={dirty:h,ctx:c}),r.$set(T);const O={};h[0]&16&&(O.data=c[4]),h[1]&16&&(O.$$scope={dirty:h,ctx:c}),l.$set(O);const L={};h[0]&8&&(L.map=c[3]),a.$set(L)},i(c){if(!s){for(let h=0;h<g.length;h+=1)b(f[h]);for(let h=0;h<m.length;h+=1)b(d[h]);b(r.$$.fragment,c),b(l.$$.fragment,c),b(a.$$.fragment,c),s=!0}},o(c){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)j(f[h]);d=d.filter(Boolean);for(let h=0;h<d.length;h+=1)j(d[h]);j(r.$$.fragment,c),j(l.$$.fragment,c),j(a.$$.fragment,c),s=!1},d(c){c&&(v(e),v(n),v(o),v(i)),qe(f,c),qe(d,c),N(r,c),N(l,c),N(a,c)}}}function no(t){let e,n,r;function o(i){t[24](i)}let l={$$slots:{default:[to]},$$scope:{ctx:t}};return t[3]!==void 0&&(l.map=t[3]),e=new jn({props:l}),x.push(()=>re(e,"map",o)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,a){q(e,i,a),r=!0},p(i,a){const s={};a[0]&31|a[1]&16&&(s.$$scope={dirty:a,ctx:i}),!n&&a[0]&8&&(n=!0,s.map=i[3],ne(()=>n=!1)),e.$set(s)},i(i){r||(b(e.$$.fragment,i),r=!0)},o(i){j(e.$$.fragment,i),r=!1},d(i){N(e,i)}}}function At(t,e){return{type:"Feature",id:e,properties:{kind:"arm"},geometry:{type:"Point",coordinates:t.point}}}function ro(t){return String.fromCharCode(t+65)}function oo(t,e,n){let r,o;be(t,Z,u=>n(2,o=u));let{junctionIdx:l}=e,{stage:i}=e,{newKind:a}=e,{editing:s}=e,{hoveringSidebar:g}=e,{streetviewOn:f}=e,_,m={0:Ge.red.background,1:Ge.amber.background,2:Ge.green.background,X:Ge.critical.background};function d(u,p,R){let W={type:"FeatureCollection",features:[]},A=p??R;return A!=null&&(A.kind=="arm"?W.features.push(At(u.jat[l][i].arms[A.idx],A.idx)):W.features.push(O(u.jat[l][i].movements[A.idx],A.idx))),W}function I(u){n(9,s=u),n(10,g=null)}function c(u){if(!f){for(let p of _.queryRenderedFeatures(u.point,{layers:["jat-cycling","jat-pedestrian"]}))return;if(s!=null){n(9,s=null);return}a=="arm"?(Be(Z,o.jat[l][i].arms=[...o.jat[l][i].arms,{point:u.lngLat.toArray(),name:""}],o),n(9,s={kind:"arm",idx:o.jat[l][i].arms.length-1})):(Be(Z,o.jat[l][i].movements=[...o.jat[l][i].movements,{point1:u.lngLat.toArray(),point2:wr(u.lngLat.toArray(),.01,0).geometry.coordinates,kind:"cycling-straight",score:"X",name:"",notes:""}],o),n(9,s={kind:"movement",idx:o.jat[l][i].movements.length-1})),n(10,g=null)}}function h(u){I({kind:"movement",idx:u.detail.features[0].id})}Ut(()=>{_.on("click",c),k(!1)}),Jt(()=>{_.off("click",c)});function T(u){let p={type:"FeatureCollection",features:u.jat[l][i].movements.map((R,W)=>O(R,W))};for(let R of u.jat[l][i].movements)if(p.features.push(L(R,p.features.length)),R.kind=="pedestrian"){let W={...R,point1:R.point2,point2:R.point1};p.features.push(L(W,p.features.length))}for(let R of u.jat[l][i].arms)p.features.push(At(R,p.features.length));return p}function O(u,p){return{type:"Feature",id:p,properties:{name:u.name,kind:u.kind,color:m[u.score]},geometry:{type:"LineString",coordinates:[u.point1,u.point2]}}}function L(u,p){return{type:"Feature",id:p,properties:{kind:u.kind,color:m[u.score],angle:Jr(u.point1,u.point2)},geometry:{type:"Point",coordinates:u.point2}}}function k(u){let p=T(o);p.features.length>0&&_.fitBounds(En(p),{padding:20,animate:u})}function y(){return _}function E(u,p){t.$$.not_equal(p.point,u)&&(p.point=u,Z.set(o))}const G=u=>I({kind:"arm",idx:u}),K=u=>I({kind:"arm",idx:u});function z(u,p){t.$$.not_equal(p.point1,u)&&(p.point1=u,Z.set(o))}const S=u=>I({kind:"movement",idx:u}),P=u=>I({kind:"movement",idx:u});function C(u,p){t.$$.not_equal(p.point2,u)&&(p.point2=u,Z.set(o))}const te=u=>I({kind:"movement",idx:u}),M=u=>I({kind:"movement",idx:u});function Oe(u){_=u,n(3,_)}return t.$$set=u=>{"junctionIdx"in u&&n(0,l=u.junctionIdx),"stage"in u&&n(1,i=u.stage),"newKind"in u&&n(11,a=u.newKind),"editing"in u&&n(9,s=u.editing),"hoveringSidebar"in u&&n(10,g=u.hoveringSidebar),"streetviewOn"in u&&n(12,f=u.streetviewOn)},t.$$.update=()=>{t.$$.dirty[0]&1540&&n(4,r=d(o,s,g))},[l,i,o,_,r,m,I,h,T,s,g,a,f,k,y,E,G,K,z,S,P,C,te,M,Oe]}class io extends ve{constructor(e){super(),we(this,e,oo,no,_e,{junctionIdx:0,stage:1,newKind:11,editing:9,hoveringSidebar:10,streetviewOn:12,zoom:13,getMap:14},null,[-1,-1])}get zoom(){return this.$$.ctx[13]}get getMap(){return this.$$.ctx[14]}}function lo(t){let e,n,r,o,l,i,a,s,g,f,_,m;function d(y){t[6](y)}let I={label:"Name"};t[3].jat[t[0]][t[1]].movements[t[2]].name!==void 0&&(I.value=t[3].jat[t[0]][t[1]].movements[t[2]].name),e=new lt({props:I}),x.push(()=>re(e,"value",d));function c(y){t[7](y)}let h={label:"Movement",choices:t[4]};t[3].jat[t[0]][t[1]].movements[t[2]].kind!==void 0&&(h.value=t[3].jat[t[0]][t[1]].movements[t[2]].kind),o=new kt({props:h}),x.push(()=>re(o,"value",c));function T(y){t[8](y)}let O={label:"Score",choices:t[5]};t[3].jat[t[0]][t[1]].movements[t[2]].score!==void 0&&(O.value=t[3].jat[t[0]][t[1]].movements[t[2]].score),a=new kt({props:O}),x.push(()=>re(a,"value",T));function L(y){t[9](y)}let k={label:"Comments"};return t[3].jat[t[0]][t[1]].movements[t[2]].notes!==void 0&&(k.value=t[3].jat[t[0]][t[1]].movements[t[2]].notes),f=new Zt({props:k}),x.push(()=>re(f,"value",L)),{c(){F(e.$$.fragment),r=D(),F(o.$$.fragment),i=D(),F(a.$$.fragment),g=D(),F(f.$$.fragment)},l(y){B(e.$$.fragment,y),r=H(y),B(o.$$.fragment,y),i=H(y),B(a.$$.fragment,y),g=H(y),B(f.$$.fragment,y)},m(y,E){q(e,y,E),$(y,r,E),q(o,y,E),$(y,i,E),q(a,y,E),$(y,g,E),q(f,y,E),m=!0},p(y,[E]){const G={};!n&&E&15&&(n=!0,G.value=y[3].jat[y[0]][y[1]].movements[y[2]].name,ne(()=>n=!1)),e.$set(G);const K={};!l&&E&15&&(l=!0,K.value=y[3].jat[y[0]][y[1]].movements[y[2]].kind,ne(()=>l=!1)),o.$set(K);const z={};!s&&E&15&&(s=!0,z.value=y[3].jat[y[0]][y[1]].movements[y[2]].score,ne(()=>s=!1)),a.$set(z);const S={};!_&&E&15&&(_=!0,S.value=y[3].jat[y[0]][y[1]].movements[y[2]].notes,ne(()=>_=!1)),f.$set(S)},i(y){m||(b(e.$$.fragment,y),b(o.$$.fragment,y),b(a.$$.fragment,y),b(f.$$.fragment,y),m=!0)},o(y){j(e.$$.fragment,y),j(o.$$.fragment,y),j(a.$$.fragment,y),j(f.$$.fragment,y),m=!1},d(y){y&&(v(r),v(i),v(g)),N(e,y),N(o,y),N(a,y),N(f,y)}}}function ao(t,e,n){let r;be(t,Z,d=>n(3,r=d));let{junctionIdx:o}=e,{stage:l}=e,{idx:i}=e,a=Sn(["cycling-straight","cycling-left-turn","cycling-right-turn","pedestrian"]),s=[["X","X - black"],["0","0 - red"],["1","1 - amber"],["2","2 - green"]];function g(d){t.$$.not_equal(r.jat[o][l].movements[i].name,d)&&(r.jat[o][l].movements[i].name=d,Z.set(r))}function f(d){t.$$.not_equal(r.jat[o][l].movements[i].kind,d)&&(r.jat[o][l].movements[i].kind=d,Z.set(r))}function _(d){t.$$.not_equal(r.jat[o][l].movements[i].score,d)&&(r.jat[o][l].movements[i].score=d,Z.set(r))}function m(d){t.$$.not_equal(r.jat[o][l].movements[i].notes,d)&&(r.jat[o][l].movements[i].notes=d,Z.set(r))}return t.$$set=d=>{"junctionIdx"in d&&n(0,o=d.junctionIdx),"stage"in d&&n(1,l=d.stage),"idx"in d&&n(2,i=d.idx)},[o,l,i,r,a,s,g,f,_,m]}class so extends ve{constructor(e){super(),we(this,e,ao,lo,_e,{junctionIdx:0,stage:1,idx:2})}}const{window:uo}=Cn;function St(t,e,n){const r=t.slice();return r[27]=e[n],r[29]=n,r}function Ft(t,e,n){const r=t.slice();return r[30]=e[n],r[29]=n,r}function fo(t){let e,n,r,o,l,i,a,s;e=new An({props:{$$slots:{default:[co]},$$scope:{ctx:t}}}),e.$on("click",t[23]),r=new Kt({props:{$$slots:{default:[go]},$$scope:{ctx:t}}}),r.$on("click",t[10]);const g=[po,_o],f=[];function _(m,d){return m[3].kind=="movement"?0:1}return l=_(t),i=f[l]=g[l](t),{c(){F(e.$$.fragment),n=D(),F(r.$$.fragment),o=D(),i.c(),a=ge()},l(m){B(e.$$.fragment,m),n=H(m),B(r.$$.fragment,m),o=H(m),i.l(m),a=ge()},m(m,d){q(e,m,d),$(m,n,d),q(r,m,d),$(m,o,d),f[l].m(m,d),$(m,a,d),s=!0},p(m,d){const I={};d[1]&2&&(I.$$scope={dirty:d,ctx:m}),e.$set(I);const c={};d[1]&2&&(c.$$scope={dirty:d,ctx:m}),r.$set(c);let h=l;l=_(m),l===h?f[l].p(m,d):(ie(),j(f[h],1,1,()=>{f[h]=null}),le(),i=f[l],i?i.p(m,d):(i=f[l]=g[l](m),i.c()),b(i,1),i.m(a.parentNode,a))},i(m){s||(b(e.$$.fragment,m),b(r.$$.fragment,m),b(i),s=!0)},o(m){j(e.$$.fragment,m),j(r.$$.fragment,m),j(i),s=!1},d(m){m&&(v(n),v(o),v(a)),N(e,m),N(r,m),f[l].d(m)}}}function mo(t){let e,n,r,o,l,i,a="Arms",s,g,f,_,m,d="Movements",I,c,h,T,O,L=zt(t[7].jat[t[0]][t[1]])+"",k,y,E;e=new Tn({props:{label:"Tools",$$slots:{default:[bo]},$$scope:{ctx:t}}});function G(u){t[16](u)}let K={legend:"Add to map",choices:[["arm","Arm"],["movement","Movement"]],inlineSmall:!0};t[2]!==void 0&&(K.value=t[2]),r=new Mn({props:K}),x.push(()=>re(r,"value",G));let z=ce(t[7].jat[t[0]][t[1]].arms),S=[];for(let u=0;u<z.length;u+=1)S[u]=qt(Ft(t,z,u));const P=u=>j(S[u],1,1,()=>{S[u]=null});let C=t[7].jat[t[0]][t[8]].arms.length>0&&Nt(t),te=ce(t[7].jat[t[0]][t[1]].movements),M=[];for(let u=0;u<te.length;u+=1)M[u]=Gt(St(t,te,u));const Oe=u=>j(M[u],1,1,()=>{M[u]=null});return{c(){F(e.$$.fragment),n=D(),F(r.$$.fragment),l=D(),i=Q("h3"),i.textContent=a,s=D(),g=Q("ul");for(let u=0;u<S.length;u+=1)S[u].c();f=D(),C&&C.c(),_=D(),m=Q("h3"),m.textContent=d,I=D(),c=Q("ol");for(let u=0;u<M.length;u+=1)M[u].c();h=D(),T=Q("p"),O=V("Total JAT score: "),k=V(L),y=V("%")},l(u){B(e.$$.fragment,u),n=H(u),B(r.$$.fragment,u),l=H(u),i=Y(u,"H3",{"data-svelte-h":!0}),yt(i)!=="svelte-ld74qb"&&(i.textContent=a),s=H(u),g=Y(u,"UL",{});var p=oe(g);for(let A=0;A<S.length;A+=1)S[A].l(p);p.forEach(v),f=H(u),C&&C.l(u),_=H(u),m=Y(u,"H3",{"data-svelte-h":!0}),yt(m)!=="svelte-1dc52s8"&&(m.textContent=d),I=H(u),c=Y(u,"OL",{});var R=oe(c);for(let A=0;A<M.length;A+=1)M[A].l(R);R.forEach(v),h=H(u),T=Y(u,"P",{});var W=oe(T);O=X(W,"Total JAT score: "),k=X(W,L),y=X(W,"%"),W.forEach(v)},m(u,p){q(e,u,p),$(u,n,p),q(r,u,p),$(u,l,p),$(u,i,p),$(u,s,p),$(u,g,p);for(let R=0;R<S.length;R+=1)S[R]&&S[R].m(g,null);$(u,f,p),C&&C.m(u,p),$(u,_,p),$(u,m,p),$(u,I,p),$(u,c,p);for(let R=0;R<M.length;R+=1)M[R]&&M[R].m(c,null);$(u,h,p),$(u,T,p),ue(T,O),ue(T,k),ue(T,y),E=!0},p(u,p){const R={};p[0]&96|p[1]&2&&(R.$$scope={dirty:p,ctx:u}),e.$set(R);const W={};if(!o&&p[0]&4&&(o=!0,W.value=u[2],ne(()=>o=!1)),r.$set(W),p[0]&659){z=ce(u[7].jat[u[0]][u[1]].arms);let A;for(A=0;A<z.length;A+=1){const he=Ft(u,z,A);S[A]?(S[A].p(he,p),b(S[A],1)):(S[A]=qt(he),S[A].c(),b(S[A],1),S[A].m(g,null))}for(ie(),A=z.length;A<S.length;A+=1)P(A);le()}if(u[7].jat[u[0]][u[8]].arms.length>0?C?(C.p(u,p),p[0]&129&&b(C,1)):(C=Nt(u),C.c(),b(C,1),C.m(_.parentNode,_)):C&&(ie(),j(C,1,1,()=>{C=null}),le()),p[0]&659){te=ce(u[7].jat[u[0]][u[1]].movements);let A;for(A=0;A<te.length;A+=1){const he=St(u,te,A);M[A]?(M[A].p(he,p),b(M[A],1)):(M[A]=Gt(he),M[A].c(),b(M[A],1),M[A].m(c,null))}for(ie(),A=te.length;A<M.length;A+=1)Oe(A);le()}(!E||p[0]&131)&&L!==(L=zt(u[7].jat[u[0]][u[1]])+"")&&ye(k,L)},i(u){if(!E){b(e.$$.fragment,u),b(r.$$.fragment,u);for(let p=0;p<z.length;p+=1)b(S[p]);b(C);for(let p=0;p<te.length;p+=1)b(M[p]);E=!0}},o(u){j(e.$$.fragment,u),j(r.$$.fragment,u),S=S.filter(Boolean);for(let p=0;p<S.length;p+=1)j(S[p]);j(C),M=M.filter(Boolean);for(let p=0;p<M.length;p+=1)j(M[p]);E=!1},d(u){u&&(v(n),v(l),v(i),v(s),v(g),v(f),v(_),v(m),v(I),v(c),v(h),v(T)),N(e,u),N(r,u),qe(S,u),C&&C.d(u),qe(M,u)}}}function co(t){let e;return{c(){e=V("Save")},l(n){e=X(n,"Save")},m(n,r){$(n,e,r)},d(n){n&&v(e)}}}function go(t){let e;return{c(){e=V("Delete")},l(n){e=X(n,"Delete")},m(n,r){$(n,e,r)},d(n){n&&v(e)}}}function _o(t){let e,n,r;function o(i){t[24](i)}let l={label:"Arm Name"};return t[7].jat[t[0]][t[1]].arms[t[3].idx].name!==void 0&&(l.value=t[7].jat[t[0]][t[1]].arms[t[3].idx].name),e=new lt({props:l}),x.push(()=>re(e,"value",o)),{c(){F(e.$$.fragment)},l(i){B(e.$$.fragment,i)},m(i,a){q(e,i,a),r=!0},p(i,a){const s={};!n&&a[0]&139&&(n=!0,s.value=i[7].jat[i[0]][i[1]].arms[i[3].idx].name,ne(()=>n=!1)),e.$set(s)},i(i){r||(b(e.$$.fragment,i),r=!0)},o(i){j(e.$$.fragment,i),r=!1},d(i){N(e,i)}}}function po(t){let e,n;return e=new so({props:{junctionIdx:t[0],stage:t[1],idx:t[3].idx}}),{c(){F(e.$$.fragment)},l(r){B(e.$$.fragment,r)},m(r,o){q(e,r,o),n=!0},p(r,o){const l={};o[0]&1&&(l.junctionIdx=r[0]),o[0]&2&&(l.stage=r[1]),o[0]&8&&(l.idx=r[3].idx),e.$set(l)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function ho(t){let e;return{c(){e=V("Zoom to fit")},l(n){e=X(n,"Zoom to fit")},m(n,r){$(n,e,r)},d(n){n&&v(e)}}}function Bt(t){var i;let e,n,r;function o(a){t[15](a)}let l={map:(i=t[6])==null?void 0:i.getMap()};return t[5]!==void 0&&(l.enabled=t[5]),e=new On({props:l}),x.push(()=>re(e,"enabled",o)),{c(){F(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,s){q(e,a,s),r=!0},p(a,s){var f;const g={};s[0]&64&&(g.map=(f=a[6])==null?void 0:f.getMap()),!n&&s[0]&32&&(n=!0,g.enabled=a[5],ne(()=>n=!1)),e.$set(g)},i(a){r||(b(e.$$.fragment,a),r=!0)},o(a){j(e.$$.fragment,a),r=!1},d(a){N(e,a)}}}function bo(t){var _;let e,n,r,o,l,i,a=(_=t[6])==null?void 0:_.getMap(),s,g;e=new pe({props:{$$slots:{default:[ho]},$$scope:{ctx:t}}}),e.$on("click",t[14]),r=new Pn({}),l=new In({});let f=a&&Bt(t);return{c(){F(e.$$.fragment),n=D(),F(r.$$.fragment),o=D(),F(l.$$.fragment),i=D(),f&&f.c(),s=ge()},l(m){B(e.$$.fragment,m),n=H(m),B(r.$$.fragment,m),o=H(m),B(l.$$.fragment,m),i=H(m),f&&f.l(m),s=ge()},m(m,d){q(e,m,d),$(m,n,d),q(r,m,d),$(m,o,d),q(l,m,d),$(m,i,d),f&&f.m(m,d),$(m,s,d),g=!0},p(m,d){var c;const I={};d[1]&2&&(I.$$scope={dirty:d,ctx:m}),e.$set(I),d[0]&64&&(a=(c=m[6])==null?void 0:c.getMap()),a?f?(f.p(m,d),d[0]&64&&b(f,1)):(f=Bt(m),f.c(),b(f,1),f.m(s.parentNode,s)):f&&(ie(),j(f,1,1,()=>{f=null}),le())},i(m){g||(b(e.$$.fragment,m),b(r.$$.fragment,m),b(l.$$.fragment,m),b(f),g=!0)},o(m){j(e.$$.fragment,m),j(r.$$.fragment,m),j(l.$$.fragment,m),j(f),g=!1},d(m){m&&(v(n),v(o),v(i),v(s)),N(e,m),N(r,m),N(l,m),f&&f.d(m)}}}function yo(t){let e=jo(t[29])+"",n,r,o=(t[30].name||"Unnamed arm")+"",l;return{c(){n=V(e),r=V(" - "),l=V(o)},l(i){n=X(i,e),r=X(i," - "),l=X(i,o)},m(i,a){$(i,n,a),$(i,r,a),$(i,l,a)},p(i,a){a[0]&131&&o!==(o=(i[30].name||"Unnamed arm")+"")&&ye(l,o)},d(i){i&&(v(n),v(r),v(l))}}}function qt(t){let e,n,r,o;function l(){return t[17](t[29])}function i(){return t[18](t[29])}return n=new pe({props:{$$slots:{default:[yo]},$$scope:{ctx:t}}}),n.$on("click",l),n.$on("mouseenter",i),n.$on("mouseleave",t[19]),{c(){e=Q("li"),F(n.$$.fragment),r=D()},l(a){e=Y(a,"LI",{});var s=oe(e);B(n.$$.fragment,s),r=H(s),s.forEach(v)},m(a,s){$(a,e,s),q(n,e,null),ue(e,r),o=!0},p(a,s){t=a;const g={};s[0]&131|s[1]&2&&(g.$$scope={dirty:s,ctx:t}),n.$set(g)},i(a){o||(b(n.$$.fragment,a),o=!0)},o(a){j(n.$$.fragment,a),o=!1},d(a){a&&v(e),N(n)}}}function Nt(t){let e,n;return e=new pe({props:{$$slots:{default:[vo]},$$scope:{ctx:t}}}),e.$on("click",t[12]),{c(){F(e.$$.fragment)},l(r){B(e.$$.fragment,r)},m(r,o){q(e,r,o),n=!0},p(r,o){const l={};o[1]&2&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function vo(t){let e,n;return{c(){e=V("Copy arms from "),n=V(t[8])},l(r){e=X(r,"Copy arms from "),n=X(r,t[8])},m(r,o){$(r,e,o),$(r,n,o)},p:We,d(r){r&&(v(e),v(n))}}}function wo(t){let e=(t[27].name||"Unnamed movement")+"",n;return{c(){n=V(e)},l(r){n=X(r,e)},m(r,o){$(r,n,o)},p(r,o){o[0]&131&&e!==(e=(r[27].name||"Unnamed movement")+"")&&ye(n,e)},d(r){r&&v(n)}}}function Gt(t){let e,n,r,o;function l(){return t[20](t[29])}function i(){return t[21](t[29])}return n=new pe({props:{$$slots:{default:[wo]},$$scope:{ctx:t}}}),n.$on("click",l),n.$on("mouseenter",i),n.$on("mouseleave",t[22]),{c(){e=Q("li"),F(n.$$.fragment),r=D()},l(a){e=Y(a,"LI",{});var s=oe(e);B(n.$$.fragment,s),r=H(s),s.forEach(v)},m(a,s){$(a,e,s),q(n,e,null),ue(e,r),o=!0},p(a,s){t=a;const g={};s[0]&131|s[1]&2&&(g.$$scope={dirty:s,ctx:t}),n.$set(g)},i(a){o||(b(n.$$.fragment,a),o=!0)},o(a){j(n.$$.fragment,a),o=!1},d(a){a&&v(e),N(n)}}}function ko(t){let e,n,r,o,l,i,a,s,g,f,_,m,d,I;function c(E){t[13](E)}let h={label:"Commentary / Notes"};t[7].jat[t[0]][t[1]].notes!==void 0&&(h.value=t[7].jat[t[0]][t[1]].notes),e=new Zt({props:h}),x.push(()=>re(e,"value",c));const T=[mo,fo],O=[];function L(E,G){return E[3]==null?0:1}i=L(t),a=O[i]=T[i](t);function k(E){t[26](E)}let y={junctionIdx:t[0],stage:t[1],newKind:t[2],hoveringSidebar:t[4],streetviewOn:t[5]};return t[3]!==void 0&&(y.editing=t[3]),f=new io({props:y}),t[25](f),x.push(()=>re(f,"editing",k)),{c(){F(e.$$.fragment),r=D(),o=Q("div"),l=Q("div"),a.c(),s=D(),g=Q("div"),F(f.$$.fragment),this.h()},l(E){B(e.$$.fragment,E),r=H(E),o=Y(E,"DIV",{style:!0});var G=oe(o);l=Y(G,"DIV",{style:!0});var K=oe(l);a.l(K),K.forEach(v),s=H(G),g=Y(G,"DIV",{style:!0});var z=oe(g);B(f.$$.fragment,z),z.forEach(v),G.forEach(v),this.h()},h(){ee(l,"width","30%"),ee(l,"overflow-y","scroll"),ee(l,"padding","10px"),ee(l,"border","1px solid black"),ee(g,"position","relative"),ee(g,"width","100%"),ee(o,"display","flex"),ee(o,"height","80vh")},m(E,G){q(e,E,G),$(E,r,G),$(E,o,G),ue(o,l),O[i].m(l,null),ue(o,s),ue(o,g),q(f,g,null),m=!0,d||(I=yn(uo,"keydown",t[11]),d=!0)},p(E,G){const K={};!n&&G[0]&131&&(n=!0,K.value=E[7].jat[E[0]][E[1]].notes,ne(()=>n=!1)),e.$set(K);let z=i;i=L(E),i===z?O[i].p(E,G):(ie(),j(O[z],1,1,()=>{O[z]=null}),le(),a=O[i],a?a.p(E,G):(a=O[i]=T[i](E),a.c()),b(a,1),a.m(l,null));const S={};G[0]&1&&(S.junctionIdx=E[0]),G[0]&2&&(S.stage=E[1]),G[0]&4&&(S.newKind=E[2]),G[0]&16&&(S.hoveringSidebar=E[4]),G[0]&32&&(S.streetviewOn=E[5]),!_&&G[0]&8&&(_=!0,S.editing=E[3],ne(()=>_=!1)),f.$set(S)},i(E){m||(b(e.$$.fragment,E),b(a),b(f.$$.fragment,E),m=!0)},o(E){j(e.$$.fragment,E),j(a),j(f.$$.fragment,E),m=!1},d(E){E&&(v(r),v(o)),N(e,E),O[i].d(),t[25](null),N(f),d=!1,I()}}}function jo(t){return String.fromCharCode(t+65)}function zt(t){let e=0,n=0;for(let r of t.movements)e+={0:0,1:1,2:2,X:0}[r.score],n+=2;return e/n*100}function Co(t,e,n){let r;be(t,Z,M=>n(7,r=M));let{junctionIdx:o}=e,{stage:l}=e,i=l=="existing"?"proposed":"existing",a="arm",s=null,g=null,f=!1,_=null;function m(M){n(3,s=M),n(4,g=null)}function d(){window.confirm(`Delete this ${s.kind}?`)&&(s.kind=="movement"?(r.jat[o][l].movements.splice(s.idx,1),Z.set(r)):(r.jat[o][l].arms.splice(s.idx,1),Z.set(r)),n(3,s=null))}function I(M){s!=null&&M.key=="Escape"?(M.stopPropagation(),n(3,s=null)):s!=null&&M.key=="Delete"&&d()}function c(){r.jat[o][l].arms.length>0&&!window.confirm("Overwrite arms?")||(Be(Z,r.jat[o][l].arms=JSON.parse(JSON.stringify(r.jat[o][i].arms)),r),Z.set(r))}function h(M){t.$$.not_equal(r.jat[o][l].notes,M)&&(r.jat[o][l].notes=M,Z.set(r))}const T=()=>_==null?void 0:_.zoom(!0);function O(M){f=M,n(5,f)}function L(M){a=M,n(2,a)}const k=M=>m({kind:"arm",idx:M}),y=M=>n(4,g={kind:"arm",idx:M}),E=()=>n(4,g=null),G=M=>m({kind:"movement",idx:M}),K=M=>n(4,g={kind:"movement",idx:M}),z=()=>n(4,g=null),S=()=>n(3,s=null);function P(M){t.$$.not_equal(r.jat[o][l].arms[s.idx].name,M)&&(r.jat[o][l].arms[s.idx].name=M,Z.set(r))}function C(M){x[M?"unshift":"push"](()=>{_=M,n(6,_)})}function te(M){s=M,n(3,s)}return t.$$set=M=>{"junctionIdx"in M&&n(0,o=M.junctionIdx),"stage"in M&&n(1,l=M.stage)},[o,l,a,s,g,f,_,r,i,m,d,I,c,h,T,O,L,k,y,E,G,K,z,S,P,C,te]}class Eo extends ve{constructor(e){super(),we(this,e,Co,ko,_e,{junctionIdx:0,stage:1},null,[-1,-1])}}function Dt(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function Lo(t){let e,n=(t[1].jat[t[0].idx].name||"Untitled junction")+"",r,o,l=t[0].stage+"",i,a,s,g,f,_,m,d=t[0].stage,I,c;s=new vn({props:{$$slots:{default:[So]},$$scope:{ctx:t}}});function h(L){t[9](L)}let T={label:"Junction Name"};t[1].jat[t[0].idx].name!==void 0&&(T.value=t[1].jat[t[0].idx].name),f=new lt({props:T}),x.push(()=>re(f,"value",h));let O=Ht(t);return{c(){e=Q("h2"),r=V(n),o=V(" - "),i=V(l),a=D(),F(s.$$.fragment),g=D(),F(f.$$.fragment),m=D(),O.c(),I=ge()},l(L){e=Y(L,"H2",{});var k=oe(e);r=X(k,n),o=X(k," - "),i=X(k,l),k.forEach(v),a=H(L),B(s.$$.fragment,L),g=H(L),B(f.$$.fragment,L),m=H(L),O.l(L),I=ge()},m(L,k){$(L,e,k),ue(e,r),ue(e,o),ue(e,i),$(L,a,k),q(s,L,k),$(L,g,k),q(f,L,k),$(L,m,k),O.m(L,k),$(L,I,k),c=!0},p(L,k){(!c||k&3)&&n!==(n=(L[1].jat[L[0].idx].name||"Untitled junction")+"")&&ye(r,n),(!c||k&1)&&l!==(l=L[0].stage+"")&&ye(i,l);const y={};k&8193&&(y.$$scope={dirty:k,ctx:L}),s.$set(y);const E={};!_&&k&3&&(_=!0,E.value=L[1].jat[L[0].idx].name,ne(()=>_=!1)),f.$set(E),k&1&&_e(d,d=L[0].stage)?(ie(),j(O,1,1,We),le(),O=Ht(L),O.c(),b(O,1),O.m(I.parentNode,I)):O.p(L,k)},i(L){c||(b(s.$$.fragment,L),b(f.$$.fragment,L),b(O),c=!0)},o(L){j(s.$$.fragment,L),j(f.$$.fragment,L),j(O),c=!1},d(L){L&&(v(e),v(a),v(g),v(m),v(I)),N(s,L),N(f,L),O.d(L)}}}function $o(t){let e,n,r,o;e=new pe({props:{$$slots:{default:[Fo]},$$scope:{ctx:t}}}),e.$on("click",t[2]);let l=ce(t[1].jat),i=[];for(let s=0;s<l.length;s+=1)i[s]=Rt(Dt(t,l,s));const a=s=>j(i[s],1,1,()=>{i[s]=null});return{c(){F(e.$$.fragment),n=D(),r=Q("ol");for(let s=0;s<i.length;s+=1)i[s].c()},l(s){B(e.$$.fragment,s),n=H(s),r=Y(s,"OL",{});var g=oe(r);for(let f=0;f<i.length;f+=1)i[f].l(g);g.forEach(v)},m(s,g){q(e,s,g),$(s,n,g),$(s,r,g);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(r,null);o=!0},p(s,g){const f={};if(g&8192&&(f.$$scope={dirty:g,ctx:s}),e.$set(f),g&3){l=ce(s[1].jat);let _;for(_=0;_<l.length;_+=1){const m=Dt(s,l,_);i[_]?(i[_].p(m,g),b(i[_],1)):(i[_]=Rt(m),i[_].c(),b(i[_],1),i[_].m(r,null))}for(ie(),_=l.length;_<i.length;_+=1)a(_);le()}},i(s){if(!o){b(e.$$.fragment,s);for(let g=0;g<l.length;g+=1)b(i[g]);o=!0}},o(s){j(e.$$.fragment,s),i=i.filter(Boolean);for(let g=0;g<i.length;g+=1)j(i[g]);o=!1},d(s){s&&(v(n),v(r)),N(e,s),qe(i,s)}}}function Mo(t){let e;return{c(){e=V("Back to all junctions")},l(n){e=X(n,"Back to all junctions")},m(n,r){$(n,e,r)},d(n){n&&v(e)}}}function Po(t){let e,n;return e=new pe({props:{$$slots:{default:[Oo]},$$scope:{ctx:t}}}),e.$on("click",t[7]),{c(){F(e.$$.fragment)},l(r){B(e.$$.fragment,r)},m(r,o){q(e,r,o),n=!0},p(r,o){const l={};o&8192&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Io(t){let e,n;return e=new pe({props:{$$slots:{default:[To]},$$scope:{ctx:t}}}),e.$on("click",t[6]),{c(){F(e.$$.fragment)},l(r){B(e.$$.fragment,r)},m(r,o){q(e,r,o),n=!0},p(r,o){const l={};o&8192&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Oo(t){let e;return{c(){e=V("Edit Proposed")},l(n){e=X(n,"Edit Proposed")},m(n,r){$(n,e,r)},d(n){n&&v(e)}}}function To(t){let e;return{c(){e=V("Edit Existing")},l(n){e=X(n,"Edit Existing")},m(n,r){$(n,e,r)},d(n){n&&v(e)}}}function Ao(t){let e;return{c(){e=V("Delete")},l(n){e=X(n,"Delete")},m(n,r){$(n,e,r)},d(n){n&&v(e)}}}function So(t){let e,n,r,o,l,i,a;e=new pe({props:{$$slots:{default:[Mo]},$$scope:{ctx:t}}}),e.$on("click",t[5]);const s=[Io,Po],g=[];function f(_,m){return _[0].stage=="proposed"?0:1}return r=f(t),o=g[r]=s[r](t),i=new Kt({props:{$$slots:{default:[Ao]},$$scope:{ctx:t}}}),i.$on("click",t[8]),{c(){F(e.$$.fragment),n=D(),o.c(),l=D(),F(i.$$.fragment)},l(_){B(e.$$.fragment,_),n=H(_),o.l(_),l=H(_),B(i.$$.fragment,_)},m(_,m){q(e,_,m),$(_,n,m),g[r].m(_,m),$(_,l,m),q(i,_,m),a=!0},p(_,m){const d={};m&8192&&(d.$$scope={dirty:m,ctx:_}),e.$set(d);let I=r;r=f(_),r===I?g[r].p(_,m):(ie(),j(g[I],1,1,()=>{g[I]=null}),le(),o=g[r],o?o.p(_,m):(o=g[r]=s[r](_),o.c()),b(o,1),o.m(l.parentNode,l));const c={};m&8192&&(c.$$scope={dirty:m,ctx:_}),i.$set(c)},i(_){a||(b(e.$$.fragment,_),b(o),b(i.$$.fragment,_),a=!0)},o(_){j(e.$$.fragment,_),j(o),j(i.$$.fragment,_),a=!1},d(_){_&&(v(n),v(l)),N(e,_),g[r].d(_),N(i,_)}}}function Ht(t){let e,n;return e=new Eo({props:{junctionIdx:t[0].idx,stage:t[0].stage}}),{c(){F(e.$$.fragment)},l(r){B(e.$$.fragment,r)},m(r,o){q(e,r,o),n=!0},p(r,o){const l={};o&1&&(l.junctionIdx=r[0].idx),o&1&&(l.stage=r[0].stage),e.$set(l)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Fo(t){let e;return{c(){e=V("Add new junction")},l(n){e=X(n,"Add new junction")},m(n,r){$(n,e,r)},d(n){n&&v(e)}}}function Bo(t){let e=(t[10].name||"Untitled junction")+"",n;return{c(){n=V(e)},l(r){n=X(r,e)},m(r,o){$(r,n,o)},p(r,o){o&2&&e!==(e=(r[10].name||"Untitled junction")+"")&&ye(n,e)},d(r){r&&v(n)}}}function Rt(t){let e,n,r,o;function l(){return t[4](t[12])}return n=new pe({props:{$$slots:{default:[Bo]},$$scope:{ctx:t}}}),n.$on("click",l),{c(){e=Q("li"),F(n.$$.fragment),r=D()},l(i){e=Y(i,"LI",{});var a=oe(e);B(n.$$.fragment,a),r=H(a),a.forEach(v)},m(i,a){$(i,e,a),q(n,e,null),ue(e,r),o=!0},p(i,a){t=i;const s={};a&8194&&(s.$$scope={dirty:a,ctx:t}),n.$set(s)},i(i){o||(b(n.$$.fragment,i),o=!0)},o(i){j(n.$$.fragment,i),o=!1},d(i){i&&v(e),N(n)}}}function qo(t){let e,n,r,o;const l=[$o,Lo],i=[];function a(s,g){return s[0].kind=="list"?0:s[0].kind=="edit"?1:-1}return~(e=a(t))&&(n=i[e]=l[e](t)),{c(){n&&n.c(),r=ge()},l(s){n&&n.l(s),r=ge()},m(s,g){~e&&i[e].m(s,g),$(s,r,g),o=!0},p(s,[g]){let f=e;e=a(s),e===f?~e&&i[e].p(s,g):(n&&(ie(),j(i[f],1,1,()=>{i[f]=null}),le()),~e?(n=i[e],n?n.p(s,g):(n=i[e]=l[e](s),n.c()),b(n,1),n.m(r.parentNode,r)):n=null)},i(s){o||(b(n),o=!0)},o(s){j(n),o=!1},d(s){s&&v(r),~e&&i[e].d(s)}}}function et(t){if(t.kind=="list")throw new Error("Unreachable case");return t.idx}function No(t,e,n){let r;be(t,Z,d=>n(1,r=d));let o={kind:"list"};function l(){Be(Z,r.jat=[...r.jat,{name:"",existing:{arms:[],movements:[],notes:""},proposed:{arms:[],movements:[],notes:""}}],r),n(0,o={kind:"edit",idx:r.jat.length-1,stage:"existing"})}function i(d){window.confirm("Delete this junction?")&&(r.jat.splice(d,1),Z.set(r),n(0,o={kind:"list"}))}const a=d=>n(0,o={kind:"edit",idx:d,stage:"existing"}),s=()=>n(0,o={kind:"list"}),g=()=>n(0,o={kind:"edit",idx:et(o),stage:"existing"}),f=()=>n(0,o={kind:"edit",idx:et(o),stage:"proposed"}),_=()=>i(et(o));function m(d){t.$$.not_equal(r.jat[o.idx].name,d)&&(r.jat[o.idx].name=d,Z.set(r))}return[o,r,l,i,a,s,g,f,_,m]}class ni extends ve{constructor(e){super(),we(this,e,No,qo,_e,{})}}export{ni as component};
