import{s as J,b as R,e as P,h as M,c as U,a as q,i as v,r as we,v as X,d as b,D as Oe,l as je,x as te,f as V,y as ke,u as ze,m as Ge,o as Je,z as ye,A as x,B as O,L as Y,k as W,C as B,p as le,_ as Ke,t as H,j as A,g as ie,w as ae,H as Qe,E as Te,n as ee}from"../chunks/scheduler.BwZ2ftvL.js";import{S as K,i as Q,c as T,a as L,m as D,t as w,b as k,d as S,e as E,g as Be,f as Ee}from"../chunks/index.Ml3NaagP.js";import{p as j,S as z,e as Z,u as Xe,o as Ye}from"../chunks/Select.ECussCUd.js";import{g as Ze,W as xe,C as ne}from"../chunks/WarningButton.D1U4Uacv.js";import{l as et,s as N}from"../chunks/data.9my11CcX.js";import{F as tt,v as at,E as nt}from"../chunks/FormElement.DSXgT8-g.js";import{b as Le}from"../chunks/paths.18sepaWe.js";function st(n){let e,a,t,s,f,l,c;return e=new nt({props:{errorMessage:n[5](n[2])}}),{c(){T(e.$$.fragment),a=R(),t=P("input"),this.h()},l(o){L(e.$$.fragment,o),a=M(o),t=U(o,"INPUT",{type:!0,inputmode:!0,class:!0,id:!0}),this.h()},h(){q(t,"type","text"),q(t,"inputmode","numeric"),q(t,"class",s=`govuk-input govuk-input--width-${n[1]}`),q(t,"id",n[3])},m(o,r){D(e,o,r),v(o,a,r),v(o,t,r),we(t,n[2]),f=!0,l||(c=[X(t,"input",n[9]),X(t,"change",n[4])],l=!0)},p(o,r){const u={};r&4&&(u.errorMessage=o[5](o[2])),e.$set(u),(!f||r&2&&s!==(s=`govuk-input govuk-input--width-${o[1]}`))&&q(t,"class",s),r&4&&t.value!==o[2]&&we(t,o[2])},i(o){f||(w(e.$$.fragment,o),f=!0)},o(o){k(e.$$.fragment,o),f=!1},d(o){o&&(b(a),b(t)),S(e,o),l=!1,Oe(c)}}}function lt(n){let e,a;return e=new tt({props:{label:n[0],id:n[3],$$slots:{default:[st]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){D(e,t,s),a=!0},p(t,[s]){const f={};s&1&&(f.label=t[0]),s&1030&&(f.$$scope={dirty:s,ctx:t}),e.$set(f)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function it(n,e,a){let{label:t}=e,{value:s}=e,{width:f}=e,{min:l=void 0}=e,{max:c=void 0}=e,o=s==null?void 0:s.toString(),r=at();function u(){a(6,s=o==null?void 0:parseInt(o,10))}function _(i){if(i==""||i==null)return"";if(i.includes("."))return"Please enter a number without decimals";let $=Number(i);return isNaN($)?"Please enter a valid number":l!=null&&$<l?`Please enter a number that's at least ${l};`:c!=null&&$>c?`Please enter a number that's at most ${c};`:""}function d(){o=this.value,a(2,o)}return n.$$set=i=>{"label"in i&&a(0,t=i.label),"value"in i&&a(6,s=i.value),"width"in i&&a(1,f=i.width),"min"in i&&a(7,l=i.min),"max"in i&&a(8,c=i.max)},[t,f,o,r,u,_,s,l,c,d]}class rt extends K{constructor(e){super(),Q(this,e,it,lt,J,{label:0,value:6,width:1,min:7,max:8})}}function ot(n){let e,a,t,s;const f=n[2].default,l=je(f,n,n[1],null);let c=[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},n[0]],o={};for(let r=0;r<c.length;r+=1)o=te(o,c[r]);return{c(){e=P("button"),l&&l.c(),this.h()},l(r){e=U(r,"BUTTON",{type:!0,class:!0,"data-module":!0});var u=V(e);l&&l.l(u),u.forEach(b),this.h()},h(){ke(e,o)},m(r,u){v(r,e,u),l&&l.m(e,null),e.autofocus&&e.focus(),a=!0,t||(s=[X(e,"click",n[3]),X(e,"mouseenter",n[4]),X(e,"mouseleave",n[5])],t=!0)},p(r,[u]){l&&l.p&&(!a||u&2)&&ze(l,f,r,r[1],a?Je(f,r[1],u,null):Ge(r[1]),null),ke(e,o=Ze(c,[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},u&1&&r[0]]))},i(r){a||(w(l,r),a=!0)},o(r){k(l,r),a=!1},d(r){r&&b(e),l&&l.d(r),t=!1,Oe(s)}}}function ft(n,e,a){let{$$slots:t={},$$scope:s}=e;function f(o){x.call(this,n,o)}function l(o){x.call(this,n,o)}function c(o){x.call(this,n,o)}return n.$$set=o=>{a(0,e=te(te({},e),ye(o))),"$$scope"in o&&a(1,s=o.$$scope)},e=ye(e),[e,s,t,f,l,c]}class se extends K{constructor(e){super(),Q(this,e,ft,ot,J,{})}}let ut={Footway:["2.60","2.60","2.60","","","2.00","2.00","2.00",""],"Narrow Traffic / Bus Lane":["3.25","","","","","3.25","","",""],"Wide Traffic / Bus Lane":["4.50","","","","","3.90","","",""],"Traffic Lane (no buses): speed limit 20/30":["3.00","","","","","2.75","","",""],"On-highway advisory/mandatory cycle lane":["2.00","","","","","1.50","","",""],"1-way protected cycle track":["2.30","2.50","2.80","","","1.80","2.30","2.30",""],"2-way protected cycle track":["3.30","3.30","4.30","","","2.30","2.80","3.30",""],"Shared use cycle track":["3.00","4.50","","","","3.00","4.50","",""],"Parking Bay":["2.00","","","","","1.80","","",""],"Disabled Parking Bay":["2.70","","","","","2.70","","",""],"Loading Bay":["2.70","","","","","1.80","","",""],"Buffer / Verge":["0.50","1.00","2.00","2.50","3.50","-  ","0.50","1.50","2.00","3.00"],"Footway buffer / verge":["0.50","1.50","","","","0.50","1.50","",""]};function De(n,e,a){let t=ut[n],s=a=="Desirable"?t.slice(1,6):t.slice(6,11);if(e=="High Street (active frontages)")return s[0];if(e=="Residential Street")return s[1];if(e=="Local distributor road")return s[2];throw new Error(`Unknown streetFunction ${e}`)}let Se={Footway:["Manual for Streets 2: Section 5 pp.43","DMRB CD143 Designing for walking, cycling & horse-riding Annex pp. 7"],"Narrow Traffic / Bus Lane":[],"Wide Traffic / Bus Lane":[],"Traffic Lane (no buses): speed limit 20/30":["LTN 1/20 Table 7-2 pp. 76","LTN 1/20 Figure 4.1 pp. 33"],"On-highway advisory/mandatory cycle lane":["LTN 1/20 Table 5-2 pp.43","LTN 1/20 Figure 4.1 pp. 33"],"1-way protected cycle track":["LTN 1/20 Table 5-2 pp.43","LTN 1/20 Figure 4.1 pp. 33"],"2-way protected cycle track":["LTN 1/20 Table 5-2 pp.43","LTN 1/20 Figure 4.1 pp. 33"],"Shared use cycle track":["LTN 1/20 Table 6-3 pp.68"],"Parking Bay":["LTN 1/20 table 7-3 pp77"],"Disabled Parking Bay":[],"Loading Bay":["LTN 1/20 table 7-3 pp77"],"Buffer / Verge":["LTN 1/20 table 6-1 pp54"]};function Ce(n,e,a){const t=n.slice();return t[10]=e[a],t}function Fe(n){let e,a,t,s=De(n[0],n[4].proposed.trafficData.streetFunction,n[3])+"",f,l,c,o="References:",r,u,_=Z(Se[n[0]]),d=[];for(let i=0;i<_.length;i+=1)d[i]=Re(Ce(n,_,i));return{c(){e=P("p"),a=H(n[3]),t=H(" minimum width (m): "),f=H(s),l=R(),c=P("u"),c.textContent=o,r=R(),u=P("ul");for(let i=0;i<d.length;i+=1)d[i].c()},l(i){e=U(i,"P",{});var $=V(e);a=A($,n[3]),t=A($," minimum width (m): "),f=A($,s),$.forEach(b),l=M(i),c=U(i,"U",{"data-svelte-h":!0}),ie(c)!=="svelte-fphw6y"&&(c.textContent=o),r=M(i),u=U(i,"UL",{});var g=V(u);for(let m=0;m<d.length;m+=1)d[m].l(g);g.forEach(b)},m(i,$){v(i,e,$),W(e,a),W(e,t),W(e,f),v(i,l,$),v(i,c,$),v(i,r,$),v(i,u,$);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(u,null)},p(i,$){if($&8&&ae(a,i[3]),$&25&&s!==(s=De(i[0],i[4].proposed.trafficData.streetFunction,i[3])+"")&&ae(f,s),$&1){_=Z(Se[i[0]]);let g;for(g=0;g<_.length;g+=1){const m=Ce(i,_,g);d[g]?d[g].p(m,$):(d[g]=Re(m),d[g].c(),d[g].m(u,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=_.length}},d(i){i&&(b(e),b(l),b(c),b(r),b(u)),Qe(d,i)}}}function Re(n){let e,a=n[10]+"",t;return{c(){e=P("li"),t=H(a)},l(s){e=U(s,"LI",{});var f=V(e);t=A(f,a),f.forEach(b)},m(s,f){v(s,e,f),W(e,t)},p(s,f){f&1&&a!==(a=s[10]+"")&&ae(t,a)},d(s){s&&b(e)}}}function ct(n){let e;return{c(){e=H("←")},l(a){e=A(a,"←")},m(a,t){v(a,e,t)},d(a){a&&b(e)}}}function pt(n){let e;return{c(){e=H("Delete")},l(a){e=A(a,"Delete")},m(a,t){v(a,e,t)},d(a){a&&b(e)}}}function dt(n){let e;return{c(){e=H("→")},l(a){e=A(a,"→")},m(a,t){v(a,e,t)},d(a){a&&b(e)}}}function mt(n){let e,a,t,s,f,l,c,o,r,u,_,d;function i(m){n[6](m)}let $={label:"Lane type",emptyOption:!0,choices:j(et)};n[0]!==void 0&&($.value=n[0]),a=new z({props:$}),O.push(()=>E(a,"value",i));let g=n[0]&&Fe(n);return c=new se({props:{disabled:n[1],$$slots:{default:[ct]},$$scope:{ctx:n}}}),c.$on("click",n[7]),r=new xe({props:{$$slots:{default:[pt]},$$scope:{ctx:n}}}),r.$on("click",n[8]),_=new se({props:{disabled:n[2],$$slots:{default:[dt]},$$scope:{ctx:n}}}),_.$on("click",n[9]),{c(){e=P("div"),T(a.$$.fragment),s=R(),g&&g.c(),f=R(),l=P("div"),T(c.$$.fragment),o=R(),T(r.$$.fragment),u=R(),T(_.$$.fragment),this.h()},l(m){e=U(m,"DIV",{class:!0});var h=V(e);L(a.$$.fragment,h),s=M(h),g&&g.l(h),f=M(h),l=U(h,"DIV",{style:!0,class:!0});var C=V(l);L(c.$$.fragment,C),o=M(C),L(r.$$.fragment,C),u=M(C),L(_.$$.fragment,C),C.forEach(b),h.forEach(b),this.h()},h(){Y(l,"display","flex"),Y(l,"justify-content","space-between"),q(l,"class","svelte-jig4ga"),q(e,"class","svelte-jig4ga")},m(m,h){v(m,e,h),D(a,e,null),W(e,s),g&&g.m(e,null),W(e,f),W(e,l),D(c,l,null),W(l,o),D(r,l,null),W(l,u),D(_,l,null),d=!0},p(m,[h]){const C={};!t&&h&1&&(t=!0,C.value=m[0],B(()=>t=!1)),a.$set(C),m[0]?g?g.p(m,h):(g=Fe(m),g.c(),g.m(e,f)):g&&(g.d(1),g=null);const F={};h&2&&(F.disabled=m[1]),h&8192&&(F.$$scope={dirty:h,ctx:m}),c.$set(F);const G={};h&8192&&(G.$$scope={dirty:h,ctx:m}),r.$set(G);const I={};h&4&&(I.disabled=m[2]),h&8192&&(I.$$scope={dirty:h,ctx:m}),_.$set(I)},i(m){d||(w(a.$$.fragment,m),w(c.$$.fragment,m),w(r.$$.fragment,m),w(_.$$.fragment,m),d=!0)},o(m){k(a.$$.fragment,m),k(c.$$.fragment,m),k(r.$$.fragment,m),k(_.$$.fragment,m),d=!1},d(m){m&&b(e),S(a),g&&g.d(),S(c),S(r),S(_)}}}function _t(n,e,a){let t;le(n,N,i=>a(4,t=i));let{value:s}=e,{isFirst:f}=e,{isLast:l}=e,{sectionType:c}=e,o=Ke();function r(i){s=i,a(0,s)}const u=()=>o("moveLeft"),_=()=>o("delete"),d=()=>o("moveRight");return n.$$set=i=>{"value"in i&&a(0,s=i.value),"isFirst"in i&&a(1,f=i.isFirst),"isLast"in i&&a(2,l=i.isLast),"sectionType"in i&&a(3,c=i.sectionType)},[s,f,l,c,t,o,r,u,_,d]}class gt extends K{constructor(e){super(),Q(this,e,_t,mt,J,{value:0,isFirst:1,isLast:2,sectionType:3})}}function Me(n,e,a){const t=n.slice();return t[10]=e[a],t[11]=e,t[12]=a,t}function ht(n){let e;return{c(){e=H("Add")},l(a){e=A(a,"Add")},m(a,t){v(a,e,t)},d(a){a&&b(e)}}}function Ne(n,e){let a,t,s,f;function l(_){e[6](_,e[10],e[11],e[12])}function c(){return e[7](e[12])}function o(){return e[8](e[12])}function r(){return e[9](e[12])}let u={isFirst:e[12]==0,isLast:e[12]==e[0].length-1,sectionType:e[1]};return e[10]!==void 0&&(u.value=e[10]),t=new gt({props:u}),O.push(()=>E(t,"value",l)),t.$on("delete",c),t.$on("moveLeft",o),t.$on("moveRight",r),{key:n,first:null,c(){a=Te(),T(t.$$.fragment),this.h()},l(_){a=Te(),L(t.$$.fragment,_),this.h()},h(){this.first=a},m(_,d){v(_,a,d),D(t,_,d),f=!0},p(_,d){e=_;const i={};d&1&&(i.isFirst=e[12]==0),d&1&&(i.isLast=e[12]==e[0].length-1),d&2&&(i.sectionType=e[1]),!s&&d&1&&(s=!0,i.value=e[10],B(()=>s=!1)),t.$set(i)},i(_){f||(w(t.$$.fragment,_),f=!0)},o(_){k(t.$$.fragment,_),f=!1},d(_){_&&b(a),S(t,_)}}}function $t(n){let e,a,t,s=[],f=new Map,l;e=new se({props:{$$slots:{default:[ht]},$$scope:{ctx:n}}}),e.$on("click",n[2]);let c=Z(n[0]);const o=r=>r[12];for(let r=0;r<c.length;r+=1){let u=Me(n,c,r),_=o(u);f.set(_,s[r]=Ne(_,u))}return{c(){T(e.$$.fragment),a=R(),t=P("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){L(e.$$.fragment,r),a=M(r),t=U(r,"DIV",{style:!0});var u=V(t);for(let _=0;_<s.length;_+=1)s[_].l(u);u.forEach(b),this.h()},h(){Y(t,"display","flex"),Y(t,"flex-direction","row")},m(r,u){D(e,r,u),v(r,a,u),v(r,t,u);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(t,null);l=!0},p(r,[u]){const _={};u&8192&&(_.$$scope={dirty:u,ctx:r}),e.$set(_),u&59&&(c=Z(r[0]),Be(),s=Xe(s,u,o,1,r,c,f,t,Ye,Ne,null,Me),Ee())},i(r){if(!l){w(e.$$.fragment,r);for(let u=0;u<c.length;u+=1)w(s[u]);l=!0}},o(r){k(e.$$.fragment,r);for(let u=0;u<s.length;u+=1)k(s[u]);l=!1},d(r){r&&(b(a),b(t)),S(e,r);for(let u=0;u<s.length;u+=1)s[u].d()}}}function bt(n,e,a){let{lanesLeftToRight:t}=e,{sectionType:s}=e;function f(){a(0,t=[...t,""])}function l(i){t.splice(i,1),a(0,t)}function c(i){a(0,[t[i-1],t[i]]=[t[i],t[i-1]],t)}function o(i){a(0,[t[i+1],t[i]]=[t[i],t[i+1]],t)}function r(i,$,g,m){g[m]=i,a(0,t)}const u=i=>l(i),_=i=>c(i),d=i=>o(i);return n.$$set=i=>{"lanesLeftToRight"in i&&a(0,t=i.lanesLeftToRight),"sectionType"in i&&a(1,s=i.sectionType)},[t,s,f,l,c,o,r,u,_,d]}class We extends K{constructor(e){super(),Q(this,e,bt,$t,J,{lanesLeftToRight:0,sectionType:1})}}function vt(n){let e,a,t,s,f,l,c,o,r,u,_,d,i,$,g,m,h,C,F,G,I;function Pe(p){n[2](p)}let re={label:"Expected peak hour cycle flow: 1-way cycle tracks",emptyOption:!0,choices:j(["<200","200-800",">800"])};n[0].proposed.trafficData.flowOneWay!==void 0&&(re.value=n[0].proposed.trafficData.flowOneWay),e=new z({props:re}),O.push(()=>E(e,"value",Pe));function Ue(p){n[3](p)}let oe={label:"Expected peak hour cycle flow: 2-way cycle tracks",emptyOption:!0,choices:j(["<300","300-1,000",">1,000"])};n[0].proposed.trafficData.flowTwoWay!==void 0&&(oe.value=n[0].proposed.trafficData.flowTwoWay),s=new z({props:oe}),O.push(()=>E(s,"value",Ue));function qe(p){n[4](p)}let fe={label:"Expected peak hour cycle flow: shared use cycle tracks",emptyOption:!0,choices:j(["<300",">300"])};n[0].proposed.trafficData.flowSharedUse!==void 0&&(fe.value=n[0].proposed.trafficData.flowSharedUse),c=new z({props:fe}),O.push(()=>E(c,"value",qe));function Ie(p){n[5](p)}let ue={label:"Traffic flow (vpd)",emptyOption:!0,choices:j(["<2,500","2,500-5,000","5,000-10,000",">10,000"])};n[0].proposed.trafficData.trafficFlow!==void 0&&(ue.value=n[0].proposed.trafficData.trafficFlow),u=new z({props:ue}),O.push(()=>E(u,"value",Ie));function He(p){n[6](p)}let ce={label:"Speed limit (MPH)",emptyOption:!0,choices:j(["<30","30","40","50","60","70"])};n[0].proposed.trafficData.speedLimit!==void 0&&(ce.value=n[0].proposed.trafficData.speedLimit),i=new z({props:ce}),O.push(()=>E(i,"value",He));function Ae(p){n[7](p)}let pe={label:"Observed 85th percentile speed (MPH)",width:3,min:0,max:120};n[0].proposed.trafficData.observedSpeed!==void 0&&(pe.value=n[0].proposed.trafficData.observedSpeed),m=new rt({props:pe}),O.push(()=>E(m,"value",Ae));function Ve(p){n[8](p)}let de={label:"Street function",emptyOption:!0,choices:j(["High Street (active frontages)","Residential street","Local distributor road"])};return n[0].proposed.trafficData.streetFunction!==void 0&&(de.value=n[0].proposed.trafficData.streetFunction),F=new z({props:de}),O.push(()=>E(F,"value",Ve)),{c(){T(e.$$.fragment),t=R(),T(s.$$.fragment),l=R(),T(c.$$.fragment),r=R(),T(u.$$.fragment),d=R(),T(i.$$.fragment),g=R(),T(m.$$.fragment),C=R(),T(F.$$.fragment)},l(p){L(e.$$.fragment,p),t=M(p),L(s.$$.fragment,p),l=M(p),L(c.$$.fragment,p),r=M(p),L(u.$$.fragment,p),d=M(p),L(i.$$.fragment,p),g=M(p),L(m.$$.fragment,p),C=M(p),L(F.$$.fragment,p)},m(p,y){D(e,p,y),v(p,t,y),D(s,p,y),v(p,l,y),D(c,p,y),v(p,r,y),D(u,p,y),v(p,d,y),D(i,p,y),v(p,g,y),D(m,p,y),v(p,C,y),D(F,p,y),I=!0},p(p,y){const me={};!a&&y&1&&(a=!0,me.value=p[0].proposed.trafficData.flowOneWay,B(()=>a=!1)),e.$set(me);const _e={};!f&&y&1&&(f=!0,_e.value=p[0].proposed.trafficData.flowTwoWay,B(()=>f=!1)),s.$set(_e);const ge={};!o&&y&1&&(o=!0,ge.value=p[0].proposed.trafficData.flowSharedUse,B(()=>o=!1)),c.$set(ge);const he={};!_&&y&1&&(_=!0,he.value=p[0].proposed.trafficData.trafficFlow,B(()=>_=!1)),u.$set(he);const $e={};!$&&y&1&&($=!0,$e.value=p[0].proposed.trafficData.speedLimit,B(()=>$=!1)),i.$set($e);const be={};!h&&y&1&&(h=!0,be.value=p[0].proposed.trafficData.observedSpeed,B(()=>h=!1)),m.$set(be);const ve={};!G&&y&1&&(G=!0,ve.value=p[0].proposed.trafficData.streetFunction,B(()=>G=!1)),F.$set(ve)},i(p){I||(w(e.$$.fragment,p),w(s.$$.fragment,p),w(c.$$.fragment,p),w(u.$$.fragment,p),w(i.$$.fragment,p),w(m.$$.fragment,p),w(F.$$.fragment,p),I=!0)},o(p){k(e.$$.fragment,p),k(s.$$.fragment,p),k(c.$$.fragment,p),k(u.$$.fragment,p),k(i.$$.fragment,p),k(m.$$.fragment,p),k(F.$$.fragment,p),I=!1},d(p){p&&(b(t),b(l),b(r),b(d),b(g),b(C)),S(e,p),S(s,p),S(c,p),S(u,p),S(i,p),S(m,p),S(F,p)}}}function wt(n){let e,a;return e=new ne({props:{label:"Traffic data and additional information",$$slots:{default:[vt]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){D(e,t,s),a=!0},p(t,[s]){const f={};s&513&&(f.$$scope={dirty:s,ctx:t}),e.$set(f)},i(t){a||(w(e.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function kt(n,e,a){let t;le(n,N,d=>a(0,t=d));let{valid:s}=e;function f(d){n.$$.not_equal(t.proposed.trafficData.flowOneWay,d)&&(t.proposed.trafficData.flowOneWay=d,N.set(t))}function l(d){n.$$.not_equal(t.proposed.trafficData.flowTwoWay,d)&&(t.proposed.trafficData.flowTwoWay=d,N.set(t))}function c(d){n.$$.not_equal(t.proposed.trafficData.flowSharedUse,d)&&(t.proposed.trafficData.flowSharedUse=d,N.set(t))}function o(d){n.$$.not_equal(t.proposed.trafficData.trafficFlow,d)&&(t.proposed.trafficData.trafficFlow=d,N.set(t))}function r(d){n.$$.not_equal(t.proposed.trafficData.speedLimit,d)&&(t.proposed.trafficData.speedLimit=d,N.set(t))}function u(d){n.$$.not_equal(t.proposed.trafficData.observedSpeed,d)&&(t.proposed.trafficData.observedSpeed=d,N.set(t))}function _(d){n.$$.not_equal(t.proposed.trafficData.streetFunction,d)&&(t.proposed.trafficData.streetFunction=d,N.set(t))}return n.$$set=d=>{"valid"in d&&a(1,s=d.valid)},n.$$.update=()=>{n.$$.dirty&1&&a(1,s=t.proposed.trafficData.flowOneWay!=""&&t.proposed.trafficData.flowTwoWay!=""&&t.proposed.trafficData.flowSharedUse!=""&&t.proposed.trafficData.trafficFlow!=""&&t.proposed.trafficData.speedLimit!=""&&t.proposed.trafficData.observedSpeed!=null&&t.proposed.trafficData.streetFunction!="")},[t,s,f,l,c,o,r,u,_]}class yt extends K{constructor(e){super(),Q(this,e,kt,wt,J,{valid:1})}}function Tt(n){let e,a="Fill out all data above to continue";return{c(){e=P("p"),e.textContent=a},l(t){e=U(t,"P",{"data-svelte-h":!0}),ie(e)!=="svelte-ma95"&&(e.textContent=a)},m(t,s){v(t,e,s)},p:ee,i:ee,o:ee,d(t){t&&b(e)}}}function Lt(n){let e,a,t,s;return e=new ne({props:{label:"Desirable Minimum Cross-Section",$$slots:{default:[Dt]},$$scope:{ctx:n}}}),t=new ne({props:{label:"Absolute Minimum Cross-Section",$$slots:{default:[St]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment),a=R(),T(t.$$.fragment)},l(f){L(e.$$.fragment,f),a=M(f),L(t.$$.fragment,f)},m(f,l){D(e,f,l),v(f,a,l),D(t,f,l),s=!0},p(f,l){const c={};l&34&&(c.$$scope={dirty:l,ctx:f}),e.$set(c);const o={};l&34&&(o.$$scope={dirty:l,ctx:f}),t.$set(o)},i(f){s||(w(e.$$.fragment,f),w(t.$$.fragment,f),s=!0)},o(f){k(e.$$.fragment,f),k(t.$$.fragment,f),s=!1},d(f){f&&b(a),S(e,f),S(t,f)}}}function Dt(n){let e,a,t;function s(l){n[3](l)}let f={sectionType:"Desirable"};return n[1].proposed.desirableMinimumCrossSection!==void 0&&(f.lanesLeftToRight=n[1].proposed.desirableMinimumCrossSection),e=new We({props:f}),O.push(()=>E(e,"lanesLeftToRight",s)),{c(){T(e.$$.fragment)},l(l){L(e.$$.fragment,l)},m(l,c){D(e,l,c),t=!0},p(l,c){const o={};!a&&c&2&&(a=!0,o.lanesLeftToRight=l[1].proposed.desirableMinimumCrossSection,B(()=>a=!1)),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function St(n){let e,a,t;function s(l){n[4](l)}let f={sectionType:"Absolute"};return n[1].proposed.absoluteMinimumCrossSection!==void 0&&(f.lanesLeftToRight=n[1].proposed.absoluteMinimumCrossSection),e=new We({props:f}),O.push(()=>E(e,"lanesLeftToRight",s)),{c(){T(e.$$.fragment)},l(l){L(e.$$.fragment,l)},m(l,c){D(e,l,c),t=!0},p(l,c){const o={};!a&&c&2&&(a=!0,o.lanesLeftToRight=l[1].proposed.absoluteMinimumCrossSection,B(()=>a=!1)),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Ct(n){let e,a,t=`<ol class="govuk-breadcrumbs__list"><li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${Le}/">Tools</a></li> <li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${Le}/cross_section">Route cross-section</a></li> <li class="govuk-breadcrumbs__list-item">Proposed Cross-Sections</li></ol>`,s,f,l,c,o,r,u;function _(m){n[2](m)}let d={};n[0]!==void 0&&(d.valid=n[0]),f=new yt({props:d}),O.push(()=>E(f,"valid",_));const i=[Lt,Tt],$=[];function g(m,h){return m[0]?0:1}return o=g(n),r=$[o]=i[o](n),{c(){e=P("div"),a=P("div"),a.innerHTML=t,s=R(),T(f.$$.fragment),c=R(),r.c(),this.h()},l(m){e=U(m,"DIV",{class:!0});var h=V(e);a=U(h,"DIV",{class:!0,"data-svelte-h":!0}),ie(a)!=="svelte-7mvyxb"&&(a.innerHTML=t),s=M(h),L(f.$$.fragment,h),c=M(h),r.l(h),h.forEach(b),this.h()},h(){q(a,"class","govuk-breadcrumbs"),q(e,"class","govuk-prose")},m(m,h){v(m,e,h),W(e,a),W(e,s),D(f,e,null),W(e,c),$[o].m(e,null),u=!0},p(m,[h]){const C={};!l&&h&1&&(l=!0,C.valid=m[0],B(()=>l=!1)),f.$set(C);let F=o;o=g(m),o===F?$[o].p(m,h):(Be(),k($[F],1,1,()=>{$[F]=null}),Ee(),r=$[o],r?r.p(m,h):(r=$[o]=i[o](m),r.c()),w(r,1),r.m(e,null))},i(m){u||(w(f.$$.fragment,m),w(r),u=!0)},o(m){k(f.$$.fragment,m),k(r),u=!1},d(m){m&&b(e),S(f),$[o].d()}}}function Ft(n,e,a){let t;le(n,N,o=>a(1,t=o));let s=!1;function f(o){s=o,a(0,s)}function l(o){n.$$.not_equal(t.proposed.desirableMinimumCrossSection,o)&&(t.proposed.desirableMinimumCrossSection=o,N.set(t))}function c(o){n.$$.not_equal(t.proposed.absoluteMinimumCrossSection,o)&&(t.proposed.absoluteMinimumCrossSection=o,N.set(t))}return[s,t,f,l,c]}class Pt extends K{constructor(e){super(),Q(this,e,Ft,Ct,J,{})}}export{Pt as component};
