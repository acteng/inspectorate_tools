import{s as kl,e as o,a as f,t as m,c as s,b as _,m as $,g as v,d as p,f as n,o as Ce,i as h,h as t,j as ge,r as $l,k as El,n as ut}from"../chunks/scheduler.3SlTgMpc.js";import{S as yl,i as Ll,a as lt,f as pl,t as at,g as gl,c as te,b as ee,m as le,d as ae}from"../chunks/index.D3onstZ5.js";import{e as Cl}from"../chunks/each.DBoDOIcK.js";import{s as Rl}from"../chunks/data.Dyh9zF0m.js";import{g as Dl}from"../chunks/results.Bzh5HwPT.js";import{L as ne}from"../chunks/LevelOfServiceTable.BGRWLCzv.js";function Tl(r,a,c){const i=r.slice();return i[4]=a[c],i}function Sl(r){let a,c="This isn't a Street Check";return{c(){a=o("p"),a.textContent=c},l(i){a=s(i,"P",{"data-svelte-h":!0}),$(a)!=="svelte-sb6i45"&&(a.textContent=c)},m(i,g){h(i,a,g)},p:ut,i:ut,o:ut,d(i){i&&n(a)}}}function Pl(r){let a,c,i,g,u,C;return a=new ne({props:{caption:"Street Level of Service",categories:r[1].levelOfService,overall:r[1].overall,overallLabel:"Overall Street Level of Service"}}),i=new ne({props:{caption:"Street Level of Service by Transport Mode",categories:r[1].byMode,overall:r[1].overall,overallLabel:"Overall Street Level of Service",barChart:!0}}),u=new ne({props:{caption:"Street Placemaking",categories:r[1].placemakingCategories,overall:r[1].placemakingOverall,overallLabel:"Overall Street Placemaking Score",barChart:!0}}),{c(){te(a.$$.fragment),c=f(),te(i.$$.fragment),g=f(),te(u.$$.fragment)},l(e){ee(a.$$.fragment,e),c=v(e),ee(i.$$.fragment,e),g=v(e),ee(u.$$.fragment,e)},m(e,y){le(a,e,y),h(e,c,y),le(i,e,y),h(e,g,y),le(u,e,y),C=!0},p:ut,i(e){C||(at(a.$$.fragment,e),at(i.$$.fragment,e),at(u.$$.fragment,e),C=!0)},o(e){lt(a.$$.fragment,e),lt(i.$$.fragment,e),lt(u.$$.fragment,e),C=!1},d(e){e&&(n(c),n(g)),ae(a,e),ae(i,e),ae(u,e)}}}function xl(r){let a,c="This isn't a Path Check";return{c(){a=o("p"),a.textContent=c},l(i){a=s(i,"P",{"data-svelte-h":!0}),$(a)!=="svelte-1112wz9"&&(a.textContent=c)},m(i,g){h(i,a,g)},p:ut,i:ut,o:ut,d(i){i&&n(a)}}}function Hl(r){let a,c,i,g,u,C;return a=new ne({props:{caption:"Path Level of Service",categories:r[1].levelOfService,overall:r[1].overall,overallLabel:"Overall Path Level of Service"}}),i=new ne({props:{caption:"Path Level of Service by Transport Mode",categories:r[1].byMode,overall:r[1].overall,overallLabel:"Overall Path Level of Service",barChart:!0}}),u=new ne({props:{caption:"Path Placemaking",categories:r[1].placemakingCategories,overall:r[1].placemakingOverall,overallLabel:"Overall Path Placemaking Score",barChart:!0}}),{c(){te(a.$$.fragment),c=f(),te(i.$$.fragment),g=f(),te(u.$$.fragment)},l(e){ee(a.$$.fragment,e),c=v(e),ee(i.$$.fragment,e),g=v(e),ee(u.$$.fragment,e)},m(e,y){le(a,e,y),h(e,c,y),le(i,e,y),h(e,g,y),le(u,e,y),C=!0},p:ut,i(e){C||(at(a.$$.fragment,e),at(i.$$.fragment,e),at(u.$$.fragment,e),C=!0)},o(e){lt(a.$$.fragment,e),lt(i.$$.fragment,e),lt(u.$$.fragment,e),C=!1},d(e){e&&(n(c),n(g)),ae(a,e),ae(i,e),ae(u,e)}}}function wl(r){let a,c='<th colspan="6"></th>';return{c(){a=o("tr"),a.innerHTML=c},l(i){a=s(i,"TR",{"data-svelte-h":!0}),$(a)!=="svelte-1qpfrhg"&&(a.innerHTML=c)},m(i,g){h(i,a,g)},d(i){i&&n(a)}}}function bl(r){let a,c,i,g=(r[4].name||"Untitled junction")+"",u,C,e,y="Walking & Wheeling",nt,J,Tt=_t(r[4].walkingWheeling.existing)+"",bt,K,M,re=_t(r[4].walkingWheeling.proposed)+"",kt,rt,Y,$t=_t(r[4].walkingWheeling.netDifference)+"",Et,A,E,ot,At="Cycling",st,z,yt=_t(r[4].cycling.existing)+"",Lt,F,I,oe=_t(r[4].cycling.proposed)+"",Rt,it,U,Dt=_t(r[4].cycling.netDifference)+"",St,N,k,ft,It="<b>All</b>",vt,G,Pt=_t(r[4].total.existing)+"",ht,P,H,se=_t(r[4].total.proposed)+"",xt,X,mt,Nt=_t(r[4].total.netDifference)+"",L,ct,Q=r[4].name=="Overall"&&wl();return{c(){Q&&Q.c(),a=f(),c=o("tr"),i=o("th"),u=m(g),C=f(),e=o("th"),e.textContent=y,nt=f(),J=o("td"),bt=m(Tt),K=f(),M=o("td"),kt=m(re),rt=f(),Y=o("td"),Et=m($t),A=f(),E=o("tr"),ot=o("th"),ot.textContent=At,st=f(),z=o("td"),Lt=m(yt),F=f(),I=o("td"),Rt=m(oe),it=f(),U=o("td"),St=m(Dt),N=f(),k=o("tr"),ft=o("th"),ft.innerHTML=It,vt=f(),G=o("td"),ht=m(Pt),P=f(),H=o("td"),xt=m(se),X=f(),mt=o("td"),L=m(Nt),ct=f(),this.h()},l(T){Q&&Q.l(T),a=v(T),c=s(T,"TR",{});var b=_(c);i=s(b,"TH",{rowspan:!0});var pt=_(i);u=p(pt,g),pt.forEach(n),C=v(b),e=s(b,"TH",{"data-svelte-h":!0}),$(e)!=="svelte-4l8ufc"&&(e.textContent=y),nt=v(b),J=s(b,"TD",{});var ie=_(J);bt=p(ie,Tt),ie.forEach(n),K=v(b),M=s(b,"TD",{});var jt=_(M);kt=p(jt,re),jt.forEach(n),rt=v(b),Y=s(b,"TD",{});var Wt=_(Y);Et=p(Wt,$t),Wt.forEach(n),b.forEach(n),A=v(T),E=s(T,"TR",{});var x=_(E);ot=s(x,"TH",{"data-svelte-h":!0}),$(ot)!=="svelte-1g6bqmx"&&(ot.textContent=At),st=v(x),z=s(x,"TD",{});var fe=_(z);Lt=p(fe,yt),fe.forEach(n),F=v(x),I=s(x,"TD",{});var qt=_(I);Rt=p(qt,oe),qt.forEach(n),it=v(x),U=s(x,"TD",{});var Bt=_(U);St=p(Bt,Dt),Bt.forEach(n),x.forEach(n),N=v(T),k=s(T,"TR",{});var S=_(k);ft=s(S,"TH",{"data-svelte-h":!0}),$(ft)!=="svelte-17itmy4"&&(ft.innerHTML=It),vt=v(S),G=s(S,"TD",{});var ve=_(G);ht=p(ve,Pt),ve.forEach(n),P=v(S),H=s(S,"TD",{});var Jt=_(H);xt=p(Jt,se),Jt.forEach(n),X=v(S),mt=s(S,"TD",{});var Kt=_(mt);L=p(Kt,Nt),Kt.forEach(n),ct=v(S),S.forEach(n),this.h()},h(){Ce(i,"rowspan","3")},m(T,b){Q&&Q.m(T,b),h(T,a,b),h(T,c,b),t(c,i),t(i,u),t(c,C),t(c,e),t(c,nt),t(c,J),t(J,bt),t(c,K),t(c,M),t(M,kt),t(c,rt),t(c,Y),t(Y,Et),h(T,A,b),h(T,E,b),t(E,ot),t(E,st),t(E,z),t(z,Lt),t(E,F),t(E,I),t(I,Rt),t(E,it),t(E,U),t(U,St),h(T,N,b),h(T,k,b),t(k,ft),t(k,vt),t(k,G),t(G,ht),t(k,P),t(k,H),t(H,xt),t(k,X),t(k,mt),t(mt,L),t(k,ct)},p:ut,d(T){T&&(n(a),n(c),n(A),n(E),n(N),n(k)),Q&&Q.d(T)}}}function Ol(r){let a,c,i="1. Summary of Scheme",g,u,C,e="Scheme Name",y,nt,J=r[0].summary.schemeName+"",Tt,bt,K,M,re="Scheme Reference",kt,rt,Y=r[0].summary.schemeReference+"",$t,Et,A,E,ot="Local Authority",At,st,z=r[0].summary.authority+"",yt,Lt,F,I,oe="Design Stage",Rt,it,U=r[0].summary.designStage+"",Dt,St,N,k,ft="Route Length Assessed in this File (km)",It,vt,G=r[0].summary.assessedRouteLengthKm+"",Pt,ht,P,H,se="2. Policy Check Results",xt,X,mt='<th rowspan="2">Potential Policy Conflicts</th> <th>Existing Route</th> <th>Designed Route</th> <th>Removed</th> <th>Introduced</th> <th>Remaining</th>',Nt,L,ct,Q=r[2].existing+"",T,b,pt,ie=r[2].designed+"",jt,Wt,x,fe=r[2].removed+"",qt,Bt,S,ve=r[2].designed+"",Jt,Kt,ce,Be=r[2].designed+r[2].existing-r[2].removed+"",Re,Te,Z,Ht,Je="3. Safety Check Results (Critical Issues only)",De,Yt,Ke='<th rowspan="2">Critical Issues</th> <th>Existing Route</th> <th>Designed Route</th> <th>Removed</th> <th>Introduced</th> <th>Remaining</th>',Se,w,de,Ye=r[3].existing+"",Pe,xe,_e,ze=r[3].designed+"",He,we,ue,Fe=r[3].removed+"",Oe,Me,he,Ue=r[3].designed+"",Ae,Ie,me,Ge=r[3].designed+r[3].existing-r[3].removed+"",Ne,be,wt,Qe="4. Street Check Results",ke,j,W,zt,Ot,Ve="5. Path Check Results",$e,q,B,Ft,V,Mt,Xe="6. Junction Assessment Tool Check",je,Ut,Ze="<th>Junction Name</th> <th>Modes</th> <th>Existing Layout</th> <th>Proposed Layout</th> <th>Net difference</th>",We,dt;const tl=[Pl,Sl],gt=[];function el(l,d){return l[0].summary.checkType=="street"?0:1}j=el(r),W=gt[j]=tl[j](r);const ll=[Hl,xl],Ct=[];function al(l,d){return l[0].summary.checkType=="path"?0:1}q=al(r),B=Ct[q]=ll[q](r);let Gt=Cl(r[1].jat),R=[];for(let l=0;l<Gt.length;l+=1)R[l]=bl(Tl(r,Gt,l));return{c(){a=o("table"),c=o("caption"),c.textContent=i,g=f(),u=o("tr"),C=o("th"),C.textContent=e,y=f(),nt=o("td"),Tt=m(J),bt=f(),K=o("tr"),M=o("th"),M.textContent=re,kt=f(),rt=o("td"),$t=m(Y),Et=f(),A=o("tr"),E=o("th"),E.textContent=ot,At=f(),st=o("td"),yt=m(z),Lt=f(),F=o("tr"),I=o("th"),I.textContent=oe,Rt=f(),it=o("td"),Dt=m(U),St=f(),N=o("tr"),k=o("th"),k.textContent=ft,It=f(),vt=o("td"),Pt=m(G),ht=f(),P=o("table"),H=o("caption"),H.textContent=se,xt=f(),X=o("tr"),X.innerHTML=mt,Nt=f(),L=o("tr"),ct=o("td"),T=m(Q),b=f(),pt=o("td"),jt=m(ie),Wt=f(),x=o("td"),qt=m(fe),Bt=f(),S=o("td"),Jt=m(ve),Kt=f(),ce=o("td"),Re=m(Be),Te=f(),Z=o("table"),Ht=o("caption"),Ht.textContent=Je,De=f(),Yt=o("tr"),Yt.innerHTML=Ke,Se=f(),w=o("tr"),de=o("td"),Pe=m(Ye),xe=f(),_e=o("td"),He=m(ze),we=f(),ue=o("td"),Oe=m(Fe),Me=f(),he=o("td"),Ae=m(Ue),Ie=f(),me=o("td"),Ne=m(Ge),be=f(),wt=o("h2"),wt.textContent=Qe,ke=f(),W.c(),zt=f(),Ot=o("h2"),Ot.textContent=Ve,$e=f(),B.c(),Ft=f(),V=o("table"),Mt=o("caption"),Mt.textContent=Xe,je=f(),Ut=o("tr"),Ut.innerHTML=Ze,We=f();for(let l=0;l<R.length;l+=1)R[l].c();this.h()},l(l){a=s(l,"TABLE",{});var d=_(a);c=s(d,"CAPTION",{class:!0,"data-svelte-h":!0}),$(c)!=="svelte-wsc00j"&&(c.textContent=i),g=v(d),u=s(d,"TR",{});var O=_(u);C=s(O,"TH",{"data-svelte-h":!0}),$(C)!=="svelte-9b7ad8"&&(C.textContent=e),y=v(O),nt=s(O,"TD",{});var Qt=_(nt);Tt=p(Qt,J),Qt.forEach(n),O.forEach(n),bt=v(d),K=s(d,"TR",{});var D=_(K);M=s(D,"TH",{"data-svelte-h":!0}),$(M)!=="svelte-23tdnw"&&(M.textContent=re),kt=v(D),rt=s(D,"TD",{});var pe=_(rt);$t=p(pe,Y),pe.forEach(n),D.forEach(n),Et=v(d),A=s(d,"TR",{});var Ee=_(A);E=s(Ee,"TH",{"data-svelte-h":!0}),$(E)!=="svelte-1qwcyrc"&&(E.textContent=ot),At=v(Ee),st=s(Ee,"TD",{});var nl=_(st);yt=p(nl,z),nl.forEach(n),Ee.forEach(n),Lt=v(d),F=s(d,"TR",{});var ye=_(F);I=s(ye,"TH",{"data-svelte-h":!0}),$(I)!=="svelte-1hvpp5a"&&(I.textContent=oe),Rt=v(ye),it=s(ye,"TD",{});var rl=_(it);Dt=p(rl,U),rl.forEach(n),ye.forEach(n),St=v(d),N=s(d,"TR",{});var Le=_(N);k=s(Le,"TH",{"data-svelte-h":!0}),$(k)!=="svelte-nix1wk"&&(k.textContent=ft),It=v(Le),vt=s(Le,"TD",{});var ol=_(vt);Pt=p(ol,G),ol.forEach(n),Le.forEach(n),d.forEach(n),ht=v(l),P=s(l,"TABLE",{});var Vt=_(P);H=s(Vt,"CAPTION",{class:!0,"data-svelte-h":!0}),$(H)!=="svelte-ryvefa"&&(H.textContent=se),xt=v(Vt),X=s(Vt,"TR",{"data-svelte-h":!0}),$(X)!=="svelte-yyn3b"&&(X.innerHTML=mt),Nt=v(Vt),L=s(Vt,"TR",{});var tt=_(L);ct=s(tt,"TD",{});var sl=_(ct);T=p(sl,Q),sl.forEach(n),b=v(tt),pt=s(tt,"TD",{});var il=_(pt);jt=p(il,ie),il.forEach(n),Wt=v(tt),x=s(tt,"TD",{});var fl=_(x);qt=p(fl,fe),fl.forEach(n),Bt=v(tt),S=s(tt,"TD",{});var vl=_(S);Jt=p(vl,ve),vl.forEach(n),Kt=v(tt),ce=s(tt,"TD",{});var cl=_(ce);Re=p(cl,Be),cl.forEach(n),tt.forEach(n),Vt.forEach(n),Te=v(l),Z=s(l,"TABLE",{});var Xt=_(Z);Ht=s(Xt,"CAPTION",{class:!0,"data-svelte-h":!0}),$(Ht)!=="svelte-cpp4n"&&(Ht.textContent=Je),De=v(Xt),Yt=s(Xt,"TR",{"data-svelte-h":!0}),$(Yt)!=="svelte-16gp70r"&&(Yt.innerHTML=Ke),Se=v(Xt),w=s(Xt,"TR",{});var et=_(w);de=s(et,"TD",{});var dl=_(de);Pe=p(dl,Ye),dl.forEach(n),xe=v(et),_e=s(et,"TD",{});var _l=_(_e);He=p(_l,ze),_l.forEach(n),we=v(et),ue=s(et,"TD",{});var ul=_(ue);Oe=p(ul,Fe),ul.forEach(n),Me=v(et),he=s(et,"TD",{});var hl=_(he);Ae=p(hl,Ue),hl.forEach(n),Ie=v(et),me=s(et,"TD",{});var ml=_(me);Ne=p(ml,Ge),ml.forEach(n),et.forEach(n),Xt.forEach(n),be=v(l),wt=s(l,"H2",{"data-svelte-h":!0}),$(wt)!=="svelte-12wm74b"&&(wt.textContent=Qe),ke=v(l),W.l(l),zt=v(l),Ot=s(l,"H2",{"data-svelte-h":!0}),$(Ot)!=="svelte-1n49cye"&&(Ot.textContent=Ve),$e=v(l),B.l(l),Ft=v(l),V=s(l,"TABLE",{});var Zt=_(V);Mt=s(Zt,"CAPTION",{class:!0,"data-svelte-h":!0}),$(Mt)!=="svelte-1wa1due"&&(Mt.textContent=Xe),je=v(Zt),Ut=s(Zt,"TR",{"data-svelte-h":!0}),$(Ut)!=="svelte-1foehd"&&(Ut.innerHTML=Ze),We=v(Zt);for(let qe=0;qe<R.length;qe+=1)R[qe].l(Zt);Zt.forEach(n),this.h()},h(){Ce(c,"class","govuk-table__caption govuk-table__caption--m"),Ce(H,"class","govuk-table__caption govuk-table__caption--m"),Ce(Ht,"class","govuk-table__caption govuk-table__caption--m"),Ce(Mt,"class","govuk-table__caption govuk-table__caption--m")},m(l,d){h(l,a,d),t(a,c),t(a,g),t(a,u),t(u,C),t(u,y),t(u,nt),t(nt,Tt),t(a,bt),t(a,K),t(K,M),t(K,kt),t(K,rt),t(rt,$t),t(a,Et),t(a,A),t(A,E),t(A,At),t(A,st),t(st,yt),t(a,Lt),t(a,F),t(F,I),t(F,Rt),t(F,it),t(it,Dt),t(a,St),t(a,N),t(N,k),t(N,It),t(N,vt),t(vt,Pt),h(l,ht,d),h(l,P,d),t(P,H),t(P,xt),t(P,X),t(P,Nt),t(P,L),t(L,ct),t(ct,T),t(L,b),t(L,pt),t(pt,jt),t(L,Wt),t(L,x),t(x,qt),t(L,Bt),t(L,S),t(S,Jt),t(L,Kt),t(L,ce),t(ce,Re),h(l,Te,d),h(l,Z,d),t(Z,Ht),t(Z,De),t(Z,Yt),t(Z,Se),t(Z,w),t(w,de),t(de,Pe),t(w,xe),t(w,_e),t(_e,He),t(w,we),t(w,ue),t(ue,Oe),t(w,Me),t(w,he),t(he,Ae),t(w,Ie),t(w,me),t(me,Ne),h(l,be,d),h(l,wt,d),h(l,ke,d),gt[j].m(l,d),h(l,zt,d),h(l,Ot,d),h(l,$e,d),Ct[q].m(l,d),h(l,Ft,d),h(l,V,d),t(V,Mt),t(V,je),t(V,Ut),t(V,We);for(let O=0;O<R.length;O+=1)R[O]&&R[O].m(V,null);dt=!0},p(l,[d]){(!dt||d&1)&&J!==(J=l[0].summary.schemeName+"")&&ge(Tt,J),(!dt||d&1)&&Y!==(Y=l[0].summary.schemeReference+"")&&ge($t,Y),(!dt||d&1)&&z!==(z=l[0].summary.authority+"")&&ge(yt,z),(!dt||d&1)&&U!==(U=l[0].summary.designStage+"")&&ge(Dt,U),(!dt||d&1)&&G!==(G=l[0].summary.assessedRouteLengthKm+"")&&ge(Pt,G);let O=j;j=el(l),j===O?gt[j].p(l,d):(gl(),lt(gt[O],1,1,()=>{gt[O]=null}),pl(),W=gt[j],W?W.p(l,d):(W=gt[j]=tl[j](l),W.c()),at(W,1),W.m(zt.parentNode,zt));let Qt=q;if(q=al(l),q===Qt?Ct[q].p(l,d):(gl(),lt(Ct[Qt],1,1,()=>{Ct[Qt]=null}),pl(),B=Ct[q],B?B.p(l,d):(B=Ct[q]=ll[q](l),B.c()),at(B,1),B.m(Ft.parentNode,Ft)),d&2){Gt=Cl(l[1].jat);let D;for(D=0;D<Gt.length;D+=1){const pe=Tl(l,Gt,D);R[D]?R[D].p(pe,d):(R[D]=bl(pe),R[D].c(),R[D].m(V,null))}for(;D<R.length;D+=1)R[D].d(1);R.length=Gt.length}},i(l){dt||(at(W),at(B),dt=!0)},o(l){lt(W),lt(B),dt=!1},d(l){l&&(n(a),n(ht),n(P),n(Te),n(Z),n(be),n(wt),n(ke),n(zt),n(Ot),n($e),n(Ft),n(V)),gt[j].d(l),Ct[q].d(l),$l(R,l)}}}function _t(r){return r==null?"Not Completed":`${r}%`}function Ml(r,a,c){let i;El(r,Rl,e=>c(0,i=e));let g=Dl(i),u={existing:i.policyConflictLog.filter(e=>e.stage=="Existing").length,designed:i.policyConflictLog.filter(e=>e.stage=="Design").length,removed:i.policyConflictLog.filter(e=>e.resolved=="Yes").length},C={existing:i.criticalIssues.filter(e=>e.stage=="Existing").length,designed:i.criticalIssues.filter(e=>e.stage=="Design").length,removed:i.criticalIssues.filter(e=>e.resolved=="Yes").length};return[i,g,u,C]}class Bl extends yl{constructor(a){super(),Ll(this,a,Ml,Ol,kl,{})}}export{Bl as component};
