import{s as De,v as Le,e as u,a as p,t as H,c as _,b as $,p as L,g as k,d as E,f as n,r as $e,i as o,h as d,w as He,k as Ee,n as z,j as bt}from"../chunks/scheduler.BBS-fkhU.js";import{S as Se,i as Pe,e as Oe,c as Yt,a as Bt,m as Jt,b as ft,f as Ne,t as ut,d as Ft,g as Me}from"../chunks/index.B8H3ypVf.js";import{b as F}from"../chunks/paths.kKAQ66tZ.js";import{T as we}from"../chunks/TextArea.Ck6ITb4v.js";import{s as ke}from"../chunks/data.ylsfYrtw.js";import{n as _t,g as Ae}from"../chunks/results.D2NEIWig.js";import{L as Te}from"../chunks/LevelOfServiceTable.BHj-lo0e.js";function Re(s){let t;return{c(){t=H("No further action")},l(i){t=E(i,"No further action")},m(i,l){o(i,t,l)},d(i){i&&n(t)}}}function qe(s){let t;return{c(){t=H("View Comments in Policy Check and Policy Conflict Log tabs")},l(i){t=E(i,"View Comments in Policy Check and Policy Conflict Log tabs")},m(i,l){o(i,t,l)},d(i){i&&n(t)}}}function ge(s){let t;return{c(){t=H("Complete Policy Check and Policy Conflict Log")},l(i){t=E(i,"Complete Policy Check and Policy Conflict Log")},m(i,l){o(i,t,l)},d(i){i&&n(t)}}}function Ie(s){let t;return{c(){t=H("No further action")},l(i){t=E(i,"No further action")},m(i,l){o(i,t,l)},d(i){i&&n(t)}}}function je(s){let t;return{c(){t=H("View Comments in Critical Issues Log")},l(i){t=E(i,"View Comments in Critical Issues Log")},m(i,l){o(i,t,l)},d(i){i&&n(t)}}}function ze(s){let t;return{c(){t=H("Complete Safety Check and Critical Issues Log")},l(i){t=E(i,"Complete Safety Check and Critical Issues Log")},m(i,l){o(i,t,l)},d(i){i&&n(t)}}}function Ve(s){let t,i="Street Check",l,a,T="N/A",b,f,h="N/A",y,c,D="N/A";return{c(){t=u("th"),t.textContent=i,l=p(),a=u("td"),a.textContent=T,b=p(),f=u("td"),f.textContent=h,y=p(),c=u("td"),c.textContent=D},l(e){t=_(e,"TH",{"data-svelte-h":!0}),L(t)!=="svelte-530xud"&&(t.textContent=i),l=k(e),a=_(e,"TD",{"data-svelte-h":!0}),L(a)!=="svelte-qmff1s"&&(a.textContent=T),b=k(e),f=_(e,"TD",{"data-svelte-h":!0}),L(f)!=="svelte-qmff1s"&&(f.textContent=h),y=k(e),c=_(e,"TD",{"data-svelte-h":!0}),L(c)!=="svelte-qmff1s"&&(c.textContent=D)},m(e,C){o(e,t,C),o(e,l,C),o(e,a,C),o(e,b,C),o(e,f,C),o(e,y,C),o(e,c,C)},p:z,d(e){e&&(n(t),n(l),n(a),n(b),n(f),n(y),n(c))}}}function Ye(s){let t,i=`<a href="${F}/route_check/street_check">Street Check</a>`,l,a,T=I(V(s[0].streetCheck))+"",b,f,h,y=_t(s[5].overall)+"",c,D,e,C="TODO";return{c(){t=u("th"),t.innerHTML=i,l=p(),a=u("td"),b=H(T),f=p(),h=u("td"),c=H(y),D=p(),e=u("td"),e.textContent=C},l(r){t=_(r,"TH",{"data-svelte-h":!0}),L(t)!=="svelte-14sg6jx"&&(t.innerHTML=i),l=k(r),a=_(r,"TD",{});var m=$(a);b=E(m,T),m.forEach(n),f=k(r),h=_(r,"TD",{});var S=$(h);c=E(S,y),S.forEach(n),D=k(r),e=_(r,"TD",{"data-svelte-h":!0}),L(e)!=="svelte-1mugsmu"&&(e.textContent=C)},m(r,m){o(r,t,m),o(r,l,m),o(r,a,m),d(a,b),o(r,f,m),o(r,h,m),d(h,c),o(r,D,m),o(r,e,m)},p(r,m){m&1&&T!==(T=I(V(r[0].streetCheck))+"")&&bt(b,T)},d(r){r&&(n(t),n(l),n(a),n(f),n(h),n(D),n(e))}}}function Be(s){let t,i="Street Placemaking",l,a,T="N/A",b,f,h="N/A",y,c,D="N/A";return{c(){t=u("th"),t.textContent=i,l=p(),a=u("td"),a.textContent=T,b=p(),f=u("td"),f.textContent=h,y=p(),c=u("td"),c.textContent=D},l(e){t=_(e,"TH",{"data-svelte-h":!0}),L(t)!=="svelte-ps2sgv"&&(t.textContent=i),l=k(e),a=_(e,"TD",{"data-svelte-h":!0}),L(a)!=="svelte-qmff1s"&&(a.textContent=T),b=k(e),f=_(e,"TD",{"data-svelte-h":!0}),L(f)!=="svelte-qmff1s"&&(f.textContent=h),y=k(e),c=_(e,"TD",{"data-svelte-h":!0}),L(c)!=="svelte-qmff1s"&&(c.textContent=D)},m(e,C){o(e,t,C),o(e,l,C),o(e,a,C),o(e,b,C),o(e,f,C),o(e,y,C),o(e,c,C)},p:z,d(e){e&&(n(t),n(l),n(a),n(b),n(f),n(y),n(c))}}}function Je(s){let t,i=`<a href="${F}/route_check/street_placemaking_check">Street Placemaking</a>`,l,a,T=I(V(s[0].streetPlacemakingCheck))+"",b,f,h,y=_t(s[5].placemakingOverall)+"",c,D,e,C="TODO";return{c(){t=u("th"),t.innerHTML=i,l=p(),a=u("td"),b=H(T),f=p(),h=u("td"),c=H(y),D=p(),e=u("td"),e.textContent=C},l(r){t=_(r,"TH",{"data-svelte-h":!0}),L(t)!=="svelte-1g8vz7s"&&(t.innerHTML=i),l=k(r),a=_(r,"TD",{});var m=$(a);b=E(m,T),m.forEach(n),f=k(r),h=_(r,"TD",{});var S=$(h);c=E(S,y),S.forEach(n),D=k(r),e=_(r,"TD",{"data-svelte-h":!0}),L(e)!=="svelte-1mugsmu"&&(e.textContent=C)},m(r,m){o(r,t,m),o(r,l,m),o(r,a,m),d(a,b),o(r,f,m),o(r,h,m),d(h,c),o(r,D,m),o(r,e,m)},p(r,m){m&1&&T!==(T=I(V(r[0].streetPlacemakingCheck))+"")&&bt(b,T)},d(r){r&&(n(t),n(l),n(a),n(f),n(h),n(D),n(e))}}}function Fe(s){let t,i="Path Check",l,a,T="N/A",b,f,h="N/A",y,c,D="N/A";return{c(){t=u("th"),t.textContent=i,l=p(),a=u("td"),a.textContent=T,b=p(),f=u("td"),f.textContent=h,y=p(),c=u("td"),c.textContent=D},l(e){t=_(e,"TH",{"data-svelte-h":!0}),L(t)!=="svelte-1wf56dp"&&(t.textContent=i),l=k(e),a=_(e,"TD",{"data-svelte-h":!0}),L(a)!=="svelte-qmff1s"&&(a.textContent=T),b=k(e),f=_(e,"TD",{"data-svelte-h":!0}),L(f)!=="svelte-qmff1s"&&(f.textContent=h),y=k(e),c=_(e,"TD",{"data-svelte-h":!0}),L(c)!=="svelte-qmff1s"&&(c.textContent=D)},m(e,C){o(e,t,C),o(e,l,C),o(e,a,C),o(e,b,C),o(e,f,C),o(e,y,C),o(e,c,C)},p:z,d(e){e&&(n(t),n(l),n(a),n(b),n(f),n(y),n(c))}}}function Ge(s){let t,i=`<a href="${F}/route_check/path_check">Path Check</a>`,l,a,T=I(V(s[0].pathCheck))+"",b,f,h,y=_t(s[5].overall)+"",c,D,e,C="TODO";return{c(){t=u("th"),t.innerHTML=i,l=p(),a=u("td"),b=H(T),f=p(),h=u("td"),c=H(y),D=p(),e=u("td"),e.textContent=C},l(r){t=_(r,"TH",{"data-svelte-h":!0}),L(t)!=="svelte-1x4olbp"&&(t.innerHTML=i),l=k(r),a=_(r,"TD",{});var m=$(a);b=E(m,T),m.forEach(n),f=k(r),h=_(r,"TD",{});var S=$(h);c=E(S,y),S.forEach(n),D=k(r),e=_(r,"TD",{"data-svelte-h":!0}),L(e)!=="svelte-1mugsmu"&&(e.textContent=C)},m(r,m){o(r,t,m),o(r,l,m),o(r,a,m),d(a,b),o(r,f,m),o(r,h,m),d(h,c),o(r,D,m),o(r,e,m)},p(r,m){m&1&&T!==(T=I(V(r[0].pathCheck))+"")&&bt(b,T)},d(r){r&&(n(t),n(l),n(a),n(f),n(h),n(D),n(e))}}}function Ke(s){let t,i="Path Placemaking",l,a,T="N/A",b,f,h="N/A",y,c,D="N/A";return{c(){t=u("th"),t.textContent=i,l=p(),a=u("td"),a.textContent=T,b=p(),f=u("td"),f.textContent=h,y=p(),c=u("td"),c.textContent=D},l(e){t=_(e,"TH",{"data-svelte-h":!0}),L(t)!=="svelte-k2805z"&&(t.textContent=i),l=k(e),a=_(e,"TD",{"data-svelte-h":!0}),L(a)!=="svelte-qmff1s"&&(a.textContent=T),b=k(e),f=_(e,"TD",{"data-svelte-h":!0}),L(f)!=="svelte-qmff1s"&&(f.textContent=h),y=k(e),c=_(e,"TD",{"data-svelte-h":!0}),L(c)!=="svelte-qmff1s"&&(c.textContent=D)},m(e,C){o(e,t,C),o(e,l,C),o(e,a,C),o(e,b,C),o(e,f,C),o(e,y,C),o(e,c,C)},p:z,d(e){e&&(n(t),n(l),n(a),n(b),n(f),n(y),n(c))}}}function Qe(s){let t,i=`<a href="${F}/route_check/path_placemaking_check">Path Placemaking</a>`,l,a,T=I(V(s[0].pathPlacemakingCheck))+"",b,f,h,y=_t(s[5].placemakingOverall)+"",c,D,e,C="TODO";return{c(){t=u("th"),t.innerHTML=i,l=p(),a=u("td"),b=H(T),f=p(),h=u("td"),c=H(y),D=p(),e=u("td"),e.textContent=C},l(r){t=_(r,"TH",{"data-svelte-h":!0}),L(t)!=="svelte-6kai2y"&&(t.innerHTML=i),l=k(r),a=_(r,"TD",{});var m=$(a);b=E(m,T),m.forEach(n),f=k(r),h=_(r,"TD",{});var S=$(h);c=E(S,y),S.forEach(n),D=k(r),e=_(r,"TD",{"data-svelte-h":!0}),L(e)!=="svelte-1mugsmu"&&(e.textContent=C)},m(r,m){o(r,t,m),o(r,l,m),o(r,a,m),d(a,b),o(r,f,m),o(r,h,m),d(h,c),o(r,D,m),o(r,e,m)},p(r,m){m&1&&T!==(T=I(V(r[0].pathPlacemakingCheck))+"")&&bt(b,T)},d(r){r&&(n(t),n(l),n(a),n(f),n(h),n(D),n(e))}}}function Ue(s){let t,i="Select Street Check or Path Check for further results";return{c(){t=u("h2"),t.textContent=i},l(l){t=_(l,"H2",{"data-svelte-h":!0}),L(t)!=="svelte-svuhxy"&&(t.textContent=i)},m(l,a){o(l,t,a)},p:z,i:z,o:z,d(l){l&&n(t)}}}function We(s){let t,i;return t=new Te({props:{caption:"Path Check Level of Service",categories:s[5].levelOfService,overall:s[5].overall,overallLabel:"Overall ATE Score"}}),{c(){Yt(t.$$.fragment)},l(l){Bt(t.$$.fragment,l)},m(l,a){Jt(t,l,a),i=!0},p:z,i(l){i||(ut(t.$$.fragment,l),i=!0)},o(l){ft(t.$$.fragment,l),i=!1},d(l){Ft(t,l)}}}function Xe(s){let t,i;return t=new Te({props:{caption:"Street Check Level of Service",categories:s[5].levelOfService,overall:s[5].overall,overallLabel:"Overall ATE Score"}}),{c(){Yt(t.$$.fragment)},l(l){Bt(t.$$.fragment,l)},m(l,a){Jt(t,l,a),i=!0},p:z,i(l){i||(ut(t.$$.fragment,l),i=!0)},o(l){ft(t.$$.fragment,l),i=!1},d(l){Ft(t,l)}}}function Ze(s){let t,i,l="Overview",a,T,b="<th></th> <th>Complete</th> <th>Remaining issues for review</th> <th>Next steps</th>",f,h,y,c=`<a href="${F}/route_check/problems_map">Policy Conflicts</a>`,D,e,C=I(s[1])+"",r,m,S,xt,yt,nt,Dt,M,G,Gt=`<a href="${F}/route_check/problems_map">Critical Issues</a>`,Lt,rt,Kt=I(s[3])+"",$t,Ht,it,Et,St,at,Pt,K,Qt="<th></th> <th>Complete</th> <th>Net difference</th> <th>Next steps</th>",Ot,w,Q,Ut=`<a href="${F}/route_check/safety_check">Safety Check</a>`,Nt,ot,Wt=I(s[3])+"",Mt,wt,st,Xt=_t(s[5].safetyCheck)+"",At,Rt,U,Zt="TODO",qt,W,gt,X,It,Z,jt,tt,zt,et,te=`<th><a href="${F}/route_check/jat_check">Junction Assessment Tool Check</a></th> <td>TODO</td> <td>TODO</td> <td>TODO</td>`,vt,P,O,lt,j,Vt,dt;function be(v,x){return v[1]?v[2]>0?qe:Re:ge}let mt=be(s)(s);function xe(v,x){return v[3]?v[4]>0?je:Ie:ze}let ht=xe(s)(s);function ee(v,x){return v[0].summary.checkType=="street"?Ye:Ve}let Ct=ee(s),A=Ct(s);function le(v,x){return v[0].summary.checkType=="street"?Je:Be}let pt=le(s),R=pt(s);function ne(v,x){return v[0].summary.checkType=="path"?Ge:Fe}let kt=ne(s),q=kt(s);function re(v,x){return v[0].summary.checkType=="path"?Qe:Ke}let Tt=re(s),g=Tt(s);const ie=[Xe,We,Ue],Y=[];function ae(v,x){return v[0].summary.checkType=="street"?0:v[0].summary.checkType=="path"?1:2}P=ae(s),O=Y[P]=ie[P](s);function ye(v){s[6](v)}let oe={label:"Review statement"};return s[0].resultsReviewStatement!==void 0&&(oe.value=s[0].resultsReviewStatement),j=new we({props:oe}),Le.push(()=>Oe(j,"value",ye)),{c(){t=u("table"),i=u("caption"),i.textContent=l,a=p(),T=u("tr"),T.innerHTML=b,f=p(),h=u("tr"),y=u("th"),y.innerHTML=c,D=p(),e=u("td"),r=H(C),m=p(),S=u("td"),xt=H(s[2]),yt=p(),nt=u("td"),mt.c(),Dt=p(),M=u("tr"),G=u("th"),G.innerHTML=Gt,Lt=p(),rt=u("td"),$t=H(Kt),Ht=p(),it=u("td"),Et=H(s[4]),St=p(),at=u("td"),ht.c(),Pt=p(),K=u("tr"),K.innerHTML=Qt,Ot=p(),w=u("tr"),Q=u("th"),Q.innerHTML=Ut,Nt=p(),ot=u("td"),Mt=H(Wt),wt=p(),st=u("td"),At=H(Xt),Rt=p(),U=u("td"),U.textContent=Zt,qt=p(),W=u("tr"),A.c(),gt=p(),X=u("tr"),R.c(),It=p(),Z=u("tr"),q.c(),jt=p(),tt=u("tr"),g.c(),zt=p(),et=u("tr"),et.innerHTML=te,vt=p(),O.c(),lt=p(),Yt(j.$$.fragment),this.h()},l(v){t=_(v,"TABLE",{});var x=$(t);i=_(x,"CAPTION",{class:!0,"data-svelte-h":!0}),L(i)!=="svelte-1ctvdmv"&&(i.textContent=l),a=k(x),T=_(x,"TR",{"data-svelte-h":!0}),L(T)!=="svelte-pzuoo6"&&(T.innerHTML=b),f=k(x),h=_(x,"TR",{});var N=$(h);y=_(N,"TH",{"data-svelte-h":!0}),L(y)!=="svelte-l97vya"&&(y.innerHTML=c),D=k(N),e=_(N,"TD",{});var ct=$(e);r=E(ct,C),ct.forEach(n),m=k(N),S=_(N,"TD",{});var se=$(S);xt=E(se,s[2]),se.forEach(n),yt=k(N),nt=_(N,"TD",{});var ce=$(nt);mt.l(ce),ce.forEach(n),N.forEach(n),Dt=k(x),M=_(x,"TR",{});var B=$(M);G=_(B,"TH",{"data-svelte-h":!0}),L(G)!=="svelte-vvsvli"&&(G.innerHTML=Gt),Lt=k(B),rt=_(B,"TD",{});var fe=$(rt);$t=E(fe,Kt),fe.forEach(n),Ht=k(B),it=_(B,"TD",{});var ue=$(it);Et=E(ue,s[4]),ue.forEach(n),St=k(B),at=_(B,"TD",{});var _e=$(at);ht.l(_e),_e.forEach(n),B.forEach(n),Pt=k(x),K=_(x,"TR",{"data-svelte-h":!0}),L(K)!=="svelte-x874yx"&&(K.innerHTML=Qt),Ot=k(x),w=_(x,"TR",{});var J=$(w);Q=_(J,"TH",{"data-svelte-h":!0}),L(Q)!=="svelte-1plvhjt"&&(Q.innerHTML=Ut),Nt=k(J),ot=_(J,"TD",{});var ve=$(ot);Mt=E(ve,Wt),ve.forEach(n),wt=k(J),st=_(J,"TD",{});var de=$(st);At=E(de,Xt),de.forEach(n),Rt=k(J),U=_(J,"TD",{"data-svelte-h":!0}),L(U)!=="svelte-1mugsmu"&&(U.textContent=Zt),J.forEach(n),qt=k(x),W=_(x,"TR",{});var me=$(W);A.l(me),me.forEach(n),gt=k(x),X=_(x,"TR",{});var he=$(X);R.l(he),he.forEach(n),It=k(x),Z=_(x,"TR",{});var Ce=$(Z);q.l(Ce),Ce.forEach(n),jt=k(x),tt=_(x,"TR",{});var pe=$(tt);g.l(pe),pe.forEach(n),zt=k(x),et=_(x,"TR",{"data-svelte-h":!0}),L(et)!=="svelte-bwenzo"&&(et.innerHTML=te),x.forEach(n),vt=k(v),O.l(v),lt=k(v),Bt(j.$$.fragment,v),this.h()},h(){$e(i,"class","govuk-table__caption govuk-table__caption--m")},m(v,x){o(v,t,x),d(t,i),d(t,a),d(t,T),d(t,f),d(t,h),d(h,y),d(h,D),d(h,e),d(e,r),d(h,m),d(h,S),d(S,xt),d(h,yt),d(h,nt),mt.m(nt,null),d(t,Dt),d(t,M),d(M,G),d(M,Lt),d(M,rt),d(rt,$t),d(M,Ht),d(M,it),d(it,Et),d(M,St),d(M,at),ht.m(at,null),d(t,Pt),d(t,K),d(t,Ot),d(t,w),d(w,Q),d(w,Nt),d(w,ot),d(ot,Mt),d(w,wt),d(w,st),d(st,At),d(w,Rt),d(w,U),d(t,qt),d(t,W),A.m(W,null),d(t,gt),d(t,X),R.m(X,null),d(t,It),d(t,Z),q.m(Z,null),d(t,jt),d(t,tt),g.m(tt,null),d(t,zt),d(t,et),o(v,vt,x),Y[P].m(v,x),o(v,lt,x),Jt(j,v,x),dt=!0},p(v,[x]){Ct===(Ct=ee(v))&&A?A.p(v,x):(A.d(1),A=Ct(v),A&&(A.c(),A.m(W,null))),pt===(pt=le(v))&&R?R.p(v,x):(R.d(1),R=pt(v),R&&(R.c(),R.m(X,null))),kt===(kt=ne(v))&&q?q.p(v,x):(q.d(1),q=kt(v),q&&(q.c(),q.m(Z,null))),Tt===(Tt=re(v))&&g?g.p(v,x):(g.d(1),g=Tt(v),g&&(g.c(),g.m(tt,null)));let N=P;P=ae(v),P===N?Y[P].p(v,x):(Me(),ft(Y[N],1,1,()=>{Y[N]=null}),Ne(),O=Y[P],O?O.p(v,x):(O=Y[P]=ie[P](v),O.c()),ut(O,1),O.m(lt.parentNode,lt));const ct={};!Vt&&x&1&&(Vt=!0,ct.value=v[0].resultsReviewStatement,He(()=>Vt=!1)),j.$set(ct)},i(v){dt||(ut(O),ut(j.$$.fragment,v),dt=!0)},o(v){ft(O),ft(j.$$.fragment,v),dt=!1},d(v){v&&(n(t),n(vt),n(lt)),mt.d(),ht.d(),A.d(),R.d(),q.d(),g.d(),Y[P].d(v),Ft(j,v)}}}function I(s){return s?"Yes":"No"}function V(s){return!s.existingScores.includes("")&&!s.proposedScores.includes("")}function tl(s,t,i){let l;Ee(s,ke,c=>i(0,l=c));let a=l.policyCheck.every(c=>c.existing!=""&&c.proposed!=""),T=l.policyConflictLog.filter(c=>c.resolved!="Yes").length,b=V(l.safetyCheck),f=l.criticalIssues.filter(c=>c.resolved!="Yes").length,h=Ae(l);function y(c){s.$$.not_equal(l.resultsReviewStatement,c)&&(l.resultsReviewStatement=c,ke.set(l))}return[l,a,T,b,f,h,y]}class fl extends Se{constructor(t){super(),Pe(this,t,tl,Ze,De,{})}}export{fl as component};
