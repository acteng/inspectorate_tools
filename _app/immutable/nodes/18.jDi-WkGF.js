var Zs=Object.defineProperty;var Xs=(r,e,t)=>e in r?Zs(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Ee=(r,e,t)=>(Xs(r,typeof e!="symbol"?e+"":e,t),t);import{s as ge,o as kt,A as ni,e as $,c as ee,b as ae,f as B,B as mo,i as G,z as ze,u as Et,p as At,q as Ot,C as yo,D as Se,O as pt,P as bt,h as A,j as W,n as me,a as K,t as Be,d as Q,k as Ie,a5 as ut,x as Dt,H as Li,a6 as Ne,g as Qr,K as dt,a7 as $r,y as ho,a8 as Ys,a4 as Ci,a9 as wt,r as ke,E as Ue,R as xs,aa as sl,ab as Vs,l as Te,m as _t,v as Oe,T as Js,J as Ks,ac as Qs}from"../chunks/scheduler.C7sFXDHP.js";import{S as be,i as _e,t as R,b as z,c as X,a as Y,m as x,g as Je,f as Ke,d as V,e as Le}from"../chunks/index.D6IPCUr9.js";import{p as ur}from"../chunks/index.CbvUSLjI.js";import{S as fr}from"../chunks/Select.CEiqBpKI.js";import{T as Nr}from"../chunks/TextArea.CRW6lZsX.js";import{T as cr}from"../chunks/TextInput.CMPwon1p.js";import{s as Ae}from"../chunks/data.UvJOykFg.js";import{c as $s,e as go,u as eu,o as tu,h as ru,m as tr,g as Ti,a as bn,b as ul,B as nu}from"../chunks/Geocoder.svelte_svelte_type_style_lang.DxzexNQm.js";import{g as iu}from"../chunks/spread.CN4WR7uZ.js";import{S as Fn}from"../chunks/SecondaryButton.Du9pHCQb.js";import{W as ou}from"../chunks/WarningButton.CBoGtuPS.js";import{w as nt,r as Rn}from"../chunks/index.AW5q2fSs.js";import"../chunks/paths.x1tnQGq-.js";import{a as au,t as lu,r as su,f as uu,d as fu}from"../chunks/lists.Ci0sBo6t.js";function cu(r){let e,t,n,i;const o=r[2].default,a=kt(o,r,r[1],null);let l=[{type:"button"},{class:"govuk-button"},{"data-module":"govuk-button"},r[0]],s={};for(let u=0;u<l.length;u+=1)s=ni(s,l[u]);return{c(){e=$("button"),a&&a.c(),this.h()},l(u){e=ee(u,"BUTTON",{type:!0,class:!0,"data-module":!0});var c=ae(e);a&&a.l(c),c.forEach(B),this.h()},h(){mo(e,s)},m(u,c){G(u,e,c),a&&a.m(e,null),e.autofocus&&e.focus(),t=!0,n||(i=ze(e,"click",r[3]),n=!0)},p(u,[c]){a&&a.p&&(!t||c&2)&&Et(a,o,u,u[1],t?Ot(o,u[1],c,null):At(u[1]),null),mo(e,s=iu(l,[{type:"button"},{class:"govuk-button"},{"data-module":"govuk-button"},c&1&&u[0]]))},i(u){t||(R(a,u),t=!0)},o(u){z(a,u),t=!1},d(u){u&&B(e),a&&a.d(u),n=!1,i()}}}function mu(r,e,t){let{$$slots:n={},$$scope:i}=e;function o(a){Se.call(this,r,a)}return r.$$set=a=>{t(0,e=ni(ni({},e),yo(a))),"$$scope"in a&&t(1,i=a.$$scope)},e=yo(e),[e,i,n,o]}class yu extends be{constructor(e){super(),_e(this,e,mu,cu,ge,{})}}function hu(r){let e,t;return{c(){e=pt("svg"),t=pt("path"),this.h()},l(n){e=bt(n,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var i=ae(e);t=bt(i,"path",{d:!0}),ae(t).forEach(B),i.forEach(B),this.h()},h(){A(t,"d","M13.12.706a.982.982 0 0 0-1.391 0L6.907 5.517 2.087.696a.982.982 0 1 0-1.391 1.39l4.821 4.821L.696 11.73a.982.982 0 1 0 1.39 1.39l4.821-4.821 4.822 4.821a.982.982 0 1 0 1.39-1.39L8.298 6.908l4.821-4.822a.988.988 0 0 0 0-1.38Z"),A(e,"viewBox","0 0 14 14"),A(e,"width","13"),A(e,"height","13"),A(e,"class","svelte-en2qvf")},m(n,i){G(n,e,i),W(e,t)},p:me,i:me,o:me,d(n){n&&B(e)}}}class fl extends be{constructor(e){super(),_e(this,e,null,hu,ge,{})}}function gu(r){let e,t;return{c(){e=pt("svg"),t=pt("path"),this.h()},l(n){e=bt(n,"svg",{viewBox:!0,fill:!0,xmlns:!0,class:!0});var i=ae(e);t=bt(i,"path",{d:!0}),ae(t).forEach(B),i.forEach(B),this.h()},h(){A(t,"d","M15 0C6.705 0 0 6.705 0 15C0 23.295 6.705 30 15 30C23.295 30 30 23.295 30 15C30 6.705 23.295 0 15 0ZM22.5 20.385L20.385 22.5L15 17.115L9.615 22.5L7.5 20.385L12.885 15L7.5 9.615L9.615 7.5L15 12.885L20.385 7.5L22.5 9.615L17.115 15L22.5 20.385Z"),A(e,"viewBox","0 0 30 30"),A(e,"fill","none"),A(e,"xmlns","http://www.w3.org/2000/svg"),A(e,"class","svelte-d2loi5")},m(n,i){G(n,e,i),W(e,t)},p:me,i:me,o:me,d(n){n&&B(e)}}}class cl extends be{constructor(e){super(),_e(this,e,null,gu,ge,{})}}function du(r){let e,t;return{c(){e=$("img"),this.h()},l(n){e=ee(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ne(e.src,t=r[3]+"area.svg")||A(e,"src",t),A(e,"alt",r[6]),A(e,"class","svelte-ltkwvy")},m(n,i){G(n,e,i)},p(n,i){i&8&&!Ne(e.src,t=n[3]+"area.svg")&&A(e,"src",t),i&64&&A(e,"alt",n[6])},d(n){n&&B(e)}}}function vu(r){let e,t;return{c(){e=$("img"),this.h()},l(n){e=ee(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ne(e.src,t=r[3]+"reverse.svg")||A(e,"src",t),A(e,"alt",r[6]),A(e,"class","svelte-ltkwvy")},m(n,i){G(n,e,i)},p(n,i){i&8&&!Ne(e.src,t=n[3]+"reverse.svg")&&A(e,"src",t),i&64&&A(e,"alt",n[6])},d(n){n&&B(e)}}}function pu(r){let e,t;return{c(){e=$("img"),this.h()},l(n){e=ee(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ne(e.src,t=r[3]+"poi.svg")||A(e,"src",t),A(e,"alt",r[6]),A(e,"class","svelte-ltkwvy")},m(n,i){G(n,e,i)},p(n,i){i&8&&!Ne(e.src,t=n[3]+"poi.svg")&&A(e,"src",t),i&64&&A(e,"alt",n[6])},d(n){n&&B(e)}}}function bu(r){let e,t;return{c(){e=$("img"),this.h()},l(n){e=ee(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ne(e.src,t=r[3]+"postal_code.svg")||A(e,"src",t),A(e,"alt",r[6]),A(e,"class","svelte-ltkwvy")},m(n,i){G(n,e,i)},p(n,i){i&8&&!Ne(e.src,t=n[3]+"postal_code.svg")&&A(e,"src",t),i&64&&A(e,"alt",n[6])},d(n){n&&B(e)}}}function _u(r){let e,t;return{c(){e=$("img"),this.h()},l(n){e=ee(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ne(e.src,t=r[3]+"street.svg")||A(e,"src",t),A(e,"alt",r[6]),A(e,"class","svelte-ltkwvy")},m(n,i){G(n,e,i)},p(n,i){i&8&&!Ne(e.src,t=n[3]+"street.svg")&&A(e,"src",t),i&64&&A(e,"alt",n[6])},d(n){n&&B(e)}}}function wu(r){let e,t;return{c(){e=$("img"),this.h()},l(n){e=ee(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ne(e.src,t=r[3]+"road.svg")||A(e,"src",t),A(e,"alt",r[6]),A(e,"class","svelte-ltkwvy")},m(n,i){G(n,e,i)},p(n,i){i&8&&!Ne(e.src,t=n[3]+"road.svg")&&A(e,"src",t),i&64&&A(e,"alt",n[6])},d(n){n&&B(e)}}}function Su(r){let e,t;return{c(){e=$("img"),this.h()},l(n){e=ee(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ne(e.src,t=r[3]+"housenumber.svg")||A(e,"src",t),A(e,"alt",r[6]),A(e,"class","svelte-ltkwvy")},m(n,i){G(n,e,i)},p(n,i){i&8&&!Ne(e.src,t=n[3]+"housenumber.svg")&&A(e,"src",t),i&64&&A(e,"alt",n[6])},d(n){n&&B(e)}}}function Mu(r){let e,t,n,i;return{c(){e=$("img"),this.h()},l(o){e=ee(o,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ne(e.src,t=r[5])||A(e,"src",t),A(e,"alt",r[4]),A(e,"class","svelte-ltkwvy")},m(o,a){G(o,e,a),n||(i=ze(e,"error",r[14]),n=!0)},p(o,a){a&32&&!Ne(e.src,t=o[5])&&A(e,"src",t),a&16&&A(e,"alt",o[4])},d(o){o&&B(e),n=!1,i()}}}function vo(r){let e,t;return{c(){e=$("span"),t=Be(r[6]),this.h()},l(n){e=ee(n,"SPAN",{class:!0});var i=ae(e);t=Ie(i,r[6]),i.forEach(B),this.h()},h(){A(e,"class","secondary svelte-ltkwvy")},m(n,i){G(n,e,i),W(e,t)},p(n,i){i&64&&Dt(t,n[6])},d(n){n&&B(e)}}}function Pu(r){var M,E;let e,t,n,i,o,a,l,s,u=(r[7]?r[0].place_name:r[0].place_name.replace(/,.*/,""))+"",c,m,g=r[2]==="always"||r[2]&&!r[0].address&&((M=r[0].properties)==null?void 0:M.kind)!=="road"&&((E=r[0].properties)==null?void 0:E.kind)!=="road_relation"&&!r[0].id.startsWith("address.")&&!r[0].id.startsWith("postal_code.")&&(!r[0].id.startsWith("poi.")||!r[5])&&!r[7],d,b,L=(r[7]?"":r[0].place_name.replace(/[^,]*,?\s*/,""))+"",O,C,f;function y(k,T){var v,_;return T&1&&(t=null),T&1&&(n=null),T&1&&(i=null),k[5]?Mu:k[0].address?Su:((v=k[0].properties)==null?void 0:v.kind)==="road"||((_=k[0].properties)==null?void 0:_.kind)==="road_relation"?wu:(t==null&&(t=!!k[0].id.startsWith("address.")),t?_u:(n==null&&(n=!!k[0].id.startsWith("postal_code.")),n?bu:(i==null&&(i=!!k[0].id.startsWith("poi.")),i?pu:k[7]?vu:du)))}let h=y(r,-1),p=h(r),S=g&&vo(r);return{c(){e=$("li"),p.c(),o=K(),a=$("span"),l=$("span"),s=$("span"),c=Be(u),m=K(),S&&S.c(),d=K(),b=$("span"),O=Be(L),this.h()},l(k){e=ee(k,"LI",{tabindex:!0,"data-selected":!0,class:!0});var T=ae(e);p.l(T),o=Q(T),a=ee(T,"SPAN",{class:!0});var v=ae(a);l=ee(v,"SPAN",{class:!0});var _=ae(l);s=ee(_,"SPAN",{class:!0});var N=ae(s);c=Ie(N,u),N.forEach(B),m=Q(_),S&&S.l(_),_.forEach(B),d=Q(v),b=ee(v,"SPAN",{class:!0});var I=ae(b);O=Ie(I,L),I.forEach(B),v.forEach(B),T.forEach(B),this.h()},h(){A(s,"class","primary svelte-ltkwvy"),A(l,"class","svelte-ltkwvy"),A(b,"class","line2 svelte-ltkwvy"),A(a,"class","texts svelte-ltkwvy"),A(e,"tabindex","0"),A(e,"data-selected",r[1]),A(e,"class","svelte-ltkwvy"),ut(e,"selected",r[1])},m(k,T){G(k,e,T),p.m(e,null),W(e,o),W(e,a),W(a,l),W(l,s),W(s,c),W(l,m),S&&S.m(l,null),W(a,d),W(a,b),W(b,O),C||(f=[ze(e,"mouseenter",r[12]),ze(e,"focus",r[13])],C=!0)},p(k,[T]){var v,_;h===(h=y(k,T))&&p?p.p(k,T):(p.d(1),p=h(k),p&&(p.c(),p.m(e,o))),T&1&&u!==(u=(k[7]?k[0].place_name:k[0].place_name.replace(/,.*/,""))+"")&&Dt(c,u),T&37&&(g=k[2]==="always"||k[2]&&!k[0].address&&((v=k[0].properties)==null?void 0:v.kind)!=="road"&&((_=k[0].properties)==null?void 0:_.kind)!=="road_relation"&&!k[0].id.startsWith("address.")&&!k[0].id.startsWith("postal_code.")&&(!k[0].id.startsWith("poi.")||!k[5])&&!k[7]),g?S?S.p(k,T):(S=vo(k),S.c(),S.m(l,null)):S&&(S.d(1),S=null),T&1&&L!==(L=(k[7]?"":k[0].place_name.replace(/[^,]*,?\s*/,""))+"")&&Dt(O,L),T&2&&A(e,"data-selected",k[1]),T&2&&ut(e,"selected",k[1])},i:me,o:me,d(k){k&&B(e),p.d(),S&&S.d(),C=!1,Li(f)}}}function ku(r,e,t){var y;let n,i,{feature:o}=e,{selected:a=!1}=e,{showPlaceType:l}=e,{missingIconsCache:s}=e,{iconsBaseUrl:u}=e;const c=(y=o.properties)==null?void 0:y.categories;let m,g,d=0,b=o.place_type[0]==="reverse";function L(h){g&&s.add(g),t(10,d++,d)}function O(h){Se.call(this,r,h)}function C(h){Se.call(this,r,h)}const f=h=>L(h.currentTarget);return r.$$set=h=>{"feature"in h&&t(0,o=h.feature),"selected"in h&&t(1,a=h.selected),"showPlaceType"in h&&t(2,l=h.showPlaceType),"missingIconsCache"in h&&t(9,s=h.missingIconsCache),"iconsBaseUrl"in h&&t(3,u=h.iconsBaseUrl)},r.$$.update=()=>{var h,p,S,M;if(r.$$.dirty&3640)do t(11,n--,n),t(4,m=c==null?void 0:c[n]),t(5,g=m?u+m.replace(/ /g,"_")+".svg":void 0);while(n>-1&&(!g||s.has(g)));r.$$.dirty&1&&t(6,i=o.id.startsWith("poi.")?(p=(h=o.properties)==null?void 0:h.categories)==null?void 0:p.join(", "):((M=(S=o.properties)==null?void 0:S.place_type_name)==null?void 0:M[0])??o.place_type[0])},t(11,n=(c==null?void 0:c.length)??0),[o,a,l,u,m,g,i,b,L,s,d,n,O,C,f]}class Eu extends be{constructor(e){super(),_e(this,e,ku,Pu,ge,{feature:0,selected:1,showPlaceType:2,missingIconsCache:9,iconsBaseUrl:3})}}function Au(r){let e,t='<svg viewBox="0 0 18 18" width="24" height="24" class="svelte-7cmwmc"><path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"></path><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"></path></svg>';return{c(){e=$("div"),e.innerHTML=t,this.h()},l(n){e=ee(n,"DIV",{class:!0,"data-svelte-h":!0}),Qr(e)!=="svelte-r6ogid"&&(e.innerHTML=t),this.h()},h(){A(e,"class","svelte-7cmwmc")},m(n,i){G(n,e,i)},p:me,i:me,o:me,d(n){n&&B(e)}}}class Ou extends be{constructor(e){super(),_e(this,e,null,Au,ge,{})}}function Lu(r){let e,t;return{c(){e=pt("svg"),t=pt("path"),this.h()},l(n){e=bt(n,"svg",{viewBox:!0,width:!0,height:!0,class:!0});var i=ae(e);t=bt(i,"path",{d:!0}),ae(t).forEach(B),i.forEach(B),this.h()},h(){A(t,"d","M30.003-26.765C13.46-26.765 0-14.158 0 1.337c0 23.286 24.535 42.952 28.39 46.04.24.192.402.316.471.376.323.282.732.424 1.142.424.41 0 .82-.142 1.142-.424.068-.06.231-.183.471-.376 3.856-3.09 28.39-22.754 28.39-46.04 0-15.495-13.46-28.102-30.003-28.102Zm1.757 12.469c4.38 0 7.858 1.052 10.431 3.158 2.595 2.105 3.89 4.913 3.89 8.422 0 2.34-.53 4.362-1.593 6.063-1.063 1.702-3.086 3.616-6.063 5.742-2.042 1.51-3.337 2.659-3.89 3.446-.532.787-.8 1.82-.8 3.096v1.914h-8.449V15.18c0-2.041.434-3.815 1.306-5.325.872-1.51 2.467-3.118 4.785-4.82 2.233-1.594 3.7-2.89 4.402-3.889a5.582 5.582 0 0 0 1.087-3.35c0-1.382-.51-2.435-1.531-3.158-1.02-.723-2.45-1.087-4.28-1.087-3.19 0-6.826 1.047-10.91 3.131l-3.472-6.986c4.742-2.659 9.77-3.992 15.087-3.992Zm-1.88 37.324c1.765 0 3.124.472 4.08 1.408.98.936 1.47 2.276 1.47 4.02 0 1.68-.49 3.007-1.47 3.985-.977.957-2.336 1.435-4.08 1.435-1.787 0-3.171-.465-4.15-1.4-.978-.958-1.47-2.298-1.47-4.02 0-1.787.48-3.14 1.436-4.054.957-.915 2.355-1.374 4.184-1.374Z"),A(e,"viewBox","0 0 60.006 21.412"),A(e,"width","14"),A(e,"height","20"),A(e,"class","svelte-en2qvf")},m(n,i){G(n,e,i),W(e,t)},p:me,i:me,o:me,d(n){n&&B(e)}}}class Cu extends be{constructor(e){super(),_e(this,e,null,Lu,ge,{})}}function Tu(r){let e,t,n;return{c(){e=pt("svg"),t=pt("circle"),n=pt("path"),this.h()},l(i){e=bt(i,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var o=ae(e);t=bt(o,"circle",{cx:!0,cy:!0,r:!0,style:!0}),ae(t).forEach(B),n=bt(o,"path",{d:!0,style:!0}),ae(n).forEach(B),o.forEach(B),this.h()},h(){A(t,"cx","4.789"),A(t,"cy","4.787"),A(t,"r","3.85"),dt(t,"stroke-width","1.875"),dt(t,"fill","none"),A(n,"d","M12.063 12.063 7.635 7.635"),dt(n,"stroke-width","1.875"),dt(n,"stroke-linecap","round"),A(e,"xmlns","http://www.w3.org/2000/svg"),A(e,"width","13"),A(e,"height","13"),A(e,"viewBox","0 0 13 13"),A(e,"class","svelte-1bpbt60")},m(i,o){G(i,e,o),W(e,t),W(e,n)},p:me,i:me,o:me,d(i){i&&B(e)}}}class Bu extends be{constructor(e){super(),_e(this,e,null,Tu,ge,{})}}function Iu(r,e,t){const n=e[1],i=e[0],o=n-i;return r===n&&t?r:((r-i)%o+o)%o+i}function po(r){const e=[...r];return e[2]<e[0]&&(e[2]+=360),e}let mr;async function Fu(r,e,t){const n=r==null?void 0:r.getCenterAndZoom();for(const i of e??[])if(!(n&&(i.minZoom!=null&&i.minZoom>n[0]||i.maxZoom!=null&&i.maxZoom<n[0]))){if(i.type==="fixed")return i.coordinates.join(",");e:if(i.type==="client-geolocation"){if(mr&&i.cachedLocationExpiry&&mr.time+i.cachedLocationExpiry>Date.now()){if(!mr.coords)break e;return mr.coords}let o;try{return o=await new Promise((a,l)=>{t.signal.addEventListener("abort",()=>{l(Error("aborted"))}),navigator.geolocation.getCurrentPosition(s=>{a([s.coords.longitude,s.coords.latitude].map(u=>u.toFixed(6)).join(","))},s=>{l(s)},i)}),o}catch{}finally{i.cachedLocationExpiry&&(mr={time:Date.now(),coords:o})}if(t.signal.aborted)return}if(i.type==="server-geolocation")return"ip";if(n&&i.type==="map-center")return n[1].toFixed(6)+","+n[2].toFixed(6)}}function bo(r,e,t){const n=r.slice();return n[81]=e[t],n[83]=t,n}function _o(r){let e,t;return e=new Ou({}),{c(){X(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function wo(r){let e,t,n,i,o;return t=new Cu({}),{c(){e=$("button"),X(t.$$.fragment),this.h()},l(a){e=ee(a,"BUTTON",{type:!0,title:!0,class:!0});var l=ae(e);Y(t.$$.fragment,l),l.forEach(B),this.h()},h(){A(e,"type","button"),A(e,"title",r[9]),A(e,"class","svelte-zh3kmv"),ut(e,"active",r[0])},m(a,l){G(a,e,l),x(t,e,null),n=!0,i||(o=ze(e,"click",r[67]),i=!0)},p(a,l){(!n||l[0]&512)&&A(e,"title",a[9]),(!n||l[0]&1)&&ut(e,"active",a[0])},i(a){n||(R(t.$$.fragment,a),n=!0)},o(a){z(t.$$.fragment,a),n=!1},d(a){a&&B(e),V(t),i=!1,o()}}}function Ru(r){let e,t=[],n=new Map,i,o,a,l=go(r[14]);const s=u=>u[81].id+(u[81].address?","+u[81].address:"");for(let u=0;u<l.length;u+=1){let c=bo(r,l,u),m=s(c);n.set(m,t[u]=So(m,c))}return{c(){e=$("ul");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=ee(u,"UL",{class:!0});var c=ae(e);for(let m=0;m<t.length;m+=1)t[m].l(c);c.forEach(B),this.h()},h(){A(e,"class","svelte-zh3kmv")},m(u,c){G(u,e,c);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);i=!0,o||(a=[ze(e,"mouseleave",r[71]),ze(e,"blur",r[72])],o=!0)},p(u,c){c[0]&17880064&&(l=go(u[14]),Je(),t=eu(t,c,s,1,u,l,n,e,tu,So,null,bo),Ke())},i(u){if(!i){for(let c=0;c<l.length;c+=1)R(t[c]);i=!0}},o(u){for(let c=0;c<t.length;c+=1)z(t[c]);i=!1},d(u){u&&B(e);for(let c=0;c<t.length;c+=1)t[c].d();o=!1,Li(a)}}}function Du(r){let e,t,n,i,o,a;return t=new cl({}),{c(){e=$("div"),X(t.$$.fragment),n=K(),i=$("div"),o=Be(r[7]),this.h()},l(l){e=ee(l,"DIV",{class:!0});var s=ae(e);Y(t.$$.fragment,s),n=Q(s),i=ee(s,"DIV",{class:!0});var u=ae(i);o=Ie(u,r[7]),u.forEach(B),s.forEach(B),this.h()},h(){A(i,"class","svelte-zh3kmv"),A(e,"class","no-results svelte-zh3kmv")},m(l,s){G(l,e,s),x(t,e,null),W(e,n),W(e,i),W(i,o),a=!0},p(l,s){(!a||s[0]&128)&&Dt(o,l[7])},i(l){a||(R(t.$$.fragment,l),a=!0)},o(l){z(t.$$.fragment,l),a=!1},d(l){l&&B(e),V(t)}}}function zu(r){let e="",t;return{c(){t=Be(e)},l(n){t=Ie(n,e)},m(n,i){G(n,t,i)},p:me,i:me,o:me,d(n){n&&B(t)}}}function Nu(r){let e,t,n,i,o,a,l,s,u,c,m;return t=new cl({}),s=new fl({}),{c(){e=$("div"),X(t.$$.fragment),n=K(),i=$("div"),o=Be(r[6]),a=K(),l=$("button"),X(s.$$.fragment),this.h()},l(g){e=ee(g,"DIV",{class:!0});var d=ae(e);Y(t.$$.fragment,d),n=Q(d),i=ee(d,"DIV",{class:!0});var b=ae(i);o=Ie(b,r[6]),b.forEach(B),a=Q(d),l=ee(d,"BUTTON",{class:!0});var L=ae(l);Y(s.$$.fragment,L),L.forEach(B),d.forEach(B),this.h()},h(){A(i,"class","svelte-zh3kmv"),A(l,"class","svelte-zh3kmv"),A(e,"class","error svelte-zh3kmv")},m(g,d){G(g,e,d),x(t,e,null),W(e,n),W(e,i),W(i,o),W(e,a),W(e,l),x(s,l,null),u=!0,c||(m=ze(l,"click",r[68]),c=!0)},p(g,d){(!u||d[0]&64)&&Dt(o,g[6])},i(g){u||(R(t.$$.fragment,g),R(s.$$.fragment,g),u=!0)},o(g){z(t.$$.fragment,g),z(s.$$.fragment,g),u=!1},d(g){g&&B(e),V(t),V(s),c=!1,m()}}}function So(r,e){let t,n,i;function o(){return e[69](e[83])}function a(){return e[70](e[81])}return n=new Eu({props:{feature:e[81],showPlaceType:e[10],selected:e[15]===e[83],missingIconsCache:e[20],iconsBaseUrl:e[12]}}),n.$on("mouseenter",o),n.$on("focus",a),{key:r,first:null,c(){t=Ue(),X(n.$$.fragment),this.h()},l(l){t=Ue(),Y(n.$$.fragment,l),this.h()},h(){this.first=t},m(l,s){G(l,t,s),x(n,l,s),i=!0},p(l,s){e=l;const u={};s[0]&16384&&(u.feature=e[81]),s[0]&1024&&(u.showPlaceType=e[10]),s[0]&49152&&(u.selected=e[15]===e[83]),s[0]&4096&&(u.iconsBaseUrl=e[12]),n.$set(u)},i(l){i||(R(n.$$.fragment,l),i=!0)},o(l){z(n.$$.fragment,l),i=!1},d(l){l&&B(t),V(n,l)}}}function Uu(r){let e,t,n,i,o,a,l,s,u,c,m,g,d,b,L,O,C,f,y,h,p,S=!1;o=new Bu({}),m=new fl({});let M=r[19]&&_o(),E=r[5]===!0&&wo(r);const k=r[59].default,T=kt(k,r,r[58],null),v=[Nu,zu,Du,Ru],_=[];function N(I,U){var q,te;return I[18]?0:I[16]?((q=I[14])==null?void 0:q.length)===0?2:I[16]&&((te=I[14])!=null&&te.length)?3:-1:1}return~(O=N(r))&&(C=_[O]=v[O](r)),{c(){e=K(),t=$("form"),n=$("div"),i=$("button"),X(o.$$.fragment),a=K(),l=$("input"),s=K(),u=$("div"),c=$("button"),X(m.$$.fragment),g=K(),M&&M.c(),d=K(),E&&E.c(),b=K(),T&&T.c(),L=K(),C&&C.c(),this.h()},l(I){e=Q(I),t=ee(I,"FORM",{tabindex:!0,class:!0});var U=ae(t);n=ee(U,"DIV",{class:!0});var q=ae(n);i=ee(q,"BUTTON",{class:!0,type:!0});var te=ae(i);Y(o.$$.fragment,te),te.forEach(B),a=Q(q),l=ee(q,"INPUT",{placeholder:!0,"aria-label":!0,class:!0}),s=Q(q),u=ee(q,"DIV",{class:!0});var re=ae(u);c=ee(re,"BUTTON",{type:!0,title:!0,class:!0});var he=ae(c);Y(m.$$.fragment,he),he.forEach(B),g=Q(re),M&&M.l(re),re.forEach(B),d=Q(q),E&&E.l(q),b=Q(q),T&&T.l(q),q.forEach(B),L=Q(U),C&&C.l(U),U.forEach(B),this.h()},h(){A(i,"class","search-button svelte-zh3kmv"),A(i,"type","button"),A(l,"placeholder",r[8]),A(l,"aria-label",r[8]),A(l,"class","svelte-zh3kmv"),A(c,"type","button"),A(c,"title",r[3]),A(c,"class","svelte-zh3kmv"),A(u,"class","clear-button-container svelte-zh3kmv"),ut(u,"displayable",r[1]!==""),A(n,"class","input-group svelte-zh3kmv"),A(t,"tabindex","0"),A(t,"class",f=$r(r[2])+" svelte-zh3kmv"),ut(t,"can-collapse",r[4]&&r[1]==="")},m(I,U){G(I,e,U),G(I,t,U),W(t,n),W(n,i),x(o,i,null),W(n,a),W(n,l),r[61](l),ho(l,r[1]),W(n,s),W(n,u),W(u,c),x(m,c,null),W(u,g),M&&M.m(u,null),W(n,d),E&&E.m(n,null),W(n,b),T&&T.m(n,null),W(t,L),~O&&_[O].m(t,null),y=!0,h||(p=[ze(i,"click",r[60]),ze(l,"input",r[62]),ze(l,"focus",r[63]),ze(l,"blur",r[64]),ze(l,"keydown",r[22]),ze(l,"input",r[65]),ze(c,"click",r[66]),ze(t,"submit",Ys(r[21]))],h=!0)},p(I,U){(!y||U[0]&256)&&A(l,"placeholder",I[8]),(!y||U[0]&256)&&A(l,"aria-label",I[8]),U[0]&2&&l.value!==I[1]&&ho(l,I[1]),(!y||U[0]&8)&&A(c,"title",I[3]),I[19]?M?U[0]&524288&&R(M,1):(M=_o(),M.c(),R(M,1),M.m(u,null)):M&&(Je(),z(M,1,1,()=>{M=null}),Ke()),(!y||U[0]&2)&&ut(u,"displayable",I[1]!==""),I[5]===!0?E?(E.p(I,U),U[0]&32&&R(E,1)):(E=wo(I),E.c(),R(E,1),E.m(n,b)):E&&(Je(),z(E,1,1,()=>{E=null}),Ke()),T&&T.p&&(!y||U[1]&134217728)&&Et(T,k,I,I[58],y?Ot(k,I[58],U,null):At(I[58]),null);let q=O;O=N(I),O===q?~O&&_[O].p(I,U):(C&&(Je(),z(_[q],1,1,()=>{_[q]=null}),Ke()),~O?(C=_[O],C?C.p(I,U):(C=_[O]=v[O](I),C.c()),R(C,1),C.m(t,null)):C=null),(!y||U[0]&4&&f!==(f=$r(I[2])+" svelte-zh3kmv"))&&A(t,"class",f),(!y||U[0]&22)&&ut(t,"can-collapse",I[4]&&I[1]==="")},i(I){y||(R(S),R(o.$$.fragment,I),R(m.$$.fragment,I),R(M),R(E),R(T,I),R(C),y=!0)},o(I){z(S),z(o.$$.fragment,I),z(m.$$.fragment,I),z(M),z(E),z(T,I),z(C),y=!1},d(I){I&&(B(e),B(t)),V(o),r[61](null),V(m),M&&M.d(),E&&E.d(),T&&T.d(I),~O&&_[O].d(),h=!1,Li(p)}}}function Wu(r,e,t){let n,{$$slots:i={},$$scope:o}=e,{class:a=void 0}=e,{apiKey:l}=e,{bbox:s=void 0}=e,{clearButtonTitle:u="clear"}=e,{clearOnBlur:c=!1}=e,{collapsed:m=!1}=e,{country:g=void 0}=e,{debounceSearch:d=200}=e,{enableReverse:b=!1}=e,{errorMessage:L="Something went wrong…"}=e,{filter:O=()=>!0}=e,{flyTo:C=!0}=e,{fuzzyMatch:f=!0}=e,{language:y=void 0}=e,{limit:h=void 0}=e,{mapController:p=void 0}=e,{minLength:S=2}=e,{noResultsMessage:M="Oops! Looks like you're trying to predict something that's not quite right. We can't seem to find what you're looking for. Maybe try double-checking your spelling or try a different search term. Keep on typing - we'll do our best to get you where you need to go!"}=e,{placeholder:E="Search"}=e,{proximity:k=[{type:"server-geolocation"}]}=e,{reverseActive:T=b==="always"}=e,{reverseButtonTitle:v="toggle reverse geocoding"}=e,{searchValue:_=""}=e,{showFullGeometry:N=!0}=e,{showPlaceType:I="ifNeeded"}=e,{showResultsWhileTyping:U=!0}=e,{selectFirst:q=!0}=e,{flyToSelected:te=!1}=e,{markerOnSelected:re=!0}=e,{types:he=void 0}=e,{excludeTypes:ve=!1}=e,{zoom:ce=16}=e,{maxZoom:ue=18}=e,{apiUrl:Ge="https://api.maptiler.com/geocoding"}=e,{fetchParameters:we={}}=e,{iconsBaseUrl:je="https://cdn.maptiler.com/maptiler-geocoding-control/v1.2.2/icons/"}=e,{adjustUrlQuery:Me=w=>{}}=e;function pe(){ye.focus()}function F(){ye.blur()}function Z(w,de=!0){t(1,_=w),de?(t(15,oe=-1),ar()):(jt(),setTimeout(()=>{ye.focus(),ye.select()}))}function le(){t(14,P=void 0),t(55,H=void 0),t(15,oe=-1)}function Ze(){t(54,J=[]),t(55,H=void 0)}let Ye=!1,P,J,H,Pe="",ye,oe=-1,Re,Wt=[],ot,St,Tt,or;const Cr=new Set,at=Ci();wt(()=>{p&&(p.setEventHandler(void 0),p.indicateReverse(!1),p.setSelectedMarker(-1),p.setMarkers(void 0,void 0))});function ar(w){if(St&&(clearTimeout(St),St=void 0),oe>-1&&P)t(55,H=P[oe]),t(1,_=H.place_type[0]==="reverse"?H.place_name:H.place_name.replace(/,.*/,"")),t(18,Re=void 0),t(54,J=void 0),t(15,oe=-1);else if(_){const de=w||!lr(_);Gt(_,{exact:!0}).then(()=>{t(54,J=P),t(55,H=void 0),de&&An()}).catch(xe=>t(18,Re=xe))}}function lr(w){try{return $s(w,6)}catch{return!1}}async function Gt(w,{byId:de=!1,exact:xe=!1}={}){t(18,Re=void 0),ot==null||ot.abort();const Ve=new AbortController;t(19,ot=Ve);try{const ne=lr(w),qe=new URLSearchParams;if(y!==void 0&&qe.set("language",Array.isArray(y)?y.join(","):y??""),he&&qe.set("types",he.join(",")),ve&&qe.set("excludeTypes",String(ve)),s&&qe.set("bbox",s.map(It=>It.toFixed(6)).join(",")),g&&qe.set("country",Array.isArray(g)?g.join(","):g),!de&&!ne){const It=await Fu(p,k,Ve);It&&qe.set("proximity",It),(xe||!U)&&qe.set("autocomplete","false"),qe.set("fuzzyMatch",String(f))}h!==void 0&&(!ne||(he==null?void 0:he.length)===1)&&qe.set("limit",String(h)),qe.set("key",l),Me(qe);const Bt=Ge+"/"+encodeURIComponent(ne?ne.decimalLongitude+","+ne.decimalLatitude:w)+".json?"+qe.toString();if(Bt===Pe){de?(t(14,P=void 0),t(55,H=Wt[0])):t(14,P=Wt);return}Pe=Bt;const qt=await fetch(Bt,{signal:Ve.signal,...we});if(!qt.ok)throw new Error(await qt.text());const Ht=await qt.json();at("response",{url:Bt,featureCollection:Ht}),de?(t(14,P=void 0),t(55,H=Ht.features[0]),Wt=[H]):(t(14,P=Ht.features.filter(O)),ne&&P.unshift({type:"Feature",properties:{},id:"reverse_"+ne.decimalLongitude+"_"+ne.decimalLatitude,text:ne.decimalLatitude+", "+ne.decimalLongitude,place_name:ne.decimalLatitude+", "+ne.decimalLongitude,place_type:["reverse"],center:[ne.decimalLongitude,ne.decimalLatitude],bbox:[ne.decimalLongitude,ne.decimalLatitude,ne.decimalLongitude,ne.decimalLatitude],geometry:{type:"Point",coordinates:[ne.decimalLongitude,ne.decimalLatitude]}}),Wt=P,ne&&ye.focus())}catch(ne){if(ne&&typeof ne=="object"&&"name"in ne&&ne.name==="AbortError")return;throw ne}finally{Ve===ot&&t(19,ot=void 0)}}function An(){var xe;if(!(J!=null&&J.length)||!C)return;const w=[180,90,-180,-90],de=!J.some(Ve=>!Ve.matching_text);for(const Ve of J)if(de||!Ve.matching_text)for(const ne of[0,1,2,3])w[ne]=Math[ne<2?"min":"max"](w[ne],((xe=Ve.bbox)==null?void 0:xe[ne])??Ve.center[ne%2]);p&&J.length>0&&(H&&w[0]===w[2]&&w[1]===w[3]?p.flyTo(H.center,ce):p.fitBounds(po(w),50,ue))}function Tr(w){t(0,T=b==="always"),t(14,P=void 0),t(55,H=void 0),t(15,oe=-1),Z(w[1].toFixed(6)+", "+Iu(w[0],[-180,180],!0).toFixed(6),!1)}function On(w){if(!P)return;let de=w.key==="ArrowDown"?1:w.key==="ArrowUp"?-1:0;de&&(oe===(q?0:-1)&&de===-1&&t(15,oe=P.length),t(15,oe+=de),oe>=P.length&&t(15,oe=-1),oe<0&&q&&t(15,oe=0),w.preventDefault())}function jt(w=!0){if(t(18,Re=void 0),U){if(St&&clearTimeout(St),_.length<S)return;const de=_;St=window.setTimeout(()=>{Gt(de).catch(xe=>t(18,Re=xe))},w?d:0)}else t(14,P=void 0),t(18,Re=void 0)}function sr(w){t(55,H=w),t(1,_=w.place_name),t(15,oe=-1)}const Br=()=>ye.focus();function Ln(w){ke[w?"unshift":"push"](()=>{ye=w,t(17,ye)})}function Ir(){_=this.value,t(1,_),t(13,Ye),t(27,c)}const Cn=()=>t(13,Ye=!0),Fr=()=>t(13,Ye=!1),Tn=()=>jt(),Rr=()=>{t(1,_=""),ye.focus()},Bn=()=>t(0,T=!T),Dr=()=>t(18,Re=void 0),In=w=>t(15,oe=w),zr=w=>sr(w),D=()=>{q||t(15,oe=-1)},j=()=>{};return r.$$set=w=>{"class"in w&&t(2,a=w.class),"apiKey"in w&&t(25,l=w.apiKey),"bbox"in w&&t(26,s=w.bbox),"clearButtonTitle"in w&&t(3,u=w.clearButtonTitle),"clearOnBlur"in w&&t(27,c=w.clearOnBlur),"collapsed"in w&&t(4,m=w.collapsed),"country"in w&&t(28,g=w.country),"debounceSearch"in w&&t(29,d=w.debounceSearch),"enableReverse"in w&&t(5,b=w.enableReverse),"errorMessage"in w&&t(6,L=w.errorMessage),"filter"in w&&t(30,O=w.filter),"flyTo"in w&&t(31,C=w.flyTo),"fuzzyMatch"in w&&t(32,f=w.fuzzyMatch),"language"in w&&t(33,y=w.language),"limit"in w&&t(34,h=w.limit),"mapController"in w&&t(35,p=w.mapController),"minLength"in w&&t(36,S=w.minLength),"noResultsMessage"in w&&t(7,M=w.noResultsMessage),"placeholder"in w&&t(8,E=w.placeholder),"proximity"in w&&t(37,k=w.proximity),"reverseActive"in w&&t(0,T=w.reverseActive),"reverseButtonTitle"in w&&t(9,v=w.reverseButtonTitle),"searchValue"in w&&t(1,_=w.searchValue),"showFullGeometry"in w&&t(38,N=w.showFullGeometry),"showPlaceType"in w&&t(10,I=w.showPlaceType),"showResultsWhileTyping"in w&&t(39,U=w.showResultsWhileTyping),"selectFirst"in w&&t(11,q=w.selectFirst),"flyToSelected"in w&&t(40,te=w.flyToSelected),"markerOnSelected"in w&&t(41,re=w.markerOnSelected),"types"in w&&t(42,he=w.types),"excludeTypes"in w&&t(43,ve=w.excludeTypes),"zoom"in w&&t(44,ce=w.zoom),"maxZoom"in w&&t(45,ue=w.maxZoom),"apiUrl"in w&&t(46,Ge=w.apiUrl),"fetchParameters"in w&&t(47,we=w.fetchParameters),"iconsBaseUrl"in w&&t(12,je=w.iconsBaseUrl),"adjustUrlQuery"in w&&t(48,Me=w.adjustUrlQuery),"$$scope"in w&&t(58,o=w.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&134225920&&setTimeout(()=>{t(16,Tt=Ye),c&&!Ye&&t(1,_="")}),r.$$.dirty[0]&16386|r.$$.dirty[1]&32&&_.length<S&&(t(55,H=void 0),t(14,P=void 0),t(18,Re=void 0),t(54,J=P)),r.$$.dirty[1]&16777344&&N&&H&&!H.address&&H.geometry.type==="Point"&&H.place_type[0]!=="reverse"&&Gt(H.id,{byId:!0}).catch(w=>t(18,Re=w)),r.$$.dirty[1]&50356241&&(p&&H&&H.id!==or&&C&&(!H.bbox||H.bbox[0]===H.bbox[2]&&H.bbox[1]===H.bbox[3]?p.flyTo(H.center,H.id.startsWith("poi.")||H.id.startsWith("address.")?ue:ce):p.fitBounds(po(H.bbox),50,ue),t(14,P=void 0),t(54,J=void 0),t(15,oe=-1)),t(56,or=H==null?void 0:H.id)),r.$$.dirty[0]&18432&&q&&P!=null&&P.length&&t(15,oe=0),r.$$.dirty[0]&2050&&(q||t(15,oe=-1)),r.$$.dirty[0]&16384|r.$$.dirty[1]&8388608&&J!==P&&t(54,J=void 0),r.$$.dirty[0]&81921|r.$$.dirty[1]&8388624&&p&&p.setEventHandler(w=>{switch(w.type){case"mapClick":T&&Tr(w.coordinates);break;case"markerClick":{const de=P==null?void 0:P.find(xe=>xe.id===w.id);de&&sr(de)}break;case"markerMouseEnter":J&&t(15,oe=Tt?(P==null?void 0:P.findIndex(de=>de.id===w.id))??-1:-1);break;case"markerMouseLeave":J&&t(15,oe=-1);break}}),r.$$.dirty[0]&49152&&t(57,n=P==null?void 0:P[oe]),r.$$.dirty[1]&67133969&&p&&n&&C&&te&&p.flyTo(n.center,n.id.startsWith("poi.")||n.id.startsWith("address.")?ue:ce),r.$$.dirty[1]&1040&&(re||p==null||p.setMarkers(void 0,void 0)),r.$$.dirty[1]&75498512&&p&&re&&!J&&(p.setMarkers(n?[n]:void 0,void 0),p.setSelectedMarker(n?0:-1)),r.$$.dirty[1]&25165840&&p&&p.setMarkers(J,H),r.$$.dirty[0]&32768|r.$$.dirty[1]&8388624&&J&&p&&p.setSelectedMarker(oe),r.$$.dirty[0]&2|r.$$.dirty[1]&16&&p){const w=lr(_);p.setReverseMarker(w?[w.decimalLongitude,w.decimalLatitude]:void 0)}r.$$.dirty[1]&67108864&&at("select",n),r.$$.dirty[1]&16777216&&at("pick",H),r.$$.dirty[0]&81920&&at("optionsVisibilityChange",Tt&&!!P),r.$$.dirty[0]&16384&&at("featuresListed",P),r.$$.dirty[1]&8388608&&at("featuresMarked",J),r.$$.dirty[0]&1&&at("reverseToggle",T),r.$$.dirty[0]&2&&at("queryChange",_),r.$$.dirty[0]&1|r.$$.dirty[1]&16&&p&&p.indicateReverse(T)},[T,_,a,u,m,b,L,M,E,v,I,q,je,Ye,P,oe,Tt,ye,Re,ot,Cr,ar,On,jt,sr,l,s,c,g,d,O,C,f,y,h,p,S,k,N,U,te,re,he,ve,ce,ue,Ge,we,Me,pe,F,Z,le,Ze,J,H,or,n,o,i,Br,Ln,Ir,Cn,Fr,Tn,Rr,Bn,Dr,In,zr,D,j]}class Gu extends be{constructor(e){super(),_e(this,e,Wu,Uu,ge,{class:2,apiKey:25,bbox:26,clearButtonTitle:3,clearOnBlur:27,collapsed:4,country:28,debounceSearch:29,enableReverse:5,errorMessage:6,filter:30,flyTo:31,fuzzyMatch:32,language:33,limit:34,mapController:35,minLength:36,noResultsMessage:7,placeholder:8,proximity:37,reverseActive:0,reverseButtonTitle:9,searchValue:1,showFullGeometry:38,showPlaceType:10,showResultsWhileTyping:39,selectFirst:11,flyToSelected:40,markerOnSelected:41,types:42,excludeTypes:43,zoom:44,maxZoom:45,apiUrl:46,fetchParameters:47,iconsBaseUrl:12,adjustUrlQuery:48,focus:49,blur:50,setQuery:51,clearList:52,clearMap:53},null,[-1,-1,-1])}get focus(){return this.$$.ctx[49]}get blur(){return this.$$.ctx[50]}get setQuery(){return this.$$.ctx[51]}get clearList(){return this.$$.ctx[52]}get clearMap(){return this.$$.ctx[53]}}function Mo(r){let e,t,n;return t=new Gu({props:{mapController:r[0],apiKey:"MZEJTanw3WpxRvt7qDfo",country:"gb"}}),{c(){e=$("div"),X(t.$$.fragment),this.h()},l(i){e=ee(i,"DIV",{class:!0});var o=ae(e);Y(t.$$.fragment,o),o.forEach(B),this.h()},h(){A(e,"class","svelte-ixhnie")},m(i,o){G(i,e,o),x(t,e,null),n=!0},p(i,o){const a={};o&1&&(a.mapController=i[0]),t.$set(a)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){z(t.$$.fragment,i),n=!1},d(i){i&&B(e),V(t)}}}function ju(r){let e,t,n=r[0]&&Mo(r);return{c(){n&&n.c(),e=Ue()},l(i){n&&n.l(i),e=Ue()},m(i,o){n&&n.m(i,o),G(i,e,o),t=!0},p(i,[o]){i[0]?n?(n.p(i,o),o&1&&R(n,1)):(n=Mo(i),n.c(),R(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke())},i(i){t||(R(n),t=!0)},o(i){z(n),t=!1},d(i){i&&B(e),n&&n.d(i)}}}function qu(r,e,t){let{map:n}=e,i;return xs(()=>{t(0,i=ru(n,tr))}),r.$$set=o=>{"map"in o&&t(1,n=o.map)},[i,n]}class Hu extends be{constructor(e){super(),_e(this,e,qu,ju,ge,{map:1})}}var Po=Object.prototype.toString,ml=function(e){var t=Po.call(e),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Po.call(e.callee)==="[object Function]"),n},Dn,ko;function Zu(){if(ko)return Dn;ko=1;var r;if(!Object.keys){var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=ml,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(g){var d=g.constructor;return d&&d.prototype===g},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var g in window)try{if(!u["$"+g]&&e.call(window,g)&&window[g]!==null&&typeof window[g]=="object")try{s(window[g])}catch{return!0}}catch{return!0}return!1}(),m=function(g){if(typeof window>"u"||!c)return s(g);try{return s(g)}catch{return!1}};r=function(d){var b=d!==null&&typeof d=="object",L=t.call(d)==="[object Function]",O=n(d),C=b&&t.call(d)==="[object String]",f=[];if(!b&&!L&&!O)throw new TypeError("Object.keys called on a non-object");var y=a&&L;if(C&&d.length>0&&!e.call(d,0))for(var h=0;h<d.length;++h)f.push(String(h));if(O&&d.length>0)for(var p=0;p<d.length;++p)f.push(String(p));else for(var S in d)!(y&&S==="prototype")&&e.call(d,S)&&f.push(String(S));if(o)for(var M=m(d),E=0;E<l.length;++E)!(M&&l[E]==="constructor")&&e.call(d,l[E])&&f.push(l[E]);return f}}return Dn=r,Dn}var Xu=Array.prototype.slice,Yu=ml,Eo=Object.keys,qr=Eo?function(e){return Eo(e)}:Zu(),Ao=Object.keys;qr.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(n){return Yu(n)?Ao(Xu.call(n)):Ao(n)})}else Object.keys=qr;return Object.keys||qr};var Bi=qr,xu=Error,Vu=EvalError,Ju=RangeError,Ku=ReferenceError,yl=SyntaxError,Lt=TypeError,Qu=URIError,_n=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Oo=typeof Symbol<"u"&&Symbol,$u=_n,Ii=function(){return typeof Oo!="function"||typeof Symbol!="function"||typeof Oo("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:$u()},zn={__proto__:null,foo:{}},ef=Object,tf=function(){return{__proto__:zn}.foo===zn.foo&&!(zn instanceof ef)},rf="Function.prototype.bind called on incompatible ",nf=Object.prototype.toString,of=Math.max,af="[object Function]",Lo=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},lf=function(e,t){for(var n=[],i=t||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},sf=function(r,e){for(var t="",n=0;n<r.length;n+=1)t+=r[n],n+1<r.length&&(t+=e);return t},uf=function(e){var t=this;if(typeof t!="function"||nf.apply(t)!==af)throw new TypeError(rf+t);for(var n=lf(arguments,1),i,o=function(){if(this instanceof i){var c=t.apply(this,Lo(n,arguments));return Object(c)===c?c:this}return t.apply(e,Lo(n,arguments))},a=of(0,t.length-n.length),l=[],s=0;s<a;s++)l[s]="$"+s;if(i=Function("binder","return function ("+sf(l,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var u=function(){};u.prototype=t.prototype,i.prototype=new u,u.prototype=null}return i},ff=uf,Fi=Function.prototype.bind||ff,cf=Function.prototype.call,mf=Object.prototype.hasOwnProperty,yf=Fi,hl=yf.call(cf,mf),ie,hf=xu,gf=Vu,df=Ju,vf=Ku,Kt=yl,Jt=Lt,pf=Qu,gl=Function,Nn=function(r){try{return gl('"use strict"; return ('+r+").constructor;")()}catch{}},Ft=Object.getOwnPropertyDescriptor;if(Ft)try{Ft({},"")}catch{Ft=null}var Un=function(){throw new Jt},bf=Ft?function(){try{return arguments.callee,Un}catch{try{return Ft(arguments,"callee").get}catch{return Un}}}():Un,Zt=Ii(),_f=tf(),Ce=Object.getPrototypeOf||(_f?function(r){return r.__proto__}:null),xt={},wf=typeof Uint8Array>"u"||!Ce?ie:Ce(Uint8Array),Rt={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ie:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ie:ArrayBuffer,"%ArrayIteratorPrototype%":Zt&&Ce?Ce([][Symbol.iterator]()):ie,"%AsyncFromSyncIteratorPrototype%":ie,"%AsyncFunction%":xt,"%AsyncGenerator%":xt,"%AsyncGeneratorFunction%":xt,"%AsyncIteratorPrototype%":xt,"%Atomics%":typeof Atomics>"u"?ie:Atomics,"%BigInt%":typeof BigInt>"u"?ie:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ie:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ie:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ie:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":hf,"%eval%":eval,"%EvalError%":gf,"%Float32Array%":typeof Float32Array>"u"?ie:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ie:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ie:FinalizationRegistry,"%Function%":gl,"%GeneratorFunction%":xt,"%Int8Array%":typeof Int8Array>"u"?ie:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ie:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ie:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zt&&Ce?Ce(Ce([][Symbol.iterator]())):ie,"%JSON%":typeof JSON=="object"?JSON:ie,"%Map%":typeof Map>"u"?ie:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zt||!Ce?ie:Ce(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ie:Promise,"%Proxy%":typeof Proxy>"u"?ie:Proxy,"%RangeError%":df,"%ReferenceError%":vf,"%Reflect%":typeof Reflect>"u"?ie:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ie:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zt||!Ce?ie:Ce(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ie:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zt&&Ce?Ce(""[Symbol.iterator]()):ie,"%Symbol%":Zt?Symbol:ie,"%SyntaxError%":Kt,"%ThrowTypeError%":bf,"%TypedArray%":wf,"%TypeError%":Jt,"%Uint8Array%":typeof Uint8Array>"u"?ie:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ie:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ie:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ie:Uint32Array,"%URIError%":pf,"%WeakMap%":typeof WeakMap>"u"?ie:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ie:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ie:WeakSet};if(Ce)try{null.error}catch(r){var Sf=Ce(Ce(r));Rt["%Error.prototype%"]=Sf}var Mf=function r(e){var t;if(e==="%AsyncFunction%")t=Nn("async function () {}");else if(e==="%GeneratorFunction%")t=Nn("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=Nn("async function* () {}");else if(e==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&Ce&&(t=Ce(i.prototype))}return Rt[e]=t,t},Co={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Pr=Fi,en=hl,Pf=Pr.call(Function.call,Array.prototype.concat),kf=Pr.call(Function.apply,Array.prototype.splice),To=Pr.call(Function.call,String.prototype.replace),tn=Pr.call(Function.call,String.prototype.slice),Ef=Pr.call(Function.call,RegExp.prototype.exec),Af=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Of=/\\(\\)?/g,Lf=function(e){var t=tn(e,0,1),n=tn(e,-1);if(t==="%"&&n!=="%")throw new Kt("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Kt("invalid intrinsic syntax, expected opening `%`");var i=[];return To(e,Af,function(o,a,l,s){i[i.length]=l?To(s,Of,"$1"):a||o}),i},Cf=function(e,t){var n=e,i;if(en(Co,n)&&(i=Co[n],n="%"+i[0]+"%"),en(Rt,n)){var o=Rt[n];if(o===xt&&(o=Mf(n)),typeof o>"u"&&!t)throw new Jt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Kt("intrinsic "+e+" does not exist!")},ct=function(e,t){if(typeof e!="string"||e.length===0)throw new Jt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Jt('"allowMissing" argument must be a boolean');if(Ef(/^%?[^%]*%?$/,e)===null)throw new Kt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Lf(e),i=n.length>0?n[0]:"",o=Cf("%"+i+"%",t),a=o.name,l=o.value,s=!1,u=o.alias;u&&(i=u[0],kf(n,Pf([0,1],u)));for(var c=1,m=!0;c<n.length;c+=1){var g=n[c],d=tn(g,0,1),b=tn(g,-1);if((d==='"'||d==="'"||d==="`"||b==='"'||b==="'"||b==="`")&&d!==b)throw new Kt("property names with quotes must have matching quotes");if((g==="constructor"||!m)&&(s=!0),i+="."+g,a="%"+i+"%",en(Rt,a))l=Rt[a];else if(l!=null){if(!(g in l)){if(!t)throw new Jt("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ft&&c+1>=n.length){var L=Ft(l,g);m=!!L,m&&"get"in L&&!("originalValue"in L.get)?l=L.get:l=l[g]}else m=en(l,g),l=l[g];m&&!s&&(Rt[a]=l)}}return l},Tf=ct,Hr=Tf("%Object.defineProperty%",!0)||!1;if(Hr)try{Hr({},"a",{value:1})}catch{Hr=!1}var Ri=Hr,Bf=ct,Zr=Bf("%Object.getOwnPropertyDescriptor%",!0);if(Zr)try{Zr([],"length")}catch{Zr=null}var Di=Zr,Bo=Ri,If=yl,Xt=Lt,Io=Di,zi=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Xt("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Xt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Xt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Xt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Xt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Xt("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,s=!!Io&&Io(e,t);if(Bo)Bo(e,t,{configurable:a===null&&s?s.configurable:!a,enumerable:i===null&&s?s.enumerable:!i,value:n,writable:o===null&&s?s.writable:!o});else if(l||!i&&!o&&!a)e[t]=n;else throw new If("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ii=Ri,dl=function(){return!!ii};dl.hasArrayLengthDefineBug=function(){if(!ii)return null;try{return ii([],"length",{value:1}).length!==1}catch{return!0}};var Ni=dl,Ff=Bi,Rf=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Df=Object.prototype.toString,zf=Array.prototype.concat,Fo=zi,Nf=function(r){return typeof r=="function"&&Df.call(r)==="[object Function]"},vl=Ni(),Uf=function(r,e,t,n){if(e in r){if(n===!0){if(r[e]===t)return}else if(!Nf(n)||!n())return}vl?Fo(r,e,t,!0):Fo(r,e,t)},pl=function(r,e){var t=arguments.length>2?arguments[2]:{},n=Ff(e);Rf&&(n=zf.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Uf(r,n[i],e[n[i]],t[n[i]])};pl.supportsDescriptors=!!vl;var Nt=pl,bl={exports:{}},Wf=ct,Ro=zi,Gf=Ni(),Do=Di,zo=Lt,jf=Wf("%Math.floor%"),qf=function(e,t){if(typeof e!="function")throw new zo("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||jf(t)!==t)throw new zo("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&Do){var a=Do(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!n)&&(Gf?Ro(e,"length",t,!0,!0):Ro(e,"length",t)),e};(function(r){var e=Fi,t=ct,n=qf,i=Lt,o=t("%Function.prototype.apply%"),a=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(a,o),s=Ri,u=t("%Math.max%");r.exports=function(g){if(typeof g!="function")throw new i("a function is required");var d=l(e,a,arguments);return n(d,1+u(0,g.length-(arguments.length-1)),!0)};var c=function(){return l(e,o,arguments)};s?s(r.exports,"apply",{value:c}):r.exports.apply=c})(bl);var rr=bl.exports,_l=ct,wl=rr,Hf=wl(_l("String.prototype.indexOf")),tt=function(e,t){var n=_l(e,!!t);return typeof n=="function"&&Hf(e,".prototype.")>-1?wl(n):n},Zf=Bi,Sl=_n(),Ml=tt,No=Object,Xf=Ml("Array.prototype.push"),Uo=Ml("Object.prototype.propertyIsEnumerable"),Yf=Sl?Object.getOwnPropertySymbols:null,Pl=function(e,t){if(e==null)throw new TypeError("target must be an object");var n=No(e);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var o=No(arguments[i]),a=Zf(o),l=Sl&&(Object.getOwnPropertySymbols||Yf);if(l)for(var s=l(o),u=0;u<s.length;++u){var c=s[u];Uo(o,c)&&Xf(a,c)}for(var m=0;m<a.length;++m){var g=a[m];if(Uo(o,g)){var d=o[g];n[g]=d}}}return n},Wn=Pl,xf=function(){if(!Object.assign)return!1;for(var r="abcdefghijklmnopqrst",e=r.split(""),t={},n=0;n<e.length;++n)t[e[n]]=e[n];var i=Object.assign({},t),o="";for(var a in i)o+=a;return r!==o},Vf=function(){if(!Object.assign||!Object.preventExtensions)return!1;var r=Object.preventExtensions({1:2});try{Object.assign(r,"xy")}catch{return r[1]==="y"}return!1},kl=function(){return!Object.assign||xf()||Vf()?Wn:Object.assign},Jf=Nt,Kf=kl,Qf=function(){var e=Kf();return Jf(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},$f=Nt,ec=rr,tc=Pl,El=kl,rc=Qf,nc=ec.apply(El()),Al=function(e,t){return nc(Object,arguments)};$f(Al,{getPolyfill:El,implementation:tc,shim:rc});var ic=Al,wr=function(){return typeof(function(){}).name=="string"},pr=Object.getOwnPropertyDescriptor;if(pr)try{pr([],"length")}catch{pr=null}wr.functionsHaveConfigurableNames=function(){if(!wr()||!pr)return!1;var e=pr(function(){},"name");return!!e&&!!e.configurable};var oc=Function.prototype.bind;wr.boundFunctionsHaveNames=function(){return wr()&&typeof oc=="function"&&(function(){}).bind().name!==""};var ac=wr,Wo=zi,lc=Ni(),sc=ac.functionsHaveConfigurableNames(),uc=Lt,fc=function(e,t){if(typeof e!="function")throw new uc("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||sc)&&(lc?Wo(e,"name",t,!0,!0):Wo(e,"name",t)),e},cc=fc,mc=Lt,yc=Object,Ol=cc(function(){if(this==null||this!==yc(this))throw new mc("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),hc=Ol,gc=Nt.supportsDescriptors,dc=Object.getOwnPropertyDescriptor,Ll=function(){if(gc&&/a/mig.flags==="gim"){var e=dc(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),t==="dy")return e.get}}return hc},vc=Nt.supportsDescriptors,pc=Ll,bc=Object.getOwnPropertyDescriptor,_c=Object.defineProperty,wc=TypeError,Go=Object.getPrototypeOf,Sc=/a/,Mc=function(){if(!vc||!Go)throw new wc("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=pc(),t=Go(Sc),n=bc(t,"flags");return(!n||n.get!==e)&&_c(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},Pc=Nt,kc=rr,Ec=Ol,Cl=Ll,Ac=Mc,Tl=kc(Cl());Pc(Tl,{getPolyfill:Cl,implementation:Ec,shim:Ac});var Oc=Tl,Xr={exports:{}},Lc=_n,Ut=function(){return Lc()&&!!Symbol.toStringTag},Cc=Ut(),Tc=tt,oi=Tc("Object.prototype.toString"),wn=function(e){return Cc&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:oi(e)==="[object Arguments]"},Bl=function(e){return wn(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&oi(e)!=="[object Array]"&&oi(e.callee)==="[object Function]"},Bc=function(){return wn(arguments)}();wn.isLegacyArguments=Bl;var Il=Bc?wn:Bl;const Ic={},Fc=Object.freeze(Object.defineProperty({__proto__:null,default:Ic},Symbol.toStringTag,{value:"Module"})),Rc=Ti(Fc);var Ui=typeof Map=="function"&&Map.prototype,Gn=Object.getOwnPropertyDescriptor&&Ui?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,rn=Ui&&Gn&&typeof Gn.get=="function"?Gn.get:null,jo=Ui&&Map.prototype.forEach,Wi=typeof Set=="function"&&Set.prototype,jn=Object.getOwnPropertyDescriptor&&Wi?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,nn=Wi&&jn&&typeof jn.get=="function"?jn.get:null,qo=Wi&&Set.prototype.forEach,Dc=typeof WeakMap=="function"&&WeakMap.prototype,br=Dc?WeakMap.prototype.has:null,zc=typeof WeakSet=="function"&&WeakSet.prototype,_r=zc?WeakSet.prototype.has:null,Nc=typeof WeakRef=="function"&&WeakRef.prototype,Ho=Nc?WeakRef.prototype.deref:null,Uc=Boolean.prototype.valueOf,Wc=Object.prototype.toString,Gc=Function.prototype.toString,jc=String.prototype.match,Gi=String.prototype.slice,Pt=String.prototype.replace,qc=String.prototype.toUpperCase,Zo=String.prototype.toLowerCase,Fl=RegExp.prototype.test,Xo=Array.prototype.concat,st=Array.prototype.join,Hc=Array.prototype.slice,Yo=Math.floor,ai=typeof BigInt=="function"?BigInt.prototype.valueOf:null,qn=Object.getOwnPropertySymbols,li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="object",We=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Qt||!0)?Symbol.toStringTag:null,Rl=Object.prototype.propertyIsEnumerable,xo=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function Vo(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||Fl.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-Yo(-r):Yo(r);if(n!==r){var i=String(n),o=Gi.call(e,i.length+1);return Pt.call(i,t,"$&_")+"."+Pt.call(Pt.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Pt.call(e,t,"$&_")}var si=Rc,Jo=si.custom,Ko=zl(Jo)?Jo:null,Zc=function r(e,t,n,i){var o=t||{};if(Mt(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mt(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Mt(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mt(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mt(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Ul(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var s=String(e);return l?Vo(e,s):s}if(typeof e=="bigint"){var u=String(e)+"n";return l?Vo(e,u):u}var c=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return ui(e)?"[Array]":"[Object]";var m=um(o,n);if(typeof i>"u")i=[];else if(Nl(i,e)>=0)return"[Circular]";function g(N,I,U){if(I&&(i=Hc.call(i),i.push(I)),U){var q={depth:o.depth};return Mt(o,"quoteStyle")&&(q.quoteStyle=o.quoteStyle),r(N,q,n+1,i)}return r(N,o,n+1,i)}if(typeof e=="function"&&!Qo(e)){var d=em(e),b=Ur(e,g);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(b.length>0?" { "+st.call(b,", ")+" }":"")}if(zl(e)){var L=Qt?Pt.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):li.call(e);return typeof e=="object"&&!Qt?yr(L):L}if(am(e)){for(var O="<"+Zo.call(String(e.nodeName)),C=e.attributes||[],f=0;f<C.length;f++)O+=" "+C[f].name+"="+Dl(Xc(C[f].value),"double",o);return O+=">",e.childNodes&&e.childNodes.length&&(O+="..."),O+="</"+Zo.call(String(e.nodeName))+">",O}if(ui(e)){if(e.length===0)return"[]";var y=Ur(e,g);return m&&!sm(y)?"["+fi(y,m)+"]":"[ "+st.call(y,", ")+" ]"}if(xc(e)){var h=Ur(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!Rl.call(e,"cause")?"{ ["+String(e)+"] "+st.call(Xo.call("[cause]: "+g(e.cause),h),", ")+" }":h.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+st.call(h,", ")+" }"}if(typeof e=="object"&&a){if(Ko&&typeof e[Ko]=="function"&&si)return si(e,{depth:c-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(tm(e)){var p=[];return jo&&jo.call(e,function(N,I){p.push(g(I,e,!0)+" => "+g(N,e))}),$o("Map",rn.call(e),p,m)}if(im(e)){var S=[];return qo&&qo.call(e,function(N){S.push(g(N,e))}),$o("Set",nn.call(e),S,m)}if(rm(e))return Hn("WeakMap");if(om(e))return Hn("WeakSet");if(nm(e))return Hn("WeakRef");if(Jc(e))return yr(g(Number(e)));if(Qc(e))return yr(g(ai.call(e)));if(Kc(e))return yr(Uc.call(e));if(Vc(e))return yr(g(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===bn)return"{ [object globalThis] }";if(!Yc(e)&&!Qo(e)){var M=Ur(e,g),E=xo?xo(e)===Object.prototype:e instanceof Object||e.constructor===Object,k=e instanceof Object?"":"null prototype",T=!E&&We&&Object(e)===e&&We in e?Gi.call(Ct(e),8,-1):k?"Object":"",v=E||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",_=v+(T||k?"["+st.call(Xo.call([],T||[],k||[]),": ")+"] ":"");return M.length===0?_+"{}":m?_+"{"+fi(M,m)+"}":_+"{ "+st.call(M,", ")+" }"}return String(e)};function Dl(r,e,t){var n=(t.quoteStyle||e)==="double"?'"':"'";return n+r+n}function Xc(r){return Pt.call(String(r),/"/g,"&quot;")}function ui(r){return Ct(r)==="[object Array]"&&(!We||!(typeof r=="object"&&We in r))}function Yc(r){return Ct(r)==="[object Date]"&&(!We||!(typeof r=="object"&&We in r))}function Qo(r){return Ct(r)==="[object RegExp]"&&(!We||!(typeof r=="object"&&We in r))}function xc(r){return Ct(r)==="[object Error]"&&(!We||!(typeof r=="object"&&We in r))}function Vc(r){return Ct(r)==="[object String]"&&(!We||!(typeof r=="object"&&We in r))}function Jc(r){return Ct(r)==="[object Number]"&&(!We||!(typeof r=="object"&&We in r))}function Kc(r){return Ct(r)==="[object Boolean]"&&(!We||!(typeof r=="object"&&We in r))}function zl(r){if(Qt)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!li)return!1;try{return li.call(r),!0}catch{}return!1}function Qc(r){if(!r||typeof r!="object"||!ai)return!1;try{return ai.call(r),!0}catch{}return!1}var $c=Object.prototype.hasOwnProperty||function(r){return r in this};function Mt(r,e){return $c.call(r,e)}function Ct(r){return Wc.call(r)}function em(r){if(r.name)return r.name;var e=jc.call(Gc.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function Nl(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t;return-1}function tm(r){if(!rn||!r||typeof r!="object")return!1;try{rn.call(r);try{nn.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function rm(r){if(!br||!r||typeof r!="object")return!1;try{br.call(r,br);try{_r.call(r,_r)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function nm(r){if(!Ho||!r||typeof r!="object")return!1;try{return Ho.call(r),!0}catch{}return!1}function im(r){if(!nn||!r||typeof r!="object")return!1;try{nn.call(r);try{rn.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function om(r){if(!_r||!r||typeof r!="object")return!1;try{_r.call(r,_r);try{br.call(r,br)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function am(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function Ul(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,n="... "+t+" more character"+(t>1?"s":"");return Ul(Gi.call(r,0,e.maxStringLength),e)+n}var i=Pt.call(Pt.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lm);return Dl(i,"single",e)}function lm(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+qc.call(e.toString(16))}function yr(r){return"Object("+r+")"}function Hn(r){return r+" { ? }"}function $o(r,e,t,n){var i=n?fi(t,n):st.call(t,", ");return r+" ("+e+") {"+i+"}"}function sm(r){for(var e=0;e<r.length;e++)if(Nl(r[e],`
`)>=0)return!1;return!0}function um(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=st.call(Array(r.indent+1)," ");else return null;return{base:t,prev:st.call(Array(e+1),t)}}function fi(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+st.call(r,","+t)+`
`+e.prev}function Ur(r,e){var t=ui(r),n=[];if(t){n.length=r.length;for(var i=0;i<r.length;i++)n[i]=Mt(r,i)?e(r[i],r):""}var o=typeof qn=="function"?qn(r):[],a;if(Qt){a={};for(var l=0;l<o.length;l++)a["$"+o[l]]=o[l]}for(var s in r)Mt(r,s)&&(t&&String(Number(s))===s&&s<r.length||Qt&&a["$"+s]instanceof Symbol||(Fl.call(/[^\w$]/,s)?n.push(e(s,r)+": "+e(r[s],r)):n.push(s+": "+e(r[s],r))));if(typeof qn=="function")for(var u=0;u<o.length;u++)Rl.call(r,o[u])&&n.push("["+e(o[u])+"]: "+e(r[o[u]],r));return n}var Wl=ct,nr=tt,fm=Zc,cm=Lt,Wr=Wl("%WeakMap%",!0),Gr=Wl("%Map%",!0),mm=nr("WeakMap.prototype.get",!0),ym=nr("WeakMap.prototype.set",!0),hm=nr("WeakMap.prototype.has",!0),gm=nr("Map.prototype.get",!0),dm=nr("Map.prototype.set",!0),vm=nr("Map.prototype.has",!0),ji=function(r,e){for(var t=r,n;(n=t.next)!==null;t=n)if(n.key===e)return t.next=n.next,n.next=r.next,r.next=n,n},pm=function(r,e){var t=ji(r,e);return t&&t.value},bm=function(r,e,t){var n=ji(r,e);n?n.value=t:r.next={key:e,next:r.next,value:t}},_m=function(r,e){return!!ji(r,e)},Gl=function(){var e,t,n,i={assert:function(o){if(!i.has(o))throw new cm("Side channel does not contain "+fm(o))},get:function(o){if(Wr&&o&&(typeof o=="object"||typeof o=="function")){if(e)return mm(e,o)}else if(Gr){if(t)return gm(t,o)}else if(n)return pm(n,o)},has:function(o){if(Wr&&o&&(typeof o=="object"||typeof o=="function")){if(e)return hm(e,o)}else if(Gr){if(t)return vm(t,o)}else if(n)return _m(n,o);return!1},set:function(o,a){Wr&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Wr),ym(e,o,a)):Gr?(t||(t=new Gr),dm(t,o,a)):(n||(n={key:{},next:null}),bm(n,o,a))}};return i},wm=hl,hr=Gl(),yt=Lt,qi={assert:function(r,e){if(!r||typeof r!="object"&&typeof r!="function")throw new yt("`O` is not an object");if(typeof e!="string")throw new yt("`slot` must be a string");if(hr.assert(r),!qi.has(r,e))throw new yt("`"+e+"` is not present on `O`")},get:function(r,e){if(!r||typeof r!="object"&&typeof r!="function")throw new yt("`O` is not an object");if(typeof e!="string")throw new yt("`slot` must be a string");var t=hr.get(r);return t&&t["$"+e]},has:function(r,e){if(!r||typeof r!="object"&&typeof r!="function")throw new yt("`O` is not an object");if(typeof e!="string")throw new yt("`slot` must be a string");var t=hr.get(r);return!!t&&wm(t,"$"+e)},set:function(r,e,t){if(!r||typeof r!="object"&&typeof r!="function")throw new yt("`O` is not an object");if(typeof e!="string")throw new yt("`slot` must be a string");var n=hr.get(r);n||(n={},hr.set(r,n)),n["$"+e]=t}};Object.freeze&&Object.freeze(qi);var Sm=qi,gr=Sm,Mm=SyntaxError,ea=typeof StopIteration=="object"?StopIteration:null,Pm=function(e){if(!ea)throw new Mm("this environment lacks StopIteration");gr.set(e,"[[Done]]",!1);var t={next:function(){var i=gr.get(this,"[[Iterator]]"),o=gr.get(i,"[[Done]]");try{return{done:o,value:o?void 0:i.next()}}catch(a){if(gr.set(i,"[[Done]]",!0),a!==ea)throw a;return{done:!0,value:void 0}}}};return gr.set(t,"[[Iterator]]",e),t},km={}.toString,jl=Array.isArray||function(r){return km.call(r)=="[object Array]"},Em=String.prototype.valueOf,Am=function(e){try{return Em.call(e),!0}catch{return!1}},Om=Object.prototype.toString,Lm="[object String]",Cm=Ut(),ql=function(e){return typeof e=="string"?!0:typeof e!="object"?!1:Cm?Am(e):Om.call(e)===Lm},Hi=typeof Map=="function"&&Map.prototype?Map:null,Tm=typeof Set=="function"&&Set.prototype?Set:null,on;Hi||(on=function(e){return!1});var Hl=Hi?Map.prototype.has:null,ta=Tm?Set.prototype.has:null;!on&&!Hl&&(on=function(e){return!1});var Zl=on||function(e){if(!e||typeof e!="object")return!1;try{if(Hl.call(e),ta)try{ta.call(e)}catch{return!0}return e instanceof Hi}catch{}return!1},Bm=typeof Map=="function"&&Map.prototype?Map:null,Zi=typeof Set=="function"&&Set.prototype?Set:null,an;Zi||(an=function(e){return!1});var ra=Bm?Map.prototype.has:null,Xl=Zi?Set.prototype.has:null;!an&&!Xl&&(an=function(e){return!1});var Yl=an||function(e){if(!e||typeof e!="object")return!1;try{if(Xl.call(e),ra)try{ra.call(e)}catch{return!0}return e instanceof Zi}catch{}return!1},na=Il,ia=Pm;if(Ii()||_n()){var Zn=Symbol.iterator;Xr.exports=function(e){if(e!=null&&typeof e[Zn]<"u")return e[Zn]();if(na(e))return Array.prototype[Zn].call(e)}}else{var Im=jl,Fm=ql,oa=ct,Rm=oa("%Map%",!0),Dm=oa("%Set%",!0),rt=tt,aa=rt("Array.prototype.push"),la=rt("String.prototype.charCodeAt"),zm=rt("String.prototype.slice"),Nm=function(e,t){var n=e.length;if(t+1>=n)return t+1;var i=la(e,t);if(i<55296||i>56319)return t+1;var o=la(e,t+1);return o<56320||o>57343?t+1:t+2},Xn=function(e){var t=0;return{next:function(){var i=t>=e.length,o;return i||(o=e[t],t+=1),{done:i,value:o}}}},sa=function(e,t){if(Im(e)||na(e))return Xn(e);if(Fm(e)){var n=0;return{next:function(){var o=Nm(e,n),a=zm(e,n,o);return n=o,{done:o>e.length,value:a}}}}if(t&&typeof e["_es6-shim iterator_"]<"u")return e["_es6-shim iterator_"]()};if(!Rm&&!Dm)Xr.exports=function(e){if(e!=null)return sa(e,!0)};else{var Um=Zl,Wm=Yl,ua=rt("Map.prototype.forEach",!0),fa=rt("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var ca=rt("Map.prototype.iterator",!0),ma=rt("Set.prototype.iterator",!0);var ya=rt("Map.prototype.@@iterator",!0)||rt("Map.prototype._es6-shim iterator_",!0),ha=rt("Set.prototype.@@iterator",!0)||rt("Set.prototype._es6-shim iterator_",!0),Gm=function(e){if(Um(e)){if(ca)return ia(ca(e));if(ya)return ya(e);if(ua){var t=[];return ua(e,function(i,o){aa(t,[o,i])}),Xn(t)}}if(Wm(e)){if(ma)return ia(ma(e));if(ha)return ha(e);if(fa){var n=[];return fa(e,function(i){aa(n,i)}),Xn(n)}}};Xr.exports=function(e){return Gm(e)||sa(e)}}}var jm=Xr.exports,ga=function(r){return r!==r},xl=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||ga(e)&&ga(t))},qm=xl,Vl=function(){return typeof Object.is=="function"?Object.is:qm},Hm=Vl,Zm=Nt,Xm=function(){var e=Hm();return Zm(Object,{is:e},{is:function(){return Object.is!==e}}),e},Ym=Nt,xm=rr,Vm=xl,Jl=Vl,Jm=Xm,Kl=xm(Jl(),Object);Ym(Kl,{getPolyfill:Jl,implementation:Vm,shim:Jm});var Km=Kl,Qm=rr,Ql=tt,$m=ct,ci=$m("%ArrayBuffer%",!0),Yr=Ql("ArrayBuffer.prototype.byteLength",!0),ey=Ql("Object.prototype.toString"),da=!!ci&&!Yr&&new ci(0).slice,va=!!da&&Qm(da),$l=Yr||va?function(e){if(!e||typeof e!="object")return!1;try{return Yr?Yr(e):va(e,0),!0}catch{return!1}}:ci?function(e){return ey(e)==="[object ArrayBuffer]"}:function(e){return!1},ty=Date.prototype.getDay,ry=function(e){try{return ty.call(e),!0}catch{return!1}},ny=Object.prototype.toString,iy="[object Date]",oy=Ut(),ay=function(e){return typeof e!="object"||e===null?!1:oy?ry(e):ny.call(e)===iy},mi=tt,es=Ut(),ts,rs,yi,hi;if(es){ts=mi("Object.prototype.hasOwnProperty"),rs=mi("RegExp.prototype.exec"),yi={};var Yn=function(){throw yi};hi={toString:Yn,valueOf:Yn},typeof Symbol.toPrimitive=="symbol"&&(hi[Symbol.toPrimitive]=Yn)}var ly=mi("Object.prototype.toString"),sy=Object.getOwnPropertyDescriptor,uy="[object RegExp]",fy=es?function(e){if(!e||typeof e!="object")return!1;var t=sy(e,"lastIndex"),n=t&&ts(t,"value");if(!n)return!1;try{rs(e,hi)}catch(i){return i===yi}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:ly(e)===uy},cy=tt,pa=cy("SharedArrayBuffer.prototype.byteLength",!0),my=pa?function(e){if(!e||typeof e!="object")return!1;try{return pa(e),!0}catch{return!1}}:function(e){return!1},yy=Number.prototype.toString,hy=function(e){try{return yy.call(e),!0}catch{return!1}},gy=Object.prototype.toString,dy="[object Number]",vy=Ut(),py=function(e){return typeof e=="number"?!0:typeof e!="object"?!1:vy?hy(e):gy.call(e)===dy},ns=tt,by=ns("Boolean.prototype.toString"),_y=ns("Object.prototype.toString"),wy=function(e){try{return by(e),!0}catch{return!1}},Sy="[object Boolean]",My=Ut(),Py=function(e){return typeof e=="boolean"?!0:e===null||typeof e!="object"?!1:My&&Symbol.toStringTag in e?wy(e):_y(e)===Sy},gi={exports:{}},ky=Object.prototype.toString,Ey=Ii();if(Ey){var Ay=Symbol.prototype.toString,Oy=/^Symbol\(.*\)$/,Ly=function(e){return typeof e.valueOf()!="symbol"?!1:Oy.test(Ay.call(e))};gi.exports=function(e){if(typeof e=="symbol")return!0;if(ky.call(e)!=="[object Symbol]")return!1;try{return Ly(e)}catch{return!1}}}else gi.exports=function(e){return!1};var Cy=gi.exports,di={exports:{}},ba=typeof BigInt<"u"&&BigInt,Ty=function(){return typeof ba=="function"&&typeof BigInt=="function"&&typeof ba(42)=="bigint"&&typeof BigInt(42)=="bigint"},By=Ty();if(By){var Iy=BigInt.prototype.valueOf,Fy=function(e){try{return Iy.call(e),!0}catch{}return!1};di.exports=function(e){return e===null||typeof e>"u"||typeof e=="boolean"||typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="function"?!1:typeof e=="bigint"?!0:Fy(e)}}else di.exports=function(e){return!1};var Ry=di.exports,Dy=ql,zy=py,Ny=Py,Uy=Cy,Wy=Ry,Gy=function(e){if(e==null||typeof e!="object"&&typeof e!="function")return null;if(Dy(e))return"String";if(zy(e))return"Number";if(Ny(e))return"Boolean";if(Uy(e))return"Symbol";if(Wy(e))return"BigInt"},ln=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,_a=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,sn;ln||(sn=function(e){return!1});var vi=ln?ln.prototype.has:null,xn=_a?_a.prototype.has:null;!sn&&!vi&&(sn=function(e){return!1});var jy=sn||function(e){if(!e||typeof e!="object")return!1;try{if(vi.call(e,vi),xn)try{xn.call(e,xn)}catch{return!0}return e instanceof ln}catch{}return!1},pi={exports:{}},qy=ct,is=tt,Hy=qy("%WeakSet%",!0),Vn=is("WeakSet.prototype.has",!0);if(Vn){var Jn=is("WeakMap.prototype.has",!0);pi.exports=function(e){if(!e||typeof e!="object")return!1;try{if(Vn(e,Vn),Jn)try{Jn(e,Jn)}catch{return!0}return e instanceof Hy}catch{}return!1}}else pi.exports=function(e){return!1};var Zy=pi.exports,Xy=Zl,Yy=Yl,xy=jy,Vy=Zy,Jy=function(e){if(e&&typeof e=="object"){if(Xy(e))return"Map";if(Yy(e))return"Set";if(xy(e))return"WeakMap";if(Vy(e))return"WeakSet"}return!1},os=Function.prototype.toString,Vt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,bi,xr;if(typeof Vt=="function"&&typeof Object.defineProperty=="function")try{bi=Object.defineProperty({},"length",{get:function(){throw xr}}),xr={},Vt(function(){throw 42},null,bi)}catch(r){r!==xr&&(Vt=null)}else Vt=null;var Ky=/^\s*class\b/,_i=function(e){try{var t=os.call(e);return Ky.test(t)}catch{return!1}},Kn=function(e){try{return _i(e)?!1:(os.call(e),!0)}catch{return!1}},Vr=Object.prototype.toString,Qy="[object Object]",$y="[object Function]",eh="[object GeneratorFunction]",th="[object HTMLAllCollection]",rh="[object HTML document.all class]",nh="[object HTMLCollection]",ih=typeof Symbol=="function"&&!!Symbol.toStringTag,oh=!(0 in[,]),wi=function(){return!1};if(typeof document=="object"){var ah=document.all;Vr.call(ah)===Vr.call(document.all)&&(wi=function(e){if((oh||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=Vr.call(e);return(t===th||t===rh||t===nh||t===Qy)&&e("")==null}catch{}return!1})}var lh=Vt?function(e){if(wi(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Vt(e,null,bi)}catch(t){if(t!==xr)return!1}return!_i(e)&&Kn(e)}:function(e){if(wi(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(ih)return Kn(e);if(_i(e))return!1;var t=Vr.call(e);return t!==$y&&t!==eh&&!/^\[object HTML/.test(t)?!1:Kn(e)},sh=lh,uh=Object.prototype.toString,as=Object.prototype.hasOwnProperty,fh=function(e,t,n){for(var i=0,o=e.length;i<o;i++)as.call(e,i)&&(n==null?t(e[i],i,e):t.call(n,e[i],i,e))},ch=function(e,t,n){for(var i=0,o=e.length;i<o;i++)n==null?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)},mh=function(e,t,n){for(var i in e)as.call(e,i)&&(n==null?t(e[i],i,e):t.call(n,e[i],i,e))},yh=function(e,t,n){if(!sh(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),uh.call(e)==="[object Array]"?fh(e,t,i):typeof e=="string"?ch(e,t,i):mh(e,t,i)},hh=yh,gh=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],Qn=gh,dh=typeof globalThis>"u"?bn:globalThis,vh=function(){for(var e=[],t=0;t<Qn.length;t++)typeof dh[Qn[t]]=="function"&&(e[e.length]=Qn[t]);return e},un=hh,ph=vh,wa=rr,Xi=tt,Jr=Di,bh=Xi("Object.prototype.toString"),ls=Ut(),Sa=typeof globalThis>"u"?bn:globalThis,Si=ph(),Yi=Xi("String.prototype.slice"),$n=Object.getPrototypeOf,_h=Xi("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},fn={__proto__:null};ls&&Jr&&$n?un(Si,function(r){var e=new Sa[r];if(Symbol.toStringTag in e){var t=$n(e),n=Jr(t,Symbol.toStringTag);if(!n){var i=$n(t);n=Jr(i,Symbol.toStringTag)}fn["$"+r]=wa(n.get)}}):un(Si,function(r){var e=new Sa[r],t=e.slice||e.set;t&&(fn["$"+r]=wa(t))});var wh=function(e){var t=!1;return un(fn,function(n,i){if(!t)try{"$"+n(e)===i&&(t=Yi(i,1))}catch{}}),t},Sh=function(e){var t=!1;return un(fn,function(n,i){if(!t)try{n(e),t=Yi(i,1)}catch{}}),t},Mh=function(e){if(!e||typeof e!="object")return!1;if(!ls){var t=Yi(bh(e),8,-1);return _h(Si,t)>-1?t:t!=="Object"?!1:Sh(e)}return Jr?wh(e):null},Ph=tt,Ma=Ph("ArrayBuffer.prototype.byteLength",!0),kh=$l,Eh=function(e){return kh(e)?Ma?Ma(e):e.byteLength:NaN},ss=ic,mt=tt,Pa=Oc,Ah=ct,$t=jm,Oh=Gl,ka=Km,Ea=Il,Aa=jl,Oa=$l,La=ay,Ca=fy,Ta=my,Ba=Bi,Ia=Gy,Fa=Jy,Ra=Mh,Da=Eh,za=mt("SharedArrayBuffer.prototype.byteLength",!0),Na=mt("Date.prototype.getTime"),ei=Object.getPrototypeOf,Ua=mt("Object.prototype.toString"),cn=Ah("%Set%",!0),Mi=mt("Map.prototype.has",!0),mn=mt("Map.prototype.get",!0),Wa=mt("Map.prototype.size",!0),yn=mt("Set.prototype.add",!0),us=mt("Set.prototype.delete",!0),hn=mt("Set.prototype.has",!0),Kr=mt("Set.prototype.size",!0);function Ga(r,e,t,n){for(var i=$t(r),o;(o=i.next())&&!o.done;)if(it(e,o.value,t,n))return us(r,o.value),!0;return!1}function fs(r){if(typeof r>"u")return null;if(typeof r!="object")return typeof r=="symbol"?!1:typeof r=="string"||typeof r=="number"?+r==+r:!0}function Lh(r,e,t,n,i,o){var a=fs(t);if(a!=null)return a;var l=mn(e,a),s=ss({},i,{strict:!1});return typeof l>"u"&&!Mi(e,a)||!it(n,l,s,o)?!1:!Mi(r,a)&&it(n,l,s,o)}function Ch(r,e,t){var n=fs(t);return n??(hn(e,n)&&!hn(r,n))}function ja(r,e,t,n,i,o){for(var a=$t(r),l,s;(l=a.next())&&!l.done;)if(s=l.value,it(t,s,i,o)&&it(n,mn(e,s),i,o))return us(r,s),!0;return!1}function it(r,e,t,n){var i=t||{};if(i.strict?ka(r,e):r===e)return!0;var o=Ia(r),a=Ia(e);if(o!==a)return!1;if(!r||!e||typeof r!="object"&&typeof e!="object")return i.strict?ka(r,e):r==e;var l=n.has(r),s=n.has(e),u;if(l&&s){if(n.get(r)===n.get(e))return!0}else u={};return l||n.set(r,u),s||n.set(e,u),Ih(r,e,i,n)}function qa(r){return!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))}function Th(r,e,t,n){if(Kr(r)!==Kr(e))return!1;for(var i=$t(r),o=$t(e),a,l,s;(a=i.next())&&!a.done;)if(a.value&&typeof a.value=="object")s||(s=new cn),yn(s,a.value);else if(!hn(e,a.value)){if(t.strict||!Ch(r,e,a.value))return!1;s||(s=new cn),yn(s,a.value)}if(s){for(;(l=o.next())&&!l.done;)if(l.value&&typeof l.value=="object"){if(!Ga(s,l.value,t.strict,n))return!1}else if(!t.strict&&!hn(r,l.value)&&!Ga(s,l.value,t.strict,n))return!1;return Kr(s)===0}return!0}function Bh(r,e,t,n){if(Wa(r)!==Wa(e))return!1;for(var i=$t(r),o=$t(e),a,l,s,u,c,m;(a=i.next())&&!a.done;)if(u=a.value[0],c=a.value[1],u&&typeof u=="object")s||(s=new cn),yn(s,u);else if(m=mn(e,u),typeof m>"u"&&!Mi(e,u)||!it(c,m,t,n)){if(t.strict||!Lh(r,e,u,c,t,n))return!1;s||(s=new cn),yn(s,u)}if(s){for(;(l=o.next())&&!l.done;)if(u=l.value[0],m=l.value[1],u&&typeof u=="object"){if(!ja(s,r,u,m,t,n))return!1}else if(!t.strict&&(!r.has(u)||!it(mn(r,u),m,t,n))&&!ja(s,r,u,m,ss({},t,{strict:!1}),n))return!1;return Kr(s)===0}return!0}function Ih(r,e,t,n){var i,o;if(typeof r!=typeof e||r==null||e==null||Ua(r)!==Ua(e)||Ea(r)!==Ea(e))return!1;var a=Aa(r),l=Aa(e);if(a!==l)return!1;var s=r instanceof Error,u=e instanceof Error;if(s!==u||(s||u)&&(r.name!==e.name||r.message!==e.message))return!1;var c=Ca(r),m=Ca(e);if(c!==m||(c||m)&&(r.source!==e.source||Pa(r)!==Pa(e)))return!1;var g=La(r),d=La(e);if(g!==d||(g||d)&&Na(r)!==Na(e)||t.strict&&ei&&ei(r)!==ei(e))return!1;var b=Ra(r),L=Ra(e);if(b!==L)return!1;if(b||L){if(r.length!==e.length)return!1;for(i=0;i<r.length;i++)if(r[i]!==e[i])return!1;return!0}var O=qa(r),C=qa(e);if(O!==C)return!1;if(O||C){if(r.length!==e.length)return!1;for(i=0;i<r.length;i++)if(r[i]!==e[i])return!1;return!0}var f=Oa(r),y=Oa(e);if(f!==y)return!1;if(f||y)return Da(r)!==Da(e)?!1:typeof Uint8Array=="function"&&it(new Uint8Array(r),new Uint8Array(e),t,n);var h=Ta(r),p=Ta(e);if(h!==p)return!1;if(h||p)return za(r)!==za(e)?!1:typeof Uint8Array=="function"&&it(new Uint8Array(r),new Uint8Array(e),t,n);if(typeof r!=typeof e)return!1;var S=Ba(r),M=Ba(e);if(S.length!==M.length)return!1;for(S.sort(),M.sort(),i=S.length-1;i>=0;i--)if(S[i]!=M[i])return!1;for(i=S.length-1;i>=0;i--)if(o=S[i],!it(r[o],e[o],t,n))return!1;var E=Fa(r),k=Fa(e);return E!==k?!1:E==="Set"||k==="Set"?Th(r,e,t,n):E==="Map"?Bh(r,e,t,n):!0}var Fh=function(e,t,n){return it(e,t,n,Oh())};const Rh=ul(Fh);var Dh=Object.defineProperty,fe=(r,e)=>Dh(r,"name",{value:e,configurable:!0}),zh=class{constructor(e){this.direction=!1,this.compareProperties=!0;var t,n,i;this.precision=10**-((t=e==null?void 0:e.precision)!=null?t:17),this.direction=(n=e==null?void 0:e.direction)!=null?n:!1,this.compareProperties=(i=e==null?void 0:e.compareProperties)!=null?i:!0}compare(e,t){if(e.type!==t.type||!vr(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const n=Pi(e),i=Pi(t);return n.every(o=>i.some(a=>this.compare(o,a)))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every((n,i)=>Math.abs(n-t[i])<this.precision)}compareLine(e,t,n=0,i=!1){if(!vr(e,t))return!1;const o=e;let a=t;if(i&&!this.compareCoord(o[0],a[0])){const s=this.fixStartIndex(a,o);if(s)a=s;else return!1}const l=this.compareCoord(o[n],a[n]);return this.direction||l?this.comparePath(o,a):this.compareCoord(o[n],a[a.length-(1+n)])?this.comparePath(o.slice().reverse(),a):!1}fixStartIndex(e,t){let n,i=-1;for(let o=0;o<e.length;o++)if(this.compareCoord(e[o],t[0])){i=o;break}return i>=0&&(n=[].concat(e.slice(i,e.length),e.slice(1,i+1))),n}comparePath(e,t){return e.every((n,i)=>this.compareCoord(n,t[i]))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const n=e.coordinates.slice(1,e.coordinates.length),i=t.coordinates.slice(1,t.coordinates.length);return n.every(o=>i.some(a=>this.compareLine(o,a,1,!0)))}return!1}compareGeometryCollection(e,t){return vr(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every((n,i)=>this.compare(n,t.geometries[i]))}compareFeature(e,t){return e.id===t.id&&(this.compareProperties?Rh(e.properties,t.properties):!0)&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return vr(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every((n,i)=>this.compare(n,t.features[i]))}compareBBox(e,t){return!e.bbox&&!t.bbox||(e.bbox&&t.bbox?this.compareCoord(e.bbox,t.bbox):!1)}};fe(zh,"GeojsonEquality");function vr(r,e){return r.coordinates?r.coordinates.length===e.coordinates.length:r.length===e.length}fe(vr,"sameLength");function Pi(r){return r.coordinates.map(e=>({type:r.type.replace("Multi",""),coordinates:e}))}fe(Pi,"explode");var He=63710088e-1,cs={centimeters:He*100,centimetres:He*100,degrees:360/(2*Math.PI),feet:He*3.28084,inches:He*39.37,kilometers:He/1e3,kilometres:He/1e3,meters:He,metres:He,miles:He/1609.344,millimeters:He*1e3,millimetres:He*1e3,nauticalmiles:He/1852,radians:1,yards:He*1.0936},Ha={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:29155334959812285e-23,millimeters:1e6,millimetres:1e6,yards:1.195990046};function ft(r,e,t={}){const n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=e||{},n.geometry=r,n}fe(ft,"feature");function Nh(r,e,t={}){switch(r){case"Point":return gt(e).geometry;case"LineString":return vt(e).geometry;case"Polygon":return xi(e).geometry;case"MultiPoint":return ys(e).geometry;case"MultiLineString":return ms(e).geometry;case"MultiPolygon":return hs(e).geometry;default:throw new Error(r+" is invalid")}}fe(Nh,"geometry");function gt(r,e,t={}){if(!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!gn(r[0])||!gn(r[1]))throw new Error("coordinates must contain numbers");return ft({type:"Point",coordinates:r},e,t)}fe(gt,"point");function Uh(r,e,t={}){return Sn(r.map(n=>gt(n,e)),t)}fe(Uh,"points");function xi(r,e,t={}){for(const i of r){if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(i[i.length-1].length!==i[0].length)throw new Error("First and last Position are not equivalent.");for(let o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}return ft({type:"Polygon",coordinates:r},e,t)}fe(xi,"polygon");function Wh(r,e,t={}){return Sn(r.map(n=>xi(n,e)),t)}fe(Wh,"polygons");function vt(r,e,t={}){if(r.length<2)throw new Error("coordinates must be an array of two or more positions");return ft({type:"LineString",coordinates:r},e,t)}fe(vt,"lineString");function Gh(r,e,t={}){return Sn(r.map(n=>vt(n,e)),t)}fe(Gh,"lineStrings");function Sn(r,e={}){const t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=r,t}fe(Sn,"featureCollection");function ms(r,e,t={}){return ft({type:"MultiLineString",coordinates:r},e,t)}fe(ms,"multiLineString");function ys(r,e,t={}){return ft({type:"MultiPoint",coordinates:r},e,t)}fe(ys,"multiPoint");function hs(r,e,t={}){return ft({type:"MultiPolygon",coordinates:r},e,t)}fe(hs,"multiPolygon");function jh(r,e,t={}){return ft({type:"GeometryCollection",geometries:r},e,t)}fe(jh,"geometryCollection");function qh(r,e=0){if(e&&!(e>=0))throw new Error("precision must be a positive number");const t=Math.pow(10,e||0);return Math.round(r*t)/t}fe(qh,"round");function gs(r,e="kilometers"){const t=cs[e];if(!t)throw new Error(e+" units is invalid");return r*t}fe(gs,"radiansToLength");function Vi(r,e="kilometers"){const t=cs[e];if(!t)throw new Error(e+" units is invalid");return r/t}fe(Vi,"lengthToRadians");function Hh(r,e){return ds(Vi(r,e))}fe(Hh,"lengthToDegrees");function Zh(r){let e=r%360;return e<0&&(e+=360),e}fe(Zh,"bearingToAzimuth");function ds(r){return r%(2*Math.PI)*180/Math.PI}fe(ds,"radiansToDegrees");function Xh(r){return r%360*Math.PI/180}fe(Xh,"degreesToRadians");function Yh(r,e="kilometers",t="kilometers"){if(!(r>=0))throw new Error("length must be a positive number");return gs(Vi(r,e),t)}fe(Yh,"convertLength");function xh(r,e="meters",t="kilometers"){if(!(r>=0))throw new Error("area must be a positive number");const n=Ha[e];if(!n)throw new Error("invalid original units");const i=Ha[t];if(!i)throw new Error("invalid final units");return r/n*i}fe(xh,"convertArea");function gn(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}fe(gn,"isNumber");function Ji(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}fe(Ji,"isObject");function Vh(r){if(!r)throw new Error("bbox is required");if(!Array.isArray(r))throw new Error("bbox must be an Array");if(r.length!==4&&r.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");r.forEach(e=>{if(!gn(e))throw new Error("bbox must only contain numbers")})}fe(Vh,"validateBBox");function Jh(r){if(!r)throw new Error("id is required");if(["string","number"].indexOf(typeof r)===-1)throw new Error("id must be a number or a string")}fe(Jh,"validateId");var Kh=Object.defineProperty,Fe=(r,e)=>Kh(r,"name",{value:e,configurable:!0});function kr(r,e,t){if(r!==null)for(var n,i,o,a,l,s,u,c=0,m=0,g,d=r.type,b=d==="FeatureCollection",L=d==="Feature",O=b?r.features.length:1,C=0;C<O;C++){u=b?r.features[C].geometry:L?r.geometry:r,g=u?u.type==="GeometryCollection":!1,l=g?u.geometries.length:1;for(var f=0;f<l;f++){var y=0,h=0;if(a=g?u.geometries[f]:u,a!==null){s=a.coordinates;var p=a.type;switch(c=t&&(p==="Polygon"||p==="MultiPolygon")?1:0,p){case null:break;case"Point":if(e(s,m,C,y,h)===!1)return!1;m++,y++;break;case"LineString":case"MultiPoint":for(n=0;n<s.length;n++){if(e(s[n],m,C,y,h)===!1)return!1;m++,p==="MultiPoint"&&y++}p==="LineString"&&y++;break;case"Polygon":case"MultiLineString":for(n=0;n<s.length;n++){for(i=0;i<s[n].length-c;i++){if(e(s[n][i],m,C,y,h)===!1)return!1;m++}p==="MultiLineString"&&y++,p==="Polygon"&&h++}p==="Polygon"&&y++;break;case"MultiPolygon":for(n=0;n<s.length;n++){for(h=0,i=0;i<s[n].length;i++){for(o=0;o<s[n][i].length-c;o++){if(e(s[n][i][o],m,C,y,h)===!1)return!1;m++}h++}y++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(kr(a.geometries[n],e,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}Fe(kr,"coordEach");function Qh(r,e,t,n){var i=t;return kr(r,function(o,a,l,s,u){a===0&&t===void 0?i=o:i=e(i,o,a,l,s,u)},n),i}Fe(Qh,"coordReduce");function vs(r,e){var t;switch(r.type){case"FeatureCollection":for(t=0;t<r.features.length&&e(r.features[t].properties,t)!==!1;t++);break;case"Feature":e(r.properties,0);break}}Fe(vs,"propEach");function $h(r,e,t){var n=t;return vs(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}Fe($h,"propReduce");function ps(r,e){if(r.type==="Feature")e(r,0);else if(r.type==="FeatureCollection")for(var t=0;t<r.features.length&&e(r.features[t],t)!==!1;t++);}Fe(ps,"featureEach");function eg(r,e,t){var n=t;return ps(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}Fe(eg,"featureReduce");function tg(r){var e=[];return kr(r,function(t){e.push(t)}),e}Fe(tg,"coordAll");function Ki(r,e){var t,n,i,o,a,l,s,u,c,m,g=0,d=r.type==="FeatureCollection",b=r.type==="Feature",L=d?r.features.length:1;for(t=0;t<L;t++){for(l=d?r.features[t].geometry:b?r.geometry:r,u=d?r.features[t].properties:b?r.properties:{},c=d?r.features[t].bbox:b?r.bbox:void 0,m=d?r.features[t].id:b?r.id:void 0,s=l?l.type==="GeometryCollection":!1,a=s?l.geometries.length:1,i=0;i<a;i++){if(o=s?l.geometries[i]:l,o===null){if(e(null,g,u,c,m)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(o,g,u,c,m)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(e(o.geometries[n],g,u,c,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}Fe(Ki,"geomEach");function bs(r,e,t){var n=t;return Ki(r,function(i,o,a,l,s){o===0&&t===void 0?n=i:n=e(n,i,o,a,l,s)}),n}Fe(bs,"geomReduce");function Mn(r,e){Ki(r,function(t,n,i,o,a){var l=t===null?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return e(ft(t,i,{bbox:o,id:a}),n,0)===!1?!1:void 0}var s;switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var u=0;u<t.coordinates.length;u++){var c=t.coordinates[u],m={type:s,coordinates:c};if(e(ft(m,i),n,u)===!1)return!1}})}Fe(Mn,"flattenEach");function rg(r,e,t){var n=t;return Mn(r,function(i,o,a){o===0&&a===0&&t===void 0?n=i:n=e(n,i,o,a)}),n}Fe(rg,"flattenReduce");function _s(r,e){Mn(r,function(t,n,i){var o=0;if(t.geometry){var a=t.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var l,s=0,u=0,c=0;if(kr(t,function(m,g,d,b,L){if(l===void 0||n>s||b>u||L>c){l=m,s=n,u=b,c=L,o=0;return}var O=vt([l,m],t.properties);if(e(O,n,i,L,o)===!1)return!1;o++,l=m})===!1)return!1}}})}Fe(_s,"segmentEach");function ng(r,e,t){var n=t,i=!1;return _s(r,function(o,a,l,s,u){i===!1&&t===void 0?n=o:n=e(n,o,a,l,s,u),i=!0}),n}Fe(ng,"segmentReduce");function ws(r,e){if(!r)throw new Error("geojson is required");Mn(r,function(t,n,i){if(t.geometry!==null){var o=t.geometry.type,a=t.geometry.coordinates;switch(o){case"LineString":if(e(t,n,i,0,0)===!1)return!1;break;case"Polygon":for(var l=0;l<a.length;l++)if(e(vt(a[l],t.properties),n,i,l)===!1)return!1;break}}})}Fe(ws,"lineEach");function ig(r,e,t){var n=t;return ws(r,function(i,o,a,l){o===0&&t===void 0?n=i:n=e(n,i,o,a,l)}),n}Fe(ig,"lineReduce");function og(r,e){if(e=e||{},!Ji(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.segmentIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=s.length+o-1),vt([s[o],s[o+1]],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o-1),vt([s[i][o],s[i][o+1]],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o-1),vt([s[n][o],s[n][o+1]],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o-1),vt([s[n][i][o],s[n][i][o+1]],a,e)}throw new Error("geojson is invalid")}Fe(og,"findSegment");function ag(r,e){if(e=e||{},!Ji(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.coordIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":return gt(s,a,e);case"MultiPoint":return n<0&&(n=s.length+n),gt(s[n],a,e);case"LineString":return o<0&&(o=s.length+o),gt(s[o],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o),gt(s[i][o],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o),gt(s[n][o],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o),gt(s[n][i][o],a,e)}throw new Error("geojson is invalid")}Fe(ag,"findPoint");var lg=Object.defineProperty,Pn=(r,e)=>lg(r,"name",{value:e,configurable:!0});function Ss(r){return bs(r,(e,t)=>e+Ms(t),0)}Pn(Ss,"area");function Ms(r){let e=0,t;switch(r.type){case"Polygon":return ki(r.coordinates);case"MultiPolygon":for(t=0;t<r.coordinates.length;t++)e+=ki(r.coordinates[t]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}Pn(Ms,"calculateArea");function ki(r){let e=0;if(r&&r.length>0){e+=Math.abs(Ei(r[0]));for(let t=1;t<r.length;t++)e-=Math.abs(Ei(r[t]))}return e}Pn(ki,"polygonArea");var sg=He*He/2,ti=Math.PI/180;function Ei(r){const e=r.length;if(e<=2)return 0;let t=0,n=0;for(;n<e;){const i=r[n],o=r[n+1===e?0:n+1],a=r[n+2>=e?(n+2)%e:n+2],l=i[0]*ti,s=o[1]*ti,u=a[0]*ti;t+=(u-l)*Math.sin(s),n++}return t*sg}Pn(Ei,"ringArea");var Za=Ss,De=63710088e-1,Qi={centimeters:De*100,centimetres:De*100,degrees:De/111325,feet:De*3.28084,inches:De*39.37,kilometers:De/1e3,kilometres:De/1e3,meters:De,metres:De,miles:De/1609.344,millimeters:De*1e3,millimetres:De*1e3,nauticalmiles:De/1852,radians:1,yards:De*1.0936},ug={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/De,yards:1.0936133},Ai={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function et(r,e,t){t===void 0&&(t={});var n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=e||{},n.geometry=r,n}function fg(r,e,t){switch(r){case"Point":return Xe(e).geometry;case"LineString":return Qe(e).geometry;case"Polygon":return $i(e).geometry;case"MultiPoint":return ks(e).geometry;case"MultiLineString":return Ps(e).geometry;case"MultiPolygon":return Es(e).geometry;default:throw new Error(r+" is invalid")}}function Xe(r,e,t){if(t===void 0&&(t={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!dn(r[0])||!dn(r[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:r};return et(n,e,t)}function cg(r,e,t){return t===void 0&&(t={}),zt(r.map(function(n){return Xe(n,e)}),t)}function $i(r,e,t){t===void 0&&(t={});for(var n=0,i=r;n<i.length;n++){var o=i[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}var l={type:"Polygon",coordinates:r};return et(l,e,t)}function mg(r,e,t){return t===void 0&&(t={}),zt(r.map(function(n){return $i(n,e)}),t)}function Qe(r,e,t){if(t===void 0&&(t={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:r};return et(n,e,t)}function yg(r,e,t){return t===void 0&&(t={}),zt(r.map(function(n){return Qe(n,e)}),t)}function zt(r,e){e===void 0&&(e={});var t={type:"FeatureCollection"};return e.id&&(t.id=e.id),e.bbox&&(t.bbox=e.bbox),t.features=r,t}function Ps(r,e,t){t===void 0&&(t={});var n={type:"MultiLineString",coordinates:r};return et(n,e,t)}function ks(r,e,t){t===void 0&&(t={});var n={type:"MultiPoint",coordinates:r};return et(n,e,t)}function Es(r,e,t){t===void 0&&(t={});var n={type:"MultiPolygon",coordinates:r};return et(n,e,t)}function hg(r,e,t){t===void 0&&(t={});var n={type:"GeometryCollection",geometries:r};return et(n,e,t)}function gg(r,e){if(e===void 0&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var t=Math.pow(10,e||0);return Math.round(r*t)/t}function eo(r,e){e===void 0&&(e="kilometers");var t=Qi[e];if(!t)throw new Error(e+" units is invalid");return r*t}function kn(r,e){e===void 0&&(e="kilometers");var t=Qi[e];if(!t)throw new Error(e+" units is invalid");return r/t}function dg(r,e){return Sr(kn(r,e))}function vg(r){var e=r%360;return e<0&&(e+=360),e}function Sr(r){var e=r%(2*Math.PI);return e*180/Math.PI}function $e(r){var e=r%360;return e*Math.PI/180}function pg(r,e,t){if(e===void 0&&(e="kilometers"),t===void 0&&(t="kilometers"),!(r>=0))throw new Error("length must be a positive number");return eo(kn(r,e),t)}function bg(r,e,t){if(e===void 0&&(e="meters"),t===void 0&&(t="kilometers"),!(r>=0))throw new Error("area must be a positive number");var n=Ai[e];if(!n)throw new Error("invalid original units");var i=Ai[t];if(!i)throw new Error("invalid final units");return r/n*i}function dn(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function to(r){return!!r&&r.constructor===Object}function _g(r){if(!r)throw new Error("bbox is required");if(!Array.isArray(r))throw new Error("bbox must be an Array");if(r.length!==4&&r.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");r.forEach(function(e){if(!dn(e))throw new Error("bbox must only contain numbers")})}function wg(r){if(!r)throw new Error("id is required");if(["string","number"].indexOf(typeof r)===-1)throw new Error("id must be a number or a string")}const Sg=Object.freeze(Object.defineProperty({__proto__:null,areaFactors:Ai,bearingToAzimuth:vg,convertArea:bg,convertLength:pg,degreesToRadians:$e,earthRadius:De,factors:Qi,feature:et,featureCollection:zt,geometry:fg,geometryCollection:hg,isNumber:dn,isObject:to,lengthToDegrees:dg,lengthToRadians:kn,lineString:Qe,lineStrings:yg,multiLineString:Ps,multiPoint:ks,multiPolygon:Es,point:Xe,points:cg,polygon:$i,polygons:mg,radiansToDegrees:Sr,radiansToLength:eo,round:gg,unitsFactors:ug,validateBBox:_g,validateId:wg},Symbol.toStringTag,{value:"Module"}));function Mr(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function er(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function As(r,e,t){if(t===void 0&&(t={}),t.final===!0)return Mg(r,e);var n=Mr(r),i=Mr(e),o=$e(n[0]),a=$e(i[0]),l=$e(n[1]),s=$e(i[1]),u=Math.sin(a-o)*Math.cos(s),c=Math.cos(l)*Math.sin(s)-Math.sin(l)*Math.cos(s)*Math.cos(a-o);return Sr(Math.atan2(u,c))}function Mg(r,e){var t=As(e,r);return t=(t+180)%360,t}function dr(r,e,t){t===void 0&&(t={});var n=Mr(r),i=Mr(e),o=$e(i[1]-n[1]),a=$e(i[0]-n[0]),l=$e(n[1]),s=$e(i[1]),u=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(l)*Math.cos(s);return eo(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),t.units)}function Xa(r,e,t,n){n===void 0&&(n={});var i=Mr(r),o=$e(i[0]),a=$e(i[1]),l=$e(t),s=kn(e,n.units),u=Math.asin(Math.sin(a)*Math.cos(s)+Math.cos(a)*Math.sin(s)*Math.cos(l)),c=o+Math.atan2(Math.sin(l)*Math.sin(s)*Math.cos(a),Math.cos(s)-Math.sin(a)*Math.sin(u)),m=Sr(c),g=Sr(u);return Xe([m,g],n.properties)}function Er(r,e,t){if(r!==null)for(var n,i,o,a,l,s,u,c=0,m=0,g,d=r.type,b=d==="FeatureCollection",L=d==="Feature",O=b?r.features.length:1,C=0;C<O;C++){u=b?r.features[C].geometry:L?r.geometry:r,g=u?u.type==="GeometryCollection":!1,l=g?u.geometries.length:1;for(var f=0;f<l;f++){var y=0,h=0;if(a=g?u.geometries[f]:u,a!==null){s=a.coordinates;var p=a.type;switch(c=t&&(p==="Polygon"||p==="MultiPolygon")?1:0,p){case null:break;case"Point":if(e(s,m,C,y,h)===!1)return!1;m++,y++;break;case"LineString":case"MultiPoint":for(n=0;n<s.length;n++){if(e(s[n],m,C,y,h)===!1)return!1;m++,p==="MultiPoint"&&y++}p==="LineString"&&y++;break;case"Polygon":case"MultiLineString":for(n=0;n<s.length;n++){for(i=0;i<s[n].length-c;i++){if(e(s[n][i],m,C,y,h)===!1)return!1;m++}p==="MultiLineString"&&y++,p==="Polygon"&&h++}p==="Polygon"&&y++;break;case"MultiPolygon":for(n=0;n<s.length;n++){for(h=0,i=0;i<s[n].length;i++){for(o=0;o<s[n][i].length-c;o++){if(e(s[n][i][o],m,C,y,h)===!1)return!1;m++}h++}y++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(Er(a.geometries[n],e,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Pg(r,e,t,n){var i=t;return Er(r,function(o,a,l,s,u){a===0&&t===void 0?i=o:i=e(i,o,a,l,s,u)},n),i}function Os(r,e){var t;switch(r.type){case"FeatureCollection":for(t=0;t<r.features.length&&e(r.features[t].properties,t)!==!1;t++);break;case"Feature":e(r.properties,0);break}}function kg(r,e,t){var n=t;return Os(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}function vn(r,e){if(r.type==="Feature")e(r,0);else if(r.type==="FeatureCollection")for(var t=0;t<r.features.length&&e(r.features[t],t)!==!1;t++);}function Eg(r,e,t){var n=t;return vn(r,function(i,o){o===0&&t===void 0?n=i:n=e(n,i,o)}),n}function Ag(r){var e=[];return Er(r,function(t){e.push(t)}),e}function ro(r,e){var t,n,i,o,a,l,s,u,c,m,g=0,d=r.type==="FeatureCollection",b=r.type==="Feature",L=d?r.features.length:1;for(t=0;t<L;t++){for(l=d?r.features[t].geometry:b?r.geometry:r,u=d?r.features[t].properties:b?r.properties:{},c=d?r.features[t].bbox:b?r.bbox:void 0,m=d?r.features[t].id:b?r.id:void 0,s=l?l.type==="GeometryCollection":!1,a=s?l.geometries.length:1,i=0;i<a;i++){if(o=s?l.geometries[i]:l,o===null){if(e(null,g,u,c,m)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(o,g,u,c,m)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(e(o.geometries[n],g,u,c,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}g++}}function Og(r,e,t){var n=t;return ro(r,function(i,o,a,l,s){o===0&&t===void 0?n=i:n=e(n,i,o,a,l,s)}),n}function ir(r,e){ro(r,function(t,n,i,o,a){var l=t===null?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return e(et(t,i,{bbox:o,id:a}),n,0)===!1?!1:void 0}var s;switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var u=0;u<t.coordinates.length;u++){var c=t.coordinates[u],m={type:s,coordinates:c};if(e(et(m,i),n,u)===!1)return!1}})}function Lg(r,e,t){var n=t;return ir(r,function(i,o,a){o===0&&a===0&&t===void 0?n=i:n=e(n,i,o,a)}),n}function Ls(r,e){ir(r,function(t,n,i){var o=0;if(t.geometry){var a=t.geometry.type;if(!(a==="Point"||a==="MultiPoint")){var l,s=0,u=0,c=0;if(Er(t,function(m,g,d,b,L){if(l===void 0||n>s||b>u||L>c){l=m,s=n,u=b,c=L,o=0;return}var O=Qe([l,m],t.properties);if(e(O,n,i,L,o)===!1)return!1;o++,l=m})===!1)return!1}}})}function Cg(r,e,t){var n=t,i=!1;return Ls(r,function(o,a,l,s,u){i===!1&&t===void 0?n=o:n=e(n,o,a,l,s,u),i=!0}),n}function Cs(r,e){if(!r)throw new Error("geojson is required");ir(r,function(t,n,i){if(t.geometry!==null){var o=t.geometry.type,a=t.geometry.coordinates;switch(o){case"LineString":if(e(t,n,i,0,0)===!1)return!1;break;case"Polygon":for(var l=0;l<a.length;l++)if(e(Qe(a[l],t.properties),n,i,l)===!1)return!1;break}}})}function Tg(r,e,t){var n=t;return Cs(r,function(i,o,a,l){o===0&&t===void 0?n=i:n=e(n,i,o,a,l)}),n}function Bg(r,e){if(e=e||{},!to(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.segmentIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=s.length+o-1),Qe([s[o],s[o+1]],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o-1),Qe([s[i][o],s[i][o+1]],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o-1),Qe([s[n][o],s[n][o+1]],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o-1),Qe([s[n][i][o],s[n][i][o+1]],a,e)}throw new Error("geojson is invalid")}function Ig(r,e){if(e=e||{},!to(e))throw new Error("options is invalid");var t=e.featureIndex||0,n=e.multiFeatureIndex||0,i=e.geometryIndex||0,o=e.coordIndex||0,a=e.properties,l;switch(r.type){case"FeatureCollection":t<0&&(t=r.features.length+t),a=a||r.features[t].properties,l=r.features[t].geometry;break;case"Feature":a=a||r.properties,l=r.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":l=r;break;default:throw new Error("geojson is invalid")}if(l===null)return null;var s=l.coordinates;switch(l.type){case"Point":return Xe(s,a,e);case"MultiPoint":return n<0&&(n=s.length+n),Xe(s[n],a,e);case"LineString":return o<0&&(o=s.length+o),Xe(s[o],a,e);case"Polygon":return i<0&&(i=s.length+i),o<0&&(o=s[i].length+o),Xe(s[i][o],a,e);case"MultiLineString":return n<0&&(n=s.length+n),o<0&&(o=s[n].length+o),Xe(s[n][o],a,e);case"MultiPolygon":return n<0&&(n=s.length+n),i<0&&(i=s[n].length+i),o<0&&(o=s[n][i].length-o),Xe(s[n][i][o],a,e)}throw new Error("geojson is invalid")}const Fg=Object.freeze(Object.defineProperty({__proto__:null,coordAll:Ag,coordEach:Er,coordReduce:Pg,featureEach:vn,featureReduce:Eg,findPoint:Ig,findSegment:Bg,flattenEach:ir,flattenReduce:Lg,geomEach:ro,geomReduce:Og,lineEach:Cs,lineReduce:Tg,propEach:Os,propReduce:kg,segmentEach:Ls,segmentReduce:Cg},Symbol.toStringTag,{value:"Module"}));function Ya(r){if(!r)throw new Error("geojson is required");var e=[];return ir(r,function(t){Rg(t,e)}),zt(e)}function Rg(r,e){var t=[],n=r.geometry;if(n!==null){switch(n.type){case"Polygon":t=er(n);break;case"LineString":t=[er(n)]}t.forEach(function(i){var o=Dg(i,r.properties);o.forEach(function(a){a.id=e.length,e.push(a)})})}}function Dg(r,e){var t=[];return r.reduce(function(n,i){var o=Qe([n,i],e);return o.bbox=zg(n,i),t.push(o),i}),t}function zg(r,e){var t=r[0],n=r[1],i=e[0],o=e[1],a=t<i?t:i,l=n<o?n:o,s=t>i?t:i,u=n>o?n:o;return[a,l,s,u]}var no={exports:{}},Ts={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(bn,function(){function t(f,y,h,p,S){(function M(E,k,T,v,_){for(;v>T;){if(v-T>600){var N=v-T+1,I=k-T+1,U=Math.log(N),q=.5*Math.exp(2*U/3),te=.5*Math.sqrt(U*q*(N-q)/N)*(I-N/2<0?-1:1),re=Math.max(T,Math.floor(k-I*q/N+te)),he=Math.min(v,Math.floor(k+(N-I)*q/N+te));M(E,k,re,he,_)}var ve=E[k],ce=T,ue=v;for(n(E,T,k),_(E[v],ve)>0&&n(E,T,v);ce<ue;){for(n(E,ce,ue),ce++,ue--;_(E[ce],ve)<0;)ce++;for(;_(E[ue],ve)>0;)ue--}_(E[T],ve)===0?n(E,T,ue):n(E,++ue,v),ue<=k&&(T=ue+1),k<=ue&&(v=ue-1)}})(f,y,h||0,p||f.length-1,S||i)}function n(f,y,h){var p=f[y];f[y]=f[h],f[h]=p}function i(f,y){return f<y?-1:f>y?1:0}var o=function(f){f===void 0&&(f=9),this._maxEntries=Math.max(4,f),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(f,y,h){if(!h)return y.indexOf(f);for(var p=0;p<y.length;p++)if(h(f,y[p]))return p;return-1}function l(f,y){s(f,0,f.children.length,y,f)}function s(f,y,h,p,S){S||(S=O(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var M=y;M<h;M++){var E=f.children[M];u(S,f.leaf?p(E):E)}return S}function u(f,y){return f.minX=Math.min(f.minX,y.minX),f.minY=Math.min(f.minY,y.minY),f.maxX=Math.max(f.maxX,y.maxX),f.maxY=Math.max(f.maxY,y.maxY),f}function c(f,y){return f.minX-y.minX}function m(f,y){return f.minY-y.minY}function g(f){return(f.maxX-f.minX)*(f.maxY-f.minY)}function d(f){return f.maxX-f.minX+(f.maxY-f.minY)}function b(f,y){return f.minX<=y.minX&&f.minY<=y.minY&&y.maxX<=f.maxX&&y.maxY<=f.maxY}function L(f,y){return y.minX<=f.maxX&&y.minY<=f.maxY&&y.maxX>=f.minX&&y.maxY>=f.minY}function O(f){return{children:f,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function C(f,y,h,p,S){for(var M=[y,h];M.length;)if(!((h=M.pop())-(y=M.pop())<=p)){var E=y+Math.ceil((h-y)/p/2)*p;t(f,E,y,h,S),M.push(y,E,E,h)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(f){var y=this.data,h=[];if(!L(f,y))return h;for(var p=this.toBBox,S=[];y;){for(var M=0;M<y.children.length;M++){var E=y.children[M],k=y.leaf?p(E):E;L(f,k)&&(y.leaf?h.push(E):b(f,k)?this._all(E,h):S.push(E))}y=S.pop()}return h},o.prototype.collides=function(f){var y=this.data;if(!L(f,y))return!1;for(var h=[];y;){for(var p=0;p<y.children.length;p++){var S=y.children[p],M=y.leaf?this.toBBox(S):S;if(L(f,M)){if(y.leaf||b(f,M))return!0;h.push(S)}}y=h.pop()}return!1},o.prototype.load=function(f){if(!f||!f.length)return this;if(f.length<this._minEntries){for(var y=0;y<f.length;y++)this.insert(f[y]);return this}var h=this._build(f.slice(),0,f.length-1,0);if(this.data.children.length)if(this.data.height===h.height)this._splitRoot(this.data,h);else{if(this.data.height<h.height){var p=this.data;this.data=h,h=p}this._insert(h,this.data.height-h.height-1,!0)}else this.data=h;return this},o.prototype.insert=function(f){return f&&this._insert(f,this.data.height-1),this},o.prototype.clear=function(){return this.data=O([]),this},o.prototype.remove=function(f,y){if(!f)return this;for(var h,p,S,M=this.data,E=this.toBBox(f),k=[],T=[];M||k.length;){if(M||(M=k.pop(),p=k[k.length-1],h=T.pop(),S=!0),M.leaf){var v=a(f,M.children,y);if(v!==-1)return M.children.splice(v,1),k.push(M),this._condense(k),this}S||M.leaf||!b(M,E)?p?(h++,M=p.children[h],S=!1):M=null:(k.push(M),T.push(h),h=0,p=M,M=M.children[0])}return this},o.prototype.toBBox=function(f){return f},o.prototype.compareMinX=function(f,y){return f.minX-y.minX},o.prototype.compareMinY=function(f,y){return f.minY-y.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(f){return this.data=f,this},o.prototype._all=function(f,y){for(var h=[];f;)f.leaf?y.push.apply(y,f.children):h.push.apply(h,f.children),f=h.pop();return y},o.prototype._build=function(f,y,h,p){var S,M=h-y+1,E=this._maxEntries;if(M<=E)return l(S=O(f.slice(y,h+1)),this.toBBox),S;p||(p=Math.ceil(Math.log(M)/Math.log(E)),E=Math.ceil(M/Math.pow(E,p-1))),(S=O([])).leaf=!1,S.height=p;var k=Math.ceil(M/E),T=k*Math.ceil(Math.sqrt(E));C(f,y,h,T,this.compareMinX);for(var v=y;v<=h;v+=T){var _=Math.min(v+T-1,h);C(f,v,_,k,this.compareMinY);for(var N=v;N<=_;N+=k){var I=Math.min(N+k-1,_);S.children.push(this._build(f,N,I,p-1))}}return l(S,this.toBBox),S},o.prototype._chooseSubtree=function(f,y,h,p){for(;p.push(y),!y.leaf&&p.length-1!==h;){for(var S=1/0,M=1/0,E=void 0,k=0;k<y.children.length;k++){var T=y.children[k],v=g(T),_=(N=f,I=T,(Math.max(I.maxX,N.maxX)-Math.min(I.minX,N.minX))*(Math.max(I.maxY,N.maxY)-Math.min(I.minY,N.minY))-v);_<M?(M=_,S=v<S?v:S,E=T):_===M&&v<S&&(S=v,E=T)}y=E||y.children[0]}var N,I;return y},o.prototype._insert=function(f,y,h){var p=h?f:this.toBBox(f),S=[],M=this._chooseSubtree(p,this.data,y,S);for(M.children.push(f),u(M,p);y>=0&&S[y].children.length>this._maxEntries;)this._split(S,y),y--;this._adjustParentBBoxes(p,S,y)},o.prototype._split=function(f,y){var h=f[y],p=h.children.length,S=this._minEntries;this._chooseSplitAxis(h,S,p);var M=this._chooseSplitIndex(h,S,p),E=O(h.children.splice(M,h.children.length-M));E.height=h.height,E.leaf=h.leaf,l(h,this.toBBox),l(E,this.toBBox),y?f[y-1].children.push(E):this._splitRoot(h,E)},o.prototype._splitRoot=function(f,y){this.data=O([f,y]),this.data.height=f.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(f,y,h){for(var p,S,M,E,k,T,v,_=1/0,N=1/0,I=y;I<=h-y;I++){var U=s(f,0,I,this.toBBox),q=s(f,I,h,this.toBBox),te=(S=U,M=q,E=void 0,k=void 0,T=void 0,v=void 0,E=Math.max(S.minX,M.minX),k=Math.max(S.minY,M.minY),T=Math.min(S.maxX,M.maxX),v=Math.min(S.maxY,M.maxY),Math.max(0,T-E)*Math.max(0,v-k)),re=g(U)+g(q);te<_?(_=te,p=I,N=re<N?re:N):te===_&&re<N&&(N=re,p=I)}return p||h-y},o.prototype._chooseSplitAxis=function(f,y,h){var p=f.leaf?this.compareMinX:c,S=f.leaf?this.compareMinY:m;this._allDistMargin(f,y,h,p)<this._allDistMargin(f,y,h,S)&&f.children.sort(p)},o.prototype._allDistMargin=function(f,y,h,p){f.children.sort(p);for(var S=this.toBBox,M=s(f,0,y,S),E=s(f,h-y,h,S),k=d(M)+d(E),T=y;T<h-y;T++){var v=f.children[T];u(M,f.leaf?S(v):v),k+=d(M)}for(var _=h-y-1;_>=y;_--){var N=f.children[_];u(E,f.leaf?S(N):N),k+=d(E)}return k},o.prototype._adjustParentBBoxes=function(f,y,h){for(var p=h;p>=0;p--)u(y[p],f)},o.prototype._condense=function(f){for(var y=f.length-1,h=void 0;y>=0;y--)f[y].children.length===0?y>0?(h=f[y-1].children).splice(h.indexOf(f[y]),1):this.clear():l(f[y],this.toBBox)},o})})(Ts);var Ng=Ts.exports;const Ug=Ti(Sg),Bs=Ti(Fg);var io={};Object.defineProperty(io,"__esModule",{value:!0});var Wg=Bs;function Oi(r){var e=[1/0,1/0,-1/0,-1/0];return Wg.coordEach(r,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}Oi.default=Oi;io.default=Oi;var lt=Ng,Is=Ug,Fs=Bs,Yt=io.default,Gg=Fs.featureEach;Fs.coordEach;Is.polygon;var xa=Is.featureCollection;function Rs(r){var e=new lt(r);return e.insert=function(t){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Yt(t),lt.prototype.insert.call(this,t)},e.load=function(t){var n=[];return Array.isArray(t)?t.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Yt(i),n.push(i)}):Gg(t,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:Yt(i),n.push(i)}),lt.prototype.load.call(this,n)},e.remove=function(t,n){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Yt(t),lt.prototype.remove.call(this,t,n)},e.clear=function(){return lt.prototype.clear.call(this)},e.search=function(t){var n=lt.prototype.search.call(this,this.toBBox(t));return xa(n)},e.collides=function(t){return lt.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=lt.prototype.all.call(this);return xa(t)},e.toJSON=function(){return lt.prototype.toJSON.call(this)},e.fromJSON=function(t){return lt.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var n;if(t.bbox)n=t.bbox;else if(Array.isArray(t)&&t.length===4)n=t;else if(Array.isArray(t)&&t.length===6)n=[t[0],t[1],t[3],t[4]];else if(t.type==="Feature")n=Yt(t);else if(t.type==="FeatureCollection")n=Yt(t);else throw new Error("invalid geojson");return{minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}},e}no.exports=Rs;no.exports.default=Rs;var jg=no.exports;const qg=ul(jg);function Hg(r,e){var t={},n=[];if(r.type==="LineString"&&(r=et(r)),e.type==="LineString"&&(e=et(e)),r.type==="Feature"&&e.type==="Feature"&&r.geometry!==null&&e.geometry!==null&&r.geometry.type==="LineString"&&e.geometry.type==="LineString"&&r.geometry.coordinates.length===2&&e.geometry.coordinates.length===2){var i=Va(r,e);return i&&n.push(i),zt(n)}var o=qg();return o.load(Ya(e)),vn(Ya(r),function(a){vn(o.search(a),function(l){var s=Va(a,l);if(s){var u=er(s).join(",");t[u]||(t[u]=!0,n.push(s))}})}),zt(n)}function Va(r,e){var t=er(r),n=er(e);if(t.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(n.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=t[0][0],o=t[0][1],a=t[1][0],l=t[1][1],s=n[0][0],u=n[0][1],c=n[1][0],m=n[1][1],g=(m-u)*(a-i)-(c-s)*(l-o),d=(c-s)*(o-u)-(m-u)*(i-s),b=(a-i)*(o-u)-(l-o)*(i-s);if(g===0)return null;var L=d/g,O=b/g;if(L>=0&&L<=1&&O>=0&&O<=1){var C=i+L*(a-i),f=o+L*(l-o);return Xe([C,f])}return null}function Zg(r,e,t){t===void 0&&(t={});var n=Xe([1/0,1/0],{dist:1/0}),i=0;return ir(r,function(o){for(var a=er(o),l=0;l<a.length-1;l++){var s=Xe(a[l]);s.properties.dist=dr(e,s,t);var u=Xe(a[l+1]);u.properties.dist=dr(e,u,t);var c=dr(s,u,t),m=Math.max(s.properties.dist,u.properties.dist),g=As(s,u),d=Xa(e,m,g+90,t),b=Xa(e,m,g-90,t),L=Hg(Qe([d.geometry.coordinates,b.geometry.coordinates]),Qe([s.geometry.coordinates,u.geometry.coordinates])),O=null;L.features.length>0&&(O=L.features[0],O.properties.dist=dr(e,O,t),O.properties.location=i+dr(s,O,t)),s.properties.dist<n.properties.dist&&(n=s,n.properties.index=l,n.properties.location=i),u.properties.dist<n.properties.dist&&(n=u,n.properties.index=l+1,n.properties.location=i+c),O&&O.properties.dist<n.properties.dist&&(n=O,n.properties.index=l),i+=c}}),n}const Xg=["==",["geometry-type"],"Polygon"],Yg=["==",["geometry-type"],"LineString"],xg=["==",["geometry-type"],"Point"];function ri(r){return{type:"Feature",properties:{},geometry:{type:"Point",coordinates:Ds(r)}}}function Ds(r){return[Math.round(r[0]*1e7)/1e7,Math.round(r[1]*1e7)/1e7]}const zs=nt({type:"FeatureCollection",features:[]}),Ns=nt(0),Vg=100;class Jg{constructor(e){Ee(this,"map");Ee(this,"active");Ee(this,"eventListenersSuccess");Ee(this,"eventListenersUpdated");Ee(this,"eventListenersFailure");Ee(this,"points");Ee(this,"cursor");Ee(this,"hover");Ee(this,"dragFrom");Ee(this,"previousStates");Ee(this,"onMouseMove",e=>{if(this.active&&!this.dragFrom)this.recalculateHovering(e);else if(this.active&&this.dragFrom){if(this.hover=="polygon"){let t=this.dragFrom[0]-e.lngLat.lng,n=this.dragFrom[1]-e.lngLat.lat;for(let i of this.points)i[0]-=t,i[1]-=n}else this.points[this.hover]=e.lngLat.toArray();this.dragFrom=e.lngLat.toArray(),this.redraw()}});Ee(this,"onClick",e=>{if(this.beforeUpdate(),this.active&&this.cursor){let t=[];if(Ja(this.points).forEach((n,i)=>{t.push([i+1,Zg(n,this.cursor).properties.dist])}),t.sort((n,i)=>n[1]-i[1]),t.length>0){let n=t[0][0];this.points.splice(n,0,this.cursor.geometry.coordinates),this.hover=n}else this.points.push(this.cursor.geometry.coordinates),this.hover=this.points.length-1;this.redraw(),this.pointsUpdated()}else this.active&&typeof this.hover=="number"&&(this.points.splice(this.hover,1),this.hover=null,this.redraw(),this.pointsUpdated(),this.recalculateHovering(e))});Ee(this,"onDoubleClick",e=>{this.active&&(e.preventDefault(),this.cursor=ri(e.lngLat.toArray()),this.onClick(e),this.finish())});Ee(this,"onMouseDown",e=>{this.active&&!this.dragFrom&&this.hover!=null&&(e.preventDefault(),this.cursor=null,this.dragFrom=e.lngLat.toArray(),this.beforeUpdate(),this.redraw())});Ee(this,"onMouseUp",()=>{this.active&&this.dragFrom&&(this.dragFrom=null,this.redraw(),this.pointsUpdated())});Ee(this,"onKeypress",e=>{this.active&&(e.key=="Enter"?(e.stopPropagation(),this.finish()):e.key=="z"&&e.ctrlKey&&this.undo())});Ee(this,"onKeyDown",e=>{this.active&&e.key=="Escape"&&(e.stopPropagation(),this.cancel())});this.map=e,this.active=!1,this.eventListenersSuccess=[],this.eventListenersUpdated=[],this.eventListenersFailure=[],this.points=[],this.cursor=null,this.hover=null,this.dragFrom=null,this.previousStates=[],this.map.on("mousemove",this.onMouseMove),this.map.on("click",this.onClick),this.map.on("dblclick",this.onDoubleClick),this.map.on("mousedown",this.onMouseDown),this.map.on("mouseup",this.onMouseUp),document.addEventListener("keypress",this.onKeypress),document.addEventListener("keydown",this.onKeyDown)}tearDown(){this.map.off("mousemove",this.onMouseMove),this.map.off("click",this.onClick),this.map.off("dblclick",this.onDoubleClick),this.map.off("mousedown",this.onMouseDown),this.map.off("mouseup",this.onMouseUp),document.removeEventListener("keypress",this.onKeypress),document.removeEventListener("keydown",this.onKeyDown)}finish(){let e=this.polygonFeature();if(e)for(let t of this.eventListenersSuccess)t(e);else for(let t of this.eventListenersFailure)t();this.stop()}cancel(){for(let e of this.eventListenersFailure)e();this.stop()}addEventListenerSuccess(e){this.eventListenersSuccess.push(e)}addEventListenerUpdated(e){this.eventListenersUpdated.push(e)}addEventListenerFailure(e){this.eventListenersFailure.push(e)}clearEventListeners(){this.eventListenersSuccess=[],this.eventListenersUpdated=[],this.eventListenersFailure=[]}startNew(){this.active=!0,this.map.doubleClickZoom.disable()}editExisting(e){this.active=!0,this.map.doubleClickZoom.disable(),this.points=JSON.parse(JSON.stringify(e.geometry.coordinates[0])),this.points.pop(),this.redraw()}stop(){this.map.doubleClickZoom.enable(),this.points=[],this.cursor=null,this.active=!1,this.hover=null,this.dragFrom=null,this.previousStates=[],this.redraw(),this.map.getCanvas().style.cursor="inherit"}undo(){this.dragFrom!=null||this.previousStates.length==0||(this.points=this.previousStates.pop(),this.hover=null,this.redraw())}redraw(){let e={type:"FeatureCollection",features:[]};this.points.forEach((i,o)=>{let a=ri(i);a.properties.hover=this.hover==o,a.properties.idx=o,e.features.push(a)}),e.features=e.features.concat(Ja(this.points));let t=this.polygonFeature();t&&(t.properties.hover=this.hover=="polygon",e.features.push(t)),zs.set(e);let n="crosshair";this.hover!=null&&(n=this.dragFrom?"grabbing":"pointer"),this.map.getCanvas().style.cursor=n,Ns.set(this.previousStates.length)}pointsUpdated(){let e=this.polygonFeature();if(e)for(let t of this.eventListenersUpdated)t(e)}recalculateHovering(e){this.cursor=null,this.hover=null;for(let t of this.map.queryRenderedFeatures(e.point,{layers:["edit-polygon-fill","edit-polygon-vertices"]}))if(t.geometry.type=="Polygon"){this.hover="polygon";break}else if(t.geometry.type=="Point"&&Object.hasOwn(t.properties,"idx")){this.hover=t.properties.idx;break}this.hover==null&&(this.cursor=ri(e.lngLat.toArray())),this.redraw()}polygonFeature(){if(this.points.length<3)return null;let e=this.points.map(Ds),t=[JSON.parse(JSON.stringify(e))];return t[0].push(JSON.parse(JSON.stringify(t[0][0]))),{type:"Feature",geometry:{type:"Polygon",coordinates:t},properties:{}}}beforeUpdate(){this.previousStates.push(JSON.parse(JSON.stringify(this.points))),this.previousStates.length>Vg&&this.previousStates.shift()}}function Ja(r){let e=[];for(let t=0;t<r.length-1;t++)e.push({type:"Feature",geometry:{type:"LineString",coordinates:[r[t],r[t+1]]},properties:{}});return r.length>=3&&e.push({type:"Feature",geometry:{type:"LineString",coordinates:[r[r.length-1],r[0]]},properties:{}}),e}let Kg=Date.now();function Ar(r){return`${r}-${Kg++}`}const oo=Symbol.for("svelte-maplibre");function Or(){return Vs(oo)}function Qg(r){let e=new WeakMap;return t=>{var a;let n=e.get(t.originalEvent);if(n!==void 0)return n;let o=(a=t.target.queryRenderedFeatures(t.point).find(l=>{var s;return(s=r.get(l.layer.id))==null?void 0:s.interactive}))==null?void 0:a.layer.id;return e.set(t.originalEvent,o),o}}function $g(){let r=new Map;return sl(oo,{map:nt(null),source:Rn(null),layer:Rn(null),popupTarget:Rn(null),cluster:nt(),loadedImages:nt(new Set),minzoom:nt(0),maxzoom:nt(24),layerEvent:nt(null),layerInfo:r,eventTopMost:Qg(r)})}function Ka(r){return{subscribe:r.subscribe}}function Us({key:r,setPopupTarget:e=!1,setCluster:t=!1,setMouseEvent:n=!1}){let i=Or(),o=nt(null),a=Ka(o),l={...i,[r]:Ka(o)};if(e&&(l.popupTarget=a),n){let s=nt(null);l.layerEvent=s,i.layerEvent=s}return t&&(l.cluster=nt()),sl(oo,l),{...i,self:o}}function ed(){return Us({key:"source",setCluster:!0})}function td(r=!0){return Us({key:"layer",setPopupTarget:r,setMouseEvent:r})}function Qa(r){let e;return t=>{if(t)for(let n in t){let i=e==null?void 0:e[n],o=t[n];i!==o&&r(n,o,i)}else if(e)for(let n in e)r(n,void 0,e[n]);e=t}}function rd(r,...e){let t=[r];for(let n of e)if(n)Array.isArray(n)&&n[0]===r?t.push(...n.slice(1)):t.push(n);else continue;if(t.length!==1)return t.length===2?t[1]:t}function nd(r){return r===!0?["has","point_count"]:r===!1?["!",["has","point_count"]]:void 0}var pn=id;function id(r){var e,t,n;if(r){if(Array.isArray(r)){for(e=[],t=r.length,n=0;n<t;n++){var i=r[n];i!=null&&e.push(i)}return e}if(typeof r=="object"){e={};var o=Object.keys(r);for(t=o.length,n=0;n<t;n++){var a=o[n],l=r[a];l!=null&&(e[a]=l)}return e}}}function $a(r){let e=r[0],t,n,i=el(r);return{c(){i.c(),t=Ue()},l(o){i.l(o),t=Ue()},m(o,a){i.m(o,a),G(o,t,a),n=!0},p(o,a){a[0]&1&&ge(e,e=o[0])?(Je(),z(i,1,1,me),Ke(),i=el(o),i.c(),R(i,1),i.m(t.parentNode,t)):i.p(o,a)},i(o){n||(R(i),n=!0)},o(o){z(i),n=!1},d(o){o&&B(t),i.d(o)}}}function el(r){let e;const t=r[36].default,n=kt(t,r,r[35],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o[1]&16)&&Et(n,t,i,i[35],e?Ot(t,i[35],o,null):At(i[35]),null)},i(i){e||(R(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function od(r){let e,t,n=r[0]&&$a(r);return{c(){n&&n.c(),e=Ue()},l(i){n&&n.l(i),e=Ue()},m(i,o){n&&n.m(i,o),G(i,e,o),t=!0},p(i,o){i[0]?n?(n.p(i,o),o[0]&1&&R(n,1)):(n=$a(i),n.c(),R(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke())},i(i){t||(R(n),t=!0)},o(i){z(n),t=!1},d(i){i&&B(e),n&&n.d(i)}}}function ad(r,e,t){let n,i,o,a,l,s,u,c,m,g,d,b,{$$slots:L={},$$scope:O}=e,{id:C=Ar("layer")}=e,{source:f=void 0}=e,{sourceLayer:y=void 0}=e,{beforeId:h=void 0}=e,{beforeLayerType:p=void 0}=e,{type:S}=e,{paint:M=void 0}=e,{layout:E=void 0}=e,{filter:k=void 0}=e,{applyToClusters:T=void 0}=e,{minzoom:v=void 0}=e,{maxzoom:_=void 0}=e,{manageHoverState:N=!1}=e,{hovered:I=null}=e,{interactive:U=!0}=e,{hoverCursor:q=void 0}=e,{eventsIfTopMost:te=!1}=e;const re=Ci(),{map:he,source:ve,self:ce,minzoom:ue,maxzoom:Ge,eventTopMost:we,layerInfo:je}=td();Te(r,he,P=>t(31,m=P)),Te(r,ve,P=>t(32,g=P)),Te(r,ce,P=>t(0,c=P)),Te(r,ue,P=>t(34,b=P)),Te(r,Ge,P=>t(33,d=P)),wt(()=>{c&&m&&(je.delete(c),m==null||m.removeLayer(c))});let Me;function pe(P){var ye,oe;if(!U||!c||!m||te&&we(P)!==c)return;let J=P.features??[],H=(oe=(ye=J[0])==null?void 0:ye.properties)==null?void 0:oe.cluster_id,Pe={event:P,map:m,clusterId:H,layer:c,source:l,features:J};re(P.type,Pe)}function F(P){var ye,oe;if(!U||!c||!m||te&&we(P)!==c)return;q&&(m.getCanvas().style.cursor=q);let J=P.features??[];t(6,I=J[0]??null);let H=(oe=(ye=J[0])==null?void 0:ye.properties)==null?void 0:oe.cluster_id;re("mouseenter",{event:P,map:m,clusterId:H,layer:c,source:l,features:J})}function Z(P){var ye,oe,Re;if(!U||!m)return;if(te&&we(P)!==c){t(6,I=null),N&&Me!==void 0&&(m==null||m.setFeatureState({source:l,sourceLayer:y,id:Me},{hover:!1}),Me=void 0);return}m.getCanvas().style.cursor=q;let J=P.features??[],H=(oe=(ye=J[0])==null?void 0:ye.properties)==null?void 0:oe.cluster_id,Pe=(Re=J[0])==null?void 0:Re.id;Pe!==Me&&(N&&(Me!==void 0&&(m==null||m.setFeatureState({source:l,id:Me,sourceLayer:y},{hover:!1})),m==null||m.setFeatureState({source:l,id:Pe,sourceLayer:y},{hover:!0})),Me=Pe,t(6,I=J[0]??null)),re("mousemove",{event:P,map:m,clusterId:H,layer:c,source:l,features:J})}function le(P){if(!(!U||!c||!m)){if(q&&(m.getCanvas().style.cursor=""),t(6,I=null),N&&Me!==void 0){const J={source:l,id:Me,sourceLayer:y};m==null||m.setFeatureState(J,{hover:!1}),Me=void 0}re("mouseleave",{map:m,layer:c,source:l})}}let Ze=!0;function Ye(P){m&&(m.off("click",P,pe),m.off("dblclick",P,pe),m.off("contextmenu",P,pe),m.off("mouseenter",P,F),m.off("mousemove",P,Z),m.off("mouseleave",P,le))}return wt(()=>{m&&c&&Ye(c)}),r.$$set=P=>{"id"in P&&t(7,C=P.id),"source"in P&&t(8,f=P.source),"sourceLayer"in P&&t(9,y=P.sourceLayer),"beforeId"in P&&t(10,h=P.beforeId),"beforeLayerType"in P&&t(11,p=P.beforeLayerType),"type"in P&&t(12,S=P.type),"paint"in P&&t(13,M=P.paint),"layout"in P&&t(14,E=P.layout),"filter"in P&&t(15,k=P.filter),"applyToClusters"in P&&t(16,T=P.applyToClusters),"minzoom"in P&&t(17,v=P.minzoom),"maxzoom"in P&&t(18,_=P.maxzoom),"manageHoverState"in P&&t(19,N=P.manageHoverState),"hovered"in P&&t(6,I=P.hovered),"interactive"in P&&t(20,U=P.interactive),"hoverCursor"in P&&t(21,q=P.hoverCursor),"eventsIfTopMost"in P&&t(22,te=P.eventsIfTopMost),"$$scope"in P&&t(35,O=P.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&65536&&t(30,n=nd(T)),r.$$.dirty[0]&1073774592&&t(24,i=rd("all",n,k)),r.$$.dirty[0]&131072|r.$$.dirty[1]&8&&t(26,o=v??b),r.$$.dirty[0]&262144|r.$$.dirty[1]&4&&t(25,a=_??d),r.$$.dirty[0]&256|r.$$.dirty[1]&2&&t(29,l=f||g),r.$$.dirty[0]&654343809|r.$$.dirty[1]&1&&m&&c!==C&&l){c&&(Ye(c),je.delete(c));let P=h;if(!h&&p){let J=m.getStyle().layers,H=typeof p=="function"?p:ye=>ye.type===p,Pe=J==null?void 0:J.find(H);Pe&&(P=Pe.id)}_t(ce,c=C,c),m.addLayer(pn({id:c,type:S,source:l,"source-layer":y,filter:i,paint:M,layout:E,minzoom:o,maxzoom:a}),P),t(23,Ze=!0),m.on("click",c,pe),m.on("dblclick",c,pe),m.on("contextmenu",c,pe),m.on("mouseenter",c,F),m.on("mousemove",c,Z),m.on("mouseleave",c,le)}r.$$.dirty[0]&1048577&&c&&je.set(c,{interactive:U}),r.$$.dirty[0]&1|r.$$.dirty[1]&1&&t(28,s=c?Qa((P,J)=>m==null?void 0:m.setPaintProperty(c,P,J)):void 0),r.$$.dirty[0]&1|r.$$.dirty[1]&1&&t(27,u=c?Qa((P,J)=>m==null?void 0:m.setLayoutProperty(c,P,J)):void 0),r.$$.dirty[0]&268443648&&(s==null||s(M)),r.$$.dirty[0]&134234112&&(u==null||u(E)),r.$$.dirty[0]&100663297|r.$$.dirty[1]&1&&c&&(m==null||m.setLayerZoomRange(c,o,a)),r.$$.dirty[0]&25165825|r.$$.dirty[1]&1&&c&&(Ze?t(23,Ze=!1):m==null||m.setFilter(c,i))},[c,he,ve,ce,ue,Ge,I,C,f,y,h,p,S,M,E,k,T,v,_,N,U,q,te,Ze,i,a,o,u,s,l,n,m,g,d,b,O,L]}class ao extends be{constructor(e){super(),_e(this,e,ad,od,ge,{id:7,source:8,sourceLayer:9,beforeId:10,beforeLayerType:11,type:12,paint:13,layout:14,filter:15,applyToClusters:16,minzoom:17,maxzoom:18,manageHoverState:19,hovered:6,interactive:20,hoverCursor:21,eventsIfTopMost:22},null,[-1,-1])}}function ld(r){let e;const t=r[16].default,n=kt(t,r,r[24],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&16777216)&&Et(n,t,i,i[24],e?Ot(t,i[24],o,null):At(i[24]),null)},i(i){e||(R(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function sd(r){let e,t,n;function i(a){r[17](a)}let o={id:r[1],type:"circle",source:r[2],sourceLayer:r[3],beforeId:r[4],beforeLayerType:r[5],paint:r[6],layout:r[7],filter:r[8],applyToClusters:r[9],minzoom:r[10],maxzoom:r[11],hoverCursor:r[12],manageHoverState:r[13],eventsIfTopMost:r[14],interactive:r[15],$$slots:{default:[ld]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.hovered=r[0]),e=new ao({props:o}),ke.push(()=>Le(e,"hovered",i)),e.$on("click",r[18]),e.$on("dblclick",r[19]),e.$on("contextmenu",r[20]),e.$on("mouseenter",r[21]),e.$on("mousemove",r[22]),e.$on("mouseleave",r[23]),{c(){X(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,l){x(e,a,l),n=!0},p(a,[l]){const s={};l&2&&(s.id=a[1]),l&4&&(s.source=a[2]),l&8&&(s.sourceLayer=a[3]),l&16&&(s.beforeId=a[4]),l&32&&(s.beforeLayerType=a[5]),l&64&&(s.paint=a[6]),l&128&&(s.layout=a[7]),l&256&&(s.filter=a[8]),l&512&&(s.applyToClusters=a[9]),l&1024&&(s.minzoom=a[10]),l&2048&&(s.maxzoom=a[11]),l&4096&&(s.hoverCursor=a[12]),l&8192&&(s.manageHoverState=a[13]),l&16384&&(s.eventsIfTopMost=a[14]),l&32768&&(s.interactive=a[15]),l&16777216&&(s.$$scope={dirty:l,ctx:a}),!t&&l&1&&(t=!0,s.hovered=a[0],Oe(()=>t=!1)),e.$set(s)},i(a){n||(R(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){V(e,a)}}}function ud(r,e,t){let{$$slots:n={},$$scope:i}=e,{id:o=Ar("circle")}=e,{source:a=void 0}=e,{sourceLayer:l=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:u=void 0}=e,{paint:c}=e,{layout:m=void 0}=e,{filter:g=void 0}=e,{applyToClusters:d=void 0}=e,{minzoom:b=void 0}=e,{maxzoom:L=void 0}=e,{hoverCursor:O=void 0}=e,{manageHoverState:C=!1}=e,{hovered:f=null}=e,{eventsIfTopMost:y=!1}=e,{interactive:h=!0}=e;function p(_){f=_,t(0,f)}function S(_){Se.call(this,r,_)}function M(_){Se.call(this,r,_)}function E(_){Se.call(this,r,_)}function k(_){Se.call(this,r,_)}function T(_){Se.call(this,r,_)}function v(_){Se.call(this,r,_)}return r.$$set=_=>{"id"in _&&t(1,o=_.id),"source"in _&&t(2,a=_.source),"sourceLayer"in _&&t(3,l=_.sourceLayer),"beforeId"in _&&t(4,s=_.beforeId),"beforeLayerType"in _&&t(5,u=_.beforeLayerType),"paint"in _&&t(6,c=_.paint),"layout"in _&&t(7,m=_.layout),"filter"in _&&t(8,g=_.filter),"applyToClusters"in _&&t(9,d=_.applyToClusters),"minzoom"in _&&t(10,b=_.minzoom),"maxzoom"in _&&t(11,L=_.maxzoom),"hoverCursor"in _&&t(12,O=_.hoverCursor),"manageHoverState"in _&&t(13,C=_.manageHoverState),"hovered"in _&&t(0,f=_.hovered),"eventsIfTopMost"in _&&t(14,y=_.eventsIfTopMost),"interactive"in _&&t(15,h=_.interactive),"$$scope"in _&&t(24,i=_.$$scope)},[f,o,a,l,s,u,c,m,g,d,b,L,O,C,y,h,n,p,S,M,E,k,T,v,i]}class fd extends be{constructor(e){super(),_e(this,e,ud,sd,ge,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,applyToClusters:9,minzoom:10,maxzoom:11,hoverCursor:12,manageHoverState:13,hovered:0,eventsIfTopMost:14,interactive:15})}}function cd(r){let e;const t=r[15].default,n=kt(t,r,r[23],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8388608)&&Et(n,t,i,i[23],e?Ot(t,i[23],o,null):At(i[23]),null)},i(i){e||(R(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function md(r){let e,t,n;function i(a){r[16](a)}let o={id:r[1],type:"fill",source:r[2],sourceLayer:r[3],beforeId:r[4],beforeLayerType:r[5],paint:r[6],layout:r[7],filter:r[8],minzoom:r[9],maxzoom:r[10],hoverCursor:r[11],manageHoverState:r[12],eventsIfTopMost:r[13],interactive:r[14],$$slots:{default:[cd]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.hovered=r[0]),e=new ao({props:o}),ke.push(()=>Le(e,"hovered",i)),e.$on("click",r[17]),e.$on("dblclick",r[18]),e.$on("contextmenu",r[19]),e.$on("mouseenter",r[20]),e.$on("mousemove",r[21]),e.$on("mouseleave",r[22]),{c(){X(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,l){x(e,a,l),n=!0},p(a,[l]){const s={};l&2&&(s.id=a[1]),l&4&&(s.source=a[2]),l&8&&(s.sourceLayer=a[3]),l&16&&(s.beforeId=a[4]),l&32&&(s.beforeLayerType=a[5]),l&64&&(s.paint=a[6]),l&128&&(s.layout=a[7]),l&256&&(s.filter=a[8]),l&512&&(s.minzoom=a[9]),l&1024&&(s.maxzoom=a[10]),l&2048&&(s.hoverCursor=a[11]),l&4096&&(s.manageHoverState=a[12]),l&8192&&(s.eventsIfTopMost=a[13]),l&16384&&(s.interactive=a[14]),l&8388608&&(s.$$scope={dirty:l,ctx:a}),!t&&l&1&&(t=!0,s.hovered=a[0],Oe(()=>t=!1)),e.$set(s)},i(a){n||(R(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){V(e,a)}}}function yd(r,e,t){let{$$slots:n={},$$scope:i}=e,{id:o=Ar("fill")}=e,{source:a=void 0}=e,{sourceLayer:l=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:u=void 0}=e,{paint:c}=e,{layout:m=void 0}=e,{filter:g=void 0}=e,{minzoom:d=void 0}=e,{maxzoom:b=void 0}=e,{hoverCursor:L=void 0}=e,{manageHoverState:O=!1}=e,{hovered:C=null}=e,{eventsIfTopMost:f=!1}=e,{interactive:y=!0}=e;function h(v){C=v,t(0,C)}function p(v){Se.call(this,r,v)}function S(v){Se.call(this,r,v)}function M(v){Se.call(this,r,v)}function E(v){Se.call(this,r,v)}function k(v){Se.call(this,r,v)}function T(v){Se.call(this,r,v)}return r.$$set=v=>{"id"in v&&t(1,o=v.id),"source"in v&&t(2,a=v.source),"sourceLayer"in v&&t(3,l=v.sourceLayer),"beforeId"in v&&t(4,s=v.beforeId),"beforeLayerType"in v&&t(5,u=v.beforeLayerType),"paint"in v&&t(6,c=v.paint),"layout"in v&&t(7,m=v.layout),"filter"in v&&t(8,g=v.filter),"minzoom"in v&&t(9,d=v.minzoom),"maxzoom"in v&&t(10,b=v.maxzoom),"hoverCursor"in v&&t(11,L=v.hoverCursor),"manageHoverState"in v&&t(12,O=v.manageHoverState),"hovered"in v&&t(0,C=v.hovered),"eventsIfTopMost"in v&&t(13,f=v.eventsIfTopMost),"interactive"in v&&t(14,y=v.interactive),"$$scope"in v&&t(23,i=v.$$scope)},[C,o,a,l,s,u,c,m,g,d,b,L,O,f,y,n,h,p,S,M,E,k,T,i]}class Ws extends be{constructor(e){super(),_e(this,e,yd,md,ge,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function hd(r,e,t){let n;const{map:i}=Or();Te(r,i,s=>t(4,n=s));let{position:o="top-left"}=e,{container:a=void 0}=e,l=null;return wt(()=>{n!=null&&n.loaded()&&l&&n.removeControl(l)}),r.$$set=s=>{"position"in s&&t(1,o=s.position),"container"in s&&t(2,a=s.container)},r.$$.update=()=>{if(r.$$.dirty&30&&n&&!l){let s;typeof a=="string"?s=document.querySelector(a)??void 0:s=a,t(3,l=new tr.FullscreenControl({container:s})),n.addControl(l,o)}},[i,o,a,l,n]}class gd extends be{constructor(e){super(),_e(this,e,hd,null,ge,{position:1,container:2})}}function dd(r,e,t,n,i){let o=!1;r.getSource(e)&&(o=!0,r.removeSource(e));const a=()=>{n(e)&&(r.addSource(e,t),i())};if(o){const l=()=>{e&&(r.getSource(e)?setTimeout(l,1):a())};l()}else a()}function vd(r,e,t){Js().then(()=>{let n=Ks(r);if(!n)return;n.getSource(e)===t&&n.removeSource(e)})}function tl(r){let e=r[0],t,n,i=rl(r);return{c(){i.c(),t=Ue()},l(o){i.l(o),t=Ue()},m(o,a){i.m(o,a),G(o,t,a),n=!0},p(o,a){a&1&&ge(e,e=o[0])?(Je(),z(i,1,1,me),Ke(),i=rl(o),i.c(),R(i,1),i.m(t.parentNode,t)):i.p(o,a)},i(o){n||(R(i),n=!0)},o(o){z(i),n=!1},d(o){o&&B(t),i.d(o)}}}function rl(r){let e;const t=r[15].default,n=kt(t,r,r[14],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&16384)&&Et(n,t,i,i[14],e?Ot(t,i[14],o,null):At(i[14]),null)},i(i){e||(R(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function pd(r){let e,t,n=r[0]&&tl(r);return{c(){n&&n.c(),e=Ue()},l(i){n&&n.l(i),e=Ue()},m(i,o){n&&n.m(i,o),G(i,e,o),t=!0},p(i,[o]){i[0]?n?(n.p(i,o),o&1&&R(n,1)):(n=tl(i),n.c(),R(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke())},i(i){t||(R(n),t=!0)},o(i){z(n),t=!1},d(i){i&&B(e),n&&n.d(i)}}}function bd(r,e,t){let n,i,o,{$$slots:a={},$$scope:l}=e,{id:s=Ar("geojson")}=e,{data:u}=e,{generateId:c=!1}=e,{promoteId:m=void 0}=e,{filter:g=void 0}=e,{lineMetrics:d=void 0}=e,{cluster:b=void 0}=e;const{map:L,cluster:O,self:C}=ed();Te(r,L,h=>t(13,i=h)),Te(r,O,h=>t(16,o=h)),Te(r,C,h=>t(0,n=h));let f,y=!0;return wt(()=>{n&&f&&i&&(vd(L,n,f),_t(C,n=null,n),t(11,f=void 0))}),r.$$set=h=>{"id"in h&&t(4,s=h.id),"data"in h&&t(5,u=h.data),"generateId"in h&&t(6,c=h.generateId),"promoteId"in h&&t(7,m=h.promoteId),"filter"in h&&t(8,g=h.filter),"lineMetrics"in h&&t(9,d=h.lineMetrics),"cluster"in h&&t(10,b=h.cluster),"$$scope"in h&&t(14,l=h.$$scope)},r.$$.update=()=>{r.$$.dirty&1024&&_t(O,o=b,o),r.$$.dirty&12273&&i&&n!==s&&(_t(C,n=s,n),dd(i,n,pn({type:"geojson",data:u,filter:g,lineMetrics:d,generateId:c,promoteId:m,cluster:!!b,clusterMinPoints:b==null?void 0:b.minPoints,clusterMaxZoom:b==null?void 0:b.maxZoom,clusterRadius:b==null?void 0:b.radius,clusterProperties:b==null?void 0:b.properties}),h=>i&&h===n,()=>{n&&(t(11,f=i==null?void 0:i.getSource(n)),t(12,y=!0))})),r.$$.dirty&8208&&(i==null||i.on("style.load",()=>{t(11,f=i==null?void 0:i.getSource(s))})),r.$$.dirty&6176&&f&&(y?t(12,y=!1):f.setData(u)),r.$$.dirty&3072&&(f==null||f.setClusterOptions(pn({cluster:!!b,clusterMaxZoom:b==null?void 0:b.maxZoom,clusterRadius:b==null?void 0:b.radius})))},[n,L,O,C,s,u,c,m,g,d,b,f,y,i,l,a]}class Gs extends be{constructor(e){super(),_e(this,e,bd,pd,ge,{id:4,data:5,generateId:6,promoteId:7,filter:8,lineMetrics:9,cluster:10})}}function _d(r,e,t){let n;const{map:i}=Or();Te(r,i,g=>t(8,n=g));let{position:o="top-left"}=e,{positionOptions:a=void 0}=e,{fitBoundsOptions:l=void 0}=e,{trackUserLocation:s=!1}=e,{showAccuracyCircle:u=!0}=e,{showUserLocation:c=!0}=e,m=null;return wt(()=>{n!=null&&n.loaded()&&m&&n.removeControl(m)}),r.$$set=g=>{"position"in g&&t(1,o=g.position),"positionOptions"in g&&t(2,a=g.positionOptions),"fitBoundsOptions"in g&&t(3,l=g.fitBoundsOptions),"trackUserLocation"in g&&t(4,s=g.trackUserLocation),"showAccuracyCircle"in g&&t(5,u=g.showAccuracyCircle),"showUserLocation"in g&&t(6,c=g.showUserLocation)},r.$$.update=()=>{r.$$.dirty&510&&n&&!m&&(t(7,m=new tr.GeolocateControl({positionOptions:a,fitBoundsOptions:l,trackUserLocation:s,showAccuracyCircle:u,showUserLocation:c})),n.addControl(m,o))},[i,o,a,l,s,u,c,m,n]}class wd extends be{constructor(e){super(),_e(this,e,_d,null,ge,{position:1,positionOptions:2,fitBoundsOptions:3,trackUserLocation:4,showAccuracyCircle:5,showUserLocation:6})}}function Sd(r){let e;const t=r[15].default,n=kt(t,r,r[23],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&8388608)&&Et(n,t,i,i[23],e?Ot(t,i[23],o,null):At(i[23]),null)},i(i){e||(R(n,i),e=!0)},o(i){z(n,i),e=!1},d(i){n&&n.d(i)}}}function Md(r){let e,t,n;function i(a){r[16](a)}let o={id:r[1],type:"line",source:r[2],sourceLayer:r[3],beforeId:r[4],beforeLayerType:r[5],paint:r[6],layout:r[7],filter:r[8],minzoom:r[9],maxzoom:r[10],hoverCursor:r[11],manageHoverState:r[12],eventsIfTopMost:r[13],interactive:r[14],$$slots:{default:[Sd]},$$scope:{ctx:r}};return r[0]!==void 0&&(o.hovered=r[0]),e=new ao({props:o}),ke.push(()=>Le(e,"hovered",i)),e.$on("click",r[17]),e.$on("dblclick",r[18]),e.$on("contextmenu",r[19]),e.$on("mouseenter",r[20]),e.$on("mousemove",r[21]),e.$on("mouseleave",r[22]),{c(){X(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,l){x(e,a,l),n=!0},p(a,[l]){const s={};l&2&&(s.id=a[1]),l&4&&(s.source=a[2]),l&8&&(s.sourceLayer=a[3]),l&16&&(s.beforeId=a[4]),l&32&&(s.beforeLayerType=a[5]),l&64&&(s.paint=a[6]),l&128&&(s.layout=a[7]),l&256&&(s.filter=a[8]),l&512&&(s.minzoom=a[9]),l&1024&&(s.maxzoom=a[10]),l&2048&&(s.hoverCursor=a[11]),l&4096&&(s.manageHoverState=a[12]),l&8192&&(s.eventsIfTopMost=a[13]),l&16384&&(s.interactive=a[14]),l&8388608&&(s.$$scope={dirty:l,ctx:a}),!t&&l&1&&(t=!0,s.hovered=a[0],Oe(()=>t=!1)),e.$set(s)},i(a){n||(R(e.$$.fragment,a),n=!0)},o(a){z(e.$$.fragment,a),n=!1},d(a){V(e,a)}}}function Pd(r,e,t){let{$$slots:n={},$$scope:i}=e,{id:o=Ar("line")}=e,{source:a=void 0}=e,{sourceLayer:l=void 0}=e,{beforeId:s=void 0}=e,{beforeLayerType:u=void 0}=e,{paint:c}=e,{layout:m=void 0}=e,{filter:g=void 0}=e,{minzoom:d=void 0}=e,{maxzoom:b=void 0}=e,{hoverCursor:L=void 0}=e,{manageHoverState:O=!1}=e,{hovered:C=null}=e,{eventsIfTopMost:f=!1}=e,{interactive:y=!0}=e;function h(v){C=v,t(0,C)}function p(v){Se.call(this,r,v)}function S(v){Se.call(this,r,v)}function M(v){Se.call(this,r,v)}function E(v){Se.call(this,r,v)}function k(v){Se.call(this,r,v)}function T(v){Se.call(this,r,v)}return r.$$set=v=>{"id"in v&&t(1,o=v.id),"source"in v&&t(2,a=v.source),"sourceLayer"in v&&t(3,l=v.sourceLayer),"beforeId"in v&&t(4,s=v.beforeId),"beforeLayerType"in v&&t(5,u=v.beforeLayerType),"paint"in v&&t(6,c=v.paint),"layout"in v&&t(7,m=v.layout),"filter"in v&&t(8,g=v.filter),"minzoom"in v&&t(9,d=v.minzoom),"maxzoom"in v&&t(10,b=v.maxzoom),"hoverCursor"in v&&t(11,L=v.hoverCursor),"manageHoverState"in v&&t(12,O=v.manageHoverState),"hovered"in v&&t(0,C=v.hovered),"eventsIfTopMost"in v&&t(13,f=v.eventsIfTopMost),"interactive"in v&&t(14,y=v.interactive),"$$scope"in v&&t(23,i=v.$$scope)},[C,o,a,l,s,u,c,m,g,d,b,L,O,f,y,n,h,p,S,M,E,k,T,i]}class kd extends be{constructor(e){super(),_e(this,e,Pd,Md,ge,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function Ed(r){let e=r.getCenter(),t=Math.round(r.getZoom()*100)/100,n=Math.ceil((t*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,n),o=Math.round(e.lat*i)/i,a=Math.round(e.lng*i)/i,l=`${t}/${o}/${a}`,s=r.getBearing(),u=r.getPitch();return(s||u)&&(l+=`/${Math.round(s*10)/10}`),u&&(l+=`/${Math.round(u)}`),`#${l}`}function Ad(r){return r.replace("#","").split("/").map(parseFloat)}var jr=lo;function lo(r,e){return r===e||r!==r&&e!==e?!0:typeof r!=typeof e||{}.toString.call(r)!={}.toString.call(e)||r!==Object(r)||!r?!1:Array.isArray(r)?nl(r,e):{}.toString.call(r)=="[object Set]"?nl(Array.from(r),Array.from(e)):{}.toString.call(r)=="[object Object]"?Ld(r,e):Od(r,e)}function Od(r,e){return r.toString()===e.toString()}function nl(r,e){var t=r.length;if(t!=e.length)return!1;for(var n=0;n<t;n++)if(!lo(r[n],e[n]))return!1;return!0}function Ld(r,e){var t=Object.keys(r),n=t.length;if(n!=Object.keys(e).length)return!1;for(var i=0;i<n;i++){var o=t[i];if(!(e.hasOwnProperty(o)&&lo(r[o],e[o])))return!1}return!0}function Cd(r,e,t){let n;const{map:i}=Or();Te(r,i,c=>t(6,n=c));let{position:o="top-left"}=e,{showCompass:a=!0}=e,{showZoom:l=!0}=e,{visualizePitch:s=!1}=e,u=null;return wt(()=>{n!=null&&n.loaded()&&u&&n.removeControl(u)}),r.$$set=c=>{"position"in c&&t(1,o=c.position),"showCompass"in c&&t(2,a=c.showCompass),"showZoom"in c&&t(3,l=c.showZoom),"visualizePitch"in c&&t(4,s=c.visualizePitch)},r.$$.update=()=>{r.$$.dirty&126&&n&&!u&&(t(5,u=new tr.NavigationControl({showCompass:a,showZoom:l,visualizePitch:s})),n.addControl(u,o))},[i,o,a,l,s,u,n]}class Td extends be{constructor(e){super(),_e(this,e,Cd,null,ge,{position:1,showCompass:2,showZoom:3,visualizePitch:4})}}function Bd(r,e,t){let n;const{map:i}=Or();Te(r,i,u=>t(5,n=u));let{position:o="bottom-left"}=e,{maxWidth:a=void 0}=e,{unit:l="metric"}=e,s=null;return wt(()=>{n!=null&&n.loaded()&&s&&n.removeControl(s)}),r.$$set=u=>{"position"in u&&t(1,o=u.position),"maxWidth"in u&&t(2,a=u.maxWidth),"unit"in u&&t(3,l=u.unit)},r.$$.update=()=>{r.$$.dirty&62&&n&&!s&&(t(4,s=new tr.ScaleControl({maxWidth:a,unit:l})),n.addControl(s,o))},[i,o,a,l,s,n]}class Id extends be{constructor(e){super(),_e(this,e,Bd,null,ge,{position:1,maxWidth:2,unit:3})}}const Fd=r=>({map:r[0]&8,loadedImages:r[0]&16,allImagesLoaded:r[0]&32}),il=r=>({map:r[3],loadedImages:r[4],allImagesLoaded:r[5]});function ol(r){let e,t,n=r[2]&&al(r);const i=r[36].default,o=kt(i,r,r[35],il);return{c(){n&&n.c(),e=K(),o&&o.c()},l(a){n&&n.l(a),e=Q(a),o&&o.l(a)},m(a,l){n&&n.m(a,l),G(a,e,l),o&&o.m(a,l),t=!0},p(a,l){a[2]?n?(n.p(a,l),l[0]&4&&R(n,1)):(n=al(a),n.c(),R(n,1),n.m(e.parentNode,e)):n&&(Je(),z(n,1,1,()=>{n=null}),Ke()),o&&o.p&&(!t||l[0]&56|l[1]&16)&&Et(o,i,a,a[35],t?Ot(i,a[35],l,Fd):At(a[35]),il)},i(a){t||(R(n),R(o,a),t=!0)},o(a){z(n),z(o,a),t=!1},d(a){a&&B(e),n&&n.d(a),o&&o.d(a)}}}function al(r){let e,t,n,i,o,a,l,s;return e=new Td({props:{position:r[6]}}),n=new wd({props:{position:r[6],fitBoundsOptions:{maxZoom:12}}}),o=new gd({props:{position:r[6]}}),l=new Id({props:{position:r[6]}}),{c(){X(e.$$.fragment),t=K(),X(n.$$.fragment),i=K(),X(o.$$.fragment),a=K(),X(l.$$.fragment)},l(u){Y(e.$$.fragment,u),t=Q(u),Y(n.$$.fragment,u),i=Q(u),Y(o.$$.fragment,u),a=Q(u),Y(l.$$.fragment,u)},m(u,c){x(e,u,c),G(u,t,c),x(n,u,c),G(u,i,c),x(o,u,c),G(u,a,c),x(l,u,c),s=!0},p(u,c){const m={};c[0]&64&&(m.position=u[6]),e.$set(m);const g={};c[0]&64&&(g.position=u[6]),n.$set(g);const d={};c[0]&64&&(d.position=u[6]),o.$set(d);const b={};c[0]&64&&(b.position=u[6]),l.$set(b)},i(u){s||(R(e.$$.fragment,u),R(n.$$.fragment,u),R(o.$$.fragment,u),R(l.$$.fragment,u),s=!0)},o(u){z(e.$$.fragment,u),z(n.$$.fragment,u),z(o.$$.fragment,u),z(l.$$.fragment,u),s=!1},d(u){u&&(B(t),B(i),B(a)),V(e,u),V(n,u),V(o,u),V(l,u)}}}function Rd(r){let e,t,n,i,o,a=r[3]&&r[0]&&ol(r);return{c(){e=$("div"),a&&a.c(),this.h()},l(l){e=ee(l,"DIV",{class:!0});var s=ae(e);a&&a.l(s),s.forEach(B),this.h()},h(){A(e,"class",t=$r(r[1])+" svelte-p00lfq"),ut(e,"expand-map",!r[1])},m(l,s){G(l,e,s),a&&a.m(e,null),n=!0,i||(o=Qs(r[9].call(null,e)),i=!0)},p(l,s){l[3]&&l[0]?a?(a.p(l,s),s[0]&9&&R(a,1)):(a=ol(l),a.c(),R(a,1),a.m(e,null)):a&&(Je(),z(a,1,1,()=>{a=null}),Ke()),(!n||s[0]&2&&t!==(t=$r(l[1])+" svelte-p00lfq"))&&A(e,"class",t),(!n||s[0]&2)&&ut(e,"expand-map",!l[1])},i(l){n||(R(a),n=!0)},o(l){z(a),n=!1},d(l){l&&B(e),a&&a.d(),i=!1,o()}}}function Dd(r,e,t){let n,i,o,a,{$$slots:l={},$$scope:s}=e,{map:u=null}=e,{class:c=void 0}=e,{style:m}=e,{diffStyleUpdates:g=!1}=e,{center:d=void 0}=e,{zoom:b=void 0}=e,{pitch:L=0}=e,{bearing:O=0}=e,{bounds:C=void 0}=e,{hash:f=!1}=e,{loaded:y=!1}=e,{minZoom:h=0}=e,{maxZoom:p=22}=e,{zoomOnDoubleClick:S=!0}=e,{locale:M=void 0}=e,{interactive:E=!0}=e,{attributionControl:k=!0}=e,{cooperativeGestures:T=!1}=e,{preserveDrawingBuffer:v=!1}=e,{maxBounds:_=void 0}=e,{images:N=[]}=e,{standardControls:I=!1}=e,{filterLayers:U=void 0}=e,{transformRequest:q=void 0}=e;const te=Ci(),{map:re,loadedImages:he}=$g();Te(r,re,F=>t(3,o=F)),Te(r,he,F=>t(4,a=F));let ve=new Set;async function ce(F,Z=!1){if(o&&!(!o.loaded()&&!Z))if("url"in F){ve.add(F.id);try{let le=await o.loadImage(F.url);o==null||o.addImage(F.id,le.data,F.options),a.add(F.id),he.set(a)}catch(le){te("error",le)}finally{ve.delete(F.id)}}else o.addImage(F.id,F.data,F.options),a.add(F.id),he.set(a)}let ue,Ge,we,je;function Me(F){if(f){let Z=Ad(window.location.hash);Z.length>=3&&(t(11,b=Z[0]),t(10,d=[Z[2],Z[1]])),Z.length==5&&(t(15,O=Z[3]),t(14,L=Z[4]))}return _t(re,o=new tr.Map(pn({container:F,style:m,locale:M,center:d,zoom:b,pitch:L,bearing:O,minZoom:h,maxZoom:p,interactive:E,preserveDrawingBuffer:v,maxBounds:_,bounds:C,attributionControl:k,transformRequest:q,cooperativeGestures:T})),o),o.on("load",Z=>{t(0,y=!0),te("load",o)}),o.on("error",Z=>te("error",{...Z,map:o})),o.on("movestart",Z=>te("movestart",{...Z,map:o})),o.on("moveend",Z=>{if(t(10,d=Z.target.getCenter()),t(11,b=Z.target.getZoom()),t(12,C=Z.target.getBounds()),te("moveend",{...Z,map:o}),f){let le=window.location.href.replace(/(#.+)?$/,Ed(o));window.history.replaceState(window.history.state,"",le)}}),o.on("zoomstart",Z=>te("zoomstart",{...Z,map:o})),o.on("zoom",Z=>{t(11,b=Z.target.getZoom()),te("zoom",{...Z,map:o})}),o.on("zoomend",Z=>{t(11,b=Z.target.getZoom()),te("zoomend",{...Z,map:o})}),o.on("style.load",()=>{if(o){const Z=o.getStyle();if(t(32,ue=Z.layers.map(le=>le.id)),t(33,Ge=Object.keys(Z.sources)),je)for(const[le,Ze]of Object.entries(je))o.addSource(le,Ze);if(we)for(const le of we)o.addLayer(le);for(const le of N)ce(le,!0)}}),o.on("styledata",Z=>{if(o&&U){const le=o.getStyle().layers;if(le)for(let Ze of le)U(Ze)||o.setLayoutProperty(Ze.id,"visibility","none")}te("styledata",{...Z,map:o})}),{destroy(){t(0,y=!1),o==null||o.remove(),_t(re,o=null,o)}}}let pe=m;return r.$$set=F=>{"map"in F&&t(13,u=F.map),"class"in F&&t(1,c=F.class),"style"in F&&t(16,m=F.style),"diffStyleUpdates"in F&&t(17,g=F.diffStyleUpdates),"center"in F&&t(10,d=F.center),"zoom"in F&&t(11,b=F.zoom),"pitch"in F&&t(14,L=F.pitch),"bearing"in F&&t(15,O=F.bearing),"bounds"in F&&t(12,C=F.bounds),"hash"in F&&t(18,f=F.hash),"loaded"in F&&t(0,y=F.loaded),"minZoom"in F&&t(19,h=F.minZoom),"maxZoom"in F&&t(20,p=F.maxZoom),"zoomOnDoubleClick"in F&&t(21,S=F.zoomOnDoubleClick),"locale"in F&&t(22,M=F.locale),"interactive"in F&&t(23,E=F.interactive),"attributionControl"in F&&t(24,k=F.attributionControl),"cooperativeGestures"in F&&t(25,T=F.cooperativeGestures),"preserveDrawingBuffer"in F&&t(26,v=F.preserveDrawingBuffer),"maxBounds"in F&&t(27,_=F.maxBounds),"images"in F&&t(28,N=F.images),"standardControls"in F&&t(2,I=F.standardControls),"filterLayers"in F&&t(29,U=F.filterLayers),"transformRequest"in F&&t(30,q=F.transformRequest),"$$scope"in F&&t(35,s=F.$$scope)},r.$$.update=()=>{if(r.$$.dirty[0]&4&&t(6,n=typeof I=="boolean"?void 0:I),r.$$.dirty[0]&8&&t(13,u=o),r.$$.dirty[0]&196616|r.$$.dirty[1]&14&&o&&!jr(m,pe)){const F=o.getStyle();if(ue&&(we=F.layers.filter(Z=>!ue.includes(Z.id))),Ge){const Z=Object.keys(F.sources).filter(le=>!Ge.includes(le));je={};for(const le of Z)je[le]=F.sources[le]}t(34,pe=m),o.setStyle(m,{diff:g}),_t(he,a=new Set,a),t(31,ve=new Set)}if(r.$$.dirty[0]&268435481|r.$$.dirty[1]&1&&y&&o!=null&&o.loaded())for(let F of N)!a.has(F.id)&&!ve.has(F.id)&&!o.hasImage(F.id)&&ce(F);r.$$.dirty[0]&268435472&&t(5,i=N.every(F=>a.has(F.id))),r.$$.dirty[0]&1032&&d&&!jr(d,o==null?void 0:o.getCenter())&&(o==null||o.panTo(d)),r.$$.dirty[0]&2056&&b&&!jr(b,o==null?void 0:o.getZoom())&&(o==null||o.zoomTo(b)),r.$$.dirty[0]&4104&&C&&!jr(C,o==null?void 0:o.getBounds())&&(o==null||o.fitBounds(C)),r.$$.dirty[0]&2097160&&(S?o==null||o.doubleClickZoom.enable():o==null||o.doubleClickZoom.disable())},[y,c,I,o,a,i,n,re,he,Me,d,b,C,u,L,O,m,g,f,h,p,S,M,E,k,T,v,_,N,U,q,ve,ue,Ge,pe,s,l]}class zd extends be{constructor(e){super(),_e(this,e,Dd,Rd,ge,{map:13,class:1,style:16,diffStyleUpdates:17,center:10,zoom:11,pitch:14,bearing:15,bounds:12,hash:18,loaded:0,minZoom:19,maxZoom:20,zoomOnDoubleClick:21,locale:22,interactive:23,attributionControl:24,cooperativeGestures:25,preserveDrawingBuffer:26,maxBounds:27,images:28,standardControls:2,filterLayers:29,transformRequest:30},null,[-1,-1])}}var Lr=Uint8Array,js=Uint16Array,Nd=Int32Array,Ud=new Lr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Wd=new Lr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qs=function(r,e){for(var t=new js(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new Nd(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)i[o]=o-t[n]<<5|n;return{b:t,r:i}},Hs=qs(Ud,2),Gd=Hs.b,jd=Hs.r;Gd[28]=258,jd[258]=28;qs(Wd,0);var qd=new js(32768);for(se=0;se<32768;++se)ht=(se&43690)>>1|(se&21845)<<1,ht=(ht&52428)>>2|(ht&13107)<<2,ht=(ht&61680)>>4|(ht&3855)<<4,qd[se]=((ht&65280)>>8|(ht&255)<<8)>>1;var ht,se,En=new Lr(288);for(se=0;se<144;++se)En[se]=8;var se;for(se=144;se<256;++se)En[se]=9;var se;for(se=256;se<280;++se)En[se]=7;var se;for(se=280;se<288;++se)En[se]=8;var se,Hd=new Lr(32);for(se=0;se<32;++se)Hd[se]=5;var se,Zd=new Lr(0),Xd=typeof TextDecoder<"u"&&new TextDecoder,Yd=0;try{Xd.decode(Zd,{stream:!0}),Yd=1}catch{}function xd(r){let e,t,n,i,o,a;return e=new Ws({props:{id:"edit-polygon-fill",filter:Xg,paint:{"fill-color":"red","fill-opacity":["case",["boolean",["get","hover"],"false"],1,.5]}}}),n=new kd({props:{id:"edit-polygon-lines",filter:Yg,paint:{"line-color":"black","line-width":8,"line-opacity":.5}}}),o=new fd({props:{id:"edit-polygon-vertices",filter:xg,paint:{"circle-color":"black","circle-opacity":["case",["has","hovered"],1,.5],"circle-radius":10}}}),{c(){X(e.$$.fragment),t=K(),X(n.$$.fragment),i=K(),X(o.$$.fragment)},l(l){Y(e.$$.fragment,l),t=Q(l),Y(n.$$.fragment,l),i=Q(l),Y(o.$$.fragment,l)},m(l,s){x(e,l,s),G(l,t,s),x(n,l,s),G(l,i,s),x(o,l,s),a=!0},p:me,i(l){a||(R(e.$$.fragment,l),R(n.$$.fragment,l),R(o.$$.fragment,l),a=!0)},o(l){z(e.$$.fragment,l),z(n.$$.fragment,l),z(o.$$.fragment,l),a=!1},d(l){l&&(B(t),B(i)),V(e,l),V(n,l),V(o,l)}}}function Vd(r){let e,t;return e=new Gs({props:{data:r[0],$$slots:{default:[xd]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const o={};i&1&&(o.data=n[0]),i&2&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function Jd(r,e,t){let n;return Te(r,zs,i=>t(0,n=i)),[n]}class Kd extends be{constructor(e){super(),_e(this,e,Jd,Vd,ge,{})}}function Qd(r){let e,t="Map loading...";return{c(){e=$("p"),e.textContent=t},l(n){e=ee(n,"P",{"data-svelte-h":!0}),Qr(e)!=="svelte-1r8199k"&&(e.textContent=t)},m(n,i){G(n,e,i)},p:me,i:me,o:me,d(n){n&&B(e)}}}function $d(r){let e,t,n,i;e=new yu({props:{$$slots:{default:[tv]},$$scope:{ctx:r}}}),e.$on("click",r[5]);let o=r[0].summary.polygon&&ll(r);return{c(){X(e.$$.fragment),t=K(),o&&o.c(),n=Ue()},l(a){Y(e.$$.fragment,a),t=Q(a),o&&o.l(a),n=Ue()},m(a,l){x(e,a,l),G(a,t,l),o&&o.m(a,l),G(a,n,l),i=!0},p(a,l){const s={};l&4096&&(s.$$scope={dirty:l,ctx:a}),e.$set(s),a[0].summary.polygon?o?(o.p(a,l),l&1&&R(o,1)):(o=ll(a),o.c(),R(o,1),o.m(n.parentNode,n)):o&&(Je(),z(o,1,1,()=>{o=null}),Ke())},i(a){i||(R(e.$$.fragment,a),R(o),i=!0)},o(a){z(e.$$.fragment,a),z(o),i=!1},d(a){a&&(B(t),B(n)),V(e,a),o&&o.d(a)}}}function ev(r){let e,t,n,i,o,a,l;return t=new Fn({props:{$$slots:{default:[nv]},$$scope:{ctx:r}}}),t.$on("click",r[7]),i=new Fn({props:{$$slots:{default:[iv]},$$scope:{ctx:r}}}),i.$on("click",r[8]),a=new Fn({props:{disabled:r[4]==0,$$slots:{default:[lv]},$$scope:{ctx:r}}}),a.$on("click",r[9]),{c(){e=$("div"),X(t.$$.fragment),n=K(),X(i.$$.fragment),o=K(),X(a.$$.fragment),this.h()},l(s){e=ee(s,"DIV",{style:!0});var u=ae(e);Y(t.$$.fragment,u),n=Q(u),Y(i.$$.fragment,u),o=Q(u),Y(a.$$.fragment,u),u.forEach(B),this.h()},h(){dt(e,"display","flex"),dt(e,"justify-content","space-between")},m(s,u){G(s,e,u),x(t,e,null),W(e,n),x(i,e,null),W(e,o),x(a,e,null),l=!0},p(s,u){const c={};u&4096&&(c.$$scope={dirty:u,ctx:s}),t.$set(c);const m={};u&4096&&(m.$$scope={dirty:u,ctx:s}),i.$set(m);const g={};u&16&&(g.disabled=s[4]==0),u&4112&&(g.$$scope={dirty:u,ctx:s}),a.$set(g)},i(s){l||(R(t.$$.fragment,s),R(i.$$.fragment,s),R(a.$$.fragment,s),l=!0)},o(s){z(t.$$.fragment,s),z(i.$$.fragment,s),z(a.$$.fragment,s),l=!1},d(s){s&&B(e),V(t),V(i),V(a)}}}function tv(r){let e;return{c(){e=Be("Edit polygon")},l(t){e=Ie(t,"Edit polygon")},m(t,n){G(t,e,n)},d(t){t&&B(e)}}}function ll(r){let e,t,n,i,o=Za(r[0].summary.polygon).toFixed(1)+"",a,l,s;return e=new ou({props:{$$slots:{default:[rv]},$$scope:{ctx:r}}}),e.$on("click",r[6]),{c(){X(e.$$.fragment),t=K(),n=$("p"),i=Be("Polygon area: "),a=Be(o),l=Be(" square meters")},l(u){Y(e.$$.fragment,u),t=Q(u),n=ee(u,"P",{});var c=ae(n);i=Ie(c,"Polygon area: "),a=Ie(c,o),l=Ie(c," square meters"),c.forEach(B)},m(u,c){x(e,u,c),G(u,t,c),G(u,n,c),W(n,i),W(n,a),W(n,l),s=!0},p(u,c){const m={};c&4096&&(m.$$scope={dirty:c,ctx:u}),e.$set(m),(!s||c&1)&&o!==(o=Za(u[0].summary.polygon).toFixed(1)+"")&&Dt(a,o)},i(u){s||(R(e.$$.fragment,u),s=!0)},o(u){z(e.$$.fragment,u),s=!1},d(u){u&&(B(t),B(n)),V(e,u)}}}function rv(r){let e;return{c(){e=Be("Delete and start over")},l(t){e=Ie(t,"Delete and start over")},m(t,n){G(t,e,n)},d(t){t&&B(e)}}}function nv(r){let e;return{c(){e=Be("Finish")},l(t){e=Ie(t,"Finish")},m(t,n){G(t,e,n)},d(t){t&&B(e)}}}function iv(r){let e;return{c(){e=Be("Cancel")},l(t){e=Ie(t,"Cancel")},m(t,n){G(t,e,n)},d(t){t&&B(e)}}}function ov(r){let e,t,n;return{c(){e=Be("Undo ("),t=Be(r[4]),n=Be(")")},l(i){e=Ie(i,"Undo ("),t=Ie(i,r[4]),n=Ie(i,")")},m(i,o){G(i,e,o),G(i,t,o),G(i,n,o)},p(i,o){o&16&&Dt(t,i[4])},d(i){i&&(B(e),B(t),B(n))}}}function av(r){let e;return{c(){e=Be("Undo")},l(t){e=Ie(t,"Undo")},m(t,n){G(t,e,n)},p:me,d(t){t&&B(e)}}}function lv(r){let e;function t(o,a){return o[4]==0?av:ov}let n=t(r),i=n(r);return{c(){i.c(),e=Ue()},l(o){i.l(o),e=Ue()},m(o,a){i.m(o,a),G(o,e,a)},p(o,a){n===(n=t(o))&&i?i.p(o,a):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){o&&B(e),i.d(o)}}}function sv(r){let e,t;return e=new Ws({props:{layout:{visibility:r[2]?"none":"visible"},paint:{"fill-color":"red","fill-opacity":.8}}}),{c(){X(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const o={};i&4&&(o.layout={visibility:n[2]?"none":"visible"}),e.$set(o)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){V(e,n)}}}function uv(r){let e,t,n,i,o,a;return e=new Hu({props:{map:r[1]}}),n=new Kd({}),o=new Gs({props:{data:r[3],$$slots:{default:[sv]},$$scope:{ctx:r}}}),{c(){X(e.$$.fragment),t=K(),X(n.$$.fragment),i=K(),X(o.$$.fragment)},l(l){Y(e.$$.fragment,l),t=Q(l),Y(n.$$.fragment,l),i=Q(l),Y(o.$$.fragment,l)},m(l,s){x(e,l,s),G(l,t,s),x(n,l,s),G(l,i,s),x(o,l,s),a=!0},p(l,s){const u={};s&2&&(u.map=l[1]),e.$set(u);const c={};s&8&&(c.data=l[3]),s&4100&&(c.$$scope={dirty:s,ctx:l}),o.$set(c)},i(l){a||(R(e.$$.fragment,l),R(n.$$.fragment,l),R(o.$$.fragment,l),a=!0)},o(l){z(e.$$.fragment,l),z(n.$$.fragment,l),z(o.$$.fragment,l),a=!1},d(l){l&&(B(t),B(i)),V(e,l),V(n,l),V(o,l)}}}function fv(r){let e,t,n,i,o,a,l;const s=[ev,$d,Qd],u=[];function c(d,b){return d[2]?0:d[1]?1:2}e=c(r),t=u[e]=s[e](r);function m(d){r[10](d)}let g={style:"https://api.maptiler.com/maps/uk-openzoomstack-light/style.json?key=MZEJTanw3WpxRvt7qDfo",standardControls:!0,$$slots:{default:[uv,({map:d})=>({1:d}),({map:d})=>d?2:0]},$$scope:{ctx:r}};return r[1]!==void 0&&(g.map=r[1]),o=new zd({props:g}),ke.push(()=>Le(o,"map",m)),o.$on("error",r[11]),{c(){t.c(),n=K(),i=$("div"),X(o.$$.fragment),this.h()},l(d){t.l(d),n=Q(d),i=ee(d,"DIV",{style:!0});var b=ae(i);Y(o.$$.fragment,b),b.forEach(B),this.h()},h(){dt(i,"position","relative"),dt(i,"width","100%"),dt(i,"height","300px")},m(d,b){u[e].m(d,b),G(d,n,b),G(d,i,b),x(o,i,null),l=!0},p(d,[b]){let L=e;e=c(d),e===L?u[e].p(d,b):(Je(),z(u[L],1,1,()=>{u[L]=null}),Ke(),t=u[e],t?t.p(d,b):(t=u[e]=s[e](d),t.c()),R(t,1),t.m(n.parentNode,n));const O={};b&4110&&(O.$$scope={dirty:b,ctx:d}),!a&&b&2&&(a=!0,O.map=d[1],Oe(()=>a=!1)),o.$set(O)},i(d){l||(R(t),R(o.$$.fragment,d),l=!0)},o(d){z(t),z(o.$$.fragment,d),l=!1},d(d){d&&(B(n),B(i)),u[e].d(d),V(o)}}}function cv(r,e,t){let n,i,o;Te(r,Ae,L=>t(0,i=L)),Te(r,Ns,L=>t(4,o=L));let a=null,l=null;wt(()=>{l==null||l.tearDown()});function s(){a&&(t(2,l=new Jg(a)),i.summary.polygon?l.editExisting(i.summary.polygon):l.startNew(),l.addEventListenerSuccess(async L=>{t(2,l=null),_t(Ae,i.summary.polygon=L,i)}),l.addEventListenerFailure(()=>{t(2,l=null)}))}function u(){_t(Ae,i.summary.polygon=null,i),s()}const c=()=>l==null?void 0:l.finish(),m=()=>l==null?void 0:l.cancel(),g=()=>l==null?void 0:l.undo();function d(L){a=L,t(1,a)}const b=L=>{console.log(L.detail.error)};return r.$$.update=()=>{r.$$.dirty&1&&t(3,n=i.summary.polygon??{type:"FeatureCollection",features:[]}),r.$$.dirty&2&&a&&s()},[i,a,l,n,o,s,u,c,m,g,d,b]}class mv extends be{constructor(e){super(),_e(this,e,cv,fv,ge,{})}}function yv(r){let e,t,n,i,o,a,l,s,u,c,m,g,d,b,L,O,C,f,y,h,p,S,M,E,k,T,v,_,N,I,U,q,te,re,he,ve,ce,ue,Ge,we,je,Me,pe,F,Z,le,Ze="Network context",Ye,P,J=`Please add a drawing of the area being assessed below, including the
    location of measures proposed by the scheme.`,H,Pe,ye;t=new nu({props:{links:[["Tools","/"],["Area check tool","/area_check"]],current:"Summary of Scheme"}});function oe(D){r[1](D)}let Re={label:"Date of design review"};r[0].summary.dateDesignReview!==void 0&&(Re.value=r[0].summary.dateDesignReview),i=new cr({props:Re}),ke.push(()=>Le(i,"value",oe));function Wt(D){r[2](D)}let ot={label:"Scheme reference"};r[0].summary.schemeReference!==void 0&&(ot.value=r[0].summary.schemeReference),l=new cr({props:ot}),ke.push(()=>Le(l,"value",Wt));function St(D){r[3](D)}let Tt={label:"Scheme name"};r[0].summary.schemeName!==void 0&&(Tt.value=r[0].summary.schemeName),c=new cr({props:Tt}),ke.push(()=>Le(c,"value",St));function or(D){r[4](D)}let Cr={label:"Scheme summary"};r[0].summary.schemeSummary!==void 0&&(Cr.value=r[0].summary.schemeSummary),d=new Nr({props:Cr}),ke.push(()=>Le(d,"value",or));function at(D){r[5](D)}let ar={label:"Scheme information reviewed"};r[0].summary.schemeInfoReviewed!==void 0&&(ar.value=r[0].summary.schemeInfoReviewed),O=new Nr({props:ar}),ke.push(()=>Le(O,"value",at));function lr(D){r[6](D)}let Gt={label:"Authority",emptyOption:!0,choices:ur(au)};r[0].summary.authority!==void 0&&(Gt.value=r[0].summary.authority),y=new fr({props:Gt}),ke.push(()=>Le(y,"value",lr));function An(D){r[7](D)}let Tr={label:"Transport / Combined Authority",emptyOption:!0,choices:ur(lu)};r[0].summary.transportOrCombinedAuthority!==void 0&&(Tr.value=r[0].summary.transportOrCombinedAuthority),S=new fr({props:Tr}),ke.push(()=>Le(S,"value",An));function On(D){r[8](D)}let jt={label:"Region",emptyOption:!0,choices:ur(su)};r[0].summary.region!==void 0&&(jt.value=r[0].summary.region),k=new fr({props:jt}),ke.push(()=>Le(k,"value",On));function sr(D){r[9](D)}let Br={label:"Funding programme",emptyOption:!0,choices:ur(uu)};r[0].summary.fundingProgramme!==void 0&&(Br.value=r[0].summary.fundingProgramme),_=new fr({props:Br}),ke.push(()=>Le(_,"value",sr));function Ln(D){r[10](D)}let Ir={label:"Design stage",emptyOption:!0,choices:ur(fu)};r[0].summary.designStage!==void 0&&(Ir.value=r[0].summary.designStage),U=new fr({props:Ir}),ke.push(()=>Le(U,"value",Ln));function Cn(D){r[11](D)}let Fr={label:"Funding conditions"};r[0].summary.fundingConditions!==void 0&&(Fr.value=r[0].summary.fundingConditions),re=new Nr({props:Fr}),ke.push(()=>Le(re,"value",Cn));function Tn(D){r[12](D)}let Rr={label:"Inspector email address"};r[0].summary.inspectorEmail!==void 0&&(Rr.value=r[0].summary.inspectorEmail),ce=new cr({props:Rr}),ke.push(()=>Le(ce,"value",Tn));function Bn(D){r[13](D)}let Dr={label:"Scheme area size (km²)"};r[0].summary.schemeAreaSizeKm2!==void 0&&(Dr.value=r[0].summary.schemeAreaSizeKm2),we=new cr({props:Dr}),ke.push(()=>Le(we,"value",Bn));function In(D){r[14](D)}let zr={label:"Notes"};return r[0].summary.notes!==void 0&&(zr.value=r[0].summary.notes),pe=new Nr({props:zr}),ke.push(()=>Le(pe,"value",In)),Pe=new mv({}),{c(){e=$("div"),X(t.$$.fragment),n=K(),X(i.$$.fragment),a=K(),X(l.$$.fragment),u=K(),X(c.$$.fragment),g=K(),X(d.$$.fragment),L=K(),X(O.$$.fragment),f=K(),X(y.$$.fragment),p=K(),X(S.$$.fragment),E=K(),X(k.$$.fragment),v=K(),X(_.$$.fragment),I=K(),X(U.$$.fragment),te=K(),X(re.$$.fragment),ve=K(),X(ce.$$.fragment),Ge=K(),X(we.$$.fragment),Me=K(),X(pe.$$.fragment),Z=K(),le=$("h2"),le.textContent=Ze,Ye=K(),P=$("p"),P.textContent=J,H=K(),X(Pe.$$.fragment),this.h()},l(D){e=ee(D,"DIV",{class:!0});var j=ae(e);Y(t.$$.fragment,j),n=Q(j),Y(i.$$.fragment,j),a=Q(j),Y(l.$$.fragment,j),u=Q(j),Y(c.$$.fragment,j),g=Q(j),Y(d.$$.fragment,j),L=Q(j),Y(O.$$.fragment,j),f=Q(j),Y(y.$$.fragment,j),p=Q(j),Y(S.$$.fragment,j),E=Q(j),Y(k.$$.fragment,j),v=Q(j),Y(_.$$.fragment,j),I=Q(j),Y(U.$$.fragment,j),te=Q(j),Y(re.$$.fragment,j),ve=Q(j),Y(ce.$$.fragment,j),Ge=Q(j),Y(we.$$.fragment,j),Me=Q(j),Y(pe.$$.fragment,j),Z=Q(j),le=ee(j,"H2",{"data-svelte-h":!0}),Qr(le)!=="svelte-1tcb68x"&&(le.textContent=Ze),Ye=Q(j),P=ee(j,"P",{"data-svelte-h":!0}),Qr(P)!=="svelte-2zany2"&&(P.textContent=J),H=Q(j),Y(Pe.$$.fragment,j),j.forEach(B),this.h()},h(){A(e,"class","govuk-prose")},m(D,j){G(D,e,j),x(t,e,null),W(e,n),x(i,e,null),W(e,a),x(l,e,null),W(e,u),x(c,e,null),W(e,g),x(d,e,null),W(e,L),x(O,e,null),W(e,f),x(y,e,null),W(e,p),x(S,e,null),W(e,E),x(k,e,null),W(e,v),x(_,e,null),W(e,I),x(U,e,null),W(e,te),x(re,e,null),W(e,ve),x(ce,e,null),W(e,Ge),x(we,e,null),W(e,Me),x(pe,e,null),W(e,Z),W(e,le),W(e,Ye),W(e,P),W(e,H),x(Pe,e,null),ye=!0},p(D,[j]){const w={};!o&&j&1&&(o=!0,w.value=D[0].summary.dateDesignReview,Oe(()=>o=!1)),i.$set(w);const de={};!s&&j&1&&(s=!0,de.value=D[0].summary.schemeReference,Oe(()=>s=!1)),l.$set(de);const xe={};!m&&j&1&&(m=!0,xe.value=D[0].summary.schemeName,Oe(()=>m=!1)),c.$set(xe);const Ve={};!b&&j&1&&(b=!0,Ve.value=D[0].summary.schemeSummary,Oe(()=>b=!1)),d.$set(Ve);const ne={};!C&&j&1&&(C=!0,ne.value=D[0].summary.schemeInfoReviewed,Oe(()=>C=!1)),O.$set(ne);const qe={};!h&&j&1&&(h=!0,qe.value=D[0].summary.authority,Oe(()=>h=!1)),y.$set(qe);const Bt={};!M&&j&1&&(M=!0,Bt.value=D[0].summary.transportOrCombinedAuthority,Oe(()=>M=!1)),S.$set(Bt);const qt={};!T&&j&1&&(T=!0,qt.value=D[0].summary.region,Oe(()=>T=!1)),k.$set(qt);const Ht={};!N&&j&1&&(N=!0,Ht.value=D[0].summary.fundingProgramme,Oe(()=>N=!1)),_.$set(Ht);const It={};!q&&j&1&&(q=!0,It.value=D[0].summary.designStage,Oe(()=>q=!1)),U.$set(It);const so={};!he&&j&1&&(he=!0,so.value=D[0].summary.fundingConditions,Oe(()=>he=!1)),re.$set(so);const uo={};!ue&&j&1&&(ue=!0,uo.value=D[0].summary.inspectorEmail,Oe(()=>ue=!1)),ce.$set(uo);const fo={};!je&&j&1&&(je=!0,fo.value=D[0].summary.schemeAreaSizeKm2,Oe(()=>je=!1)),we.$set(fo);const co={};!F&&j&1&&(F=!0,co.value=D[0].summary.notes,Oe(()=>F=!1)),pe.$set(co)},i(D){ye||(R(t.$$.fragment,D),R(i.$$.fragment,D),R(l.$$.fragment,D),R(c.$$.fragment,D),R(d.$$.fragment,D),R(O.$$.fragment,D),R(y.$$.fragment,D),R(S.$$.fragment,D),R(k.$$.fragment,D),R(_.$$.fragment,D),R(U.$$.fragment,D),R(re.$$.fragment,D),R(ce.$$.fragment,D),R(we.$$.fragment,D),R(pe.$$.fragment,D),R(Pe.$$.fragment,D),ye=!0)},o(D){z(t.$$.fragment,D),z(i.$$.fragment,D),z(l.$$.fragment,D),z(c.$$.fragment,D),z(d.$$.fragment,D),z(O.$$.fragment,D),z(y.$$.fragment,D),z(S.$$.fragment,D),z(k.$$.fragment,D),z(_.$$.fragment,D),z(U.$$.fragment,D),z(re.$$.fragment,D),z(ce.$$.fragment,D),z(we.$$.fragment,D),z(pe.$$.fragment,D),z(Pe.$$.fragment,D),ye=!1},d(D){D&&B(e),V(t),V(i),V(l),V(c),V(d),V(O),V(y),V(S),V(k),V(_),V(U),V(re),V(ce),V(we),V(pe),V(Pe)}}}function hv(r,e,t){let n;Te(r,Ae,f=>t(0,n=f));function i(f){r.$$.not_equal(n.summary.dateDesignReview,f)&&(n.summary.dateDesignReview=f,Ae.set(n))}function o(f){r.$$.not_equal(n.summary.schemeReference,f)&&(n.summary.schemeReference=f,Ae.set(n))}function a(f){r.$$.not_equal(n.summary.schemeName,f)&&(n.summary.schemeName=f,Ae.set(n))}function l(f){r.$$.not_equal(n.summary.schemeSummary,f)&&(n.summary.schemeSummary=f,Ae.set(n))}function s(f){r.$$.not_equal(n.summary.schemeInfoReviewed,f)&&(n.summary.schemeInfoReviewed=f,Ae.set(n))}function u(f){r.$$.not_equal(n.summary.authority,f)&&(n.summary.authority=f,Ae.set(n))}function c(f){r.$$.not_equal(n.summary.transportOrCombinedAuthority,f)&&(n.summary.transportOrCombinedAuthority=f,Ae.set(n))}function m(f){r.$$.not_equal(n.summary.region,f)&&(n.summary.region=f,Ae.set(n))}function g(f){r.$$.not_equal(n.summary.fundingProgramme,f)&&(n.summary.fundingProgramme=f,Ae.set(n))}function d(f){r.$$.not_equal(n.summary.designStage,f)&&(n.summary.designStage=f,Ae.set(n))}function b(f){r.$$.not_equal(n.summary.fundingConditions,f)&&(n.summary.fundingConditions=f,Ae.set(n))}function L(f){r.$$.not_equal(n.summary.inspectorEmail,f)&&(n.summary.inspectorEmail=f,Ae.set(n))}function O(f){r.$$.not_equal(n.summary.schemeAreaSizeKm2,f)&&(n.summary.schemeAreaSizeKm2=f,Ae.set(n))}function C(f){r.$$.not_equal(n.summary.notes,f)&&(n.summary.notes=f,Ae.set(n))}return[n,i,o,a,l,s,u,c,m,g,d,b,L,O,C]}class Tv extends be{constructor(e){super(),_e(this,e,hv,yv,ge,{})}}export{Tv as component};
