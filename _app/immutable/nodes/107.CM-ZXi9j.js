import{s as Ie,y as Z,e as H,t as J,a as M,c as z,b as R,d as W,f as d,g as P,p as B,q as O,i as w,h as V,z as K,k as he,w as at,S as ft,V as we,x as _e,G as ee,m as de,H as ve,j as me,o as ct,L as ue,M as pe,n as ut}from"../chunks/scheduler.NGc5rx4B.js";import{S as Le,i as Ne,e as Y,c as q,a as A,m as T,t as C,g as le,b as L,f as ne,d as j}from"../chunks/index.CXr-pTxM.js";import{g as pt}from"../chunks/globals.D0QH3NT1.js";import{e as oe}from"../chunks/each.C0Oa3ZQW.js";import{c as He,p as ze}from"../chunks/colors.DaC397qr.js";import{p as Je}from"../chunks/index.D8BBsgQ_.js";import{R as We}from"../chunks/Radio.lfhmTBy6.js";import{S as Ze}from"../chunks/Select.D8aEkSC9.js";/* empty css                                                    */import{T as Ke}from"../chunks/TextArea.T6odI4uv.js";import{T as Ye}from"../chunks/TextInput.B2MdnKN0.js";import{s as U}from"../chunks/data.DI1gsQ5S.js";import{a as be,c as ke,M as _t,b as mt,C as gt,G as $t,f as dt}from"../chunks/index.CSr2TtGF.js";import{c as ht,p as vt,b as Ee,e as De,f as bt,g as kt}from"../chunks/lists.BvURpO7c.js";import{Y as Xe}from"../chunks/YesNo.DNu8qZgW.js";import{B as wt,G as yt,S as Ct,C as It,M as Lt,a as Qe}from"../chunks/GeoreferenceLayer.svelte_svelte_type_style_lang.DhbLtSx4.js";import{C as Nt}from"../chunks/CollapsibleCard.CecXaQdy.js";import{D as St}from"../chunks/DefaultButton.HZ4Q0i-3.js";import{S as xe}from"../chunks/SecondaryButton.DY728Lpc.js";import{W as Et}from"../chunks/WarningButton.B2__z57s.js";import{G as Dt,I as ye,p as Mt}from"../chunks/pan.DuQX95be.js";import{C as et}from"../chunks/ClickableCard.Dy0Gc3SI.js";import"../chunks/paths.CE5f-jVa.js";import{p as Pt}from"../chunks/stores.DNPGTu9t.js";function Me(l){let e,n,t;function o(s){l[5](s)}let f={label:"Resolved by Design",inlineSmall:!0};return l[1].criticalIssues[l[0]].resolved!==void 0&&(f.value=l[1].criticalIssues[l[0]].resolved),e=new Xe({props:f}),Z.push(()=>Y(e,"value",o)),{c(){q(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,r){T(e,s,r),t=!0},p(s,r){const i={};!n&&r&3&&(n=!0,i.value=s[1].criticalIssues[s[0]].resolved,K(()=>n=!1)),e.$set(i)},i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){j(e,s)}}}function Bt(l){let e,n,t,o,f,s,r,i,u,p,S,b,v,$,N,k,_,m,a,g,y,F;function ie(c){l[2](c)}let D={label:"Critical Issue",emptyOption:!0,choices:ht};l[1].criticalIssues[l[0]].criticalIssue!==void 0&&(D.value=l[1].criticalIssues[l[0]].criticalIssue),p=new Ze({props:D}),Z.push(()=>Y(p,"value",ie));function x(c){l[3](c)}let se={legend:"Stage",choices:Je(["Existing","Design"]),inlineSmall:!0};l[1].criticalIssues[l[0]].stage!==void 0&&(se.value=l[1].criticalIssues[l[0]].stage),v=new We({props:se}),Z.push(()=>Y(v,"value",x));function ge(c){l[4](c)}let re={label:"Location Name"};l[1].criticalIssues[l[0]].locationName!==void 0&&(re.value=l[1].criticalIssues[l[0]].locationName),k=new Ye({props:re}),Z.push(()=>Y(k,"value",ge));let E=l[1].criticalIssues[l[0]].stage!="Design"&&Me(l);function $e(c){l[6](c)}let ae={label:"Commentary & Feedback"};return l[1].criticalIssues[l[0]].notes!==void 0&&(ae.value=l[1].criticalIssues[l[0]].notes),g=new Ke({props:ae}),Z.push(()=>Y(g,"value",$e)),{c(){e=H("div"),n=H("a"),t=J("Google StreetView"),f=M(),s=H("a"),r=J("Bing Streetside"),u=M(),q(p.$$.fragment),b=M(),q(v.$$.fragment),N=M(),q(k.$$.fragment),m=M(),E&&E.c(),a=M(),q(g.$$.fragment),this.h()},l(c){e=z(c,"DIV",{style:!0});var I=R(e);n=z(I,"A",{href:!0,target:!0});var X=R(n);t=W(X,"Google StreetView"),X.forEach(d),f=P(I),s=z(I,"A",{href:!0,target:!0});var Q=R(s);r=W(Q,"Bing Streetside"),Q.forEach(d),I.forEach(d),u=P(c),A(p.$$.fragment,c),b=P(c),A(v.$$.fragment,c),N=P(c),A(k.$$.fragment,c),m=P(c),E&&E.l(c),a=P(c),A(g.$$.fragment,c),this.h()},h(){B(n,"href",o=be(l[1].criticalIssues[l[0]].point)),B(n,"target","_blank"),B(s,"href",i=ke(l[1].criticalIssues[l[0]].point)),B(s,"target","_blank"),O(e,"display","flex"),O(e,"justify-content","space-evenly")},m(c,I){w(c,e,I),V(e,n),V(n,t),V(e,f),V(e,s),V(s,r),w(c,u,I),T(p,c,I),w(c,b,I),T(v,c,I),w(c,N,I),T(k,c,I),w(c,m,I),E&&E.m(c,I),w(c,a,I),T(g,c,I),F=!0},p(c,[I]){(!F||I&3&&o!==(o=be(c[1].criticalIssues[c[0]].point)))&&B(n,"href",o),(!F||I&3&&i!==(i=ke(c[1].criticalIssues[c[0]].point)))&&B(s,"href",i);const X={};!S&&I&3&&(S=!0,X.value=c[1].criticalIssues[c[0]].criticalIssue,K(()=>S=!1)),p.$set(X);const Q={};!$&&I&3&&($=!0,Q.value=c[1].criticalIssues[c[0]].stage,K(()=>$=!1)),v.$set(Q);const fe={};!_&&I&3&&(_=!0,fe.value=c[1].criticalIssues[c[0]].locationName,K(()=>_=!1)),k.$set(fe),c[1].criticalIssues[c[0]].stage!="Design"?E?(E.p(c,I),I&3&&C(E,1)):(E=Me(c),E.c(),C(E,1),E.m(a.parentNode,a)):E&&(le(),L(E,1,1,()=>{E=null}),ne());const ce={};!y&&I&3&&(y=!0,ce.value=c[1].criticalIssues[c[0]].notes,K(()=>y=!1)),g.$set(ce)},i(c){F||(C(p.$$.fragment,c),C(v.$$.fragment,c),C(k.$$.fragment,c),C(E),C(g.$$.fragment,c),F=!0)},o(c){L(p.$$.fragment,c),L(v.$$.fragment,c),L(k.$$.fragment,c),L(E),L(g.$$.fragment,c),F=!1},d(c){c&&(d(e),d(u),d(b),d(N),d(m),d(a)),j(p,c),j(v,c),j(k,c),E&&E.d(c),j(g,c)}}}function qt(l,e,n){let t;he(l,U,p=>n(1,t=p));let{idx:o}=e;function f(p){l.$$.not_equal(t.criticalIssues[o].criticalIssue,p)&&(t.criticalIssues[o].criticalIssue=p,U.set(t))}function s(p){l.$$.not_equal(t.criticalIssues[o].stage,p)&&(t.criticalIssues[o].stage=p,U.set(t))}function r(p){l.$$.not_equal(t.criticalIssues[o].locationName,p)&&(t.criticalIssues[o].locationName=p,U.set(t))}function i(p){l.$$.not_equal(t.criticalIssues[o].resolved,p)&&(t.criticalIssues[o].resolved=p,U.set(t))}function u(p){l.$$.not_equal(t.criticalIssues[o].notes,p)&&(t.criticalIssues[o].notes=p,U.set(t))}return l.$$set=p=>{"idx"in p&&n(0,o=p.idx)},[o,t,f,s,r,i,u]}class At extends Le{constructor(e){super(),Ne(this,e,qt,Bt,Ie,{idx:0})}}function Pe(l){let e,n,t;function o(s){l[5](s)}let f={label:"Resolved by Design",inlineSmall:!0};return l[1].policyConflictLog[l[0]].resolved!==void 0&&(f.value=l[1].policyConflictLog[l[0]].resolved),e=new Xe({props:f}),Z.push(()=>Y(e,"value",o)),{c(){q(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,r){T(e,s,r),t=!0},p(s,r){const i={};!n&&r&3&&(n=!0,i.value=s[1].policyConflictLog[s[0]].resolved,K(()=>n=!1)),e.$set(i)},i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){j(e,s)}}}function Tt(l){let e,n,t,o,f,s,r,i,u,p,S,b,v,$,N,k,_,m,a,g,y,F;function ie(c){l[2](c)}let D={label:"Policy Conflict",emptyOption:!0,choices:vt};l[1].policyConflictLog[l[0]].conflict!==void 0&&(D.value=l[1].policyConflictLog[l[0]].conflict),p=new Ze({props:D}),Z.push(()=>Y(p,"value",ie));function x(c){l[3](c)}let se={legend:"Stage",choices:Je(["Existing","Design"]),inlineSmall:!0};l[1].policyConflictLog[l[0]].stage!==void 0&&(se.value=l[1].policyConflictLog[l[0]].stage),v=new We({props:se}),Z.push(()=>Y(v,"value",x));function ge(c){l[4](c)}let re={label:"Location Name"};l[1].policyConflictLog[l[0]].locationName!==void 0&&(re.value=l[1].policyConflictLog[l[0]].locationName),k=new Ye({props:re}),Z.push(()=>Y(k,"value",ge));let E=l[1].policyConflictLog[l[0]].stage!="Design"&&Pe(l);function $e(c){l[6](c)}let ae={label:"Commentary & Feedback"};return l[1].policyConflictLog[l[0]].notes!==void 0&&(ae.value=l[1].policyConflictLog[l[0]].notes),g=new Ke({props:ae}),Z.push(()=>Y(g,"value",$e)),{c(){e=H("div"),n=H("a"),t=J("Google StreetView"),f=M(),s=H("a"),r=J("Bing Streetside"),u=M(),q(p.$$.fragment),b=M(),q(v.$$.fragment),N=M(),q(k.$$.fragment),m=M(),E&&E.c(),a=M(),q(g.$$.fragment),this.h()},l(c){e=z(c,"DIV",{style:!0});var I=R(e);n=z(I,"A",{href:!0,target:!0});var X=R(n);t=W(X,"Google StreetView"),X.forEach(d),f=P(I),s=z(I,"A",{href:!0,target:!0});var Q=R(s);r=W(Q,"Bing Streetside"),Q.forEach(d),I.forEach(d),u=P(c),A(p.$$.fragment,c),b=P(c),A(v.$$.fragment,c),N=P(c),A(k.$$.fragment,c),m=P(c),E&&E.l(c),a=P(c),A(g.$$.fragment,c),this.h()},h(){B(n,"href",o=be(l[1].policyConflictLog[l[0]].point)),B(n,"target","_blank"),B(s,"href",i=ke(l[1].policyConflictLog[l[0]].point)),B(s,"target","_blank"),O(e,"display","flex"),O(e,"justify-content","space-evenly")},m(c,I){w(c,e,I),V(e,n),V(n,t),V(e,f),V(e,s),V(s,r),w(c,u,I),T(p,c,I),w(c,b,I),T(v,c,I),w(c,N,I),T(k,c,I),w(c,m,I),E&&E.m(c,I),w(c,a,I),T(g,c,I),F=!0},p(c,[I]){(!F||I&3&&o!==(o=be(c[1].policyConflictLog[c[0]].point)))&&B(n,"href",o),(!F||I&3&&i!==(i=ke(c[1].policyConflictLog[c[0]].point)))&&B(s,"href",i);const X={};!S&&I&3&&(S=!0,X.value=c[1].policyConflictLog[c[0]].conflict,K(()=>S=!1)),p.$set(X);const Q={};!$&&I&3&&($=!0,Q.value=c[1].policyConflictLog[c[0]].stage,K(()=>$=!1)),v.$set(Q);const fe={};!_&&I&3&&(_=!0,fe.value=c[1].policyConflictLog[c[0]].locationName,K(()=>_=!1)),k.$set(fe),c[1].policyConflictLog[c[0]].stage!="Design"?E?(E.p(c,I),I&3&&C(E,1)):(E=Pe(c),E.c(),C(E,1),E.m(a.parentNode,a)):E&&(le(),L(E,1,1,()=>{E=null}),ne());const ce={};!y&&I&3&&(y=!0,ce.value=c[1].policyConflictLog[c[0]].notes,K(()=>y=!1)),g.$set(ce)},i(c){F||(C(p.$$.fragment,c),C(v.$$.fragment,c),C(k.$$.fragment,c),C(E),C(g.$$.fragment,c),F=!0)},o(c){L(p.$$.fragment,c),L(v.$$.fragment,c),L(k.$$.fragment,c),L(E),L(g.$$.fragment,c),F=!1},d(c){c&&(d(e),d(u),d(b),d(N),d(m),d(a)),j(p,c),j(v,c),j(k,c),E&&E.d(c),j(g,c)}}}function jt(l,e,n){let t;he(l,U,p=>n(1,t=p));let{idx:o}=e;function f(p){l.$$.not_equal(t.policyConflictLog[o].conflict,p)&&(t.policyConflictLog[o].conflict=p,U.set(t))}function s(p){l.$$.not_equal(t.policyConflictLog[o].stage,p)&&(t.policyConflictLog[o].stage=p,U.set(t))}function r(p){l.$$.not_equal(t.policyConflictLog[o].locationName,p)&&(t.policyConflictLog[o].locationName=p,U.set(t))}function i(p){l.$$.not_equal(t.policyConflictLog[o].resolved,p)&&(t.policyConflictLog[o].resolved=p,U.set(t))}function u(p){l.$$.not_equal(t.policyConflictLog[o].notes,p)&&(t.policyConflictLog[o].notes=p,U.set(t))}return l.$$set=p=>{"idx"in p&&n(0,o=p.idx)},[o,t,f,s,r,i,u]}class Vt extends Le{constructor(e){super(),Ne(this,e,jt,Tt,Ie,{idx:0})}}const{window:Gt}=pt;function Be(l,e,n){const t=l.slice();return t[40]=e[n],t[41]=e,t[42]=n,t}function qe(l,e,n){const t=l.slice();return t[43]=e[n],t[44]=e,t[42]=n,t}function Ae(l,e,n){const t=l.slice();return t[40]=e[n],t[42]=n,t}function Te(l,e,n){const t=l.slice();return t[43]=e[n],t[42]=n,t}function Ft(l){let e,n,t,o,f,s,r,i,u,p;e=new St({props:{$$slots:{default:[Ut]},$$scope:{ctx:l}}}),e.$on("click",l[11]),t=new Et({props:{$$slots:{default:[Ot]},$$scope:{ctx:l}}}),t.$on("click",l[13]),f=new xe({props:{$$slots:{default:[Ht]},$$scope:{ctx:l}}}),f.$on("click",l[10]);const S=[Jt,zt],b=[];function v($,N){return $[1].id.kind=="critical"?0:1}return r=v(l),i=b[r]=S[r](l),{c(){q(e.$$.fragment),n=M(),q(t.$$.fragment),o=M(),q(f.$$.fragment),s=M(),i.c(),u=ee()},l($){A(e.$$.fragment,$),n=P($),A(t.$$.fragment,$),o=P($),A(f.$$.fragment,$),s=P($),i.l($),u=ee()},m($,N){T(e,$,N),w($,n,N),T(t,$,N),w($,o,N),T(f,$,N),w($,s,N),b[r].m($,N),w($,u,N),p=!0},p($,N){const k={};N[1]&65536&&(k.$$scope={dirty:N,ctx:$}),e.$set(k);const _={};N[1]&65536&&(_.$$scope={dirty:N,ctx:$}),t.$set(_);const m={};N[1]&65536&&(m.$$scope={dirty:N,ctx:$}),f.$set(m);let a=r;r=v($),r===a?b[r].p($,N):(le(),L(b[a],1,1,()=>{b[a]=null}),ne(),i=b[r],i?i.p($,N):(i=b[r]=S[r]($),i.c()),C(i,1),i.m(u.parentNode,u))},i($){p||(C(e.$$.fragment,$),C(t.$$.fragment,$),C(f.$$.fragment,$),C(i),p=!0)},o($){L(e.$$.fragment,$),L(t.$$.fragment,$),L(f.$$.fragment,$),L(i),p=!1},d($){$&&(d(n),d(o),d(s),d(u)),j(e,$),j(t,$),j(f,$),b[r].d($)}}}function Rt(l){let e,n,t,o="Critical Issues",f,s,r,i="Policy Conflicts",u,p,S;e=new Nt({props:{label:"Tools",open:!0,$$slots:{default:[Kt]},$$scope:{ctx:l}}});let b=oe(l[3].criticalIssues),v=[];for(let m=0;m<b.length;m+=1)v[m]=Ve(Te(l,b,m));const $=m=>L(v[m],1,1,()=>{v[m]=null});let N=oe(l[3].policyConflictLog),k=[];for(let m=0;m<N.length;m+=1)k[m]=Fe(Ae(l,N,m));const _=m=>L(k[m],1,1,()=>{k[m]=null});return{c(){q(e.$$.fragment),n=M(),t=H("h3"),t.textContent=o,f=M();for(let m=0;m<v.length;m+=1)v[m].c();s=M(),r=H("h3"),r.textContent=i,u=M();for(let m=0;m<k.length;m+=1)k[m].c();p=ee()},l(m){A(e.$$.fragment,m),n=P(m),t=z(m,"H3",{"data-svelte-h":!0}),de(t)!=="svelte-1qhh5xr"&&(t.textContent=o),f=P(m);for(let a=0;a<v.length;a+=1)v[a].l(m);s=P(m),r=z(m,"H3",{"data-svelte-h":!0}),de(r)!=="svelte-eyxzjx"&&(r.textContent=i),u=P(m);for(let a=0;a<k.length;a+=1)k[a].l(m);p=ee()},m(m,a){T(e,m,a),w(m,n,a),w(m,t,a),w(m,f,a);for(let g=0;g<v.length;g+=1)v[g]&&v[g].m(m,a);w(m,s,a),w(m,r,a),w(m,u,a);for(let g=0;g<k.length;g+=1)k[g]&&k[g].m(m,a);w(m,p,a),S=!0},p(m,a){const g={};if(a[0]&97|a[1]&65536&&(g.$$scope={dirty:a,ctx:m}),e.$set(g),a[0]&33292){b=oe(m[3].criticalIssues);let y;for(y=0;y<b.length;y+=1){const F=Te(m,b,y);v[y]?(v[y].p(F,a),C(v[y],1)):(v[y]=Ve(F),v[y].c(),C(v[y],1),v[y].m(s.parentNode,s))}for(le(),y=b.length;y<v.length;y+=1)$(y);ne()}if(a[0]&66060){N=oe(m[3].policyConflictLog);let y;for(y=0;y<N.length;y+=1){const F=Ae(m,N,y);k[y]?(k[y].p(F,a),C(k[y],1)):(k[y]=Fe(F),k[y].c(),C(k[y],1),k[y].m(p.parentNode,p))}for(le(),y=N.length;y<k.length;y+=1)_(y);ne()}},i(m){if(!S){C(e.$$.fragment,m);for(let a=0;a<b.length;a+=1)C(v[a]);for(let a=0;a<N.length;a+=1)C(k[a]);S=!0}},o(m){L(e.$$.fragment,m),v=v.filter(Boolean);for(let a=0;a<v.length;a+=1)L(v[a]);k=k.filter(Boolean);for(let a=0;a<k.length;a+=1)L(k[a]);S=!1},d(m){m&&(d(n),d(t),d(f),d(s),d(r),d(u),d(p)),j(e,m),ve(v,m),ve(k,m)}}}function Ut(l){let e;return{c(){e=J("Save")},l(n){e=W(n,"Save")},m(n,t){w(n,e,t)},d(n){n&&d(e)}}}function Ot(l){let e;return{c(){e=J("Delete")},l(n){e=W(n,"Delete")},m(n,t){w(n,e,t)},d(n){n&&d(e)}}}function Ht(l){let e;return{c(){e=J("Copy")},l(n){e=W(n,"Copy")},m(n,t){w(n,e,t)},d(n){n&&d(e)}}}function zt(l){let e,n;return e=new Vt({props:{idx:l[1].id.idx}}),{c(){q(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){T(e,t,o),n=!0},p(t,o){const f={};o[0]&2&&(f.idx=t[1].id.idx),e.$set(f)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Jt(l){let e,n;return e=new At({props:{idx:l[1].id.idx}}),{c(){q(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){T(e,t,o),n=!0},p(t,o){const f={};o[0]&2&&(f.idx=t[1].id.idx),e.$set(f)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Wt(l){let e;return{c(){e=J("Zoom to fit")},l(n){e=W(n,"Zoom to fit")},m(n,t){w(n,e,t)},d(n){n&&d(e)}}}function Zt(l){let e;return{c(){e=J("Show scheme context")},l(n){e=W(n,"Show scheme context")},m(n,t){w(n,e,t)},d(n){n&&d(e)}}}function Kt(l){let e,n,t,o,f,s,r,i,u,p,S,b;e=new xe({props:{$$slots:{default:[Wt]},$$scope:{ctx:l}}}),e.$on("click",l[18]),t=new wt({}),f=new yt({});function v(_){l[19](_)}let $={map:l[0]};l[5]!==void 0&&($.enabled=l[5]),r=new Ct({props:$}),Z.push(()=>Y(r,"enabled",v));function N(_){l[20](_)}let k={$$slots:{default:[Zt]},$$scope:{ctx:l}};return l[6]!==void 0&&(k.checked=l[6]),p=new It({props:k}),Z.push(()=>Y(p,"checked",N)),{c(){q(e.$$.fragment),n=M(),q(t.$$.fragment),o=M(),q(f.$$.fragment),s=M(),q(r.$$.fragment),u=M(),q(p.$$.fragment)},l(_){A(e.$$.fragment,_),n=P(_),A(t.$$.fragment,_),o=P(_),A(f.$$.fragment,_),s=P(_),A(r.$$.fragment,_),u=P(_),A(p.$$.fragment,_)},m(_,m){T(e,_,m),w(_,n,m),T(t,_,m),w(_,o,m),T(f,_,m),w(_,s,m),T(r,_,m),w(_,u,m),T(p,_,m),b=!0},p(_,m){const a={};m[1]&65536&&(a.$$scope={dirty:m,ctx:_}),e.$set(a);const g={};m[0]&1&&(g.map=_[0]),!i&&m[0]&32&&(i=!0,g.enabled=_[5],K(()=>i=!1)),r.$set(g);const y={};m[1]&65536&&(y.$$scope={dirty:m,ctx:_}),!S&&m[0]&64&&(S=!0,y.checked=_[6],K(()=>S=!1)),p.$set(y)},i(_){b||(C(e.$$.fragment,_),C(t.$$.fragment,_),C(f.$$.fragment,_),C(r.$$.fragment,_),C(p.$$.fragment,_),b=!0)},o(_){L(e.$$.fragment,_),L(t.$$.fragment,_),L(f.$$.fragment,_),L(r.$$.fragment,_),L(p.$$.fragment,_),b=!1},d(_){_&&(d(n),d(o),d(s),d(u)),j(e,_),j(t,_),j(f,_),j(r,_),j(p,_)}}}function je(l){let e,n,t=l[43].resolved+"",o;return{c(){e=H("span"),n=J("Resolved: "),o=J(t)},l(f){e=z(f,"SPAN",{});var s=R(e);n=W(s,"Resolved: "),o=W(s,t),s.forEach(d)},m(f,s){w(f,e,s),V(e,n),V(e,o)},p(f,s){s[0]&8&&t!==(t=f[43].resolved+"")&&me(o,t)},d(f){f&&d(e)}}}function Yt(l){let e,n,t,o=l[43].stage+"",f,s,r=l[43].stage!="Design"&&je(l);return{c(){e=H("div"),n=H("span"),t=J("Stage: "),f=J(o),s=M(),r&&r.c(),this.h()},l(i){e=z(i,"DIV",{style:!0});var u=R(e);n=z(u,"SPAN",{});var p=R(n);t=W(p,"Stage: "),f=W(p,o),p.forEach(d),s=P(u),r&&r.l(u),u.forEach(d),this.h()},h(){O(e,"width","100%"),O(e,"display","flex"),O(e,"justify-content","space-between")},m(i,u){w(i,e,u),V(e,n),V(n,t),V(n,f),V(e,s),r&&r.m(e,null)},p(i,u){u[0]&8&&o!==(o=i[43].stage+"")&&me(f,o),i[43].stage!="Design"?r?r.p(i,u):(r=je(i),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(i){i&&d(e),r&&r.d()}}}function Ve(l){let e,n;function t(){return l[21](l[42])}function o(){return l[22](l[42])}return e=new et({props:{name:l[15](l[43]),$$slots:{default:[Yt]},$$scope:{ctx:l}}}),e.$on("click",t),e.$on("mouseenter",o),e.$on("mouseleave",l[23]),{c(){q(e.$$.fragment)},l(f){A(e.$$.fragment,f)},m(f,s){T(e,f,s),n=!0},p(f,s){l=f;const r={};s[0]&8&&(r.name=l[15](l[43])),s[0]&8|s[1]&65536&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(f){n||(C(e.$$.fragment,f),n=!0)},o(f){L(e.$$.fragment,f),n=!1},d(f){j(e,f)}}}function Ge(l){let e,n,t=l[40].resolved+"",o;return{c(){e=H("span"),n=J("Resolved: "),o=J(t)},l(f){e=z(f,"SPAN",{});var s=R(e);n=W(s,"Resolved: "),o=W(s,t),s.forEach(d)},m(f,s){w(f,e,s),V(e,n),V(e,o)},p(f,s){s[0]&8&&t!==(t=f[40].resolved+"")&&me(o,t)},d(f){f&&d(e)}}}function Xt(l){let e,n,t,o=l[40].stage+"",f,s,r,i=l[40].stage!="Design"&&Ge(l);return{c(){e=H("div"),n=H("span"),t=J("Stage: "),f=J(o),s=M(),i&&i.c(),r=M(),this.h()},l(u){e=z(u,"DIV",{style:!0});var p=R(e);n=z(p,"SPAN",{});var S=R(n);t=W(S,"Stage: "),f=W(S,o),S.forEach(d),s=P(p),i&&i.l(p),p.forEach(d),r=P(u),this.h()},h(){O(e,"width","100%"),O(e,"display","flex"),O(e,"justify-content","space-between")},m(u,p){w(u,e,p),V(e,n),V(n,t),V(n,f),V(e,s),i&&i.m(e,null),w(u,r,p)},p(u,p){p[0]&8&&o!==(o=u[40].stage+"")&&me(f,o),u[40].stage!="Design"?i?i.p(u,p):(i=Ge(u),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(u){u&&(d(e),d(r)),i&&i.d()}}}function Fe(l){let e,n;function t(){return l[24](l[42])}function o(){return l[25](l[42])}return e=new et({props:{name:l[16](l[40]),$$slots:{default:[Xt]},$$scope:{ctx:l}}}),e.$on("click",t),e.$on("mouseenter",o),e.$on("mouseleave",l[26]),{c(){q(e.$$.fragment)},l(f){A(e.$$.fragment,f)},m(f,s){T(e,f,s),n=!0},p(f,s){l=f;const r={};s[0]&8&&(r.name=l[16](l[40])),s[0]&8|s[1]&65536&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(f){n||(C(e.$$.fragment,f),n=!0)},o(f){L(e.$$.fragment,f),n=!1},d(f){j(e,f)}}}function Re(l){let e,n,t,o,f,s,r;return n=new ye({props:{$$slots:{default:[el]},$$scope:{ctx:l}}}),n.$on("click",l[11]),o=new ye({props:{$$slots:{default:[nl]},$$scope:{ctx:l}}}),o.$on("click",l[28]),s=new ye({props:{$$slots:{default:[sl]},$$scope:{ctx:l}}}),s.$on("click",l[29]),{c(){e=H("div"),q(n.$$.fragment),t=M(),q(o.$$.fragment),f=M(),q(s.$$.fragment),this.h()},l(i){e=z(i,"DIV",{class:!0});var u=R(e);A(n.$$.fragment,u),t=P(u),A(o.$$.fragment,u),f=P(u),A(s.$$.fragment,u),u.forEach(d),this.h()},h(){B(e,"class","control-panel svelte-17y3eic")},m(i,u){w(i,e,u),T(n,e,null),V(e,t),T(o,e,null),V(e,f),T(s,e,null),r=!0},p(i,u){const p={};u[0]&2|u[1]&65536&&(p.$$scope={dirty:u,ctx:i}),n.$set(p);const S={};u[0]&2|u[1]&65536&&(S.$$scope={dirty:u,ctx:i}),o.$set(S);const b={};u[0]&2|u[1]&65536&&(b.$$scope={dirty:u,ctx:i}),s.$set(b)},i(i){r||(C(n.$$.fragment,i),C(o.$$.fragment,i),C(s.$$.fragment,i),r=!0)},o(i){L(n.$$.fragment,i),L(o.$$.fragment,i),L(s.$$.fragment,i),r=!1},d(i){i&&d(e),j(n),j(o),j(s)}}}function Qt(l){let e;return{c(){e=J("Move map")},l(n){e=W(n,"Move map")},m(n,t){w(n,e,t)},d(n){n&&d(e)}}}function xt(l){let e,n="Move map";return{c(){e=H("u"),e.textContent=n},l(t){e=z(t,"U",{"data-svelte-h":!0}),de(e)!=="svelte-1719ytd"&&(e.textContent=n)},m(t,o){w(t,e,o)},d(t){t&&d(e)}}}function el(l){let e,n,t,o;function f(i,u){return i[1].mode=="select"?xt:Qt}let s=f(l),r=s(l);return{c(){e=H("img"),t=M(),r.c(),o=ee(),this.h()},l(i){e=z(i,"IMG",{src:!0,alt:!0,style:!0}),t=P(i),r.l(i),o=ee(),this.h()},h(){ct(e.src,n=Mt)||B(e,"src",n),B(e,"alt","Move map"),O(e,"vertical-align","middle")},m(i,u){w(i,e,u),w(i,t,u),r.m(i,u),w(i,o,u)},p(i,u){s!==(s=f(i))&&(r.d(1),r=s(i),r&&(r.c(),r.m(o.parentNode,o)))},d(i){i&&(d(e),d(t),d(o)),r.d(i)}}}function tl(l){let e;return{c(){e=J("New critical issue")},l(n){e=W(n,"New critical issue")},m(n,t){w(n,e,t)},d(n){n&&d(e)}}}function ll(l){let e,n="New critical issue";return{c(){e=H("u"),e.textContent=n},l(t){e=z(t,"U",{"data-svelte-h":!0}),de(e)!=="svelte-1igjogw"&&(e.textContent=n)},m(t,o){w(t,e,o)},d(t){t&&d(e)}}}function nl(l){let e,n,t,o;function f(i,u){return i[1].mode=="new-critical"?ll:tl}let s=f(l),r=s(l);return{c(){e=ue("svg"),n=ue("polygon"),t=M(),r.c(),o=ee(),this.h()},l(i){e=pe(i,"svg",{width:!0,height:!0,xmlns:!0,style:!0});var u=R(e);n=pe(u,"polygon",{points:!0,fill:!0,class:!0}),R(n).forEach(d),u.forEach(d),t=P(i),r.l(i),o=ee(),this.h()},h(){B(n,"points","12,0 0,24 24,24"),B(n,"fill",He.critical.background),B(n,"class","svelte-17y3eic"),B(e,"width","24"),B(e,"height","24"),B(e,"xmlns","http://www.w3.org/2000/svg"),O(e,"vertical-align","middle")},m(i,u){w(i,e,u),V(e,n),w(i,t,u),r.m(i,u),w(i,o,u)},p(i,u){s!==(s=f(i))&&(r.d(1),r=s(i),r&&(r.c(),r.m(o.parentNode,o)))},d(i){i&&(d(e),d(t),d(o)),r.d(i)}}}function il(l){let e;return{c(){e=J("New policy conflict")},l(n){e=W(n,"New policy conflict")},m(n,t){w(n,e,t)},d(n){n&&d(e)}}}function ol(l){let e,n="New policy conflict";return{c(){e=H("u"),e.textContent=n},l(t){e=z(t,"U",{"data-svelte-h":!0}),de(e)!=="svelte-14o8e5o"&&(e.textContent=n)},m(t,o){w(t,e,o)},d(t){t&&d(e)}}}function sl(l){let e,n,t,o;function f(i,u){return i[1].mode=="new-conflict"?ol:il}let s=f(l),r=s(l);return{c(){e=ue("svg"),n=ue("circle"),t=M(),r.c(),o=ee(),this.h()},l(i){e=pe(i,"svg",{width:!0,height:!0,xmlns:!0,style:!0});var u=R(e);n=pe(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),R(n).forEach(d),u.forEach(d),t=P(i),r.l(i),o=ee(),this.h()},h(){B(n,"cx","12"),B(n,"cy","12"),B(n,"r","12"),B(n,"fill",ze),B(e,"width","24"),B(e,"height","24"),B(e,"xmlns","http://www.w3.org/2000/svg"),O(e,"vertical-align","middle")},m(i,u){w(i,e,u),V(e,n),w(i,t,u),r.m(i,u),w(i,o,u)},p(i,u){s!==(s=f(i))&&(r.d(1),r=s(i),r&&(r.c(),r.m(o.parentNode,o)))},d(i){i&&(d(e),d(t),d(o)),r.d(i)}}}function rl(l){let e,n,t,o=l[43].criticalIssue+"",f;return{c(){e=ue("svg"),n=ue("polygon"),t=ue("text"),f=J(o),this.h()},l(s){e=pe(s,"svg",{width:!0,height:!0,xmlns:!0});var r=R(e);n=pe(r,"polygon",{points:!0,fill:!0,class:!0}),R(n).forEach(d),t=pe(r,"text",{x:!0,y:!0});var i=R(t);f=W(i,o),i.forEach(d),r.forEach(d),this.h()},h(){B(n,"points","20,0 0,40 40,40"),B(n,"fill",He.critical.background),B(n,"class","svelte-17y3eic"),B(t,"x","13"),B(t,"y","30"),O(t,"fill","white"),B(e,"width","40"),B(e,"height","40"),B(e,"xmlns","http://www.w3.org/2000/svg")},m(s,r){w(s,e,r),V(e,n),V(e,t),V(t,f)},p(s,r){r[0]&8&&o!==(o=s[43].criticalIssue+"")&&me(f,o)},d(s){s&&d(e)}}}function Ue(l){let e,n,t;function o(i){l[30](i,l[43])}function f(){return l[31](l[42])}function s(){return l[32](l[42])}let r={draggable:!0,$$slots:{default:[rl]},$$scope:{ctx:l}};return l[43].point!==void 0&&(r.lngLat=l[43].point),e=new Qe({props:r}),Z.push(()=>Y(e,"lngLat",o)),e.$on("click",f),e.$on("dragend",s),{c(){q(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,u){T(e,i,u),t=!0},p(i,u){l=i;const p={};u[0]&8|u[1]&65536&&(p.$$scope={dirty:u,ctx:l}),!n&&u[0]&8&&(n=!0,p.lngLat=l[43].point,K(()=>n=!1)),e.$set(p)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function al(l){let e,n=l[40].conflict+"",t;return{c(){e=H("span"),t=J(n),this.h()},l(o){e=z(o,"SPAN",{class:!0});var f=R(e);t=W(f,n),f.forEach(d),this.h()},h(){B(e,"class","dot svelte-17y3eic"),O(e,"background",ze)},m(o,f){w(o,e,f),V(e,t)},p(o,f){f[0]&8&&n!==(n=o[40].conflict+"")&&me(t,n)},d(o){o&&d(e)}}}function Oe(l){let e,n,t;function o(i){l[33](i,l[40])}function f(){return l[34](l[42])}function s(){return l[35](l[42])}let r={draggable:!0,$$slots:{default:[al]},$$scope:{ctx:l}};return l[40].point!==void 0&&(r.lngLat=l[40].point),e=new Qe({props:r}),Z.push(()=>Y(e,"lngLat",o)),e.$on("click",f),e.$on("dragend",s),{c(){q(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,u){T(e,i,u),t=!0},p(i,u){l=i;const p={};u[0]&8|u[1]&65536&&(p.$$scope={dirty:u,ctx:l}),!n&&u[0]&8&&(n=!0,p.lngLat=l[40].point,K(()=>n=!1)),e.$set(p)},i(i){t||(C(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){j(e,i)}}}function fl(l){let e,n;return e=new dt({props:{paint:{"circle-radius":30,"circle-opacity":0,"circle-stroke-width":5,"circle-stroke-color":"yellow"}}}),{c(){q(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,o){T(e,t,o),n=!0},p:ut,i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function cl(l){let e,n,t,o,f,s,r,i,u,p,S;e=new Lt({}),e.$on("click",l[12]);let b=l[1].mode!="editing"&&Re(l);o=new gt({props:{gj:l[3].summary.networkMap,show:l[6]}});let v=oe(l[3].criticalIssues),$=[];for(let a=0;a<v.length;a+=1)$[a]=Ue(qe(l,v,a));const N=a=>L($[a],1,1,()=>{$[a]=null});let k=oe(l[3].policyConflictLog),_=[];for(let a=0;a<k.length;a+=1)_[a]=Oe(Be(l,k,a));const m=a=>L(_[a],1,1,()=>{_[a]=null});return i=new $t({props:{data:l[7],$$slots:{default:[fl]},$$scope:{ctx:l}}}),p=new Dt({props:{map:l[0]}}),{c(){q(e.$$.fragment),n=M(),b&&b.c(),t=M(),q(o.$$.fragment),f=M();for(let a=0;a<$.length;a+=1)$[a].c();s=M();for(let a=0;a<_.length;a+=1)_[a].c();r=M(),q(i.$$.fragment),u=M(),q(p.$$.fragment)},l(a){A(e.$$.fragment,a),n=P(a),b&&b.l(a),t=P(a),A(o.$$.fragment,a),f=P(a);for(let g=0;g<$.length;g+=1)$[g].l(a);s=P(a);for(let g=0;g<_.length;g+=1)_[g].l(a);r=P(a),A(i.$$.fragment,a),u=P(a),A(p.$$.fragment,a)},m(a,g){T(e,a,g),w(a,n,g),b&&b.m(a,g),w(a,t,g),T(o,a,g),w(a,f,g);for(let y=0;y<$.length;y+=1)$[y]&&$[y].m(a,g);w(a,s,g);for(let y=0;y<_.length;y+=1)_[y]&&_[y].m(a,g);w(a,r,g),T(i,a,g),w(a,u,g),T(p,a,g),S=!0},p(a,g){a[1].mode!="editing"?b?(b.p(a,g),g[0]&2&&C(b,1)):(b=Re(a),b.c(),C(b,1),b.m(t.parentNode,t)):b&&(le(),L(b,1,1,()=>{b=null}),ne());const y={};if(g[0]&8&&(y.gj=a[3].summary.networkMap),g[0]&64&&(y.show=a[6]),o.$set(y),g[0]&264){v=oe(a[3].criticalIssues);let D;for(D=0;D<v.length;D+=1){const x=qe(a,v,D);$[D]?($[D].p(x,g),C($[D],1)):($[D]=Ue(x),$[D].c(),C($[D],1),$[D].m(s.parentNode,s))}for(le(),D=v.length;D<$.length;D+=1)N(D);ne()}if(g[0]&264){k=oe(a[3].policyConflictLog);let D;for(D=0;D<k.length;D+=1){const x=Be(a,k,D);_[D]?(_[D].p(x,g),C(_[D],1)):(_[D]=Oe(x),_[D].c(),C(_[D],1),_[D].m(r.parentNode,r))}for(le(),D=k.length;D<_.length;D+=1)m(D);ne()}const F={};g[0]&128&&(F.data=a[7]),g[1]&65536&&(F.$$scope={dirty:g,ctx:a}),i.$set(F);const ie={};g[0]&1&&(ie.map=a[0]),p.$set(ie)},i(a){if(!S){C(e.$$.fragment,a),C(b),C(o.$$.fragment,a);for(let g=0;g<v.length;g+=1)C($[g]);for(let g=0;g<k.length;g+=1)C(_[g]);C(i.$$.fragment,a),C(p.$$.fragment,a),S=!0}},o(a){L(e.$$.fragment,a),L(b),L(o.$$.fragment,a),$=$.filter(Boolean);for(let g=0;g<$.length;g+=1)L($[g]);_=_.filter(Boolean);for(let g=0;g<_.length;g+=1)L(_[g]);L(i.$$.fragment,a),L(p.$$.fragment,a),S=!1},d(a){a&&(d(n),d(t),d(f),d(s),d(r),d(u)),j(e,a),b&&b.d(a),j(o,a),ve($,a),ve(_,a),j(i,a),j(p,a)}}}function ul(l){let e,n,t,o,f,s,r,i,u,p,S;const b=[Rt,Ft],v=[];function $(_,m){return _[1].mode!="editing"?0:1}t=$(l),o=v[t]=b[t](l);function N(_){l[36](_)}let k={$$slots:{default:[cl]},$$scope:{ctx:l}};return l[0]!==void 0&&(k.map=l[0]),r=new _t({props:k}),Z.push(()=>Y(r,"map",N)),{c(){e=H("div"),n=H("div"),o.c(),f=M(),s=H("div"),q(r.$$.fragment),this.h()},l(_){e=z(_,"DIV",{style:!0});var m=R(e);n=z(m,"DIV",{style:!0});var a=R(n);o.l(a),a.forEach(d),f=P(m),s=z(m,"DIV",{style:!0});var g=R(s);A(r.$$.fragment,g),g.forEach(d),m.forEach(d),this.h()},h(){O(n,"width","30%"),O(n,"overflow-y","scroll"),O(n,"padding","10px"),O(n,"border","1px solid black"),O(s,"position","relative"),O(s,"width","70%"),O(e,"display","flex"),O(e,"height","80vh")},m(_,m){w(_,e,m),V(e,n),v[t].m(n,null),l[27](n),V(e,f),V(e,s),T(r,s,null),u=!0,p||(S=at(Gt,"keydown",l[17]),p=!0)},p(_,m){let a=t;t=$(_),t===a?v[t].p(_,m):(le(),L(v[a],1,1,()=>{v[a]=null}),ne(),o=v[t],o?o.p(_,m):(o=v[t]=b[t](_),o.c()),C(o,1),o.m(n,null));const g={};m[0]&203|m[1]&65536&&(g.$$scope={dirty:m,ctx:_}),!i&&m[0]&1&&(i=!0,g.map=_[0],K(()=>i=!1)),r.$set(g)},i(_){u||(C(o),C(r.$$.fragment,_),u=!0)},o(_){L(o),L(r.$$.fragment,_),u=!1},d(_){_&&d(e),v[t].d(),l[27](null),j(r),p=!1,S()}}}function pl(l,e,n){let t={type:"FeatureCollection",features:[]},o=e.mode=="editing"?e.id:n;if(o!=null){let f=o.kind=="critical"?l.criticalIssues:l.policyConflictLog;t.features.push(Ce(f[o.idx].point))}return t}function Ce(l){return{type:"Feature",properties:{},geometry:{type:"Point",coordinates:l}}}function _l(l,e,n){let t,o,f;he(l,U,h=>n(3,o=h)),he(l,Pt,h=>n(38,f=h));let s,r,i={mode:"select"},u=f.url.searchParams.get("kind")||"";u=="critical"?i={mode:"new-critical"}:u=="conflict"&&(i={mode:"new-conflict"});let p=null,S=null,b=!1,v=!0;async function $(h){p=r.scrollTop,n(1,i={mode:"editing",id:h}),n(2,S=null),await we(),n(4,r.scrollTop=0,r)}async function N(h){p=r.scrollTop,n(1,i={mode:"editing",id:h}),n(2,S=null),await we(),n(4,r.scrollTop=0,r);let G=h.kind=="critical"?o.criticalIssues:o.policyConflictLog;s.flyTo({center:G[h.idx].point,duration:500})}async function k(){if(i.mode!="editing")return;let h=i.id,G=h.kind=="critical"?o.criticalIssues:o.policyConflictLog,te=JSON.parse(JSON.stringify(G[h.idx])),st=s.getBounds().getWest(),rt=s.getBounds().getEast();te.point[0]+=(rt-st)*.05;let Se=G.toSpliced(h.idx+1,0,te);h.kind=="critical"?_e(U,o.criticalIssues=Se,o):_e(U,o.policyConflictLog=Se,o),await $({kind:h.kind,idx:h.idx+1})}async function _(){n(1,i={mode:"select"}),_e(U,o.policyConflictLog=o.policyConflictLog.toSorted((h,G)=>Ee(h.conflict)-Ee(G.conflict)),o),_e(U,o.criticalIssues=o.criticalIssues.toSorted((h,G)=>De(h.criticalIssue)-De(G.criticalIssue)),o),p!=null&&(await we(),n(4,r.scrollTop=p,r),p=null)}function m(h){if(!b&&i.mode!="select"){if(i.mode=="editing"){_();return}i.mode=="new-critical"?(_e(U,o.criticalIssues=[...o.criticalIssues,{criticalIssue:f.url.searchParams.get("code")||"",stage:"",point:h.detail.lngLat.toArray(),locationName:"",resolved:"",notes:""}],o),$({kind:"critical",idx:o.criticalIssues.length-1})):i.mode=="new-conflict"&&(_e(U,o.policyConflictLog=[...o.policyConflictLog,{conflict:f.url.searchParams.get("code")||"",stage:"",point:h.detail.lngLat.toArray(),locationName:"",resolved:"",notes:""}],o),$({kind:"conflict",idx:o.policyConflictLog.length-1}))}}ft(()=>{g(!1)});function a(){i.mode=="editing"&&window.confirm("Delete this entry?")&&(i.id.kind=="critical"?(o.criticalIssues.splice(i.id.idx,1),U.set(o)):(o.policyConflictLog.splice(i.id.idx,1),U.set(o)),_())}function g(h){let G={type:"FeatureCollection",features:[...o.criticalIssues.map(te=>Ce(te.point)),...o.policyConflictLog.map(te=>Ce(te.point)),...o.summary.networkMap.features]};G.features.length>0&&s.fitBounds(mt(G),{padding:20,animate:h})}function y(h){let G=h.criticalIssue?bt(h.criticalIssue):"Unknown critical";return h.locationName?`${G} (${h.locationName})`:G}function F(h){let G=h.conflict?kt(h.conflict):"Unknown conflict";return h.locationName?`${G} (${h.locationName})`:G}function ie(h){if(i.mode=="editing"){let G=h.target.tagName,te=G=="INPUT"||G=="TEXTAREA";h.key=="Escape"||h.key=="Enter"&&!te?(h.stopPropagation(),_()):h.key=="Delete"&&!te&&(h.stopPropagation(),a())}else(i.mode=="new-critical"||i.mode=="new-conflict")&&h.key=="Escape"&&(h.stopPropagation(),n(1,i={mode:"select"}))}const D=()=>g(!0);function x(h){b=h,n(5,b)}function se(h){v=h,n(6,v)}const ge=h=>N({kind:"critical",idx:h}),re=h=>n(2,S={kind:"critical",idx:h}),E=()=>n(2,S=null),$e=h=>N({kind:"conflict",idx:h}),ae=h=>n(2,S={kind:"conflict",idx:h}),c=()=>n(2,S=null);function I(h){Z[h?"unshift":"push"](()=>{r=h,n(4,r)})}const X=()=>n(1,i={mode:"new-critical"}),Q=()=>n(1,i={mode:"new-conflict"});function fe(h,G){l.$$.not_equal(G.point,h)&&(G.point=h,U.set(o))}const ce=h=>$({kind:"critical",idx:h}),tt=h=>$({kind:"critical",idx:h});function lt(h,G){l.$$.not_equal(G.point,h)&&(G.point=h,U.set(o))}const nt=h=>$({kind:"conflict",idx:h}),it=h=>$({kind:"conflict",idx:h});function ot(h){s=h,n(0,s)}return l.$$.update=()=>{l.$$.dirty[0]&3&&s&&(s.getCanvas().style.cursor=i.mode=="new-critical"||i.mode=="new-conflict"?"crosshair":"auto"),l.$$.dirty[0]&14&&n(7,t=pl(o,i,S))},[s,i,S,o,r,b,v,t,$,N,k,_,m,a,g,y,F,ie,D,x,se,ge,re,E,$e,ae,c,I,X,Q,fe,ce,tt,lt,nt,it,ot]}class Vl extends Le{constructor(e){super(),Ne(this,e,_l,ul,Ie,{},null,[-1,-1])}}export{Vl as component};
