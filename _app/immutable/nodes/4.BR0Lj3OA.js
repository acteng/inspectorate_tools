import{B as _e,s as J,o as ge,e as U,t as z,b as E,c as I,f as P,h as K,d as h,j as C,a as M,i as y,k as F,l as he,u as pe,p as be,q as $e,r as se,n as ie,g as we,P as te,Q as Z,R as ae,S as fe,T as ue,U as re,G as lt,V as Pe,W as st,X as at,y as q,x as ce,Y as H,Z as it,m as Xe,_ as rt}from"../chunks/scheduler.C6wGf0y2.js";import{a as p,t as b,S as X,i as Y,c as D,b as S,m as L,d as T,f as j,g as Ye,e as Ge}from"../chunks/index.D-aa-kS0.js";import{w as ot}from"../chunks/index.D-aZuUzx.js";import{b as We}from"../chunks/paths.DEqCQgxL.js";function me(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function ft(l,e){p(l,1,1,()=>{e.delete(l.key)})}function ut(l,e,n,t,i,a,s,f,o,r,u,c){let m=l.length,g=a.length,_=m;const w={};for(;_--;)w[l[_].key]=_;const k=[],W=new Map,$=new Map,v=[];for(_=g;_--;){const O=c(i,a,_),V=n(O);let A=s.get(V);A?t&&v.push(()=>A.p(O,e)):(A=r(V,O),A.c()),W.set(V,k[_]=A),V in w&&$.set(V,Math.abs(_-w[V]))}const Q=new Set,G=new Set;function x(O){b(O,1),O.m(f,u),s.set(O.key,O),u=O.first,g--}for(;m&&g;){const O=k[g-1],V=l[m-1],A=O.key,ne=V.key;O===V?(u=O.first,m--,g--):W.has(ne)?!s.has(A)||Q.has(A)?x(O):G.has(ne)?m--:$.get(A)>$.get(ne)?(G.add(A),x(O)):(Q.add(ne),m--):(o(V,s),m--)}for(;m--;){const O=l[m];W.has(O.key)||o(O,s)}for(;g;)x(k[g-1]);return _e(v),k}function Qe(l,e){const n={},t={},i={$$scope:1};let a=l.length;for(;a--;){const s=l[a],f=e[a];if(f){for(const o in s)o in f||(t[o]=1);for(const o in f)i[o]||(n[o]=f[o],i[o]=1);l[a]=f}else for(const o in s)i[o]=1}for(const s in t)s in n||(n[s]=void 0);return n}let oe;const ct=new Uint8Array(16);function mt(){if(!oe&&(oe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oe(ct)}const N=[];for(let l=0;l<256;++l)N.push((l+256).toString(16).slice(1));function dt(l,e=0){return N[l[e+0]]+N[l[e+1]]+N[l[e+2]]+N[l[e+3]]+"-"+N[l[e+4]]+N[l[e+5]]+"-"+N[l[e+6]]+N[l[e+7]]+"-"+N[l[e+8]]+N[l[e+9]]+"-"+N[l[e+10]]+N[l[e+11]]+N[l[e+12]]+N[l[e+13]]+N[l[e+14]]+N[l[e+15]]}const _t=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ae={randomUUID:_t};function ke(l,e,n){if(Ae.randomUUID&&!e&&!l)return Ae.randomUUID();l=l||{};const t=l.random||(l.rng||mt)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=t[i];return e}return dt(t)}function gt(l){let e,n,t,i,a,s,f;const o=l[3].default,r=ge(o,l,l[2],null);return{c(){e=U("details"),n=U("summary"),t=U("span"),i=z(l[0]),a=E(),s=U("div"),r&&r.c(),this.h()},l(u){e=I(u,"DETAILS",{class:!0,"data-module":!0});var c=P(e);n=I(c,"SUMMARY",{class:!0});var m=P(n);t=I(m,"SPAN",{class:!0});var g=P(t);i=K(g,l[0]),g.forEach(h),m.forEach(h),a=C(c),s=I(c,"DIV",{class:!0});var _=P(s);r&&r.l(_),_.forEach(h),c.forEach(h),this.h()},h(){M(t,"class","govuk-details__summary-text"),M(n,"class","govuk-details__summary"),M(s,"class","govuk-details__text"),e.open=l[1],M(e,"class","govuk-details"),M(e,"data-module","govuk-details")},m(u,c){y(u,e,c),F(e,n),F(n,t),F(t,i),F(e,a),F(e,s),r&&r.m(s,null),f=!0},p(u,[c]){(!f||c&1)&&he(i,u[0]),r&&r.p&&(!f||c&4)&&pe(r,o,u,u[2],f?$e(o,u[2],c,null):be(u[2]),null),(!f||c&2)&&(e.open=u[1])},i(u){f||(b(r,u),f=!0)},o(u){p(r,u),f=!1},d(u){u&&h(e),r&&r.d(u)}}}function ht(l,e,n){let{$$slots:t={},$$scope:i}=e,{label:a}=e,{open:s=!1}=e;return l.$$set=f=>{"label"in f&&n(0,a=f.label),"open"in f&&n(1,s=f.open),"$$scope"in f&&n(2,i=f.$$scope)},[a,s,i,t]}class de extends X{constructor(e){super(),Y(this,e,ht,gt,J,{label:0,open:1})}}function Be(l){let e,n,t="Error:",i,a;return{c(){e=U("div"),n=U("span"),n.textContent=t,i=E(),a=z(l[0]),this.h()},l(s){e=I(s,"DIV",{class:!0});var f=P(e);n=I(f,"SPAN",{class:!0,"data-svelte-h":!0}),we(n)!=="svelte-1gidx8i"&&(n.textContent=t),i=C(f),a=K(f,l[0]),f.forEach(h),this.h()},h(){M(n,"class","govuk-visually-hidden"),M(e,"class","govuk-error-message")},m(s,f){y(s,e,f),F(e,n),F(e,i),F(e,a)},p(s,f){f&1&&he(a,s[0])},d(s){s&&h(e)}}}function pt(l){let e,n=l[0]&&Be(l);return{c(){n&&n.c(),e=se()},l(t){n&&n.l(t),e=se()},m(t,i){n&&n.m(t,i),y(t,e,i)},p(t,[i]){t[0]?n?n.p(t,i):(n=Be(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ie,o:ie,d(t){t&&h(e),n&&n.d(t)}}}function bt(l,e,n){let{errorMessage:t}=e;return l.$$set=i=>{"errorMessage"in i&&n(0,t=i.errorMessage)},[t]}class ye extends X{constructor(e){super(),Y(this,e,bt,pt,J,{errorMessage:0})}}function $t(l){let e,n,t,i,a;const s=l[3].default,f=ge(s,l,l[2],null);return{c(){e=U("div"),n=U("label"),t=z(l[0]),i=E(),f&&f.c(),this.h()},l(o){e=I(o,"DIV",{class:!0});var r=P(e);n=I(r,"LABEL",{class:!0,for:!0});var u=P(n);t=K(u,l[0]),u.forEach(h),i=C(r),f&&f.l(r),r.forEach(h),this.h()},h(){M(n,"class","govuk-label govuk-label--s"),M(n,"for",l[1]),M(e,"class","govuk-form-group")},m(o,r){y(o,e,r),F(e,n),F(n,t),F(e,i),f&&f.m(e,null),a=!0},p(o,[r]){(!a||r&1)&&he(t,o[0]),(!a||r&2)&&M(n,"for",o[1]),f&&f.p&&(!a||r&4)&&pe(f,s,o,o[2],a?$e(s,o[2],r,null):be(o[2]),null)},i(o){a||(b(f,o),a=!0)},o(o){p(f,o),a=!1},d(o){o&&h(e),f&&f.d(o)}}}function vt(l,e,n){let{$$slots:t={},$$scope:i}=e,{label:a}=e,{id:s}=e;return l.$$set=f=>{"label"in f&&n(0,a=f.label),"id"in f&&n(1,s=f.id),"$$scope"in f&&n(2,i=f.$$scope)},[a,s,i,t]}class De extends X{constructor(e){super(),Y(this,e,vt,$t,J,{label:0,id:1})}}function wt(l){let e,n,t,i,a,s,f;return e=new ye({props:{errorMessage:l[5](l[2])}}),{c(){D(e.$$.fragment),n=E(),t=U("input"),this.h()},l(o){S(e.$$.fragment,o),n=C(o),t=I(o,"INPUT",{type:!0,inputmode:!0,class:!0,id:!0}),this.h()},h(){M(t,"type","text"),M(t,"inputmode","numeric"),M(t,"class",i=`govuk-input govuk-input--width-${l[1]}`),M(t,"id",l[3])},m(o,r){L(e,o,r),y(o,n,r),y(o,t,r),te(t,l[2]),a=!0,s||(f=[Z(t,"input",l[9]),Z(t,"change",l[4])],s=!0)},p(o,r){const u={};r&4&&(u.errorMessage=o[5](o[2])),e.$set(u),(!a||r&2&&i!==(i=`govuk-input govuk-input--width-${o[1]}`))&&M(t,"class",i),r&4&&t.value!==o[2]&&te(t,o[2])},i(o){a||(b(e.$$.fragment,o),a=!0)},o(o){p(e.$$.fragment,o),a=!1},d(o){o&&(h(n),h(t)),T(e,o),s=!1,_e(f)}}}function kt(l){let e,n;return e=new De({props:{label:l[0],id:l[3],$$slots:{default:[wt]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,i){L(e,t,i),n=!0},p(t,[i]){const a={};i&1&&(a.label=t[0]),i&1030&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function yt(l,e,n){let{label:t}=e,{value:i}=e,{width:a}=e,{min:s=void 0}=e,{max:f=void 0}=e,o=i==null?void 0:i.toString(),r=ke();function u(){n(6,i=o==null?void 0:parseInt(o,10))}function c(g){if(g==""||g==null)return"";if(g.includes("."))return"Please enter a number without decimals";let _=Number(g);return isNaN(_)?"Please enter a valid number":s!=null&&_<s?`Please enter a number that's at least ${s};`:f!=null&&_>f?`Please enter a number that's at most ${f};`:""}function m(){o=this.value,n(2,o)}return l.$$set=g=>{"label"in g&&n(0,t=g.label),"value"in g&&n(6,i=g.value),"width"in g&&n(1,a=g.width),"min"in g&&n(7,s=g.min),"max"in g&&n(8,f=g.max)},[t,a,o,r,u,c,i,s,f,m]}class Dt extends X{constructor(e){super(),Y(this,e,yt,kt,J,{label:0,value:6,width:1,min:7,max:8})}}function St(l){let e,n,t,i;const a=l[2].default,s=ge(a,l,l[1],null);let f=[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},l[0]],o={};for(let r=0;r<f.length;r+=1)o=ae(o,f[r]);return{c(){e=U("button"),s&&s.c(),this.h()},l(r){e=I(r,"BUTTON",{type:!0,class:!0,"data-module":!0});var u=P(e);s&&s.l(u),u.forEach(h),this.h()},h(){fe(e,o)},m(r,u){y(r,e,u),s&&s.m(e,null),e.autofocus&&e.focus(),n=!0,t||(i=[Z(e,"click",l[3]),Z(e,"mouseenter",l[4]),Z(e,"mouseleave",l[5])],t=!0)},p(r,[u]){s&&s.p&&(!n||u&2)&&pe(s,a,r,r[1],n?$e(a,r[1],u,null):be(r[1]),null),fe(e,o=Qe(f,[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},u&1&&r[0]]))},i(r){n||(b(s,r),n=!0)},o(r){p(s,r),n=!1},d(r){r&&h(e),s&&s.d(r),t=!1,_e(i)}}}function Lt(l,e,n){let{$$slots:t={},$$scope:i}=e;function a(o){re.call(this,l,o)}function s(o){re.call(this,l,o)}function f(o){re.call(this,l,o)}return l.$$set=o=>{n(0,e=ae(ae({},e),ue(o))),"$$scope"in o&&n(1,i=o.$$scope)},e=ue(e),[e,i,t,a,s,f]}class ve extends X{constructor(e){super(),Y(this,e,Lt,St,J,{})}}function Ve(l,e,n){const t=l.slice();return t[9]=e[n][0],t[10]=e[n][1],t}function qe(l){let e;return{c(){e=U("option"),this.h()},l(n){e=I(n,"OPTION",{}),P(e).forEach(h),this.h()},h(){e.__value="",te(e,e.__value)},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function He(l){let e,n=l[10]+"",t,i;return{c(){e=U("option"),t=z(n),this.h()},l(a){e=I(a,"OPTION",{});var s=P(e);t=K(s,n),s.forEach(h),this.h()},h(){e.__value=i=l[9],te(e,e.__value)},m(a,s){y(a,e,s),F(e,t)},p(a,s){s&4&&n!==(n=a[10]+"")&&he(t,n),s&4&&i!==(i=a[9])&&(e.__value=i,te(e,e.__value))},d(a){a&&h(e)}}}function Tt(l){let e,n,t,i,a,s,f;e=new ye({props:{errorMessage:l[5]}});let o=l[3]&&qe(),r=me(l[2]),u=[];for(let c=0;c<r.length;c+=1)u[c]=He(Ve(l,r,c));return{c(){D(e.$$.fragment),n=E(),t=U("select"),o&&o.c(),i=se();for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){S(e.$$.fragment,c),n=C(c),t=I(c,"SELECT",{class:!0,id:!0});var m=P(t);o&&o.l(m),i=se();for(let g=0;g<u.length;g+=1)u[g].l(m);m.forEach(h),this.h()},h(){M(t,"class","govuk-select"),M(t,"id",l[6]),t.disabled=l[4],l[0]===void 0&&lt(()=>l[8].call(t))},m(c,m){L(e,c,m),y(c,n,m),y(c,t,m),o&&o.m(t,null),F(t,i);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(t,null);Pe(t,l[0],!0),a=!0,s||(f=[Z(t,"change",l[8]),Z(t,"change",l[7])],s=!0)},p(c,m){const g={};if(m&32&&(g.errorMessage=c[5]),e.$set(g),c[3]?o||(o=qe(),o.c(),o.m(t,i)):o&&(o.d(1),o=null),m&4){r=me(c[2]);let _;for(_=0;_<r.length;_+=1){const w=Ve(c,r,_);u[_]?u[_].p(w,m):(u[_]=He(w),u[_].c(),u[_].m(t,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=r.length}(!a||m&16)&&(t.disabled=c[4]),m&5&&Pe(t,c[0])},i(c){a||(b(e.$$.fragment,c),a=!0)},o(c){p(e.$$.fragment,c),a=!1},d(c){c&&(h(n),h(t)),T(e,c),o&&o.d(),st(u,c),s=!1,_e(f)}}}function Mt(l){let e,n;return e=new De({props:{label:l[1],id:l[6],$$slots:{default:[Tt]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,i){L(e,t,i),n=!0},p(t,[i]){const a={};i&2&&(a.label=t[1]),i&8253&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ot(l,e,n){let{label:t}=e,{choices:i}=e,{emptyOption:a=!1}=e,{disabled:s=!1}=e,{errorMessage:f=""}=e,{value:o}=e,r=ke();function u(m){re.call(this,l,m)}function c(){o=at(this),n(0,o),n(2,i)}return l.$$set=m=>{"label"in m&&n(1,t=m.label),"choices"in m&&n(2,i=m.choices),"emptyOption"in m&&n(3,a=m.emptyOption),"disabled"in m&&n(4,s=m.disabled),"errorMessage"in m&&n(5,f=m.errorMessage),"value"in m&&n(0,o=m.value)},[o,t,i,a,s,f,r,u,c]}class ee extends X{constructor(e){super(),Y(this,e,Ot,Mt,J,{label:1,choices:2,emptyOption:3,disabled:4,errorMessage:5,value:0})}}function Rt(l){let e,n,t,i,a,s;return e=new ye({props:{errorMessage:l[3]}}),{c(){D(e.$$.fragment),n=E(),t=U("textarea"),this.h()},l(f){S(e.$$.fragment,f),n=C(f),t=I(f,"TEXTAREA",{class:!0,id:!0,rows:!0}),P(t).forEach(h),this.h()},h(){M(t,"class","govuk-textarea"),M(t,"id",l[4]),M(t,"rows",l[2])},m(f,o){L(e,f,o),y(f,n,o),y(f,t,o),te(t,l[0]),i=!0,a||(s=Z(t,"input",l[5]),a=!0)},p(f,o){const r={};o&8&&(r.errorMessage=f[3]),e.$set(r),(!i||o&4)&&M(t,"rows",f[2]),o&1&&te(t,f[0])},i(f){i||(b(e.$$.fragment,f),i=!0)},o(f){p(e.$$.fragment,f),i=!1},d(f){f&&(h(n),h(t)),T(e,f),a=!1,s()}}}function Et(l){let e,n;return e=new De({props:{label:l[1],id:l[4],$$slots:{default:[Rt]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,i){L(e,t,i),n=!0},p(t,[i]){const a={};i&2&&(a.label=t[1]),i&77&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ct(l,e,n){let{label:t}=e,{value:i}=e,{rows:a=5}=e,{errorMessage:s=""}=e,f=ke();function o(){i=this.value,n(0,i)}return l.$$set=r=>{"label"in r&&n(1,t=r.label),"value"in r&&n(0,i=r.value),"rows"in r&&n(2,a=r.rows),"errorMessage"in r&&n(3,s=r.errorMessage)},[i,t,a,s,f,o]}class Ft extends X{constructor(e){super(),Y(this,e,Ct,Et,J,{label:1,value:0,rows:2,errorMessage:3})}}function Ut(l){let e,n,t,i;const a=l[2].default,s=ge(a,l,l[1],null);let f=[{type:"button"},{class:"govuk-button govuk-button--warning"},{"data-module":"govuk-button"},l[0]],o={};for(let r=0;r<f.length;r+=1)o=ae(o,f[r]);return{c(){e=U("button"),s&&s.c(),this.h()},l(r){e=I(r,"BUTTON",{type:!0,class:!0,"data-module":!0});var u=P(e);s&&s.l(u),u.forEach(h),this.h()},h(){fe(e,o)},m(r,u){y(r,e,u),s&&s.m(e,null),e.autofocus&&e.focus(),n=!0,t||(i=Z(e,"click",l[3]),t=!0)},p(r,[u]){s&&s.p&&(!n||u&2)&&pe(s,a,r,r[1],n?$e(a,r[1],u,null):be(r[1]),null),fe(e,o=Qe(f,[{type:"button"},{class:"govuk-button govuk-button--warning"},{"data-module":"govuk-button"},u&1&&r[0]]))},i(r){n||(b(s,r),n=!0)},o(r){p(s,r),n=!1},d(r){r&&h(e),s&&s.d(r),t=!1,i()}}}function It(l,e,n){let{$$slots:t={},$$scope:i}=e;function a(s){re.call(this,l,s)}return l.$$set=s=>{n(0,e=ae(ae({},e),ue(s))),"$$scope"in s&&n(1,i=s.$$scope)},e=ue(e),[e,i,t,a]}class Ze extends X{constructor(e){super(),Y(this,e,It,Ut,J,{})}}let B=ot(Nt());B.subscribe(l=>window.localStorage.setItem("cross-section",JSON.stringify(l)));function Nt(){let l=JSON.parse(window.localStorage.getItem("cross-section")||"{}");return l.trafficData?l:ze()}function ze(){return{trafficData:{flowOneWay:"",flowTwoWay:"",flowSharedUse:"",trafficFlow:"",speedLimit:"",observedSpeed:void 0,streetFunction:""},desirableMinimumCrossSection:[],absoluteMinimumCrossSection:[]}}let Pt=["Footway","Narrow Traffic / Bus Lane","Wide Traffic / Bus Lane","Traffic Lane (no buses): speed limit 20/30","On-highway advisory/mandatory cycle lane","1-way protected cycle track","2-way protected cycle track","Shared use cycle track","Parking Bay","Disabled Parking Bay","Loading Bay","Buffer / Verge"];function Wt(l){let e;return{c(){e=z("←")},l(n){e=K(n,"←")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function At(l){let e;return{c(){e=z("Delete")},l(n){e=K(n,"Delete")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Bt(l){let e;return{c(){e=z("→")},l(n){e=K(n,"→")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Vt(l){let e,n,t,i,a,s,f,o,r,u,c;function m(_){l[4](_)}let g={label:"Lane type",emptyOption:!0,choices:qt(Pt)};return l[0]!==void 0&&(g.value=l[0]),n=new ee({props:g}),q.push(()=>j(n,"value",m)),s=new ve({props:{disabled:l[1],$$slots:{default:[Wt]},$$scope:{ctx:l}}}),s.$on("click",l[5]),o=new Ze({props:{$$slots:{default:[At]},$$scope:{ctx:l}}}),o.$on("click",l[6]),u=new ve({props:{disabled:l[2],$$slots:{default:[Bt]},$$scope:{ctx:l}}}),u.$on("click",l[7]),{c(){e=U("div"),D(n.$$.fragment),i=E(),a=U("div"),D(s.$$.fragment),f=E(),D(o.$$.fragment),r=E(),D(u.$$.fragment),this.h()},l(_){e=I(_,"DIV",{class:!0});var w=P(e);S(n.$$.fragment,w),i=C(w),a=I(w,"DIV",{style:!0,class:!0});var k=P(a);S(s.$$.fragment,k),f=C(k),S(o.$$.fragment,k),r=C(k),S(u.$$.fragment,k),k.forEach(h),w.forEach(h),this.h()},h(){ce(a,"display","flex"),ce(a,"justify-content","space-between"),M(a,"class","svelte-jig4ga"),M(e,"class","svelte-jig4ga")},m(_,w){y(_,e,w),L(n,e,null),F(e,i),F(e,a),L(s,a,null),F(a,f),L(o,a,null),F(a,r),L(u,a,null),c=!0},p(_,[w]){const k={};!t&&w&1&&(t=!0,k.value=_[0],H(()=>t=!1)),n.$set(k);const W={};w&2&&(W.disabled=_[1]),w&256&&(W.$$scope={dirty:w,ctx:_}),s.$set(W);const $={};w&256&&($.$$scope={dirty:w,ctx:_}),o.$set($);const v={};w&4&&(v.disabled=_[2]),w&256&&(v.$$scope={dirty:w,ctx:_}),u.$set(v)},i(_){c||(b(n.$$.fragment,_),b(s.$$.fragment,_),b(o.$$.fragment,_),b(u.$$.fragment,_),c=!0)},o(_){p(n.$$.fragment,_),p(s.$$.fragment,_),p(o.$$.fragment,_),p(u.$$.fragment,_),c=!1},d(_){_&&h(e),T(n),T(s),T(o),T(u)}}}function qt(l){return l.map(e=>[e,e])}function Ht(l,e,n){let{value:t}=e,{isFirst:i}=e,{isLast:a}=e,s=it();function f(c){t=c,n(0,t)}const o=()=>s("moveLeft"),r=()=>s("delete"),u=()=>s("moveRight");return l.$$set=c=>{"value"in c&&n(0,t=c.value),"isFirst"in c&&n(1,i=c.isFirst),"isLast"in c&&n(2,a=c.isLast)},[t,i,a,s,f,o,r,u]}class jt extends X{constructor(e){super(),Y(this,e,Ht,Vt,J,{value:0,isFirst:1,isLast:2})}}function je(l,e,n){const t=l.slice();return t[9]=e[n],t[10]=e,t[11]=n,t}function Jt(l){let e;return{c(){e=z("Add")},l(n){e=K(n,"Add")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Je(l,e){let n,t,i,a;function s(c){e[5](c,e[9],e[10],e[11])}function f(){return e[6](e[11])}function o(){return e[7](e[11])}function r(){return e[8](e[11])}let u={isFirst:e[11]==0,isLast:e[11]==e[0].length-1};return e[9]!==void 0&&(u.value=e[9]),t=new jt({props:u}),q.push(()=>j(t,"value",s)),t.$on("delete",f),t.$on("moveLeft",o),t.$on("moveRight",r),{key:l,first:null,c(){n=se(),D(t.$$.fragment),this.h()},l(c){n=se(),S(t.$$.fragment,c),this.h()},h(){this.first=n},m(c,m){y(c,n,m),L(t,c,m),a=!0},p(c,m){e=c;const g={};m&1&&(g.isFirst=e[11]==0),m&1&&(g.isLast=e[11]==e[0].length-1),!i&&m&1&&(i=!0,g.value=e[9],H(()=>i=!1)),t.$set(g)},i(c){a||(b(t.$$.fragment,c),a=!0)},o(c){p(t.$$.fragment,c),a=!1},d(c){c&&h(n),T(t,c)}}}function Xt(l){let e,n,t,i=[],a=new Map,s;e=new ve({props:{$$slots:{default:[Jt]},$$scope:{ctx:l}}}),e.$on("click",l[1]);let f=me(l[0]);const o=r=>r[11];for(let r=0;r<f.length;r+=1){let u=je(l,f,r),c=o(u);a.set(c,i[r]=Je(c,u))}return{c(){D(e.$$.fragment),n=E(),t=U("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){S(e.$$.fragment,r),n=C(r),t=I(r,"DIV",{style:!0});var u=P(t);for(let c=0;c<i.length;c+=1)i[c].l(u);u.forEach(h),this.h()},h(){ce(t,"display","flex"),ce(t,"flex-direction","row")},m(r,u){L(e,r,u),y(r,n,u),y(r,t,u);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(t,null);s=!0},p(r,[u]){const c={};u&4096&&(c.$$scope={dirty:u,ctx:r}),e.$set(c),u&29&&(f=me(r[0]),Ye(),i=ut(i,u,o,1,r,f,a,t,ft,Je,null,je),Ge())},i(r){if(!s){b(e.$$.fragment,r);for(let u=0;u<f.length;u+=1)b(i[u]);s=!0}},o(r){p(e.$$.fragment,r);for(let u=0;u<i.length;u+=1)p(i[u]);s=!1},d(r){r&&(h(n),h(t)),T(e,r);for(let u=0;u<i.length;u+=1)i[u].d()}}}function Yt(l,e,n){let{lanesLeftToRight:t}=e;function i(){n(0,t=[...t,""])}function a(m){t.splice(m,1),n(0,t)}function s(m){n(0,[t[m-1],t[m]]=[t[m],t[m-1]],t)}function f(m){n(0,[t[m+1],t[m]]=[t[m],t[m+1]],t)}function o(m,g,_,w){_[w]=m,n(0,t)}const r=m=>a(m),u=m=>s(m),c=m=>f(m);return l.$$set=m=>{"lanesLeftToRight"in m&&n(0,t=m.lanesLeftToRight)},[t,i,a,s,f,o,r,u,c]}class Ke extends X{constructor(e){super(),Y(this,e,Yt,Xt,J,{lanesLeftToRight:0})}}function Gt(l){let e,n,t,i,a,s,f,o,r,u,c,m,g,_,w,k,W,$,v,Q,G;function x(d){l[2](d)}let O={label:"Expected peak hour cycle flow: 1-way cycle tracks",emptyOption:!0,choices:le(["<200","200-800",">800"])};l[0].trafficData.flowOneWay!==void 0&&(O.value=l[0].trafficData.flowOneWay),e=new ee({props:O}),q.push(()=>j(e,"value",x));function V(d){l[3](d)}let A={label:"Expected peak hour cycle flow: 2-way cycle tracks",emptyOption:!0,choices:le(["<300","300-1,000",">1,000"])};l[0].trafficData.flowTwoWay!==void 0&&(A.value=l[0].trafficData.flowTwoWay),i=new ee({props:A}),q.push(()=>j(i,"value",V));function ne(d){l[4](d)}let Se={label:"Expected peak hour cycle flow: shared use cycle tracks",emptyOption:!0,choices:le(["<300",">300"])};l[0].trafficData.flowSharedUse!==void 0&&(Se.value=l[0].trafficData.flowSharedUse),f=new ee({props:Se}),q.push(()=>j(f,"value",ne));function xe(d){l[5](d)}let Le={label:"Traffic flow (vpd)",emptyOption:!0,choices:le(["<2,500","2,500-5,000","5,000-10,000",">10,000"])};l[0].trafficData.trafficFlow!==void 0&&(Le.value=l[0].trafficData.trafficFlow),u=new ee({props:Le}),q.push(()=>j(u,"value",xe));function et(d){l[6](d)}let Te={label:"Speed limit (MPH)",emptyOption:!0,choices:le(["<30","30","40","50","60","70"])};l[0].trafficData.speedLimit!==void 0&&(Te.value=l[0].trafficData.speedLimit),g=new ee({props:Te}),q.push(()=>j(g,"value",et));function tt(d){l[7](d)}let Me={label:"Observed 85th percentile speed (MPH)",width:3,min:0,max:120};l[0].trafficData.observedSpeed!==void 0&&(Me.value=l[0].trafficData.observedSpeed),k=new Dt({props:Me}),q.push(()=>j(k,"value",tt));function nt(d){l[8](d)}let Oe={label:"Street function",emptyOption:!0,choices:le(["High Street (active frontages)","Residential street","Local distributor road"])};return l[0].trafficData.streetFunction!==void 0&&(Oe.value=l[0].trafficData.streetFunction),v=new ee({props:Oe}),q.push(()=>j(v,"value",nt)),{c(){D(e.$$.fragment),t=E(),D(i.$$.fragment),s=E(),D(f.$$.fragment),r=E(),D(u.$$.fragment),m=E(),D(g.$$.fragment),w=E(),D(k.$$.fragment),$=E(),D(v.$$.fragment)},l(d){S(e.$$.fragment,d),t=C(d),S(i.$$.fragment,d),s=C(d),S(f.$$.fragment,d),r=C(d),S(u.$$.fragment,d),m=C(d),S(g.$$.fragment,d),w=C(d),S(k.$$.fragment,d),$=C(d),S(v.$$.fragment,d)},m(d,R){L(e,d,R),y(d,t,R),L(i,d,R),y(d,s,R),L(f,d,R),y(d,r,R),L(u,d,R),y(d,m,R),L(g,d,R),y(d,w,R),L(k,d,R),y(d,$,R),L(v,d,R),G=!0},p(d,R){const Re={};!n&&R&1&&(n=!0,Re.value=d[0].trafficData.flowOneWay,H(()=>n=!1)),e.$set(Re);const Ee={};!a&&R&1&&(a=!0,Ee.value=d[0].trafficData.flowTwoWay,H(()=>a=!1)),i.$set(Ee);const Ce={};!o&&R&1&&(o=!0,Ce.value=d[0].trafficData.flowSharedUse,H(()=>o=!1)),f.$set(Ce);const Fe={};!c&&R&1&&(c=!0,Fe.value=d[0].trafficData.trafficFlow,H(()=>c=!1)),u.$set(Fe);const Ue={};!_&&R&1&&(_=!0,Ue.value=d[0].trafficData.speedLimit,H(()=>_=!1)),g.$set(Ue);const Ie={};!W&&R&1&&(W=!0,Ie.value=d[0].trafficData.observedSpeed,H(()=>W=!1)),k.$set(Ie);const Ne={};!Q&&R&1&&(Q=!0,Ne.value=d[0].trafficData.streetFunction,H(()=>Q=!1)),v.$set(Ne)},i(d){G||(b(e.$$.fragment,d),b(i.$$.fragment,d),b(f.$$.fragment,d),b(u.$$.fragment,d),b(g.$$.fragment,d),b(k.$$.fragment,d),b(v.$$.fragment,d),G=!0)},o(d){p(e.$$.fragment,d),p(i.$$.fragment,d),p(f.$$.fragment,d),p(u.$$.fragment,d),p(g.$$.fragment,d),p(k.$$.fragment,d),p(v.$$.fragment,d),G=!1},d(d){d&&(h(t),h(s),h(r),h(m),h(w),h($)),T(e,d),T(i,d),T(f,d),T(u,d),T(g,d),T(k,d),T(v,d)}}}function Qt(l){let e,n;return e=new de({props:{label:"Traffic data and additional information",$$slots:{default:[Gt]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,i){L(e,t,i),n=!0},p(t,[i]){const a={};i&513&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function le(l){return l.map(e=>[e,e])}function Zt(l,e,n){let t;Xe(l,B,m=>n(0,t=m));let{valid:i}=e;function a(m){l.$$.not_equal(t.trafficData.flowOneWay,m)&&(t.trafficData.flowOneWay=m,B.set(t))}function s(m){l.$$.not_equal(t.trafficData.flowTwoWay,m)&&(t.trafficData.flowTwoWay=m,B.set(t))}function f(m){l.$$.not_equal(t.trafficData.flowSharedUse,m)&&(t.trafficData.flowSharedUse=m,B.set(t))}function o(m){l.$$.not_equal(t.trafficData.trafficFlow,m)&&(t.trafficData.trafficFlow=m,B.set(t))}function r(m){l.$$.not_equal(t.trafficData.speedLimit,m)&&(t.trafficData.speedLimit=m,B.set(t))}function u(m){l.$$.not_equal(t.trafficData.observedSpeed,m)&&(t.trafficData.observedSpeed=m,B.set(t))}function c(m){l.$$.not_equal(t.trafficData.streetFunction,m)&&(t.trafficData.streetFunction=m,B.set(t))}return l.$$set=m=>{"valid"in m&&n(1,i=m.valid)},l.$$.update=()=>{l.$$.dirty&1&&n(1,i=t.trafficData.flowOneWay!=""&&t.trafficData.flowTwoWay!=""&&t.trafficData.flowSharedUse!=""&&t.trafficData.trafficFlow!=""&&t.trafficData.speedLimit!=""&&t.trafficData.observedSpeed!=null&&t.trafficData.streetFunction!="")},[t,i,a,s,f,o,r,u,c]}class zt extends X{constructor(e){super(),Y(this,e,Zt,Qt,J,{valid:1})}}function Kt(l){let e,n="Fill out all data above to continue";return{c(){e=U("p"),e.textContent=n},l(t){e=I(t,"P",{"data-svelte-h":!0}),we(e)!=="svelte-ma95"&&(e.textContent=n)},m(t,i){y(t,e,i)},p:ie,i:ie,o:ie,d(t){t&&h(e)}}}function xt(l){let e,n,t,i;return e=new de({props:{label:"Desirable Minimum Cross-Section",$$slots:{default:[en]},$$scope:{ctx:l}}}),t=new de({props:{label:"Absolute Minimum Cross-Section",$$slots:{default:[tn]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment),n=E(),D(t.$$.fragment)},l(a){S(e.$$.fragment,a),n=C(a),S(t.$$.fragment,a)},m(a,s){L(e,a,s),y(a,n,s),L(t,a,s),i=!0},p(a,s){const f={};s&66&&(f.$$scope={dirty:s,ctx:a}),e.$set(f);const o={};s&66&&(o.$$scope={dirty:s,ctx:a}),t.$set(o)},i(a){i||(b(e.$$.fragment,a),b(t.$$.fragment,a),i=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),i=!1},d(a){a&&h(n),T(e,a),T(t,a)}}}function en(l){let e,n,t;function i(s){l[4](s)}let a={};return l[1].desirableMinimumCrossSection!==void 0&&(a.lanesLeftToRight=l[1].desirableMinimumCrossSection),e=new Ke({props:a}),q.push(()=>j(e,"lanesLeftToRight",i)),{c(){D(e.$$.fragment)},l(s){S(e.$$.fragment,s)},m(s,f){L(e,s,f),t=!0},p(s,f){const o={};!n&&f&2&&(n=!0,o.lanesLeftToRight=s[1].desirableMinimumCrossSection,H(()=>n=!1)),e.$set(o)},i(s){t||(b(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function tn(l){let e,n,t;function i(s){l[5](s)}let a={};return l[1].absoluteMinimumCrossSection!==void 0&&(a.lanesLeftToRight=l[1].absoluteMinimumCrossSection),e=new Ke({props:a}),q.push(()=>j(e,"lanesLeftToRight",i)),{c(){D(e.$$.fragment)},l(s){S(e.$$.fragment,s)},m(s,f){L(e,s,f),t=!0},p(s,f){const o={};!n&&f&2&&(n=!0,o.lanesLeftToRight=s[1].absoluteMinimumCrossSection,H(()=>n=!1)),e.$set(o)},i(s){t||(b(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){T(e,s)}}}function nn(l){let e;return{c(){e=z("Reset")},l(n){e=K(n,"Reset")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function ln(l){let e,n,t,i;return e=new Ze({props:{$$slots:{default:[nn]},$$scope:{ctx:l}}}),e.$on("click",l[2]),t=new Ft({props:{label:"JSON",value:JSON.stringify(l[1],null,"  "),rows:10}}),{c(){D(e.$$.fragment),n=E(),D(t.$$.fragment)},l(a){S(e.$$.fragment,a),n=C(a),S(t.$$.fragment,a)},m(a,s){L(e,a,s),y(a,n,s),L(t,a,s),i=!0},p(a,s){const f={};s&64&&(f.$$scope={dirty:s,ctx:a}),e.$set(f);const o={};s&2&&(o.value=JSON.stringify(a[1],null,"  ")),t.$set(o)},i(a){i||(b(e.$$.fragment,a),b(t.$$.fragment,a),i=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),i=!1},d(a){a&&h(n),T(e,a),T(t,a)}}}function sn(l){let e,n,t=`<ol class="govuk-breadcrumbs__list"><li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${We}/">Tools</a></li> <li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${We}/cross_section">Route cross-section</a></li> <li class="govuk-breadcrumbs__list-item">Proposed Cross-Sections</li></ol>`,i,a,s,f,o,r,u,c,m;function g($){l[3]($)}let _={};l[0]!==void 0&&(_.valid=l[0]),a=new zt({props:_}),q.push(()=>j(a,"valid",g));const w=[xt,Kt],k=[];function W($,v){return $[0]?0:1}return o=W(l),r=k[o]=w[o](l),c=new de({props:{label:"Debug",$$slots:{default:[ln]},$$scope:{ctx:l}}}),{c(){e=U("div"),n=U("div"),n.innerHTML=t,i=E(),D(a.$$.fragment),f=E(),r.c(),u=E(),D(c.$$.fragment),this.h()},l($){e=I($,"DIV",{class:!0});var v=P(e);n=I(v,"DIV",{class:!0,"data-svelte-h":!0}),we(n)!=="svelte-7mvyxb"&&(n.innerHTML=t),i=C(v),S(a.$$.fragment,v),f=C(v),r.l(v),u=C(v),S(c.$$.fragment,v),v.forEach(h),this.h()},h(){M(n,"class","govuk-breadcrumbs"),M(e,"class","govuk-prose")},m($,v){y($,e,v),F(e,n),F(e,i),L(a,e,null),F(e,f),k[o].m(e,null),F(e,u),L(c,e,null),m=!0},p($,[v]){const Q={};!s&&v&1&&(s=!0,Q.valid=$[0],H(()=>s=!1)),a.$set(Q);let G=o;o=W($),o===G?k[o].p($,v):(Ye(),p(k[G],1,1,()=>{k[G]=null}),Ge(),r=k[o],r?r.p($,v):(r=k[o]=w[o]($),r.c()),b(r,1),r.m(e,u));const x={};v&66&&(x.$$scope={dirty:v,ctx:$}),c.$set(x)},i($){m||(b(a.$$.fragment,$),b(r),b(c.$$.fragment,$),m=!0)},o($){p(a.$$.fragment,$),p(r),p(c.$$.fragment,$),m=!1},d($){$&&h(e),T(a),k[o].d(),T(c)}}}function an(l,e,n){let t;Xe(l,B,r=>n(1,t=r));let i=!1;function a(){rt(B,t=ze(),t)}function s(r){i=r,n(0,i)}function f(r){l.$$.not_equal(t.desirableMinimumCrossSection,r)&&(t.desirableMinimumCrossSection=r,B.set(t))}function o(r){l.$$.not_equal(t.absoluteMinimumCrossSection,r)&&(t.absoluteMinimumCrossSection=r,B.set(t))}return[i,t,a,s,f,o]}class cn extends X{constructor(e){super(),Y(this,e,an,sn,J,{})}}export{cn as component};
