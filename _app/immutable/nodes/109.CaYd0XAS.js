import{s as $t,e as p,a as m,t as Y,c as v,b as E,g as h,m as st,d as O,f as _,p as gt,i as lt,h as l,j as G,H as ot,k as Ct,G as rt}from"../chunks/scheduler.V-ByFQ7u.js";import{S as bt,i as kt,c as Q,a as U,m as W,t as Z,b as x,d as tt}from"../chunks/index.Zcf2TLuh.js";import{e as nt}from"../chunks/each.BkLWSQYL.js";import{s as Tt}from"../chunks/data.uhhm-s1W.js";import{g as Et}from"../chunks/results.Cw2S3Zz4.js";import{S as It,P as wt,a as Dt,C as Rt}from"../chunks/SafetyCheckResults.COiw4BRs.js";import{O as yt}from"../chunks/Overview.CyHcicNR.js";import{g as it,a as ft}from"../chunks/lists.BvURpO7c.js";import{p as ct,c as mt}from"../chunks/da_log.BMZpIWn2.js";import{C as Lt}from"../chunks/ConvertToXlsx.BNpvM3MD.js";function ht(o,t,e){const a=o.slice();return a[2]=t[e],a[4]=e,a}function _t(o,t,e){const a=o.slice();return a[5]=t[e],a[4]=e,a}function ut(o){let t,e,a=o[4]+1+"",c,H,u,I=ct(o[0],o[4])+"",k,A,w,g=it(o[5].conflict)+"",D,S,R,d=o[5].locationName+"",N,T,$,y=o[5].notes+"",P,M;return{c(){t=p("tr"),e=p("th"),c=Y(a),H=m(),u=p("td"),k=Y(I),A=m(),w=p("td"),D=Y(g),S=m(),R=p("td"),N=Y(d),T=m(),$=p("td"),P=Y(y),M=m()},l(i){t=v(i,"TR",{});var r=E(t);e=v(r,"TH",{});var L=E(e);c=O(L,a),L.forEach(_),H=h(r),u=v(r,"TD",{});var F=E(u);k=O(F,I),F.forEach(_),A=h(r),w=v(r,"TD",{});var V=E(w);D=O(V,g),V.forEach(_),S=h(r),R=v(r,"TD",{});var j=E(R);N=O(j,d),j.forEach(_),T=h(r),$=v(r,"TD",{});var q=E($);P=O(q,y),q.forEach(_),M=h(r),r.forEach(_)},m(i,r){lt(i,t,r),l(t,e),l(e,c),l(t,H),l(t,u),l(u,k),l(t,A),l(t,w),l(w,D),l(t,S),l(t,R),l(R,N),l(t,T),l(t,$),l($,P),l(t,M)},p(i,r){r&1&&I!==(I=ct(i[0],i[4])+"")&&G(k,I),r&1&&g!==(g=it(i[5].conflict)+"")&&G(D,g),r&1&&d!==(d=i[5].locationName+"")&&G(N,d),r&1&&y!==(y=i[5].notes+"")&&G(P,y)},d(i){i&&_(t)}}}function dt(o){let t,e=o[5].resolved!="Yes"&&ut(o);return{c(){e&&e.c(),t=rt()},l(a){e&&e.l(a),t=rt()},m(a,c){e&&e.m(a,c),lt(a,t,c)},p(a,c){a[5].resolved!="Yes"?e?e.p(a,c):(e=ut(a),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(a){a&&_(t),e&&e.d(a)}}}function pt(o){let t,e,a=o[4]+1+"",c,H,u,I=mt(o[0],o[4])+"",k,A,w,g=ft(o[2].criticalIssue)+"",D,S,R,d=o[2].locationName+"",N,T,$,y=o[2].notes+"",P,M;return{c(){t=p("tr"),e=p("th"),c=Y(a),H=m(),u=p("td"),k=Y(I),A=m(),w=p("td"),D=Y(g),S=m(),R=p("td"),N=Y(d),T=m(),$=p("td"),P=Y(y),M=m()},l(i){t=v(i,"TR",{});var r=E(t);e=v(r,"TH",{});var L=E(e);c=O(L,a),L.forEach(_),H=h(r),u=v(r,"TD",{});var F=E(u);k=O(F,I),F.forEach(_),A=h(r),w=v(r,"TD",{});var V=E(w);D=O(V,g),V.forEach(_),S=h(r),R=v(r,"TD",{});var j=E(R);N=O(j,d),j.forEach(_),T=h(r),$=v(r,"TD",{});var q=E($);P=O(q,y),q.forEach(_),M=h(r),r.forEach(_)},m(i,r){lt(i,t,r),l(t,e),l(e,c),l(t,H),l(t,u),l(u,k),l(t,A),l(t,w),l(w,D),l(t,S),l(t,R),l(R,N),l(t,T),l(t,$),l($,P),l(t,M)},p(i,r){r&1&&I!==(I=mt(i[0],i[4])+"")&&G(k,I),r&1&&g!==(g=ft(i[2].criticalIssue)+"")&&G(D,g),r&1&&d!==(d=i[2].locationName+"")&&G(N,d),r&1&&y!==(y=i[2].notes+"")&&G(P,y)},d(i){i&&_(t)}}}function vt(o){let t,e=o[2].resolved!="Yes"&&pt(o);return{c(){e&&e.c(),t=rt()},l(a){e&&e.l(a),t=rt()},m(a,c){e&&e.m(a,c),lt(a,t,c)},p(a,c){a[2].resolved!="Yes"?e?e.p(a,c):(e=pt(a),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(a){a&&_(t),e&&e.d(a)}}}function Ht(o){let t,e,a,c,H,u,I,k,A="Review statement",w,g,D=o[0].resultsReviewStatement+"",S,R,d,N,T,$,y="<th>Remaining Policy Conflicts</th> <th>Policy Conflict ID</th> <th>Policy Conflict</th> <th>Location Name</th> <th>Commentary &amp; Feedback</th>",P,M,i,r,L,F,V="<th>Remaining Critical Issues</th> <th>Critical ID</th> <th>Critical Issue</th> <th>Location Name</th> <th>Commentary &amp; Feedback</th>",j,q,X,et;e=new Lt({}),c=new It({}),u=new yt({props:{results:o[1]}}),d=new wt({});let J=nt(o[0].policyConflictLog),C=[];for(let n=0;n<J.length;n+=1)C[n]=dt(_t(o,J,n));i=new Dt({});let K=nt(o[0].criticalIssues),b=[];for(let n=0;n<K.length;n+=1)b[n]=vt(ht(o,K,n));return X=new Rt({props:{results:o[1]}}),{c(){t=p("div"),Q(e.$$.fragment),a=m(),Q(c.$$.fragment),H=m(),Q(u.$$.fragment),I=m(),k=p("h2"),k.textContent=A,w=m(),g=p("p"),S=Y(D),R=m(),Q(d.$$.fragment),N=m(),T=p("table"),$=p("tr"),$.innerHTML=y,P=m();for(let n=0;n<C.length;n+=1)C[n].c();M=m(),Q(i.$$.fragment),r=m(),L=p("table"),F=p("tr"),F.innerHTML=V,j=m();for(let n=0;n<b.length;n+=1)b[n].c();q=m(),Q(X.$$.fragment),this.h()},l(n){t=v(n,"DIV",{class:!0});var f=E(t);U(e.$$.fragment,f),a=h(f),U(c.$$.fragment,f),H=h(f),U(u.$$.fragment,f),I=h(f),k=v(f,"H2",{"data-svelte-h":!0}),st(k)!=="svelte-1pa6fpf"&&(k.textContent=A),w=h(f),g=v(f,"P",{});var s=E(g);S=O(s,D),s.forEach(_),R=h(f),U(d.$$.fragment,f),N=h(f),T=v(f,"TABLE",{});var B=E(T);$=v(B,"TR",{"data-svelte-h":!0}),st($)!=="svelte-118246t"&&($.innerHTML=y),P=h(B);for(let z=0;z<C.length;z+=1)C[z].l(B);B.forEach(_),M=h(f),U(i.$$.fragment,f),r=h(f),L=v(f,"TABLE",{});var at=E(L);F=v(at,"TR",{"data-svelte-h":!0}),st(F)!=="svelte-1tni5he"&&(F.innerHTML=V),j=h(at);for(let z=0;z<b.length;z+=1)b[z].l(at);at.forEach(_),q=h(f),U(X.$$.fragment,f),f.forEach(_),this.h()},h(){gt(t,"class","govuk-width-container")},m(n,f){lt(n,t,f),W(e,t,null),l(t,a),W(c,t,null),l(t,H),W(u,t,null),l(t,I),l(t,k),l(t,w),l(t,g),l(g,S),l(t,R),W(d,t,null),l(t,N),l(t,T),l(T,$),l(T,P);for(let s=0;s<C.length;s+=1)C[s]&&C[s].m(T,null);l(t,M),W(i,t,null),l(t,r),l(t,L),l(L,F),l(L,j);for(let s=0;s<b.length;s+=1)b[s]&&b[s].m(L,null);l(t,q),W(X,t,null),et=!0},p(n,[f]){if((!et||f&1)&&D!==(D=n[0].resultsReviewStatement+"")&&G(S,D),f&1){J=nt(n[0].policyConflictLog);let s;for(s=0;s<J.length;s+=1){const B=_t(n,J,s);C[s]?C[s].p(B,f):(C[s]=dt(B),C[s].c(),C[s].m(T,null))}for(;s<C.length;s+=1)C[s].d(1);C.length=J.length}if(f&1){K=nt(n[0].criticalIssues);let s;for(s=0;s<K.length;s+=1){const B=ht(n,K,s);b[s]?b[s].p(B,f):(b[s]=vt(B),b[s].c(),b[s].m(L,null))}for(;s<b.length;s+=1)b[s].d(1);b.length=K.length}},i(n){et||(Z(e.$$.fragment,n),Z(c.$$.fragment,n),Z(u.$$.fragment,n),Z(d.$$.fragment,n),Z(i.$$.fragment,n),Z(X.$$.fragment,n),et=!0)},o(n){x(e.$$.fragment,n),x(c.$$.fragment,n),x(u.$$.fragment,n),x(d.$$.fragment,n),x(i.$$.fragment,n),x(X.$$.fragment,n),et=!1},d(n){n&&_(t),tt(e),tt(c),tt(u),tt(d),ot(C,n),tt(i),ot(b,n),tt(X)}}}function Nt(o,t,e){let a;Ct(o,Tt,H=>e(0,a=H));let c=Et(a);return[a,c]}class Gt extends bt{constructor(t){super(),kt(this,t,Nt,Ht,$t,{})}}export{Gt as component};
