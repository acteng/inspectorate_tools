import{s as G,a as C,e as P,d as R,c as q,h as I,i as y,z as ve,A as X,f as h,E as Ne,r as je,H as te,b as j,I as we,u as Ve,v as ze,w as Je,J as ye,F as x,x as B,q as Y,j as W,y as O,l as ie,a1 as Ge,t as A,k as H,g as Me,o as ne,p as Ke,B as ke,n as ee}from"../chunks/scheduler.B6ZArhcS.js";import{S as K,i as Q,c as k,a as T,m as D,t as v,b as w,d as L,e as E,g as Be,f as Oe}from"../chunks/index.COcO8LwM.js";import{e as Z,u as Qe,o as Xe,B as Ye}from"../chunks/Breadcrumbs.BzzXgFNj.js";import{S as V,p as z}from"../chunks/Select.C7TXuZPx.js";import{g as Ze,W as xe,C as ae}from"../chunks/WarningButton.Dhny_qDP.js";import{s as M,l as et}from"../chunks/data.CgL9wZnc.js";import{F as tt,v as nt,E as at}from"../chunks/FormElement.Bg_5PS2v.js";import"../chunks/Geocoder.svelte_svelte_type_style_lang.ChWOBisd.js";function st(a){let e,n,t,s,f,i,u;return e=new at({props:{errorMessage:a[5](a[2])}}),{c(){k(e.$$.fragment),n=C(),t=P("input"),this.h()},l(r){T(e.$$.fragment,r),n=R(r),t=q(r,"INPUT",{type:!0,inputmode:!0,class:!0,id:!0}),this.h()},h(){I(t,"type","text"),I(t,"inputmode","numeric"),I(t,"class",s=`govuk-input govuk-input--width-${a[1]}`),I(t,"id",a[3])},m(r,o){D(e,r,o),y(r,n,o),y(r,t,o),ve(t,a[2]),f=!0,i||(u=[X(t,"input",a[9]),X(t,"change",a[4])],i=!0)},p(r,o){const p={};o&4&&(p.errorMessage=r[5](r[2])),e.$set(p),(!f||o&2&&s!==(s=`govuk-input govuk-input--width-${r[1]}`))&&I(t,"class",s),o&4&&t.value!==r[2]&&ve(t,r[2])},i(r){f||(v(e.$$.fragment,r),f=!0)},o(r){w(e.$$.fragment,r),f=!1},d(r){r&&(h(n),h(t)),L(e,r),i=!1,Ne(u)}}}function it(a){let e,n;return e=new tt({props:{label:a[0],id:a[3],$$slots:{default:[st]},$$scope:{ctx:a}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,s){D(e,t,s),n=!0},p(t,[s]){const f={};s&1&&(f.label=t[0]),s&1030&&(f.$$scope={dirty:s,ctx:t}),e.$set(f)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function lt(a,e,n){let{label:t}=e,{value:s}=e,{width:f}=e,{min:i=void 0}=e,{max:u=void 0}=e,r=s==null?void 0:s.toString(),o=nt();function p(){n(6,s=r==null?void 0:parseInt(r,10))}function _(l){if(l==""||l==null)return"";if(l.includes("."))return"Please enter a number without decimals";let $=Number(l);return isNaN($)?"Please enter a valid number":i!=null&&$<i?`Please enter a number that's at least ${i};`:u!=null&&$>u?`Please enter a number that's at most ${u};`:""}function d(){r=this.value,n(2,r)}return a.$$set=l=>{"label"in l&&n(0,t=l.label),"value"in l&&n(6,s=l.value),"width"in l&&n(1,f=l.width),"min"in l&&n(7,i=l.min),"max"in l&&n(8,u=l.max)},[t,f,r,o,p,_,s,i,u,d]}class rt extends K{constructor(e){super(),Q(this,e,lt,it,G,{label:0,value:6,width:1,min:7,max:8})}}function ot(a){let e,n,t,s;const f=a[2].default,i=je(f,a,a[1],null);let u=[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},a[0]],r={};for(let o=0;o<u.length;o+=1)r=te(r,u[o]);return{c(){e=P("button"),i&&i.c(),this.h()},l(o){e=q(o,"BUTTON",{type:!0,class:!0,"data-module":!0});var p=j(e);i&&i.l(p),p.forEach(h),this.h()},h(){we(e,r)},m(o,p){y(o,e,p),i&&i.m(e,null),e.autofocus&&e.focus(),n=!0,t||(s=[X(e,"click",a[3]),X(e,"mouseenter",a[4]),X(e,"mouseleave",a[5])],t=!0)},p(o,[p]){i&&i.p&&(!n||p&2)&&Ve(i,f,o,o[1],n?Je(f,o[1],p,null):ze(o[1]),null),we(e,r=Ze(u,[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},p&1&&o[0]]))},i(o){n||(v(i,o),n=!0)},o(o){w(i,o),n=!1},d(o){o&&h(e),i&&i.d(o),t=!1,Ne(s)}}}function ft(a,e,n){let{$$slots:t={},$$scope:s}=e;function f(r){x.call(this,a,r)}function i(r){x.call(this,a,r)}function u(r){x.call(this,a,r)}return a.$$set=r=>{n(0,e=te(te({},e),ye(r))),"$$scope"in r&&n(1,s=r.$$scope)},e=ye(e),[e,s,t,f,i,u]}class se extends K{constructor(e){super(),Q(this,e,ft,ot,G,{})}}let ut={Footway:["2.60","2.60","2.60","","","2.00","2.00","2.00",""],"Narrow Traffic / Bus Lane":["3.25","","","","","3.25","","",""],"Wide Traffic / Bus Lane":["4.50","","","","","3.90","","",""],"Traffic Lane (no buses): speed limit 20/30":["3.00","","","","","2.75","","",""],"On-highway advisory/mandatory cycle lane":["2.00","","","","","1.50","","",""],"1-way protected cycle track":["2.30","2.50","2.80","","","1.80","2.30","2.30",""],"2-way protected cycle track":["3.30","3.30","4.30","","","2.30","2.80","3.30",""],"Shared use cycle track":["3.00","4.50","","","","3.00","4.50","",""],"Parking Bay":["2.00","","","","","1.80","","",""],"Disabled Parking Bay":["2.70","","","","","2.70","","",""],"Loading Bay":["2.70","","","","","1.80","","",""],"Buffer / Verge":["0.50","1.00","2.00","2.50","3.50","-  ","0.50","1.50","2.00","3.00"]};function Te(a,e,n){let t=ut[a],s=n=="Desirable"?t.slice(1,6):t.slice(6,11);if(e=="High Street (active frontages)")return s[0];if(e=="Residential street")return s[1];if(e=="Local distributor road")return s[2];throw new Error(`Unknown streetFunction ${e}`)}let De={Footway:["Manual for Streets 2: Section 5 pp.43","DMRB CD143 Designing for walking, cycling & horse-riding Annex pp. 7"],"Narrow Traffic / Bus Lane":[],"Wide Traffic / Bus Lane":[],"Traffic Lane (no buses): speed limit 20/30":["LTN 1/20 Table 7-2 pp. 76","LTN 1/20 Figure 4.1 pp. 33"],"On-highway advisory/mandatory cycle lane":["LTN 1/20 Table 5-2 pp.43","LTN 1/20 Figure 4.1 pp. 33"],"1-way protected cycle track":["LTN 1/20 Table 5-2 pp.43","LTN 1/20 Figure 4.1 pp. 33"],"2-way protected cycle track":["LTN 1/20 Table 5-2 pp.43","LTN 1/20 Figure 4.1 pp. 33"],"Shared use cycle track":["LTN 1/20 Table 6-3 pp.68"],"Parking Bay":["LTN 1/20 table 7-3 pp77"],"Disabled Parking Bay":[],"Loading Bay":["LTN 1/20 table 7-3 pp77"],"Buffer / Verge":["LTN 1/20 table 6-1 pp54"]};function Le(a,e,n){const t=a.slice();return t[11]=e[n],t}function Se(a){let e,n,t,s=Te(a[0],a[4].proposed.trafficData.streetFunction,a[3])+"",f,i,u,r="References:",o,p,_=Z(De[a[0]]),d=[];for(let l=0;l<_.length;l+=1)d[l]=Fe(Le(a,_,l));return{c(){e=P("p"),n=A(a[3]),t=A(" minimum width (m): "),f=A(s),i=C(),u=P("u"),u.textContent=r,o=C(),p=P("ul");for(let l=0;l<d.length;l+=1)d[l].c()},l(l){e=q(l,"P",{});var $=j(e);n=H($,a[3]),t=H($," minimum width (m): "),f=H($,s),$.forEach(h),i=R(l),u=q(l,"U",{"data-svelte-h":!0}),Me(u)!=="svelte-fphw6y"&&(u.textContent=r),o=R(l),p=q(l,"UL",{});var m=j(p);for(let g=0;g<d.length;g+=1)d[g].l(m);m.forEach(h)},m(l,$){y(l,e,$),W(e,n),W(e,t),W(e,f),y(l,i,$),y(l,u,$),y(l,o,$),y(l,p,$);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(p,null)},p(l,$){if($&8&&ne(n,l[3]),$&25&&s!==(s=Te(l[0],l[4].proposed.trafficData.streetFunction,l[3])+"")&&ne(f,s),$&1){_=Z(De[l[0]]);let m;for(m=0;m<_.length;m+=1){const g=Le(l,_,m);d[m]?d[m].p(g,$):(d[m]=Fe(g),d[m].c(),d[m].m(p,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=_.length}},d(l){l&&(h(e),h(i),h(u),h(o),h(p)),Ke(d,l)}}}function Fe(a){let e,n=a[11]+"",t;return{c(){e=P("li"),t=A(n)},l(s){e=q(s,"LI",{});var f=j(e);t=H(f,n),f.forEach(h)},m(s,f){y(s,e,f),W(e,t)},p(s,f){f&1&&n!==(n=s[11]+"")&&ne(t,n)},d(s){s&&h(e)}}}function ct(a){let e;return{c(){e=A("←")},l(n){e=H(n,"←")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function pt(a){let e;return{c(){e=A("Delete")},l(n){e=H(n,"Delete")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function dt(a){let e;return{c(){e=A("→")},l(n){e=H(n,"→")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function mt(a){let e,n,t,s,f,i,u,r,o,p,_,d;function l(g){a[7](g)}let $={label:"Lane type",emptyOption:!0,choices:a[6]};a[0]!==void 0&&($.value=a[0]),n=new V({props:$}),B.push(()=>E(n,"value",l));let m=a[0]&&Se(a);return u=new se({props:{disabled:a[1],$$slots:{default:[ct]},$$scope:{ctx:a}}}),u.$on("click",a[8]),o=new xe({props:{$$slots:{default:[pt]},$$scope:{ctx:a}}}),o.$on("click",a[9]),_=new se({props:{disabled:a[2],$$slots:{default:[dt]},$$scope:{ctx:a}}}),_.$on("click",a[10]),{c(){e=P("div"),k(n.$$.fragment),s=C(),m&&m.c(),f=C(),i=P("div"),k(u.$$.fragment),r=C(),k(o.$$.fragment),p=C(),k(_.$$.fragment),this.h()},l(g){e=q(g,"DIV",{class:!0});var b=j(e);T(n.$$.fragment,b),s=R(b),m&&m.l(b),f=R(b),i=q(b,"DIV",{style:!0,class:!0});var F=j(i);T(u.$$.fragment,F),r=R(F),T(o.$$.fragment,F),p=R(F),T(_.$$.fragment,F),F.forEach(h),b.forEach(h),this.h()},h(){Y(i,"display","flex"),Y(i,"justify-content","space-between"),I(i,"class","svelte-jig4ga"),I(e,"class","svelte-jig4ga")},m(g,b){y(g,e,b),D(n,e,null),W(e,s),m&&m.m(e,null),W(e,f),W(e,i),D(u,i,null),W(i,r),D(o,i,null),W(i,p),D(_,i,null),d=!0},p(g,[b]){const F={};!t&&b&1&&(t=!0,F.value=g[0],O(()=>t=!1)),n.$set(F),g[0]?m?m.p(g,b):(m=Se(g),m.c(),m.m(e,f)):m&&(m.d(1),m=null);const N={};b&2&&(N.disabled=g[1]),b&16384&&(N.$$scope={dirty:b,ctx:g}),u.$set(N);const J={};b&16384&&(J.$$scope={dirty:b,ctx:g}),o.$set(J);const U={};b&4&&(U.disabled=g[2]),b&16384&&(U.$$scope={dirty:b,ctx:g}),_.$set(U)},i(g){d||(v(n.$$.fragment,g),v(u.$$.fragment,g),v(o.$$.fragment,g),v(_.$$.fragment,g),d=!0)},o(g){w(n.$$.fragment,g),w(u.$$.fragment,g),w(o.$$.fragment,g),w(_.$$.fragment,g),d=!1},d(g){g&&h(e),L(n),m&&m.d(),L(u),L(o),L(_)}}}function _t(a,e,n){let t;ie(a,M,$=>n(4,t=$));let{value:s}=e,{isFirst:f}=e,{isLast:i}=e,{sectionType:u}=e,r=Ge(),o=z(et);function p($){s=$,n(0,s)}const _=()=>r("moveLeft"),d=()=>r("delete"),l=()=>r("moveRight");return a.$$set=$=>{"value"in $&&n(0,s=$.value),"isFirst"in $&&n(1,f=$.isFirst),"isLast"in $&&n(2,i=$.isLast),"sectionType"in $&&n(3,u=$.sectionType)},[s,f,i,u,t,r,o,p,_,d,l]}class gt extends K{constructor(e){super(),Q(this,e,_t,mt,G,{value:0,isFirst:1,isLast:2,sectionType:3})}}function Ce(a,e,n){const t=a.slice();return t[10]=e[n],t[11]=e,t[12]=n,t}function $t(a){let e;return{c(){e=A("Add")},l(n){e=H(n,"Add")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Re(a,e){let n,t,s,f;function i(_){e[6](_,e[10],e[11],e[12])}function u(){return e[7](e[12])}function r(){return e[8](e[12])}function o(){return e[9](e[12])}let p={isFirst:e[12]==0,isLast:e[12]==e[0].length-1,sectionType:e[1]};return e[10]!==void 0&&(p.value=e[10]),t=new gt({props:p}),B.push(()=>E(t,"value",i)),t.$on("delete",u),t.$on("moveLeft",r),t.$on("moveRight",o),{key:a,first:null,c(){n=ke(),k(t.$$.fragment),this.h()},l(_){n=ke(),T(t.$$.fragment,_),this.h()},h(){this.first=n},m(_,d){y(_,n,d),D(t,_,d),f=!0},p(_,d){e=_;const l={};d&1&&(l.isFirst=e[12]==0),d&1&&(l.isLast=e[12]==e[0].length-1),d&2&&(l.sectionType=e[1]),!s&&d&1&&(s=!0,l.value=e[10],O(()=>s=!1)),t.$set(l)},i(_){f||(v(t.$$.fragment,_),f=!0)},o(_){w(t.$$.fragment,_),f=!1},d(_){_&&h(n),L(t,_)}}}function ht(a){let e,n,t,s=[],f=new Map,i;e=new se({props:{$$slots:{default:[$t]},$$scope:{ctx:a}}}),e.$on("click",a[2]);let u=Z(a[0]);const r=o=>o[12];for(let o=0;o<u.length;o+=1){let p=Ce(a,u,o),_=r(p);f.set(_,s[o]=Re(_,p))}return{c(){k(e.$$.fragment),n=C(),t=P("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){T(e.$$.fragment,o),n=R(o),t=q(o,"DIV",{style:!0});var p=j(t);for(let _=0;_<s.length;_+=1)s[_].l(p);p.forEach(h),this.h()},h(){Y(t,"display","flex"),Y(t,"flex-direction","row")},m(o,p){D(e,o,p),y(o,n,p),y(o,t,p);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(t,null);i=!0},p(o,[p]){const _={};p&8192&&(_.$$scope={dirty:p,ctx:o}),e.$set(_),p&59&&(u=Z(o[0]),Be(),s=Qe(s,p,r,1,o,u,f,t,Xe,Re,null,Ce),Oe())},i(o){if(!i){v(e.$$.fragment,o);for(let p=0;p<u.length;p+=1)v(s[p]);i=!0}},o(o){w(e.$$.fragment,o);for(let p=0;p<s.length;p+=1)w(s[p]);i=!1},d(o){o&&(h(n),h(t)),L(e,o);for(let p=0;p<s.length;p+=1)s[p].d()}}}function bt(a,e,n){let{lanesLeftToRight:t}=e,{sectionType:s}=e;function f(){n(0,t=[...t,""])}function i(l){t.splice(l,1),n(0,t)}function u(l){n(0,[t[l-1],t[l]]=[t[l],t[l-1]],t)}function r(l){n(0,[t[l+1],t[l]]=[t[l],t[l+1]],t)}function o(l,$,m,g){m[g]=l,n(0,t)}const p=l=>i(l),_=l=>u(l),d=l=>r(l);return a.$$set=l=>{"lanesLeftToRight"in l&&n(0,t=l.lanesLeftToRight),"sectionType"in l&&n(1,s=l.sectionType)},[t,s,f,i,u,r,o,p,_,d]}class Ee extends K{constructor(e){super(),Q(this,e,bt,ht,G,{lanesLeftToRight:0,sectionType:1})}}function vt(a){let e,n,t,s,f,i,u,r,o,p,_,d,l,$,m,g,b,F,N,J,U;function We(c){a[2](c)}let le={label:"Expected peak hour cycle flow: 1-way cycle tracks",emptyOption:!0,choices:z(["<200","200-800",">800"])};a[0].proposed.trafficData.flowOneWay!==void 0&&(le.value=a[0].proposed.trafficData.flowOneWay),e=new V({props:le}),B.push(()=>E(e,"value",We));function Pe(c){a[3](c)}let re={label:"Expected peak hour cycle flow: 2-way cycle tracks",emptyOption:!0,choices:z(["<300","300-1,000",">1,000"])};a[0].proposed.trafficData.flowTwoWay!==void 0&&(re.value=a[0].proposed.trafficData.flowTwoWay),s=new V({props:re}),B.push(()=>E(s,"value",Pe));function qe(c){a[4](c)}let oe={label:"Expected peak hour cycle flow: shared use cycle tracks",emptyOption:!0,choices:z(["<300",">300"])};a[0].proposed.trafficData.flowSharedUse!==void 0&&(oe.value=a[0].proposed.trafficData.flowSharedUse),u=new V({props:oe}),B.push(()=>E(u,"value",qe));function Ue(c){a[5](c)}let fe={label:"Traffic flow (vpd)",emptyOption:!0,choices:z(["<2,500","2,500-5,000","5,000-10,000",">10,000"])};a[0].proposed.trafficData.trafficFlow!==void 0&&(fe.value=a[0].proposed.trafficData.trafficFlow),p=new V({props:fe}),B.push(()=>E(p,"value",Ue));function Ie(c){a[6](c)}let ue={label:"Speed limit (MPH)",emptyOption:!0,choices:z(["<30","30","40","50","60","70"])};a[0].proposed.trafficData.speedLimit!==void 0&&(ue.value=a[0].proposed.trafficData.speedLimit),l=new V({props:ue}),B.push(()=>E(l,"value",Ie));function Ae(c){a[7](c)}let ce={label:"Observed 85th percentile speed (MPH)",width:3,min:0,max:120};a[0].proposed.trafficData.observedSpeed!==void 0&&(ce.value=a[0].proposed.trafficData.observedSpeed),g=new rt({props:ce}),B.push(()=>E(g,"value",Ae));function He(c){a[8](c)}let pe={label:"Street function",emptyOption:!0,choices:z(["High Street (active frontages)","Residential street","Local distributor road"])};return a[0].proposed.trafficData.streetFunction!==void 0&&(pe.value=a[0].proposed.trafficData.streetFunction),N=new V({props:pe}),B.push(()=>E(N,"value",He)),{c(){k(e.$$.fragment),t=C(),k(s.$$.fragment),i=C(),k(u.$$.fragment),o=C(),k(p.$$.fragment),d=C(),k(l.$$.fragment),m=C(),k(g.$$.fragment),F=C(),k(N.$$.fragment)},l(c){T(e.$$.fragment,c),t=R(c),T(s.$$.fragment,c),i=R(c),T(u.$$.fragment,c),o=R(c),T(p.$$.fragment,c),d=R(c),T(l.$$.fragment,c),m=R(c),T(g.$$.fragment,c),F=R(c),T(N.$$.fragment,c)},m(c,S){D(e,c,S),y(c,t,S),D(s,c,S),y(c,i,S),D(u,c,S),y(c,o,S),D(p,c,S),y(c,d,S),D(l,c,S),y(c,m,S),D(g,c,S),y(c,F,S),D(N,c,S),U=!0},p(c,S){const de={};!n&&S&1&&(n=!0,de.value=c[0].proposed.trafficData.flowOneWay,O(()=>n=!1)),e.$set(de);const me={};!f&&S&1&&(f=!0,me.value=c[0].proposed.trafficData.flowTwoWay,O(()=>f=!1)),s.$set(me);const _e={};!r&&S&1&&(r=!0,_e.value=c[0].proposed.trafficData.flowSharedUse,O(()=>r=!1)),u.$set(_e);const ge={};!_&&S&1&&(_=!0,ge.value=c[0].proposed.trafficData.trafficFlow,O(()=>_=!1)),p.$set(ge);const $e={};!$&&S&1&&($=!0,$e.value=c[0].proposed.trafficData.speedLimit,O(()=>$=!1)),l.$set($e);const he={};!b&&S&1&&(b=!0,he.value=c[0].proposed.trafficData.observedSpeed,O(()=>b=!1)),g.$set(he);const be={};!J&&S&1&&(J=!0,be.value=c[0].proposed.trafficData.streetFunction,O(()=>J=!1)),N.$set(be)},i(c){U||(v(e.$$.fragment,c),v(s.$$.fragment,c),v(u.$$.fragment,c),v(p.$$.fragment,c),v(l.$$.fragment,c),v(g.$$.fragment,c),v(N.$$.fragment,c),U=!0)},o(c){w(e.$$.fragment,c),w(s.$$.fragment,c),w(u.$$.fragment,c),w(p.$$.fragment,c),w(l.$$.fragment,c),w(g.$$.fragment,c),w(N.$$.fragment,c),U=!1},d(c){c&&(h(t),h(i),h(o),h(d),h(m),h(F)),L(e,c),L(s,c),L(u,c),L(p,c),L(l,c),L(g,c),L(N,c)}}}function wt(a){let e,n;return e=new ae({props:{label:"Traffic data and additional information",$$slots:{default:[vt]},$$scope:{ctx:a}}}),{c(){k(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,s){D(e,t,s),n=!0},p(t,[s]){const f={};s&513&&(f.$$scope={dirty:s,ctx:t}),e.$set(f)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function yt(a,e,n){let t;ie(a,M,d=>n(0,t=d));let{valid:s}=e;function f(d){a.$$.not_equal(t.proposed.trafficData.flowOneWay,d)&&(t.proposed.trafficData.flowOneWay=d,M.set(t))}function i(d){a.$$.not_equal(t.proposed.trafficData.flowTwoWay,d)&&(t.proposed.trafficData.flowTwoWay=d,M.set(t))}function u(d){a.$$.not_equal(t.proposed.trafficData.flowSharedUse,d)&&(t.proposed.trafficData.flowSharedUse=d,M.set(t))}function r(d){a.$$.not_equal(t.proposed.trafficData.trafficFlow,d)&&(t.proposed.trafficData.trafficFlow=d,M.set(t))}function o(d){a.$$.not_equal(t.proposed.trafficData.speedLimit,d)&&(t.proposed.trafficData.speedLimit=d,M.set(t))}function p(d){a.$$.not_equal(t.proposed.trafficData.observedSpeed,d)&&(t.proposed.trafficData.observedSpeed=d,M.set(t))}function _(d){a.$$.not_equal(t.proposed.trafficData.streetFunction,d)&&(t.proposed.trafficData.streetFunction=d,M.set(t))}return a.$$set=d=>{"valid"in d&&n(1,s=d.valid)},a.$$.update=()=>{a.$$.dirty&1&&n(1,s=t.proposed.trafficData.flowOneWay!=""&&t.proposed.trafficData.flowTwoWay!=""&&t.proposed.trafficData.flowSharedUse!=""&&t.proposed.trafficData.trafficFlow!=""&&t.proposed.trafficData.speedLimit!=""&&t.proposed.trafficData.observedSpeed!=null&&t.proposed.trafficData.streetFunction!="")},[t,s,f,i,u,r,o,p,_]}class kt extends K{constructor(e){super(),Q(this,e,yt,wt,G,{valid:1})}}function Tt(a){let e,n="Fill out all data above to continue";return{c(){e=P("p"),e.textContent=n},l(t){e=q(t,"P",{"data-svelte-h":!0}),Me(e)!=="svelte-ma95"&&(e.textContent=n)},m(t,s){y(t,e,s)},p:ee,i:ee,o:ee,d(t){t&&h(e)}}}function Dt(a){let e,n,t,s;return e=new ae({props:{label:"Desirable Minimum Cross-Section",$$slots:{default:[Lt]},$$scope:{ctx:a}}}),t=new ae({props:{label:"Absolute Minimum Cross-Section",$$slots:{default:[St]},$$scope:{ctx:a}}}),{c(){k(e.$$.fragment),n=C(),k(t.$$.fragment)},l(f){T(e.$$.fragment,f),n=R(f),T(t.$$.fragment,f)},m(f,i){D(e,f,i),y(f,n,i),D(t,f,i),s=!0},p(f,i){const u={};i&34&&(u.$$scope={dirty:i,ctx:f}),e.$set(u);const r={};i&34&&(r.$$scope={dirty:i,ctx:f}),t.$set(r)},i(f){s||(v(e.$$.fragment,f),v(t.$$.fragment,f),s=!0)},o(f){w(e.$$.fragment,f),w(t.$$.fragment,f),s=!1},d(f){f&&h(n),L(e,f),L(t,f)}}}function Lt(a){let e,n,t;function s(i){a[3](i)}let f={sectionType:"Desirable"};return a[1].proposed.desirableMinimumCrossSection!==void 0&&(f.lanesLeftToRight=a[1].proposed.desirableMinimumCrossSection),e=new Ee({props:f}),B.push(()=>E(e,"lanesLeftToRight",s)),{c(){k(e.$$.fragment)},l(i){T(e.$$.fragment,i)},m(i,u){D(e,i,u),t=!0},p(i,u){const r={};!n&&u&2&&(n=!0,r.lanesLeftToRight=i[1].proposed.desirableMinimumCrossSection,O(()=>n=!1)),e.$set(r)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){w(e.$$.fragment,i),t=!1},d(i){L(e,i)}}}function St(a){let e,n,t;function s(i){a[4](i)}let f={sectionType:"Absolute"};return a[1].proposed.absoluteMinimumCrossSection!==void 0&&(f.lanesLeftToRight=a[1].proposed.absoluteMinimumCrossSection),e=new Ee({props:f}),B.push(()=>E(e,"lanesLeftToRight",s)),{c(){k(e.$$.fragment)},l(i){T(e.$$.fragment,i)},m(i,u){D(e,i,u),t=!0},p(i,u){const r={};!n&&u&2&&(n=!0,r.lanesLeftToRight=i[1].proposed.absoluteMinimumCrossSection,O(()=>n=!1)),e.$set(r)},i(i){t||(v(e.$$.fragment,i),t=!0)},o(i){w(e.$$.fragment,i),t=!1},d(i){L(e,i)}}}function Ft(a){let e,n,t,s,f,i,u,r,o;n=new Ye({props:{links:[["Tools","/"],["Route cross-section","/cross_section"]],current:"Proposed Cross-Sections"}});function p(m){a[2](m)}let _={};a[0]!==void 0&&(_.valid=a[0]),s=new kt({props:_}),B.push(()=>E(s,"valid",p));const d=[Dt,Tt],l=[];function $(m,g){return m[0]?0:1}return u=$(a),r=l[u]=d[u](a),{c(){e=P("div"),k(n.$$.fragment),t=C(),k(s.$$.fragment),i=C(),r.c(),this.h()},l(m){e=q(m,"DIV",{class:!0});var g=j(e);T(n.$$.fragment,g),t=R(g),T(s.$$.fragment,g),i=R(g),r.l(g),g.forEach(h),this.h()},h(){I(e,"class","govuk-prose")},m(m,g){y(m,e,g),D(n,e,null),W(e,t),D(s,e,null),W(e,i),l[u].m(e,null),o=!0},p(m,[g]){const b={};!f&&g&1&&(f=!0,b.valid=m[0],O(()=>f=!1)),s.$set(b);let F=u;u=$(m),u===F?l[u].p(m,g):(Be(),w(l[F],1,1,()=>{l[F]=null}),Oe(),r=l[u],r?r.p(m,g):(r=l[u]=d[u](m),r.c()),v(r,1),r.m(e,null))},i(m){o||(v(n.$$.fragment,m),v(s.$$.fragment,m),v(r),o=!0)},o(m){w(n.$$.fragment,m),w(s.$$.fragment,m),w(r),o=!1},d(m){m&&h(e),L(n),L(s),l[u].d()}}}function Ct(a,e,n){let t;ie(a,M,r=>n(1,t=r));let s=!1;function f(r){s=r,n(0,s)}function i(r){a.$$.not_equal(t.proposed.desirableMinimumCrossSection,r)&&(t.proposed.desirableMinimumCrossSection=r,M.set(t))}function u(r){a.$$.not_equal(t.proposed.absoluteMinimumCrossSection,r)&&(t.proposed.absoluteMinimumCrossSection=r,M.set(t))}return[s,t,f,i,u]}class qt extends K{constructor(e){super(),Q(this,e,Ct,Ft,G,{})}}export{qt as component};
