import{s as $e,e as v,c as y,o as ue,i as $,v as Te,f as u,B as xe,k as me,a as k,g as b,l as S,b as le,p as Z,t as Y,d as G,K as ve,h as L,j as Ie}from"../chunks/scheduler.8BgUI7Rd.js";import{S as _e,i as pe,c as N,a as O,m as A,t as P,b as R,d as j,g as Se,f as Me}from"../chunks/index.lDYx8E-t.js";import{b as B}from"../chunks/paths.6m4E5Osx.js";import{e as ye,u as He,o as Fe}from"../chunks/Modal.svelte_svelte_type_style_lang.B_YNrwyo.js";import{E as Pe}from"../chunks/ExternalLink.CI4_WGJA.js";import{s as se,c as ie,g as ee,n as Re,e as Ee,l as Ne}from"../chunks/data.C8vmYDhq.js";import{C as we}from"../chunks/CollapsibleCard.XAF783dz.js";import{S as te}from"../chunks/SecondaryButton.C4Pck-N6.js";import{T as Oe}from"../chunks/TextArea.BUnuWTo4.js";import{F as Ae}from"../chunks/FormElement.gqxIWIgk.js";import{v as je}from"../chunks/v4.D8aEg3BZ.js";function Je(i){let e,l,t;return{c(){e=v("input"),this.h()},l(n){e=y(n,"INPUT",{class:!0,id:!0,type:!0}),this.h()},h(){e.disabled=i[1],ue(e,"class","govuk-file-upload"),ue(e,"id",i[4]),ue(e,"type","file")},m(n,s){$(n,e,s),i[6](e),l||(t=Te(e,"change",i[3]),l=!0)},p(n,s){s&2&&(e.disabled=n[1])},d(n){n&&u(e),i[6](null),l=!1,t()}}}function De(i){let e,l;return e=new Ae({props:{label:i[0],id:i[4],$$slots:{default:[Je]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,[n]){const s={};n&1&&(s.label=t[0]),n&134&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function qe(i,e,l){let{label:t}=e,{onLoad:n}=e,{disabled:s=!1}=e,r;async function m(_){let h=r.files[0].name,M=await r.files[0].text();n(h,M)}let c=je();function x(_){xe[_?"unshift":"push"](()=>{r=_,l(2,r)})}return i.$$set=_=>{"label"in _&&l(0,t=_.label),"onLoad"in _&&l(5,n=_.onLoad),"disabled"in _&&l(1,s=_.disabled)},[t,s,r,m,c,n,x]}class ze extends _e{constructor(e){super(),pe(this,e,qe,De,$e,{label:0,onLoad:5,disabled:1})}}function Ce(i,e,l){const t=i.slice();return t[15]=e[l],t}function Ue(i){let e;return{c(){e=Y("New file")},l(l){e=G(l,"New file")},m(l,t){$(l,e,t)},d(l){l&&u(e)}}}function Be(i){let e;return{c(){e=Y("Export this file")},l(l){e=G(l,"Export this file")},m(l,t){$(l,e,t)},d(l){l&&u(e)}}}function Ye(i){let e=i[15]+"",l;return{c(){l=Y(e)},l(t){l=G(t,e)},m(t,n){$(t,l,n)},p(t,n){n&1&&e!==(e=t[15]+"")&&Ie(l,e)},d(t){t&&u(l)}}}function Ge(i){let e;return{c(){e=Y("Rename")},l(l){e=G(l,"Rename")},m(l,t){$(l,e,t)},d(l){l&&u(e)}}}function Ke(i){let e;return{c(){e=Y("Delete")},l(l){e=G(l,"Delete")},m(l,t){$(l,e,t)},d(l){l&&u(e)}}}function Le(i,e){let l,t,n,s,r,m,c,x,_;function h(){return e[12](e[15])}n=new te({props:{disabled:e[2]==e[15],$$slots:{default:[Ye]},$$scope:{ctx:e}}}),n.$on("click",h);function M(){return e[13](e[15])}r=new te({props:{$$slots:{default:[Ge]},$$scope:{ctx:e}}}),r.$on("click",M);function J(){return e[14](e[15])}return c=new te({props:{$$slots:{default:[Ke]},$$scope:{ctx:e}}}),c.$on("click",J),{key:i,first:null,c(){l=v("li"),t=v("span"),N(n.$$.fragment),s=k(),N(r.$$.fragment),m=k(),N(c.$$.fragment),x=k(),this.h()},l(g){l=y(g,"LI",{});var d=le(l);t=y(d,"SPAN",{style:!0});var w=le(t);O(n.$$.fragment,w),s=b(w),O(r.$$.fragment,w),m=b(w),O(c.$$.fragment,w),w.forEach(u),x=b(d),d.forEach(u),this.h()},h(){ve(t,"display","flex"),ve(t,"justify-content","space-between"),this.first=l},m(g,d){$(g,l,d),L(l,t),A(n,t,null),L(t,s),A(r,t,null),L(t,m),A(c,t,null),L(l,x),_=!0},p(g,d){e=g;const w={};d&5&&(w.disabled=e[2]==e[15]),d&262145&&(w.$$scope={dirty:d,ctx:e}),n.$set(w);const D={};d&262144&&(D.$$scope={dirty:d,ctx:e}),r.$set(D);const f={};d&262144&&(f.$$scope={dirty:d,ctx:e}),c.$set(f)},i(g){_||(P(n.$$.fragment,g),P(r.$$.fragment,g),P(c.$$.fragment,g),_=!0)},o(g){R(n.$$.fragment,g),R(r.$$.fragment,g),R(c.$$.fragment,g),_=!1},d(g){g&&u(l),j(n),j(r),j(c)}}}function We(i){let e,l;return e=new Oe({props:{label:"JSON",value:JSON.stringify(i[1],null,"  "),rows:10}}),{c(){N(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const s={};n&2&&(s.value=JSON.stringify(t[1],null,"  ")),e.$set(s)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Qe(i){let e,l,t,n,s,r,m,c="Load a saved file:",x,_,h=[],M=new Map,J,g,d,w,D=`All files are auto-saved in your browser's local storage. You can close your
    browser and resume later.`,f,T,F;e=new te({props:{$$slots:{default:[Ue]},$$scope:{ctx:i}}}),e.$on("click",i[10]),t=new te({props:{$$slots:{default:[Be]},$$scope:{ctx:i}}}),t.$on("click",i[11]),s=new ze({props:{label:"Load from file",onLoad:i[8]}});let E=ye(i[0]);const V=a=>a[15];for(let a=0;a<E.length;a+=1){let o=Ce(i,E,a),I=V(o);M.set(I,h[a]=Le(I,o))}return T=new we({props:{label:"Debug",$$slots:{default:[We]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment),l=k(),N(t.$$.fragment),n=k(),N(s.$$.fragment),r=k(),m=v("p"),m.textContent=c,x=k(),_=v("ul");for(let a=0;a<h.length;a+=1)h[a].c();J=k(),g=v("hr"),d=k(),w=v("p"),w.textContent=D,f=k(),N(T.$$.fragment)},l(a){O(e.$$.fragment,a),l=b(a),O(t.$$.fragment,a),n=b(a),O(s.$$.fragment,a),r=b(a),m=y(a,"P",{"data-svelte-h":!0}),S(m)!=="svelte-1xydj1w"&&(m.textContent=c),x=b(a),_=y(a,"UL",{});var o=le(_);for(let I=0;I<h.length;I+=1)h[I].l(o);o.forEach(u),J=b(a),g=y(a,"HR",{}),d=b(a),w=y(a,"P",{"data-svelte-h":!0}),S(w)!=="svelte-zqinpp"&&(w.textContent=D),f=b(a),O(T.$$.fragment,a)},m(a,o){A(e,a,o),$(a,l,o),A(t,a,o),$(a,n,o),A(s,a,o),$(a,r,o),$(a,m,o),$(a,x,o),$(a,_,o);for(let I=0;I<h.length;I+=1)h[I]&&h[I].m(_,null);$(a,J,o),$(a,g,o),$(a,d,o),$(a,w,o),$(a,f,o),A(T,a,o),F=!0},p(a,o){const I={};o&262144&&(I.$$scope={dirty:o,ctx:a}),e.$set(I);const q={};o&262144&&(q.$$scope={dirty:o,ctx:a}),t.$set(q),o&93&&(E=ye(a[0]),Se(),h=He(h,o,V,1,a,E,M,_,Fe,Le,null,Ce),Me());const X={};o&262146&&(X.$$scope={dirty:o,ctx:a}),T.$set(X)},i(a){if(!F){P(e.$$.fragment,a),P(t.$$.fragment,a),P(s.$$.fragment,a);for(let o=0;o<E.length;o+=1)P(h[o]);P(T.$$.fragment,a),F=!0}},o(a){R(e.$$.fragment,a),R(t.$$.fragment,a),R(s.$$.fragment,a);for(let o=0;o<h.length;o+=1)R(h[o]);R(T.$$.fragment,a),F=!1},d(a){a&&(u(l),u(n),u(r),u(m),u(x),u(_),u(J),u(g),u(d),u(w),u(f)),j(e,a),j(t,a),j(s,a);for(let o=0;o<h.length;o+=1)h[o].d();j(T,a)}}}function Ve(i){let e,l;return e=new we({props:{label:"Files",$$slots:{default:[Qe]},$$scope:{ctx:i}}}),{c(){N(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,[n]){const s={};n&262151&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Xe(i,e){let l=document.createElement("a");l.setAttribute("href","data:text/plain;charset=utf-8, "+encodeURIComponent(e)),l.setAttribute("download",i),document.body.appendChild(l),l.click(),document.body.removeChild(l)}function Ze(i,e,l){let t,n;me(i,se,f=>l(1,t=f)),me(i,ie,f=>l(2,n=f));let{prefix:s}=e,r=ee();function m(f){if(n==f){window.alert("TODO: Can't delete current file yet");return}window.confirm(`Really delete file ${f}? You can't undo this.`)&&(window.localStorage.removeItem(`${s}${f}`),l(0,r=ee()))}function c(f){let T=window.prompt(`Rename file ${f} to what?`,f);if(T){let F=window.localStorage.getItem(`${s}${f}`);window.localStorage.setItem(`${s}${T}`,F),window.localStorage.removeItem(`${s}${f}`),n==f&&Z(ie,n=T,n),l(0,r=ee())}}function x(){Z(ie,n=Re(),n),Z(se,t=Ee(),t),window.localStorage.setItem(`${s}${n}`,JSON.stringify(t)),l(0,r=ee())}function _(f){try{let T=Ne(f);Z(ie,n=f,n),Z(se,t=T,t)}catch(T){window.alert(`Couldn't load ${f}: ${T}`)}}function h(){Xe(n+".json",JSON.stringify(t))}function M(f,T){let F=f.endsWith(".json")?f.slice(0,-5):f;window.localStorage.setItem(`${s}${F}`,T),l(0,r=ee()),_(F)}const J=()=>x(),g=()=>h(),d=f=>_(f),w=f=>c(f),D=f=>m(f);return i.$$set=f=>{"prefix"in f&&l(9,s=f.prefix)},[r,t,n,m,c,x,_,h,M,s,J,g,d,w,D]}class et extends _e{constructor(e){super(),pe(this,e,Ze,Ve,$e,{prefix:9})}}function tt(i){let e;return{c(){e=Y(`scheme review tool
  `)},l(l){e=G(l,`scheme review tool
  `)},m(l,t){$(l,e,t)},d(l){l&&u(e)}}}function lt(i){let e,l="<i>Street Check (disabled, because of the Route Check Type set in Summary</i>",t,n,s=`<i>Street Placemaking Check (disabled, because of the Route Check Type set
        in Summary</i>`;return{c(){e=v("li"),e.innerHTML=l,t=k(),n=v("li"),n.innerHTML=s},l(r){e=y(r,"LI",{"data-svelte-h":!0}),S(e)!=="svelte-gxw4ae"&&(e.innerHTML=l),t=b(r),n=y(r,"LI",{"data-svelte-h":!0}),S(n)!=="svelte-is2acy"&&(n.innerHTML=s)},m(r,m){$(r,e,m),$(r,t,m),$(r,n,m)},d(r){r&&(u(e),u(t),u(n))}}}function nt(i){let e,l=`<a href="${B}/route_check/street_check">Street Check</a>`,t,n,s=`<a href="${B}/route_check/street_placemaking_check">Street Placemaking Check</a>`;return{c(){e=v("li"),e.innerHTML=l,t=k(),n=v("li"),n.innerHTML=s},l(r){e=y(r,"LI",{"data-svelte-h":!0}),S(e)!=="svelte-qr5auz"&&(e.innerHTML=l),t=b(r),n=y(r,"LI",{"data-svelte-h":!0}),S(n)!=="svelte-7dzxwi"&&(n.innerHTML=s)},m(r,m){$(r,e,m),$(r,t,m),$(r,n,m)},d(r){r&&(u(e),u(t),u(n))}}}function rt(i){let e,l="<i>Path Check (disabled, because of the Route Check Type set in Summary</i>",t,n,s=`<i>Path Placemaking Check (disabled, because of the Route Check Type set in
        Summary</i>`;return{c(){e=v("li"),e.innerHTML=l,t=k(),n=v("li"),n.innerHTML=s},l(r){e=y(r,"LI",{"data-svelte-h":!0}),S(e)!=="svelte-luysfy"&&(e.innerHTML=l),t=b(r),n=y(r,"LI",{"data-svelte-h":!0}),S(n)!=="svelte-1sart1a"&&(n.innerHTML=s)},m(r,m){$(r,e,m),$(r,t,m),$(r,n,m)},d(r){r&&(u(e),u(t),u(n))}}}function at(i){let e,l=`<a href="${B}/route_check/path_check">Path Check</a>`,t,n,s=`<a href="${B}/route_check/path_placemaking_check">Path Placemaking Check</a>`;return{c(){e=v("li"),e.innerHTML=l,t=k(),n=v("li"),n.innerHTML=s},l(r){e=y(r,"LI",{"data-svelte-h":!0}),S(e)!=="svelte-1yrsyln"&&(e.innerHTML=l),t=b(r),n=y(r,"LI",{"data-svelte-h":!0}),S(n)!=="svelte-89yh4a"&&(n.innerHTML=s)},m(r,m){$(r,e,m),$(r,t,m),$(r,n,m)},d(r){r&&(u(e),u(t),u(n))}}}function it(i){let e,l,t,n,s,r,m,c,x,_=`<a href="${B}/route_check/summary">Summary of Scheme</a>`,h,M,J=`<a href="${B}/route_check/policy_check">Policy Check</a>`,g,d,w=`<a href="${B}/route_check/policy_conflict_log">Policy Conflict Log</a>`,D,f,T=`<a href="${B}/route_check/safety_check">Safety Check</a>`,F,E,V=`<a href="${B}/route_check/critical_issues_log">Critical Issues Log</a>`,a,o,I,q,X="JAT Check",oe,K,de="Results Summary",ce,W,he="Results Further Analysis",fe,Q,ge="Results Export",ne;t=new Pe({props:{href:"https://www.gov.uk/government/publications/active-travel-england-scheme-review-tools",$$slots:{default:[tt]},$$scope:{ctx:i}}}),r=new et({props:{prefix:"route-check/"}});function ke(p,H){return p[0].summary.checkType=="street"?nt:lt}let re=ke(i),z=re(i);function be(p,H){return p[0].summary.checkType=="path"?at:rt}let ae=be(i),U=ae(i);return{c(){e=v("p"),l=Y("This is an experimental version of a "),N(t.$$.fragment),n=Y("."),s=k(),N(r.$$.fragment),m=k(),c=v("ol"),x=v("li"),x.innerHTML=_,h=k(),M=v("li"),M.innerHTML=J,g=k(),d=v("li"),d.innerHTML=w,D=k(),f=v("li"),f.innerHTML=T,F=k(),E=v("li"),E.innerHTML=V,a=k(),z.c(),o=k(),U.c(),I=k(),q=v("li"),q.textContent=X,oe=k(),K=v("li"),K.textContent=de,ce=k(),W=v("li"),W.textContent=he,fe=k(),Q=v("li"),Q.textContent=ge},l(p){e=y(p,"P",{});var H=le(e);l=G(H,"This is an experimental version of a "),O(t.$$.fragment,H),n=G(H,"."),H.forEach(u),s=b(p),O(r.$$.fragment,p),m=b(p),c=y(p,"OL",{});var C=le(c);x=y(C,"LI",{"data-svelte-h":!0}),S(x)!=="svelte-ukoito"&&(x.innerHTML=_),h=b(C),M=y(C,"LI",{"data-svelte-h":!0}),S(M)!=="svelte-1569dhf"&&(M.innerHTML=J),g=b(C),d=y(C,"LI",{"data-svelte-h":!0}),S(d)!=="svelte-8hn04u"&&(d.innerHTML=w),D=b(C),f=y(C,"LI",{"data-svelte-h":!0}),S(f)!=="svelte-cxa0x3"&&(f.innerHTML=T),F=b(C),E=y(C,"LI",{"data-svelte-h":!0}),S(E)!=="svelte-6aehbs"&&(E.innerHTML=V),a=b(C),z.l(C),o=b(C),U.l(C),I=b(C),q=y(C,"LI",{"data-svelte-h":!0}),S(q)!=="svelte-1dooms7"&&(q.textContent=X),oe=b(C),K=y(C,"LI",{"data-svelte-h":!0}),S(K)!=="svelte-128hs1o"&&(K.textContent=de),ce=b(C),W=y(C,"LI",{"data-svelte-h":!0}),S(W)!=="svelte-ep2hdy"&&(W.textContent=he),fe=b(C),Q=y(C,"LI",{"data-svelte-h":!0}),S(Q)!=="svelte-1v81g90"&&(Q.textContent=ge),C.forEach(u)},m(p,H){$(p,e,H),L(e,l),A(t,e,null),L(e,n),$(p,s,H),A(r,p,H),$(p,m,H),$(p,c,H),L(c,x),L(c,h),L(c,M),L(c,g),L(c,d),L(c,D),L(c,f),L(c,F),L(c,E),L(c,a),z.m(c,null),L(c,o),U.m(c,null),L(c,I),L(c,q),L(c,oe),L(c,K),L(c,ce),L(c,W),L(c,fe),L(c,Q),ne=!0},p(p,[H]){const C={};H&2&&(C.$$scope={dirty:H,ctx:p}),t.$set(C),re!==(re=ke(p))&&(z.d(1),z=re(p),z&&(z.c(),z.m(c,o))),ae!==(ae=be(p))&&(U.d(1),U=ae(p),U&&(U.c(),U.m(c,I)))},i(p){ne||(P(t.$$.fragment,p),P(r.$$.fragment,p),ne=!0)},o(p){R(t.$$.fragment,p),R(r.$$.fragment,p),ne=!1},d(p){p&&(u(e),u(s),u(m),u(c)),j(t),j(r,p),z.d(),U.d()}}}function st(i,e,l){let t;return me(i,se,n=>l(0,t=n)),[t]}class kt extends _e{constructor(e){super(),pe(this,e,st,it,$e,{})}}export{kt as component};
