import{s as kl,e as n,a as f,t as g,c as o,b as u,m as y,g as v,d as C,f as e,o as Ce,i as h,h as t,j as ge,r as $l,k as El,n as ut}from"../chunks/scheduler.3SlTgMpc.js";import{S as yl,i as Ll,a as at,f as pl,t as rt,g as gl,c as te,b as ee,m as le,d as ae}from"../chunks/index.D3onstZ5.js";import{e as Cl}from"../chunks/each.DBoDOIcK.js";import{s as Rl}from"../chunks/data.B32fEGVI.js";import{g as Dl}from"../chunks/results.DGaNRTOj.js";import{L as re}from"../chunks/LevelOfServiceTable.M2Xq9PGV.js";function Tl(r,s,c){const i=r.slice();return i[4]=s[c],i}function Sl(r){let s,c="This isn't a Street Check";return{c(){s=n("p"),s.textContent=c},l(i){s=o(i,"P",{"data-svelte-h":!0}),y(s)!=="svelte-sb6i45"&&(s.textContent=c)},m(i,T){h(i,s,T)},p:ut,i:ut,o:ut,d(i){i&&e(s)}}}function Hl(r){let s,c,i,T,m,b,_,H;return i=new re({props:{caption:"Street Level of Service",categories:r[1].levelOfService,overall:r[1].overall,overallLabel:"Overall Street Level of Service",radarChart:!0}}),m=new re({props:{caption:"Street Level of Service by Transport Mode",categories:r[1].byMode,overall:r[1].overall,overallLabel:"Overall Street Level of Service",barChart:!0}}),_=new re({props:{caption:"Street Placemaking",categories:r[1].placemakingCategories,overall:r[1].placemakingOverall,overallLabel:"Overall Street Placemaking Score",barChart:!0}}),{c(){s=n("hr"),c=f(),te(i.$$.fragment),T=f(),te(m.$$.fragment),b=f(),te(_.$$.fragment)},l(l){s=o(l,"HR",{}),c=v(l),ee(i.$$.fragment,l),T=v(l),ee(m.$$.fragment,l),b=v(l),ee(_.$$.fragment,l)},m(l,p){h(l,s,p),h(l,c,p),le(i,l,p),h(l,T,p),le(m,l,p),h(l,b,p),le(_,l,p),H=!0},p:ut,i(l){H||(rt(i.$$.fragment,l),rt(m.$$.fragment,l),rt(_.$$.fragment,l),H=!0)},o(l){at(i.$$.fragment,l),at(m.$$.fragment,l),at(_.$$.fragment,l),H=!1},d(l){l&&(e(s),e(c),e(T),e(b)),ae(i,l),ae(m,l),ae(_,l)}}}function Pl(r){let s,c="This isn't a Path Check";return{c(){s=n("p"),s.textContent=c},l(i){s=o(i,"P",{"data-svelte-h":!0}),y(s)!=="svelte-1112wz9"&&(s.textContent=c)},m(i,T){h(i,s,T)},p:ut,i:ut,o:ut,d(i){i&&e(s)}}}function xl(r){let s,c,i,T,m,b,_,H;return i=new re({props:{caption:"Path Level of Service",categories:r[1].levelOfService,overall:r[1].overall,overallLabel:"Overall Path Level of Service",radarChart:!0}}),m=new re({props:{caption:"Path Level of Service by Transport Mode",categories:r[1].byMode,overall:r[1].overall,overallLabel:"Overall Path Level of Service",barChart:!0}}),_=new re({props:{caption:"Path Placemaking",categories:r[1].placemakingCategories,overall:r[1].placemakingOverall,overallLabel:"Overall Path Placemaking Score",barChart:!0}}),{c(){s=n("hr"),c=f(),te(i.$$.fragment),T=f(),te(m.$$.fragment),b=f(),te(_.$$.fragment)},l(l){s=o(l,"HR",{}),c=v(l),ee(i.$$.fragment,l),T=v(l),ee(m.$$.fragment,l),b=v(l),ee(_.$$.fragment,l)},m(l,p){h(l,s,p),h(l,c,p),le(i,l,p),h(l,T,p),le(m,l,p),h(l,b,p),le(_,l,p),H=!0},p:ut,i(l){H||(rt(i.$$.fragment,l),rt(m.$$.fragment,l),rt(_.$$.fragment,l),H=!0)},o(l){at(i.$$.fragment,l),at(m.$$.fragment,l),at(_.$$.fragment,l),H=!1},d(l){l&&(e(s),e(c),e(T),e(b)),ae(i,l),ae(m,l),ae(_,l)}}}function wl(r){let s,c='<th colspan="6"></th>';return{c(){s=n("tr"),s.innerHTML=c},l(i){s=o(i,"TR",{"data-svelte-h":!0}),y(s)!=="svelte-1qpfrhg"&&(s.innerHTML=c)},m(i,T){h(i,s,T)},d(i){i&&e(s)}}}function bl(r){let s,c,i,T=(r[4].name||"Untitled junction")+"",m,b,_,H="Walking & Wheeling",l,p,Tt=_t(r[4].walkingWheeling.existing)+"",bt,Y,I,ne=_t(r[4].walkingWheeling.proposed)+"",kt,nt,z,$t=_t(r[4].walkingWheeling.netDifference)+"",Et,N,L,ot,At="Cycling",st,F,yt=_t(r[4].cycling.existing)+"",Lt,U,j,oe=_t(r[4].cycling.proposed)+"",Rt,it,G,Dt=_t(r[4].cycling.netDifference)+"",St,W,E,ft,It="<b>All</b>",vt,Q,Ht=_t(r[4].total.existing)+"",ht,x,O,se=_t(r[4].total.proposed)+"",Pt,Z,mt,Nt=_t(r[4].total.netDifference)+"",R,ct,V=r[4].name=="Overall"&&wl();return{c(){V&&V.c(),s=f(),c=n("tr"),i=n("th"),m=g(T),b=f(),_=n("th"),_.textContent=H,l=f(),p=n("td"),bt=g(Tt),Y=f(),I=n("td"),kt=g(ne),nt=f(),z=n("td"),Et=g($t),N=f(),L=n("tr"),ot=n("th"),ot.textContent=At,st=f(),F=n("td"),Lt=g(yt),U=f(),j=n("td"),Rt=g(oe),it=f(),G=n("td"),St=g(Dt),W=f(),E=n("tr"),ft=n("th"),ft.innerHTML=It,vt=f(),Q=n("td"),ht=g(Ht),x=f(),O=n("td"),Pt=g(se),Z=f(),mt=n("td"),R=g(Nt),ct=f(),this.h()},l(k){V&&V.l(k),s=v(k),c=o(k,"TR",{});var $=u(c);i=o($,"TH",{rowspan:!0});var pt=u(i);m=C(pt,T),pt.forEach(e),b=v($),_=o($,"TH",{"data-svelte-h":!0}),y(_)!=="svelte-4l8ufc"&&(_.textContent=H),l=v($),p=o($,"TD",{});var ie=u(p);bt=C(ie,Tt),ie.forEach(e),Y=v($),I=o($,"TD",{});var jt=u(I);kt=C(jt,ne),jt.forEach(e),nt=v($),z=o($,"TD",{});var Wt=u(z);Et=C(Wt,$t),Wt.forEach(e),$.forEach(e),N=v(k),L=o(k,"TR",{});var w=u(L);ot=o(w,"TH",{"data-svelte-h":!0}),y(ot)!=="svelte-1g6bqmx"&&(ot.textContent=At),st=v(w),F=o(w,"TD",{});var fe=u(F);Lt=C(fe,yt),fe.forEach(e),U=v(w),j=o(w,"TD",{});var qt=u(j);Rt=C(qt,oe),qt.forEach(e),it=v(w),G=o(w,"TD",{});var Bt=u(G);St=C(Bt,Dt),Bt.forEach(e),w.forEach(e),W=v(k),E=o(k,"TR",{});var P=u(E);ft=o(P,"TH",{"data-svelte-h":!0}),y(ft)!=="svelte-17itmy4"&&(ft.innerHTML=It),vt=v(P),Q=o(P,"TD",{});var ve=u(Q);ht=C(ve,Ht),ve.forEach(e),x=v(P),O=o(P,"TD",{});var Jt=u(O);Pt=C(Jt,se),Jt.forEach(e),Z=v(P),mt=o(P,"TD",{});var Kt=u(mt);R=C(Kt,Nt),Kt.forEach(e),ct=v(P),P.forEach(e),this.h()},h(){Ce(i,"rowspan","3")},m(k,$){V&&V.m(k,$),h(k,s,$),h(k,c,$),t(c,i),t(i,m),t(c,b),t(c,_),t(c,l),t(c,p),t(p,bt),t(c,Y),t(c,I),t(I,kt),t(c,nt),t(c,z),t(z,Et),h(k,N,$),h(k,L,$),t(L,ot),t(L,st),t(L,F),t(F,Lt),t(L,U),t(L,j),t(j,Rt),t(L,it),t(L,G),t(G,St),h(k,W,$),h(k,E,$),t(E,ft),t(E,vt),t(E,Q),t(Q,ht),t(E,x),t(E,O),t(O,Pt),t(E,Z),t(E,mt),t(mt,R),t(E,ct)},p:ut,d(k){k&&(e(s),e(c),e(N),e(L),e(W),e(E)),V&&V.d(k)}}}function Ol(r){let s,c,i="1. Summary of Scheme",T,m,b,_="Scheme Name",H,l,p=r[0].summary.schemeName+"",Tt,bt,Y,I,ne="Scheme Reference",kt,nt,z=r[0].summary.schemeReference+"",$t,Et,N,L,ot="Local Authority",At,st,F=r[0].summary.authority+"",yt,Lt,U,j,oe="Design Stage",Rt,it,G=r[0].summary.designStage+"",Dt,St,W,E,ft="Route Length Assessed in this File (km)",It,vt,Q=r[0].summary.assessedRouteLengthKm+"",Ht,ht,x,O,se="2. Policy Check Results",Pt,Z,mt='<th rowspan="2">Potential Policy Conflicts</th> <th>Existing Route</th> <th>Designed Route</th> <th>Removed</th> <th>Introduced</th> <th>Remaining</th>',Nt,R,ct,V=r[2].existing+"",k,$,pt,ie=r[2].designed+"",jt,Wt,w,fe=r[2].removed+"",qt,Bt,P,ve=r[2].designed+"",Jt,Kt,ce,Be=r[2].designed+r[2].existing-r[2].removed+"",Re,Te,tt,xt,Je="3. Safety Check Results (Critical Issues only)",De,Yt,Ke='<th rowspan="2">Critical Issues</th> <th>Existing Route</th> <th>Designed Route</th> <th>Removed</th> <th>Introduced</th> <th>Remaining</th>',Se,M,de,Ye=r[3].existing+"",He,Pe,_e,ze=r[3].designed+"",xe,we,ue,Fe=r[3].removed+"",Oe,Me,he,Ue=r[3].designed+"",Ae,Ie,me,Ge=r[3].designed+r[3].existing-r[3].removed+"",Ne,be,wt,Qe="4. Street Check Results",ke,q,B,zt,Ot,Ve="5. Path Check Results",$e,J,K,Ft,X,Mt,Xe="6. Junction Assessment Tool Check",je,Ut,Ze="<th>Junction Name</th> <th>Modes</th> <th>Existing Layout</th> <th>Proposed Layout</th> <th>Net difference</th>",We,dt;const tl=[Hl,Sl],gt=[];function el(a,d){return a[0].summary.checkType=="street"?0:1}q=el(r),B=gt[q]=tl[q](r);const ll=[xl,Pl],Ct=[];function al(a,d){return a[0].summary.checkType=="path"?0:1}J=al(r),K=Ct[J]=ll[J](r);let Gt=Cl(r[1].jat),D=[];for(let a=0;a<Gt.length;a+=1)D[a]=bl(Tl(r,Gt,a));return{c(){s=n("table"),c=n("caption"),c.textContent=i,T=f(),m=n("tr"),b=n("th"),b.textContent=_,H=f(),l=n("td"),Tt=g(p),bt=f(),Y=n("tr"),I=n("th"),I.textContent=ne,kt=f(),nt=n("td"),$t=g(z),Et=f(),N=n("tr"),L=n("th"),L.textContent=ot,At=f(),st=n("td"),yt=g(F),Lt=f(),U=n("tr"),j=n("th"),j.textContent=oe,Rt=f(),it=n("td"),Dt=g(G),St=f(),W=n("tr"),E=n("th"),E.textContent=ft,It=f(),vt=n("td"),Ht=g(Q),ht=f(),x=n("table"),O=n("caption"),O.textContent=se,Pt=f(),Z=n("tr"),Z.innerHTML=mt,Nt=f(),R=n("tr"),ct=n("td"),k=g(V),$=f(),pt=n("td"),jt=g(ie),Wt=f(),w=n("td"),qt=g(fe),Bt=f(),P=n("td"),Jt=g(ve),Kt=f(),ce=n("td"),Re=g(Be),Te=f(),tt=n("table"),xt=n("caption"),xt.textContent=Je,De=f(),Yt=n("tr"),Yt.innerHTML=Ke,Se=f(),M=n("tr"),de=n("td"),He=g(Ye),Pe=f(),_e=n("td"),xe=g(ze),we=f(),ue=n("td"),Oe=g(Fe),Me=f(),he=n("td"),Ae=g(Ue),Ie=f(),me=n("td"),Ne=g(Ge),be=f(),wt=n("h2"),wt.textContent=Qe,ke=f(),B.c(),zt=f(),Ot=n("h2"),Ot.textContent=Ve,$e=f(),K.c(),Ft=f(),X=n("table"),Mt=n("caption"),Mt.textContent=Xe,je=f(),Ut=n("tr"),Ut.innerHTML=Ze,We=f();for(let a=0;a<D.length;a+=1)D[a].c();this.h()},l(a){s=o(a,"TABLE",{});var d=u(s);c=o(d,"CAPTION",{class:!0,"data-svelte-h":!0}),y(c)!=="svelte-wsc00j"&&(c.textContent=i),T=v(d),m=o(d,"TR",{});var A=u(m);b=o(A,"TH",{"data-svelte-h":!0}),y(b)!=="svelte-9b7ad8"&&(b.textContent=_),H=v(A),l=o(A,"TD",{});var Qt=u(l);Tt=C(Qt,p),Qt.forEach(e),A.forEach(e),bt=v(d),Y=o(d,"TR",{});var S=u(Y);I=o(S,"TH",{"data-svelte-h":!0}),y(I)!=="svelte-23tdnw"&&(I.textContent=ne),kt=v(S),nt=o(S,"TD",{});var pe=u(nt);$t=C(pe,z),pe.forEach(e),S.forEach(e),Et=v(d),N=o(d,"TR",{});var Ee=u(N);L=o(Ee,"TH",{"data-svelte-h":!0}),y(L)!=="svelte-1qwcyrc"&&(L.textContent=ot),At=v(Ee),st=o(Ee,"TD",{});var rl=u(st);yt=C(rl,F),rl.forEach(e),Ee.forEach(e),Lt=v(d),U=o(d,"TR",{});var ye=u(U);j=o(ye,"TH",{"data-svelte-h":!0}),y(j)!=="svelte-1hvpp5a"&&(j.textContent=oe),Rt=v(ye),it=o(ye,"TD",{});var nl=u(it);Dt=C(nl,G),nl.forEach(e),ye.forEach(e),St=v(d),W=o(d,"TR",{});var Le=u(W);E=o(Le,"TH",{"data-svelte-h":!0}),y(E)!=="svelte-nix1wk"&&(E.textContent=ft),It=v(Le),vt=o(Le,"TD",{});var ol=u(vt);Ht=C(ol,Q),ol.forEach(e),Le.forEach(e),d.forEach(e),ht=v(a),x=o(a,"TABLE",{});var Vt=u(x);O=o(Vt,"CAPTION",{class:!0,"data-svelte-h":!0}),y(O)!=="svelte-ryvefa"&&(O.textContent=se),Pt=v(Vt),Z=o(Vt,"TR",{"data-svelte-h":!0}),y(Z)!=="svelte-yyn3b"&&(Z.innerHTML=mt),Nt=v(Vt),R=o(Vt,"TR",{});var et=u(R);ct=o(et,"TD",{});var sl=u(ct);k=C(sl,V),sl.forEach(e),$=v(et),pt=o(et,"TD",{});var il=u(pt);jt=C(il,ie),il.forEach(e),Wt=v(et),w=o(et,"TD",{});var fl=u(w);qt=C(fl,fe),fl.forEach(e),Bt=v(et),P=o(et,"TD",{});var vl=u(P);Jt=C(vl,ve),vl.forEach(e),Kt=v(et),ce=o(et,"TD",{});var cl=u(ce);Re=C(cl,Be),cl.forEach(e),et.forEach(e),Vt.forEach(e),Te=v(a),tt=o(a,"TABLE",{});var Xt=u(tt);xt=o(Xt,"CAPTION",{class:!0,"data-svelte-h":!0}),y(xt)!=="svelte-cpp4n"&&(xt.textContent=Je),De=v(Xt),Yt=o(Xt,"TR",{"data-svelte-h":!0}),y(Yt)!=="svelte-16gp70r"&&(Yt.innerHTML=Ke),Se=v(Xt),M=o(Xt,"TR",{});var lt=u(M);de=o(lt,"TD",{});var dl=u(de);He=C(dl,Ye),dl.forEach(e),Pe=v(lt),_e=o(lt,"TD",{});var _l=u(_e);xe=C(_l,ze),_l.forEach(e),we=v(lt),ue=o(lt,"TD",{});var ul=u(ue);Oe=C(ul,Fe),ul.forEach(e),Me=v(lt),he=o(lt,"TD",{});var hl=u(he);Ae=C(hl,Ue),hl.forEach(e),Ie=v(lt),me=o(lt,"TD",{});var ml=u(me);Ne=C(ml,Ge),ml.forEach(e),lt.forEach(e),Xt.forEach(e),be=v(a),wt=o(a,"H2",{"data-svelte-h":!0}),y(wt)!=="svelte-12wm74b"&&(wt.textContent=Qe),ke=v(a),B.l(a),zt=v(a),Ot=o(a,"H2",{"data-svelte-h":!0}),y(Ot)!=="svelte-1n49cye"&&(Ot.textContent=Ve),$e=v(a),K.l(a),Ft=v(a),X=o(a,"TABLE",{});var Zt=u(X);Mt=o(Zt,"CAPTION",{class:!0,"data-svelte-h":!0}),y(Mt)!=="svelte-1wa1due"&&(Mt.textContent=Xe),je=v(Zt),Ut=o(Zt,"TR",{"data-svelte-h":!0}),y(Ut)!=="svelte-1foehd"&&(Ut.innerHTML=Ze),We=v(Zt);for(let qe=0;qe<D.length;qe+=1)D[qe].l(Zt);Zt.forEach(e),this.h()},h(){Ce(c,"class","govuk-table__caption govuk-table__caption--m"),Ce(O,"class","govuk-table__caption govuk-table__caption--m"),Ce(xt,"class","govuk-table__caption govuk-table__caption--m"),Ce(Mt,"class","govuk-table__caption govuk-table__caption--m")},m(a,d){h(a,s,d),t(s,c),t(s,T),t(s,m),t(m,b),t(m,H),t(m,l),t(l,Tt),t(s,bt),t(s,Y),t(Y,I),t(Y,kt),t(Y,nt),t(nt,$t),t(s,Et),t(s,N),t(N,L),t(N,At),t(N,st),t(st,yt),t(s,Lt),t(s,U),t(U,j),t(U,Rt),t(U,it),t(it,Dt),t(s,St),t(s,W),t(W,E),t(W,It),t(W,vt),t(vt,Ht),h(a,ht,d),h(a,x,d),t(x,O),t(x,Pt),t(x,Z),t(x,Nt),t(x,R),t(R,ct),t(ct,k),t(R,$),t(R,pt),t(pt,jt),t(R,Wt),t(R,w),t(w,qt),t(R,Bt),t(R,P),t(P,Jt),t(R,Kt),t(R,ce),t(ce,Re),h(a,Te,d),h(a,tt,d),t(tt,xt),t(tt,De),t(tt,Yt),t(tt,Se),t(tt,M),t(M,de),t(de,He),t(M,Pe),t(M,_e),t(_e,xe),t(M,we),t(M,ue),t(ue,Oe),t(M,Me),t(M,he),t(he,Ae),t(M,Ie),t(M,me),t(me,Ne),h(a,be,d),h(a,wt,d),h(a,ke,d),gt[q].m(a,d),h(a,zt,d),h(a,Ot,d),h(a,$e,d),Ct[J].m(a,d),h(a,Ft,d),h(a,X,d),t(X,Mt),t(X,je),t(X,Ut),t(X,We);for(let A=0;A<D.length;A+=1)D[A]&&D[A].m(X,null);dt=!0},p(a,[d]){(!dt||d&1)&&p!==(p=a[0].summary.schemeName+"")&&ge(Tt,p),(!dt||d&1)&&z!==(z=a[0].summary.schemeReference+"")&&ge($t,z),(!dt||d&1)&&F!==(F=a[0].summary.authority+"")&&ge(yt,F),(!dt||d&1)&&G!==(G=a[0].summary.designStage+"")&&ge(Dt,G),(!dt||d&1)&&Q!==(Q=a[0].summary.assessedRouteLengthKm+"")&&ge(Ht,Q);let A=q;q=el(a),q===A?gt[q].p(a,d):(gl(),at(gt[A],1,1,()=>{gt[A]=null}),pl(),B=gt[q],B?B.p(a,d):(B=gt[q]=tl[q](a),B.c()),rt(B,1),B.m(zt.parentNode,zt));let Qt=J;if(J=al(a),J===Qt?Ct[J].p(a,d):(gl(),at(Ct[Qt],1,1,()=>{Ct[Qt]=null}),pl(),K=Ct[J],K?K.p(a,d):(K=Ct[J]=ll[J](a),K.c()),rt(K,1),K.m(Ft.parentNode,Ft)),d&2){Gt=Cl(a[1].jat);let S;for(S=0;S<Gt.length;S+=1){const pe=Tl(a,Gt,S);D[S]?D[S].p(pe,d):(D[S]=bl(pe),D[S].c(),D[S].m(X,null))}for(;S<D.length;S+=1)D[S].d(1);D.length=Gt.length}},i(a){dt||(rt(B),rt(K),dt=!0)},o(a){at(B),at(K),dt=!1},d(a){a&&(e(s),e(ht),e(x),e(Te),e(tt),e(be),e(wt),e(ke),e(zt),e(Ot),e($e),e(Ft),e(X)),gt[q].d(a),Ct[J].d(a),$l(D,a)}}}function _t(r){return r==null?"Not Completed":`${r}%`}function Ml(r,s,c){let i;El(r,Rl,_=>c(0,i=_));let T=Dl(i),m={existing:i.policyConflictLog.filter(_=>_.stage=="Existing").length,designed:i.policyConflictLog.filter(_=>_.stage=="Design").length,removed:i.policyConflictLog.filter(_=>_.resolved=="Yes").length},b={existing:i.criticalIssues.filter(_=>_.stage=="Existing").length,designed:i.criticalIssues.filter(_=>_.stage=="Design").length,removed:i.criticalIssues.filter(_=>_.resolved=="Yes").length};return[i,T,m,b]}class Bl extends yl{constructor(s){super(),Ll(this,s,Ml,Ol,kl,{})}}export{Bl as component};
