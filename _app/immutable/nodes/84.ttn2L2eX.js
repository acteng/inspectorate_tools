import{s as $e,a as D,E as X,g as L,i as v,f as d,q as _e,k as me,t as oe,d as ae,M as ce,v as T,x as A}from"../chunks/scheduler.DPCwhvxW.js";import{S as ge,i as ve,c as C,a as k,m as N,t as g,f as de,b,d as q,g as be,e as B}from"../chunks/index.D5OyLhbv.js";import{e as Z}from"../chunks/each.CNvoU69T.js";import{p as he}from"../chunks/index.ddY1ibuK.js";import{C as we}from"../chunks/CollapsibleCard.Bf0-DK5P.js";import{S as ye,W as Ce}from"../chunks/WarningButton.CTAeB0E0.js";import{S as x}from"../chunks/Select.B6qliB7L.js";import{T as ke}from"../chunks/TextArea.C3ai9qbf.js";import{T as ee}from"../chunks/TextInput.DWhRcOPv.js";import{s as y}from"../chunks/data.4jHBVBls.js";import{Y as Ne}from"../chunks/YesNo.CQJ9Hj-4.js";function te(t,o,l){const n=t.slice();return n[10]=o[l],n[11]=o,n[12]=l,n}function qe(t){let o;return{c(){o=oe("Add")},l(l){o=ae(l,"Add")},m(l,n){v(l,o,n)},d(l){l&&d(o)}}}function De(t){let o;return{c(){o=oe("Delete")},l(l){o=ae(l,"Delete")},m(l,n){v(l,o,n)},d(l){l&&d(o)}}}function Le(t){let o,l,n,_,$,i,S,a,s,c,f,m,r,p,h,P,O,w,R,E,I;function ie(){return t[3](t[12])}o=new Ce({props:{$$slots:{default:[De]},$$scope:{ctx:t}}}),o.$on("click",ie);function se(e){t[4](e,t[10])}let W={label:"Policy Conflict",emptyOption:!0,choices:[["1","1 - Cyclists are not separated from pedestrians"],["2",'2 - Barriers, steps, or "Cyclist Dismount" signs are present'],["3","3 - The route is not direct, logical and intuitive"],["4","4 - Inappropriate surface materials"],["5","5 - Appropriate lighting is not provided"],["6","6 - Routes miss opportunities to join together with other facilities as a network"]]};t[10].conflict!==void 0&&(W.value=t[10].conflict),n=new x({props:W}),T.push(()=>B(n,"value",se));function le(e){t[5](e,t[10])}let Y={label:"Stage",emptyOption:!0,choices:he(["Existing","Design"])};t[10].stage!==void 0&&(Y.value=t[10].stage),i=new x({props:Y}),T.push(()=>B(i,"value",le));function re(e){t[6](e,t[10])}let j={label:"Location"};t[10].point!==void 0&&(j.value=t[10].point),s=new ee({props:j}),T.push(()=>B(s,"value",re));function ue(e){t[7](e,t[10])}let F={label:"Location Name"};t[10].locationName!==void 0&&(F.value=t[10].locationName),m=new ee({props:F}),T.push(()=>B(m,"value",ue));function fe(e){t[8](e,t[10])}let M={label:"Resolved by Design"};t[10].resolved!==void 0&&(M.value=t[10].resolved),h=new Ne({props:M}),T.push(()=>B(h,"value",fe));function pe(e){t[9](e,t[10])}let z={label:"Commentary & Feedback"};return t[10].notes!==void 0&&(z.value=t[10].notes),w=new ke({props:z}),T.push(()=>B(w,"value",pe)),{c(){C(o.$$.fragment),l=D(),C(n.$$.fragment),$=D(),C(i.$$.fragment),a=D(),C(s.$$.fragment),f=D(),C(m.$$.fragment),p=D(),C(h.$$.fragment),O=D(),C(w.$$.fragment),E=D()},l(e){k(o.$$.fragment,e),l=L(e),k(n.$$.fragment,e),$=L(e),k(i.$$.fragment,e),a=L(e),k(s.$$.fragment,e),f=L(e),k(m.$$.fragment,e),p=L(e),k(h.$$.fragment,e),O=L(e),k(w.$$.fragment,e),E=L(e)},m(e,u){N(o,e,u),v(e,l,u),N(n,e,u),v(e,$,u),N(i,e,u),v(e,a,u),N(s,e,u),v(e,f,u),N(m,e,u),v(e,p,u),N(h,e,u),v(e,O,u),N(w,e,u),v(e,E,u),I=!0},p(e,u){t=e;const G={};u&8192&&(G.$$scope={dirty:u,ctx:t}),o.$set(G);const H={};!_&&u&1&&(_=!0,H.value=t[10].conflict,A(()=>_=!1)),n.$set(H);const J={};!S&&u&1&&(S=!0,J.value=t[10].stage,A(()=>S=!1)),i.$set(J);const K={};!c&&u&1&&(c=!0,K.value=t[10].point,A(()=>c=!1)),s.$set(K);const Q={};!r&&u&1&&(r=!0,Q.value=t[10].locationName,A(()=>r=!1)),m.$set(Q);const U={};!P&&u&1&&(P=!0,U.value=t[10].resolved,A(()=>P=!1)),h.$set(U);const V={};!R&&u&1&&(R=!0,V.value=t[10].notes,A(()=>R=!1)),w.$set(V)},i(e){I||(g(o.$$.fragment,e),g(n.$$.fragment,e),g(i.$$.fragment,e),g(s.$$.fragment,e),g(m.$$.fragment,e),g(h.$$.fragment,e),g(w.$$.fragment,e),I=!0)},o(e){b(o.$$.fragment,e),b(n.$$.fragment,e),b(i.$$.fragment,e),b(s.$$.fragment,e),b(m.$$.fragment,e),b(h.$$.fragment,e),b(w.$$.fragment,e),I=!1},d(e){e&&(d(l),d($),d(a),d(f),d(p),d(O),d(E)),q(o,e),q(n,e),q(i,e),q(s,e),q(m,e),q(h,e),q(w,e)}}}function ne(t){let o,l;return o=new we({props:{label:t[10].id,open:!0,$$slots:{default:[Le]},$$scope:{ctx:t}}}),{c(){C(o.$$.fragment)},l(n){k(o.$$.fragment,n)},m(n,_){N(o,n,_),l=!0},p(n,_){const $={};_&1&&($.label=n[10].id),_&8193&&($.$$scope={dirty:_,ctx:n}),o.$set($)},i(n){l||(g(o.$$.fragment,n),l=!0)},o(n){b(o.$$.fragment,n),l=!1},d(n){q(o,n)}}}function Se(t){let o,l,n,_;o=new ye({props:{$$slots:{default:[qe]},$$scope:{ctx:t}}}),o.$on("click",t[1]);let $=Z(t[0].policyConflictLog),i=[];for(let a=0;a<$.length;a+=1)i[a]=ne(te(t,$,a));const S=a=>b(i[a],1,1,()=>{i[a]=null});return{c(){C(o.$$.fragment),l=D();for(let a=0;a<i.length;a+=1)i[a].c();n=X()},l(a){k(o.$$.fragment,a),l=L(a);for(let s=0;s<i.length;s+=1)i[s].l(a);n=X()},m(a,s){N(o,a,s),v(a,l,s);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(a,s);v(a,n,s),_=!0},p(a,[s]){const c={};if(s&8192&&(c.$$scope={dirty:s,ctx:a}),o.$set(c),s&5){$=Z(a[0].policyConflictLog);let f;for(f=0;f<$.length;f+=1){const m=te(a,$,f);i[f]?(i[f].p(m,s),g(i[f],1)):(i[f]=ne(m),i[f].c(),g(i[f],1),i[f].m(n.parentNode,n))}for(be(),f=$.length;f<i.length;f+=1)S(f);de()}},i(a){if(!_){g(o.$$.fragment,a);for(let s=0;s<$.length;s+=1)g(i[s]);_=!0}},o(a){b(o.$$.fragment,a),i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)b(i[s]);_=!1},d(a){a&&(d(l),d(n)),q(o,a),_e(i,a)}}}function Te(t,o,l){let n;me(t,y,r=>l(0,n=r));function _(){ce(y,n.policyConflictLog=[...n.policyConflictLog,{id:"TODO",conflict:"",stage:"",point:"",locationName:"",resolved:"",notes:""}],n)}function $(r){window.confirm("Delete this entry?")&&(n.policyConflictLog.splice(r,1),y.set(n))}const i=r=>$(r);function S(r,p){t.$$.not_equal(p.conflict,r)&&(p.conflict=r,y.set(n))}function a(r,p){t.$$.not_equal(p.stage,r)&&(p.stage=r,y.set(n))}function s(r,p){t.$$.not_equal(p.point,r)&&(p.point=r,y.set(n))}function c(r,p){t.$$.not_equal(p.locationName,r)&&(p.locationName=r,y.set(n))}function f(r,p){t.$$.not_equal(p.resolved,r)&&(p.resolved=r,y.set(n))}function m(r,p){t.$$.not_equal(p.notes,r)&&(p.notes=r,y.set(n))}return[n,_,$,i,S,a,s,c,f,m]}class Me extends ge{constructor(o){super(),ve(this,o,Te,Se,$e,{})}}export{Me as component};
