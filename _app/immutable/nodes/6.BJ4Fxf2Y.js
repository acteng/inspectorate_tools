import{s as Y,o as ce,e as W,t as j,b as F,c as B,f as J,j as X,d as g,h as C,a as E,i as L,k as O,r as fe,u as me,p as de,q as _e,V as ae,R as Q,C as We,W as ee,X as se,Y as le,T as ne,l as A,z as ie,m as V,v as ge,Z as Ge,w as Me,g as Be,_ as Ke,n as oe}from"../chunks/scheduler.B47XoW4s.js";import{S as z,i as Z,t as $,b,c as y,a as D,m as T,d as S,e as H,g as Ne,f as Pe}from"../chunks/index.BVlcR4k6.js";import{F as Ie,v as Ue,E as qe,p as G,S as K,e as Re,u as Qe,o as xe}from"../chunks/Select.KRmmjeb1.js";import{w as et}from"../chunks/index.DoN2T4oP.js";import{b as Fe}from"../chunks/paths.r1M2hsgF.js";function Ae(a,e){const n={},t={},r={$$scope:1};let i=a.length;for(;i--;){const l=a[i],f=e[i];if(f){for(const o in l)o in f||(t[o]=1);for(const o in f)r[o]||(n[o]=f[o],r[o]=1);a[i]=f}else for(const o in l)r[o]=1}for(const l in t)l in n||(n[l]=void 0);return n}function tt(a){let e,n,t,r,i,l,f;const o=a[3].default,s=ce(o,a,a[2],null);return{c(){e=W("details"),n=W("summary"),t=W("span"),r=j(a[0]),i=F(),l=W("div"),s&&s.c(),this.h()},l(u){e=B(u,"DETAILS",{class:!0,"data-module":!0});var m=J(e);n=B(m,"SUMMARY",{class:!0});var _=J(n);t=B(_,"SPAN",{class:!0});var c=J(t);r=X(c,a[0]),c.forEach(g),_.forEach(g),i=C(m),l=B(m,"DIV",{class:!0});var M=J(l);s&&s.l(M),M.forEach(g),m.forEach(g),this.h()},h(){E(t,"class","govuk-details__summary-text"),E(n,"class","govuk-details__summary"),E(l,"class","govuk-details__text"),e.open=a[1],E(e,"class","govuk-details"),E(e,"data-module","govuk-details")},m(u,m){L(u,e,m),O(e,n),O(n,t),O(t,r),O(e,i),O(e,l),s&&s.m(l,null),f=!0},p(u,[m]){(!f||m&1)&&fe(r,u[0]),s&&s.p&&(!f||m&4)&&me(s,o,u,u[2],f?_e(o,u[2],m,null):de(u[2]),null),(!f||m&2)&&(e.open=u[1])},i(u){f||($(s,u),f=!0)},o(u){b(s,u),f=!1},d(u){u&&g(e),s&&s.d(u)}}}function nt(a,e,n){let{$$slots:t={},$$scope:r}=e,{label:i}=e,{open:l=!1}=e;return a.$$set=f=>{"label"in f&&n(0,i=f.label),"open"in f&&n(1,l=f.open),"$$scope"in f&&n(2,r=f.$$scope)},[i,l,r,t]}class re extends z{constructor(e){super(),Z(this,e,nt,tt,Y,{label:0,open:1})}}function at(a){let e,n,t,r,i,l,f;return e=new qe({props:{errorMessage:a[5](a[2])}}),{c(){y(e.$$.fragment),n=F(),t=W("input"),this.h()},l(o){D(e.$$.fragment,o),n=C(o),t=B(o,"INPUT",{type:!0,inputmode:!0,class:!0,id:!0}),this.h()},h(){E(t,"type","text"),E(t,"inputmode","numeric"),E(t,"class",r=`govuk-input govuk-input--width-${a[1]}`),E(t,"id",a[3])},m(o,s){T(e,o,s),L(o,n,s),L(o,t,s),ae(t,a[2]),i=!0,l||(f=[Q(t,"input",a[9]),Q(t,"change",a[4])],l=!0)},p(o,s){const u={};s&4&&(u.errorMessage=o[5](o[2])),e.$set(u),(!i||s&2&&r!==(r=`govuk-input govuk-input--width-${o[1]}`))&&E(t,"class",r),s&4&&t.value!==o[2]&&ae(t,o[2])},i(o){i||($(e.$$.fragment,o),i=!0)},o(o){b(e.$$.fragment,o),i=!1},d(o){o&&(g(n),g(t)),S(e,o),l=!1,We(f)}}}function st(a){let e,n;return e=new Ie({props:{label:a[0],id:a[3],$$slots:{default:[at]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){T(e,t,r),n=!0},p(t,[r]){const i={};r&1&&(i.label=t[0]),r&1030&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function lt(a,e,n){let{label:t}=e,{value:r}=e,{width:i}=e,{min:l=void 0}=e,{max:f=void 0}=e,o=r==null?void 0:r.toString(),s=Ue();function u(){n(6,r=o==null?void 0:parseInt(o,10))}function m(c){if(c==""||c==null)return"";if(c.includes("."))return"Please enter a number without decimals";let M=Number(c);return isNaN(M)?"Please enter a valid number":l!=null&&M<l?`Please enter a number that's at least ${l};`:f!=null&&M>f?`Please enter a number that's at most ${f};`:""}function _(){o=this.value,n(2,o)}return a.$$set=c=>{"label"in c&&n(0,t=c.label),"value"in c&&n(6,r=c.value),"width"in c&&n(1,i=c.width),"min"in c&&n(7,l=c.min),"max"in c&&n(8,f=c.max)},[t,i,o,s,u,m,r,l,f,_]}class it extends z{constructor(e){super(),Z(this,e,lt,st,Y,{label:0,value:6,width:1,min:7,max:8})}}function rt(a){let e,n,t,r;const i=a[2].default,l=ce(i,a,a[1],null);let f=[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},a[0]],o={};for(let s=0;s<f.length;s+=1)o=ee(o,f[s]);return{c(){e=W("button"),l&&l.c(),this.h()},l(s){e=B(s,"BUTTON",{type:!0,class:!0,"data-module":!0});var u=J(e);l&&l.l(u),u.forEach(g),this.h()},h(){se(e,o)},m(s,u){L(s,e,u),l&&l.m(e,null),e.autofocus&&e.focus(),n=!0,t||(r=[Q(e,"click",a[3]),Q(e,"mouseenter",a[4]),Q(e,"mouseleave",a[5])],t=!0)},p(s,[u]){l&&l.p&&(!n||u&2)&&me(l,i,s,s[1],n?_e(i,s[1],u,null):de(s[1]),null),se(e,o=Ae(f,[{type:"button"},{class:"govuk-button govuk-button--secondary"},{"data-module":"govuk-button"},u&1&&s[0]]))},i(s){n||($(l,s),n=!0)},o(s){b(l,s),n=!1},d(s){s&&g(e),l&&l.d(s),t=!1,We(r)}}}function ot(a,e,n){let{$$slots:t={},$$scope:r}=e;function i(o){ne.call(this,a,o)}function l(o){ne.call(this,a,o)}function f(o){ne.call(this,a,o)}return a.$$set=o=>{n(0,e=ee(ee({},e),le(o))),"$$scope"in o&&n(1,r=o.$$scope)},e=le(e),[e,r,t,i,l,f]}class ue extends z{constructor(e){super(),Z(this,e,ot,rt,Y,{})}}function ft(a){let e,n,t,r,i,l;return e=new qe({props:{errorMessage:a[3]}}),{c(){y(e.$$.fragment),n=F(),t=W("textarea"),this.h()},l(f){D(e.$$.fragment,f),n=C(f),t=B(f,"TEXTAREA",{class:!0,id:!0,rows:!0}),J(t).forEach(g),this.h()},h(){E(t,"class","govuk-textarea"),E(t,"id",a[4]),E(t,"rows",a[2])},m(f,o){T(e,f,o),L(f,n,o),L(f,t,o),ae(t,a[0]),r=!0,i||(l=Q(t,"input",a[5]),i=!0)},p(f,o){const s={};o&8&&(s.errorMessage=f[3]),e.$set(s),(!r||o&4)&&E(t,"rows",f[2]),o&1&&ae(t,f[0])},i(f){r||($(e.$$.fragment,f),r=!0)},o(f){b(e.$$.fragment,f),r=!1},d(f){f&&(g(n),g(t)),S(e,f),i=!1,l()}}}function ut(a){let e,n;return e=new Ie({props:{label:a[1],id:a[4],$$slots:{default:[ft]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){T(e,t,r),n=!0},p(t,[r]){const i={};r&2&&(i.label=t[1]),r&77&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function ct(a,e,n){let{label:t}=e,{value:r}=e,{rows:i=5}=e,{errorMessage:l=""}=e,f=Ue();function o(){r=this.value,n(0,r)}return a.$$set=s=>{"label"in s&&n(1,t=s.label),"value"in s&&n(0,r=s.value),"rows"in s&&n(2,i=s.rows),"errorMessage"in s&&n(3,l=s.errorMessage)},[r,t,i,l,f,o]}class mt extends z{constructor(e){super(),Z(this,e,ct,ut,Y,{label:1,value:0,rows:2,errorMessage:3})}}function dt(a){let e,n,t,r;const i=a[2].default,l=ce(i,a,a[1],null);let f=[{type:"button"},{class:"govuk-button govuk-button--warning"},{"data-module":"govuk-button"},a[0]],o={};for(let s=0;s<f.length;s+=1)o=ee(o,f[s]);return{c(){e=W("button"),l&&l.c(),this.h()},l(s){e=B(s,"BUTTON",{type:!0,class:!0,"data-module":!0});var u=J(e);l&&l.l(u),u.forEach(g),this.h()},h(){se(e,o)},m(s,u){L(s,e,u),l&&l.m(e,null),e.autofocus&&e.focus(),n=!0,t||(r=Q(e,"click",a[3]),t=!0)},p(s,[u]){l&&l.p&&(!n||u&2)&&me(l,i,s,s[1],n?_e(i,s[1],u,null):de(s[1]),null),se(e,o=Ae(f,[{type:"button"},{class:"govuk-button govuk-button--warning"},{"data-module":"govuk-button"},u&1&&s[0]]))},i(s){n||($(l,s),n=!0)},o(s){b(l,s),n=!1},d(s){s&&g(e),l&&l.d(s),t=!1,r()}}}function _t(a,e,n){let{$$slots:t={},$$scope:r}=e;function i(l){ne.call(this,a,l)}return a.$$set=l=>{n(0,e=ee(ee({},e),le(l))),"$$scope"in l&&n(1,r=l.$$scope)},e=le(e),[e,r,t,i]}class Ve extends z{constructor(e){super(),Z(this,e,_t,dt,Y,{})}}let N=et(gt());N.subscribe(a=>window.localStorage.setItem("cross-section",JSON.stringify(a)));function gt(){let a=JSON.parse(window.localStorage.getItem("cross-section")||"{}");return a.trafficData?a:He()}function He(){return{trafficData:{flowOneWay:"",flowTwoWay:"",flowSharedUse:"",trafficFlow:"",speedLimit:"",observedSpeed:void 0,streetFunction:""},desirableMinimumCrossSection:[],absoluteMinimumCrossSection:[]}}let pt=["Footway","Narrow Traffic / Bus Lane","Wide Traffic / Bus Lane","Traffic Lane (no buses): speed limit 20/30","On-highway advisory/mandatory cycle lane","1-way protected cycle track","2-way protected cycle track","Shared use cycle track","Parking Bay","Disabled Parking Bay","Loading Bay","Buffer / Verge"],$t=[["Footway","2.60","2.60","2.60","","","2.00","2.00","2.00",""],["Narrow Traffic / Bus Lane","3.25","","","","","3.25","","",""],["Wide Traffic / Bus Lane","4.50","","","","","3.90","","",""],["Traffic Lane (no buses): speed limit 20/30","3.00","","","","","2.75","","",""],["On-highway advisory/mandatory cycle Lane","2.00","","","","","1.50","","",""],["1-way protected cycle track","2.30","2.50","2.80","","","1.80","2.30","2.30",""],["2-way protected cycle track","3.30","3.30","4.30","","","2.30","2.80","3.30",""],["Shared use cycle track","3.00","4.50","","","","3.00","4.50","",""],["Parking Bay","2.00","","","","","1.80","","",""],["Disabled Parking Bay","2.70","","","","","2.70","","",""],["Loading Bay","2.70","","","","","1.80","","",""],["Buffer / Verge","0.50","1.00","2.00","2.50","3.50","-  ","0.50","1.50","2.00","3.00"],["Footway buffer / verge","0.50","1.50","","","","0.50","1.50","",""]];function Ce(a,e,n){if(a=="")return"";let t=$t.find(i=>i[0]==a),r=n=="Desirable"?t.slice(1,6):t.slice(6,11);if(e=="High Street (active frontages)")return r[0];if(e=="Residential Street")return r[1];if(e=="Local distributor road")return r[2];throw new Error(`Unknown streetFunction ${e}`)}function bt(a){let e;return{c(){e=j("←")},l(n){e=X(n,"←")},m(n,t){L(n,e,t)},d(n){n&&g(e)}}}function ht(a){let e;return{c(){e=j("Delete")},l(n){e=X(n,"Delete")},m(n,t){L(n,e,t)},d(n){n&&g(e)}}}function vt(a){let e;return{c(){e=j("→")},l(n){e=X(n,"→")},m(n,t){L(n,e,t)},d(n){n&&g(e)}}}function wt(a){let e,n,t,r,i,l,f,o=Ce(a[0],a[4].trafficData.streetFunction,a[3])+"",s,u,m,_,c,M,P,h,I;function w(p){a[6](p)}let v={label:"Lane type",emptyOption:!0,choices:G(pt)};return a[0]!==void 0&&(v.value=a[0]),n=new K({props:v}),A.push(()=>H(n,"value",w)),_=new ue({props:{disabled:a[1],$$slots:{default:[bt]},$$scope:{ctx:a}}}),_.$on("click",a[7]),M=new Ve({props:{$$slots:{default:[ht]},$$scope:{ctx:a}}}),M.$on("click",a[8]),h=new ue({props:{disabled:a[2],$$slots:{default:[vt]},$$scope:{ctx:a}}}),h.$on("click",a[9]),{c(){e=W("div"),y(n.$$.fragment),r=F(),i=W("p"),l=j(a[3]),f=j(" minimum width (m): "),s=j(o),u=F(),m=W("div"),y(_.$$.fragment),c=F(),y(M.$$.fragment),P=F(),y(h.$$.fragment),this.h()},l(p){e=B(p,"DIV",{class:!0});var k=J(e);D(n.$$.fragment,k),r=C(k),i=B(k,"P",{});var q=J(i);l=X(q,a[3]),f=X(q," minimum width (m): "),s=X(q,o),q.forEach(g),u=C(k),m=B(k,"DIV",{style:!0,class:!0});var U=J(m);D(_.$$.fragment,U),c=C(U),D(M.$$.fragment,U),P=C(U),D(h.$$.fragment,U),U.forEach(g),k.forEach(g),this.h()},h(){ie(m,"display","flex"),ie(m,"justify-content","space-between"),E(m,"class","svelte-jig4ga"),E(e,"class","svelte-jig4ga")},m(p,k){L(p,e,k),T(n,e,null),O(e,r),O(e,i),O(i,l),O(i,f),O(i,s),O(e,u),O(e,m),T(_,m,null),O(m,c),T(M,m,null),O(m,P),T(h,m,null),I=!0},p(p,[k]){const q={};!t&&k&1&&(t=!0,q.value=p[0],V(()=>t=!1)),n.$set(q),(!I||k&8)&&fe(l,p[3]),(!I||k&25)&&o!==(o=Ce(p[0],p[4].trafficData.streetFunction,p[3])+"")&&fe(s,o);const U={};k&2&&(U.disabled=p[1]),k&1024&&(U.$$scope={dirty:k,ctx:p}),_.$set(U);const te={};k&1024&&(te.$$scope={dirty:k,ctx:p}),M.$set(te);const x={};k&4&&(x.disabled=p[2]),k&1024&&(x.$$scope={dirty:k,ctx:p}),h.$set(x)},i(p){I||($(n.$$.fragment,p),$(_.$$.fragment,p),$(M.$$.fragment,p),$(h.$$.fragment,p),I=!0)},o(p){b(n.$$.fragment,p),b(_.$$.fragment,p),b(M.$$.fragment,p),b(h.$$.fragment,p),I=!1},d(p){p&&g(e),S(n),S(_),S(M),S(h)}}}function kt(a,e,n){let t;ge(a,N,c=>n(4,t=c));let{value:r}=e,{isFirst:i}=e,{isLast:l}=e,{sectionType:f}=e,o=Ge();function s(c){r=c,n(0,r)}const u=()=>o("moveLeft"),m=()=>o("delete"),_=()=>o("moveRight");return a.$$set=c=>{"value"in c&&n(0,r=c.value),"isFirst"in c&&n(1,i=c.isFirst),"isLast"in c&&n(2,l=c.isLast),"sectionType"in c&&n(3,f=c.sectionType)},[r,i,l,f,t,o,s,u,m,_]}class yt extends z{constructor(e){super(),Z(this,e,kt,wt,Y,{value:0,isFirst:1,isLast:2,sectionType:3})}}function Oe(a,e,n){const t=a.slice();return t[10]=e[n],t[11]=e,t[12]=n,t}function Dt(a){let e;return{c(){e=j("Add")},l(n){e=X(n,"Add")},m(n,t){L(n,e,t)},d(n){n&&g(e)}}}function Ee(a,e){let n,t,r,i;function l(m){e[6](m,e[10],e[11],e[12])}function f(){return e[7](e[12])}function o(){return e[8](e[12])}function s(){return e[9](e[12])}let u={isFirst:e[12]==0,isLast:e[12]==e[0].length-1,sectionType:e[1]};return e[10]!==void 0&&(u.value=e[10]),t=new yt({props:u}),A.push(()=>H(t,"value",l)),t.$on("delete",f),t.$on("moveLeft",o),t.$on("moveRight",s),{key:a,first:null,c(){n=Me(),y(t.$$.fragment),this.h()},l(m){n=Me(),D(t.$$.fragment,m),this.h()},h(){this.first=n},m(m,_){L(m,n,_),T(t,m,_),i=!0},p(m,_){e=m;const c={};_&1&&(c.isFirst=e[12]==0),_&1&&(c.isLast=e[12]==e[0].length-1),_&2&&(c.sectionType=e[1]),!r&&_&1&&(r=!0,c.value=e[10],V(()=>r=!1)),t.$set(c)},i(m){i||($(t.$$.fragment,m),i=!0)},o(m){b(t.$$.fragment,m),i=!1},d(m){m&&g(n),S(t,m)}}}function Tt(a){let e,n,t,r=[],i=new Map,l;e=new ue({props:{$$slots:{default:[Dt]},$$scope:{ctx:a}}}),e.$on("click",a[2]);let f=Re(a[0]);const o=s=>s[12];for(let s=0;s<f.length;s+=1){let u=Oe(a,f,s),m=o(u);i.set(m,r[s]=Ee(m,u))}return{c(){y(e.$$.fragment),n=F(),t=W("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){D(e.$$.fragment,s),n=C(s),t=B(s,"DIV",{style:!0});var u=J(t);for(let m=0;m<r.length;m+=1)r[m].l(u);u.forEach(g),this.h()},h(){ie(t,"display","flex"),ie(t,"flex-direction","row")},m(s,u){T(e,s,u),L(s,n,u),L(s,t,u);for(let m=0;m<r.length;m+=1)r[m]&&r[m].m(t,null);l=!0},p(s,[u]){const m={};u&8192&&(m.$$scope={dirty:u,ctx:s}),e.$set(m),u&59&&(f=Re(s[0]),Ne(),r=Qe(r,u,o,1,s,f,i,t,xe,Ee,null,Oe),Pe())},i(s){if(!l){$(e.$$.fragment,s);for(let u=0;u<f.length;u+=1)$(r[u]);l=!0}},o(s){b(e.$$.fragment,s);for(let u=0;u<r.length;u+=1)b(r[u]);l=!1},d(s){s&&(g(n),g(t)),S(e,s);for(let u=0;u<r.length;u+=1)r[u].d()}}}function St(a,e,n){let{lanesLeftToRight:t}=e,{sectionType:r}=e;function i(){n(0,t=[...t,""])}function l(c){t.splice(c,1),n(0,t)}function f(c){n(0,[t[c-1],t[c]]=[t[c],t[c-1]],t)}function o(c){n(0,[t[c+1],t[c]]=[t[c],t[c+1]],t)}function s(c,M,P,h){P[h]=c,n(0,t)}const u=c=>l(c),m=c=>f(c),_=c=>o(c);return a.$$set=c=>{"lanesLeftToRight"in c&&n(0,t=c.lanesLeftToRight),"sectionType"in c&&n(1,r=c.sectionType)},[t,r,i,l,f,o,s,u,m,_]}class Je extends z{constructor(e){super(),Z(this,e,St,Tt,Y,{lanesLeftToRight:0,sectionType:1})}}function Lt(a){let e,n,t,r,i,l,f,o,s,u,m,_,c,M,P,h,I,w,v,p,k;function q(d){a[2](d)}let U={label:"Expected peak hour cycle flow: 1-way cycle tracks",emptyOption:!0,choices:G(["<200","200-800",">800"])};a[0].trafficData.flowOneWay!==void 0&&(U.value=a[0].trafficData.flowOneWay),e=new K({props:U}),A.push(()=>H(e,"value",q));function te(d){a[3](d)}let x={label:"Expected peak hour cycle flow: 2-way cycle tracks",emptyOption:!0,choices:G(["<300","300-1,000",">1,000"])};a[0].trafficData.flowTwoWay!==void 0&&(x.value=a[0].trafficData.flowTwoWay),r=new K({props:x}),A.push(()=>H(r,"value",te));function je(d){a[4](d)}let pe={label:"Expected peak hour cycle flow: shared use cycle tracks",emptyOption:!0,choices:G(["<300",">300"])};a[0].trafficData.flowSharedUse!==void 0&&(pe.value=a[0].trafficData.flowSharedUse),f=new K({props:pe}),A.push(()=>H(f,"value",je));function Xe(d){a[5](d)}let $e={label:"Traffic flow (vpd)",emptyOption:!0,choices:G(["<2,500","2,500-5,000","5,000-10,000",">10,000"])};a[0].trafficData.trafficFlow!==void 0&&($e.value=a[0].trafficData.trafficFlow),u=new K({props:$e}),A.push(()=>H(u,"value",Xe));function Ye(d){a[6](d)}let be={label:"Speed limit (MPH)",emptyOption:!0,choices:G(["<30","30","40","50","60","70"])};a[0].trafficData.speedLimit!==void 0&&(be.value=a[0].trafficData.speedLimit),c=new K({props:be}),A.push(()=>H(c,"value",Ye));function ze(d){a[7](d)}let he={label:"Observed 85th percentile speed (MPH)",width:3,min:0,max:120};a[0].trafficData.observedSpeed!==void 0&&(he.value=a[0].trafficData.observedSpeed),h=new it({props:he}),A.push(()=>H(h,"value",ze));function Ze(d){a[8](d)}let ve={label:"Street function",emptyOption:!0,choices:G(["High Street (active frontages)","Residential street","Local distributor road"])};return a[0].trafficData.streetFunction!==void 0&&(ve.value=a[0].trafficData.streetFunction),v=new K({props:ve}),A.push(()=>H(v,"value",Ze)),{c(){y(e.$$.fragment),t=F(),y(r.$$.fragment),l=F(),y(f.$$.fragment),s=F(),y(u.$$.fragment),_=F(),y(c.$$.fragment),P=F(),y(h.$$.fragment),w=F(),y(v.$$.fragment)},l(d){D(e.$$.fragment,d),t=C(d),D(r.$$.fragment,d),l=C(d),D(f.$$.fragment,d),s=C(d),D(u.$$.fragment,d),_=C(d),D(c.$$.fragment,d),P=C(d),D(h.$$.fragment,d),w=C(d),D(v.$$.fragment,d)},m(d,R){T(e,d,R),L(d,t,R),T(r,d,R),L(d,l,R),T(f,d,R),L(d,s,R),T(u,d,R),L(d,_,R),T(c,d,R),L(d,P,R),T(h,d,R),L(d,w,R),T(v,d,R),k=!0},p(d,R){const we={};!n&&R&1&&(n=!0,we.value=d[0].trafficData.flowOneWay,V(()=>n=!1)),e.$set(we);const ke={};!i&&R&1&&(i=!0,ke.value=d[0].trafficData.flowTwoWay,V(()=>i=!1)),r.$set(ke);const ye={};!o&&R&1&&(o=!0,ye.value=d[0].trafficData.flowSharedUse,V(()=>o=!1)),f.$set(ye);const De={};!m&&R&1&&(m=!0,De.value=d[0].trafficData.trafficFlow,V(()=>m=!1)),u.$set(De);const Te={};!M&&R&1&&(M=!0,Te.value=d[0].trafficData.speedLimit,V(()=>M=!1)),c.$set(Te);const Se={};!I&&R&1&&(I=!0,Se.value=d[0].trafficData.observedSpeed,V(()=>I=!1)),h.$set(Se);const Le={};!p&&R&1&&(p=!0,Le.value=d[0].trafficData.streetFunction,V(()=>p=!1)),v.$set(Le)},i(d){k||($(e.$$.fragment,d),$(r.$$.fragment,d),$(f.$$.fragment,d),$(u.$$.fragment,d),$(c.$$.fragment,d),$(h.$$.fragment,d),$(v.$$.fragment,d),k=!0)},o(d){b(e.$$.fragment,d),b(r.$$.fragment,d),b(f.$$.fragment,d),b(u.$$.fragment,d),b(c.$$.fragment,d),b(h.$$.fragment,d),b(v.$$.fragment,d),k=!1},d(d){d&&(g(t),g(l),g(s),g(_),g(P),g(w)),S(e,d),S(r,d),S(f,d),S(u,d),S(c,d),S(h,d),S(v,d)}}}function Mt(a){let e,n;return e=new re({props:{label:"Traffic data and additional information",$$slots:{default:[Lt]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,r){T(e,t,r),n=!0},p(t,[r]){const i={};r&513&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Rt(a,e,n){let t;ge(a,N,_=>n(0,t=_));let{valid:r}=e;function i(_){a.$$.not_equal(t.trafficData.flowOneWay,_)&&(t.trafficData.flowOneWay=_,N.set(t))}function l(_){a.$$.not_equal(t.trafficData.flowTwoWay,_)&&(t.trafficData.flowTwoWay=_,N.set(t))}function f(_){a.$$.not_equal(t.trafficData.flowSharedUse,_)&&(t.trafficData.flowSharedUse=_,N.set(t))}function o(_){a.$$.not_equal(t.trafficData.trafficFlow,_)&&(t.trafficData.trafficFlow=_,N.set(t))}function s(_){a.$$.not_equal(t.trafficData.speedLimit,_)&&(t.trafficData.speedLimit=_,N.set(t))}function u(_){a.$$.not_equal(t.trafficData.observedSpeed,_)&&(t.trafficData.observedSpeed=_,N.set(t))}function m(_){a.$$.not_equal(t.trafficData.streetFunction,_)&&(t.trafficData.streetFunction=_,N.set(t))}return a.$$set=_=>{"valid"in _&&n(1,r=_.valid)},a.$$.update=()=>{a.$$.dirty&1&&n(1,r=t.trafficData.flowOneWay!=""&&t.trafficData.flowTwoWay!=""&&t.trafficData.flowSharedUse!=""&&t.trafficData.trafficFlow!=""&&t.trafficData.speedLimit!=""&&t.trafficData.observedSpeed!=null&&t.trafficData.streetFunction!="")},[t,r,i,l,f,o,s,u,m]}class Ft extends z{constructor(e){super(),Z(this,e,Rt,Mt,Y,{valid:1})}}function Ct(a){let e,n="Fill out all data above to continue";return{c(){e=W("p"),e.textContent=n},l(t){e=B(t,"P",{"data-svelte-h":!0}),Be(e)!=="svelte-ma95"&&(e.textContent=n)},m(t,r){L(t,e,r)},p:oe,i:oe,o:oe,d(t){t&&g(e)}}}function Ot(a){let e,n,t,r;return e=new re({props:{label:"Desirable Minimum Cross-Section",$$slots:{default:[Et]},$$scope:{ctx:a}}}),t=new re({props:{label:"Absolute Minimum Cross-Section",$$slots:{default:[Wt]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment),n=F(),y(t.$$.fragment)},l(i){D(e.$$.fragment,i),n=C(i),D(t.$$.fragment,i)},m(i,l){T(e,i,l),L(i,n,l),T(t,i,l),r=!0},p(i,l){const f={};l&66&&(f.$$scope={dirty:l,ctx:i}),e.$set(f);const o={};l&66&&(o.$$scope={dirty:l,ctx:i}),t.$set(o)},i(i){r||($(e.$$.fragment,i),$(t.$$.fragment,i),r=!0)},o(i){b(e.$$.fragment,i),b(t.$$.fragment,i),r=!1},d(i){i&&g(n),S(e,i),S(t,i)}}}function Et(a){let e,n,t;function r(l){a[4](l)}let i={sectionType:"Desirable"};return a[1].desirableMinimumCrossSection!==void 0&&(i.lanesLeftToRight=a[1].desirableMinimumCrossSection),e=new Je({props:i}),A.push(()=>H(e,"lanesLeftToRight",r)),{c(){y(e.$$.fragment)},l(l){D(e.$$.fragment,l)},m(l,f){T(e,l,f),t=!0},p(l,f){const o={};!n&&f&2&&(n=!0,o.lanesLeftToRight=l[1].desirableMinimumCrossSection,V(()=>n=!1)),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Wt(a){let e,n,t;function r(l){a[5](l)}let i={sectionType:"Absolute"};return a[1].absoluteMinimumCrossSection!==void 0&&(i.lanesLeftToRight=a[1].absoluteMinimumCrossSection),e=new Je({props:i}),A.push(()=>H(e,"lanesLeftToRight",r)),{c(){y(e.$$.fragment)},l(l){D(e.$$.fragment,l)},m(l,f){T(e,l,f),t=!0},p(l,f){const o={};!n&&f&2&&(n=!0,o.lanesLeftToRight=l[1].absoluteMinimumCrossSection,V(()=>n=!1)),e.$set(o)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Bt(a){let e;return{c(){e=j("Reset")},l(n){e=X(n,"Reset")},m(n,t){L(n,e,t)},d(n){n&&g(e)}}}function Nt(a){let e,n,t,r;return e=new Ve({props:{$$slots:{default:[Bt]},$$scope:{ctx:a}}}),e.$on("click",a[2]),t=new mt({props:{label:"JSON",value:JSON.stringify(a[1],null,"  "),rows:10}}),{c(){y(e.$$.fragment),n=F(),y(t.$$.fragment)},l(i){D(e.$$.fragment,i),n=C(i),D(t.$$.fragment,i)},m(i,l){T(e,i,l),L(i,n,l),T(t,i,l),r=!0},p(i,l){const f={};l&64&&(f.$$scope={dirty:l,ctx:i}),e.$set(f);const o={};l&2&&(o.value=JSON.stringify(i[1],null,"  ")),t.$set(o)},i(i){r||($(e.$$.fragment,i),$(t.$$.fragment,i),r=!0)},o(i){b(e.$$.fragment,i),b(t.$$.fragment,i),r=!1},d(i){i&&g(n),S(e,i),S(t,i)}}}function Pt(a){let e,n,t=`<ol class="govuk-breadcrumbs__list"><li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${Fe}/">Tools</a></li> <li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${Fe}/cross_section">Route cross-section</a></li> <li class="govuk-breadcrumbs__list-item">Proposed Cross-Sections</li></ol>`,r,i,l,f,o,s,u,m,_;function c(w){a[3](w)}let M={};a[0]!==void 0&&(M.valid=a[0]),i=new Ft({props:M}),A.push(()=>H(i,"valid",c));const P=[Ot,Ct],h=[];function I(w,v){return w[0]?0:1}return o=I(a),s=h[o]=P[o](a),m=new re({props:{label:"Debug",$$slots:{default:[Nt]},$$scope:{ctx:a}}}),{c(){e=W("div"),n=W("div"),n.innerHTML=t,r=F(),y(i.$$.fragment),f=F(),s.c(),u=F(),y(m.$$.fragment),this.h()},l(w){e=B(w,"DIV",{class:!0});var v=J(e);n=B(v,"DIV",{class:!0,"data-svelte-h":!0}),Be(n)!=="svelte-7mvyxb"&&(n.innerHTML=t),r=C(v),D(i.$$.fragment,v),f=C(v),s.l(v),u=C(v),D(m.$$.fragment,v),v.forEach(g),this.h()},h(){E(n,"class","govuk-breadcrumbs"),E(e,"class","govuk-prose")},m(w,v){L(w,e,v),O(e,n),O(e,r),T(i,e,null),O(e,f),h[o].m(e,null),O(e,u),T(m,e,null),_=!0},p(w,[v]){const p={};!l&&v&1&&(l=!0,p.valid=w[0],V(()=>l=!1)),i.$set(p);let k=o;o=I(w),o===k?h[o].p(w,v):(Ne(),b(h[k],1,1,()=>{h[k]=null}),Pe(),s=h[o],s?s.p(w,v):(s=h[o]=P[o](w),s.c()),$(s,1),s.m(e,u));const q={};v&66&&(q.$$scope={dirty:v,ctx:w}),m.$set(q)},i(w){_||($(i.$$.fragment,w),$(s),$(m.$$.fragment,w),_=!0)},o(w){b(i.$$.fragment,w),b(s),b(m.$$.fragment,w),_=!1},d(w){w&&g(e),S(i),h[o].d(),S(m)}}}function It(a,e,n){let t;ge(a,N,s=>n(1,t=s));let r=!1;function i(){Ke(N,t=He(),t)}function l(s){r=s,n(0,r)}function f(s){a.$$.not_equal(t.desirableMinimumCrossSection,s)&&(t.desirableMinimumCrossSection=s,N.set(t))}function o(s){a.$$.not_equal(t.absoluteMinimumCrossSection,s)&&(t.absoluteMinimumCrossSection=s,N.set(t))}return[r,t,i,l,f,o]}class Jt extends z{constructor(e){super(),Z(this,e,It,Pt,Y,{})}}export{Jt as component};
