import{s as $e,e as me,a as q,c as ce,b as _e,d as S,f as b,h as ge,i as h,j as X,p as de,l as ve,t as ae,k as oe,m as be,x as T,y as B}from"../chunks/scheduler.D0-ByWw-.js";import{S as he,i as ke,c as k,a as w,m as y,t as d,f as we,b as v,d as C,g as ye,e as A}from"../chunks/index.kLUmZ0ht.js";import{B as Ce,e as Z}from"../chunks/Geocoder.svelte_svelte_type_style_lang.DWLBZvhF.js";import{p as De}from"../chunks/index.CTQ0uGGg.js";import{C as Le}from"../chunks/CollapsibleCard.C4F7qWbE.js";import{S as Ne}from"../chunks/SecondaryButton.BodoPf0p.js";import{S as x}from"../chunks/Select.BO9Lx4PP.js";import{T as qe}from"../chunks/TextArea.BCLSne4a.js";import{T as ee}from"../chunks/TextInput.DT2ZY4ng.js";import{W as Se}from"../chunks/WarningButton.0Mr93mrJ.js";import{s as N}from"../chunks/data.CbbqyUyX.js";import{Y as Te}from"../chunks/YesNo.GxU2JMUT.js";function te(t,a,s){const n=t.slice();return n[10]=a[s],n[11]=a,n[12]=s,n}function Be(t){let a;return{c(){a=ae("Add")},l(s){a=oe(s,"Add")},m(s,n){h(s,a,n)},d(s){s&&b(a)}}}function Ae(t){let a;return{c(){a=ae("Delete")},l(s){a=oe(s,"Delete")},m(s,n){h(s,a,n)},d(s){s&&b(a)}}}function Oe(t){let a,s,n,$,c,m,_,l,g,i,r,f,o,u,D,R,O,L,j,I,P;function se(){return t[3](t[12])}a=new Se({props:{$$slots:{default:[Ae]},$$scope:{ctx:t}}}),a.$on("click",se);function ie(e){t[4](e,t[10])}let E={label:"Policy Conflict",emptyOption:!0,choices:[["1","1 - Cyclists are not separated from pedestrians"],["2",'2 - Barriers, steps, or "Cyclist Dismount" signs are present'],["3","3 - The route is not direct, logical and intuitive"],["4","4 - Inappropriate surface materials"],["5","5 - Appropriate lighting is not provided"],["6","6 - Routes miss opportunities to join together with other facilities as a network"]]};t[10].conflict!==void 0&&(E.value=t[10].conflict),n=new x({props:E}),T.push(()=>A(n,"value",ie));function le(e){t[5](e,t[10])}let W={label:"Stage",emptyOption:!0,choices:De(["Existing","Design"])};t[10].stage!==void 0&&(W.value=t[10].stage),m=new x({props:W}),T.push(()=>A(m,"value",le));function re(e){t[6](e,t[10])}let Y={label:"Location"};t[10].point!==void 0&&(Y.value=t[10].point),g=new ee({props:Y}),T.push(()=>A(g,"value",re));function ue(e){t[7](e,t[10])}let F={label:"Location Name"};t[10].locationName!==void 0&&(F.value=t[10].locationName),f=new ee({props:F}),T.push(()=>A(f,"value",ue));function fe(e){t[8](e,t[10])}let V={label:"Resolved by Design"};t[10].resolved!==void 0&&(V.value=t[10].resolved),D=new Te({props:V}),T.push(()=>A(D,"value",fe));function pe(e){t[9](e,t[10])}let z={label:"Commentary & Feedback"};return t[10].notes!==void 0&&(z.value=t[10].notes),L=new qe({props:z}),T.push(()=>A(L,"value",pe)),{c(){k(a.$$.fragment),s=q(),k(n.$$.fragment),c=q(),k(m.$$.fragment),l=q(),k(g.$$.fragment),r=q(),k(f.$$.fragment),u=q(),k(D.$$.fragment),O=q(),k(L.$$.fragment),I=q()},l(e){w(a.$$.fragment,e),s=S(e),w(n.$$.fragment,e),c=S(e),w(m.$$.fragment,e),l=S(e),w(g.$$.fragment,e),r=S(e),w(f.$$.fragment,e),u=S(e),w(D.$$.fragment,e),O=S(e),w(L.$$.fragment,e),I=S(e)},m(e,p){y(a,e,p),h(e,s,p),y(n,e,p),h(e,c,p),y(m,e,p),h(e,l,p),y(g,e,p),h(e,r,p),y(f,e,p),h(e,u,p),y(D,e,p),h(e,O,p),y(L,e,p),h(e,I,p),P=!0},p(e,p){t=e;const G={};p&8192&&(G.$$scope={dirty:p,ctx:t}),a.$set(G);const H={};!$&&p&1&&($=!0,H.value=t[10].conflict,B(()=>$=!1)),n.$set(H);const J={};!_&&p&1&&(_=!0,J.value=t[10].stage,B(()=>_=!1)),m.$set(J);const K={};!i&&p&1&&(i=!0,K.value=t[10].point,B(()=>i=!1)),g.$set(K);const M={};!o&&p&1&&(o=!0,M.value=t[10].locationName,B(()=>o=!1)),f.$set(M);const Q={};!R&&p&1&&(R=!0,Q.value=t[10].resolved,B(()=>R=!1)),D.$set(Q);const U={};!j&&p&1&&(j=!0,U.value=t[10].notes,B(()=>j=!1)),L.$set(U)},i(e){P||(d(a.$$.fragment,e),d(n.$$.fragment,e),d(m.$$.fragment,e),d(g.$$.fragment,e),d(f.$$.fragment,e),d(D.$$.fragment,e),d(L.$$.fragment,e),P=!0)},o(e){v(a.$$.fragment,e),v(n.$$.fragment,e),v(m.$$.fragment,e),v(g.$$.fragment,e),v(f.$$.fragment,e),v(D.$$.fragment,e),v(L.$$.fragment,e),P=!1},d(e){e&&(b(s),b(c),b(l),b(r),b(u),b(O),b(I)),C(a,e),C(n,e),C(m,e),C(g,e),C(f,e),C(D,e),C(L,e)}}}function ne(t){let a,s;return a=new Le({props:{label:t[10].id,open:!0,$$slots:{default:[Oe]},$$scope:{ctx:t}}}),{c(){k(a.$$.fragment)},l(n){w(a.$$.fragment,n)},m(n,$){y(a,n,$),s=!0},p(n,$){const c={};$&1&&(c.label=n[10].id),$&8193&&(c.$$scope={dirty:$,ctx:n}),a.$set(c)},i(n){s||(d(a.$$.fragment,n),s=!0)},o(n){v(a.$$.fragment,n),s=!1},d(n){C(a,n)}}}function Ie(t){let a,s,n,$,c,m;s=new Ce({props:{links:[["Tools","/"],["Route check tool","/route_check"]],current:"Policy Conflict Log"}}),$=new Ne({props:{$$slots:{default:[Be]},$$scope:{ctx:t}}}),$.$on("click",t[1]);let _=Z(t[0].policyConflictLog),l=[];for(let i=0;i<_.length;i+=1)l[i]=ne(te(t,_,i));const g=i=>v(l[i],1,1,()=>{l[i]=null});return{c(){a=me("div"),k(s.$$.fragment),n=q(),k($.$$.fragment),c=q();for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){a=ce(i,"DIV",{class:!0});var r=_e(a);w(s.$$.fragment,r),n=S(r),w($.$$.fragment,r),c=S(r);for(let f=0;f<l.length;f+=1)l[f].l(r);r.forEach(b),this.h()},h(){ge(a,"class","govuk-prose")},m(i,r){h(i,a,r),y(s,a,null),X(a,n),y($,a,null),X(a,c);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(a,null);m=!0},p(i,[r]){const f={};if(r&8192&&(f.$$scope={dirty:r,ctx:i}),$.$set(f),r&5){_=Z(i[0].policyConflictLog);let o;for(o=0;o<_.length;o+=1){const u=te(i,_,o);l[o]?(l[o].p(u,r),d(l[o],1)):(l[o]=ne(u),l[o].c(),d(l[o],1),l[o].m(a,null))}for(ye(),o=_.length;o<l.length;o+=1)g(o);we()}},i(i){if(!m){d(s.$$.fragment,i),d($.$$.fragment,i);for(let r=0;r<_.length;r+=1)d(l[r]);m=!0}},o(i){v(s.$$.fragment,i),v($.$$.fragment,i),l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)v(l[r]);m=!1},d(i){i&&b(a),C(s),C($),de(l,i)}}}function Pe(t,a,s){let n;ve(t,N,o=>s(0,n=o));function $(){be(N,n.policyConflictLog=[...n.policyConflictLog,{id:"TODO",conflict:"",stage:"",point:"",locationName:"",resolved:"",notes:""}],n)}function c(o){window.confirm("Delete this entry?")&&(n.policyConflictLog.splice(o,1),N.set(n))}const m=o=>c(o);function _(o,u){t.$$.not_equal(u.conflict,o)&&(u.conflict=o,N.set(n))}function l(o,u){t.$$.not_equal(u.stage,o)&&(u.stage=o,N.set(n))}function g(o,u){t.$$.not_equal(u.point,o)&&(u.point=o,N.set(n))}function i(o,u){t.$$.not_equal(u.locationName,o)&&(u.locationName=o,N.set(n))}function r(o,u){t.$$.not_equal(u.resolved,o)&&(u.resolved=o,N.set(n))}function f(o,u){t.$$.not_equal(u.notes,o)&&(u.notes=o,N.set(n))}return[n,$,c,m,_,l,g,i,r,f]}class Me extends he{constructor(a){super(),ke(this,a,Pe,Ie,$e,{})}}export{Me as component};
