import{s as pe,a as B,H as X,g as S,i as g,f as v,m as me,k as de,t as ie,d as se,p as $e,F as T,G as D}from"../chunks/scheduler.HrLheCwp.js";import{S as _e,i as ge,c as y,a as k,m as C,t as _,e as ve,b,d as A,g as be,f as W}from"../chunks/index.CBAPUw7C.js";import{e as Z}from"../chunks/each.CIC7OodG.js";import{p as he}from"../chunks/index.CZ956gRL.js";import{C as we}from"../chunks/CollapsibleCard.B1cKliws.js";import{S as ye}from"../chunks/SecondaryButton.BuWyKpPE.js";import{S as x}from"../chunks/Select.u2bltAr1.js";import{T as ke}from"../chunks/TextArea.ClcIkt0I.js";import{T as ee}from"../chunks/TextInput.Bnus5LOl.js";import{W as Ce}from"../chunks/WarningButton.DfFnEV57.js";import{s as w}from"../chunks/data.DGxvcu2n.js";import{Y as Ae}from"../chunks/YesNo.DmvMU5Zr.js";function te(t,i,r){const n=t.slice();return n[11]=i[r],n[12]=i,n[13]=r,n}function Be(t){let i;return{c(){i=ie("Add")},l(r){i=se(r,"Add")},m(r,n){g(r,i,n)},d(r){r&&v(i)}}}function Se(t){let i;return{c(){i=ie("Delete")},l(r){i=se(r,"Delete")},m(r,n){g(r,i,n)},d(r){r&&v(i)}}}function Ie(t){let i,r,n,m,p,a,I,s,o,$,c,d,q,l,f,P,N,h,F,M,L;function ae(){return t[4](t[13])}i=new Ce({props:{$$slots:{default:[Se]},$$scope:{ctx:t}}}),i.$on("click",ae);function oe(e){t[5](e,t[11])}let R={label:"Critical Issue",emptyOption:!0,choices:t[1]};t[11].criticalIssue!==void 0&&(R.value=t[11].criticalIssue),n=new x({props:R}),T.push(()=>W(n,"value",oe));function re(e){t[6](e,t[11])}let E={label:"Stage",emptyOption:!0,choices:he(["Existing","Design"])};t[11].stage!==void 0&&(E.value=t[11].stage),a=new x({props:E}),T.push(()=>W(a,"value",re));function le(e){t[7](e,t[11])}let O={label:"Location"};t[11].point!==void 0&&(O.value=t[11].point),o=new ee({props:O}),T.push(()=>W(o,"value",le));function fe(e){t[8](e,t[11])}let j={label:"Location Name"};t[11].locationName!==void 0&&(j.value=t[11].locationName),d=new ee({props:j}),T.push(()=>W(d,"value",fe));function ue(e){t[9](e,t[11])}let G={label:"Resolved by Design"};t[11].resolved!==void 0&&(G.value=t[11].resolved),f=new Ae({props:G}),T.push(()=>W(f,"value",ue));function ce(e){t[10](e,t[11])}let H={label:"Commentary & Feedback"};return t[11].notes!==void 0&&(H.value=t[11].notes),h=new ke({props:H}),T.push(()=>W(h,"value",ce)),{c(){y(i.$$.fragment),r=B(),y(n.$$.fragment),p=B(),y(a.$$.fragment),s=B(),y(o.$$.fragment),c=B(),y(d.$$.fragment),l=B(),y(f.$$.fragment),N=B(),y(h.$$.fragment),M=B()},l(e){k(i.$$.fragment,e),r=S(e),k(n.$$.fragment,e),p=S(e),k(a.$$.fragment,e),s=S(e),k(o.$$.fragment,e),c=S(e),k(d.$$.fragment,e),l=S(e),k(f.$$.fragment,e),N=S(e),k(h.$$.fragment,e),M=S(e)},m(e,u){C(i,e,u),g(e,r,u),C(n,e,u),g(e,p,u),C(a,e,u),g(e,s,u),C(o,e,u),g(e,c,u),C(d,e,u),g(e,l,u),C(f,e,u),g(e,N,u),C(h,e,u),g(e,M,u),L=!0},p(e,u){t=e;const V={};u&16384&&(V.$$scope={dirty:u,ctx:t}),i.$set(V);const J={};!m&&u&1&&(m=!0,J.value=t[11].criticalIssue,D(()=>m=!1)),n.$set(J);const K={};!I&&u&1&&(I=!0,K.value=t[11].stage,D(()=>I=!1)),a.$set(K);const Y={};!$&&u&1&&($=!0,Y.value=t[11].point,D(()=>$=!1)),o.$set(Y);const z={};!q&&u&1&&(q=!0,z.value=t[11].locationName,D(()=>q=!1)),d.$set(z);const U={};!P&&u&1&&(P=!0,U.value=t[11].resolved,D(()=>P=!1)),f.$set(U);const Q={};!F&&u&1&&(F=!0,Q.value=t[11].notes,D(()=>F=!1)),h.$set(Q)},i(e){L||(_(i.$$.fragment,e),_(n.$$.fragment,e),_(a.$$.fragment,e),_(o.$$.fragment,e),_(d.$$.fragment,e),_(f.$$.fragment,e),_(h.$$.fragment,e),L=!0)},o(e){b(i.$$.fragment,e),b(n.$$.fragment,e),b(a.$$.fragment,e),b(o.$$.fragment,e),b(d.$$.fragment,e),b(f.$$.fragment,e),b(h.$$.fragment,e),L=!1},d(e){e&&(v(r),v(p),v(s),v(c),v(l),v(N),v(M)),A(i,e),A(n,e),A(a,e),A(o,e),A(d,e),A(f,e),A(h,e)}}}function ne(t){let i,r;return i=new we({props:{label:t[11].id,open:!0,$$slots:{default:[Ie]},$$scope:{ctx:t}}}),{c(){y(i.$$.fragment)},l(n){k(i.$$.fragment,n)},m(n,m){C(i,n,m),r=!0},p(n,m){const p={};m&1&&(p.label=n[11].id),m&16385&&(p.$$scope={dirty:m,ctx:n}),i.$set(p)},i(n){r||(_(i.$$.fragment,n),r=!0)},o(n){b(i.$$.fragment,n),r=!1},d(n){A(i,n)}}}function Te(t){let i,r,n,m;i=new ye({props:{$$slots:{default:[Be]},$$scope:{ctx:t}}}),i.$on("click",t[2]);let p=Z(t[0].criticalIssues),a=[];for(let s=0;s<p.length;s+=1)a[s]=ne(te(t,p,s));const I=s=>b(a[s],1,1,()=>{a[s]=null});return{c(){y(i.$$.fragment),r=B();for(let s=0;s<a.length;s+=1)a[s].c();n=X()},l(s){k(i.$$.fragment,s),r=S(s);for(let o=0;o<a.length;o+=1)a[o].l(s);n=X()},m(s,o){C(i,s,o),g(s,r,o);for(let $=0;$<a.length;$+=1)a[$]&&a[$].m(s,o);g(s,n,o),m=!0},p(s,[o]){const $={};if(o&16384&&($.$$scope={dirty:o,ctx:s}),i.$set($),o&11){p=Z(s[0].criticalIssues);let c;for(c=0;c<p.length;c+=1){const d=te(s,p,c);a[c]?(a[c].p(d,o),_(a[c],1)):(a[c]=ne(d),a[c].c(),_(a[c],1),a[c].m(n.parentNode,n))}for(be(),c=p.length;c<a.length;c+=1)I(c);ve()}},i(s){if(!m){_(i.$$.fragment,s);for(let o=0;o<p.length;o+=1)_(a[o]);m=!0}},o(s){b(i.$$.fragment,s),a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)b(a[o]);m=!1},d(s){s&&(v(r),v(n)),A(i,s),me(a,s)}}}function De(t,i,r){let n;de(t,w,l=>r(0,n=l));let m=[["1","1 - Conflict at Side Roads and Priority Junctions: >2,500vpd cut across main walking, wheeling or cycling streams"],["2","2 - Conflict at Roundabouts and Signal Junctions: >2,500vpd cut across main walking, wheeling or cycling streams"],["3","3 - Lane Widths: Cyclists unprotected in 3.25-3.9m wide nearside lane"],["4","4 - Trip Hazards: Level differences >13mm with no tactile information and colour contrast"],["5A","5A - Kerbside Activity: Cycle facility next to parking/loading with insufficient buffer"],["5B","5B - Kerbside Activity: Unprotected cycle lane next to a frequently used bus layby"],["6A","6A - Provision of Crossings: on busy streets (>8,000vpd), formal crossings are more than 400m apart"],["6B","6B - Provision of Crossings: on quieter streets (<8,000vpd), desire lines are blocked by parking/loading"],["7A","7A - Standard of Crossings: on busy streets (>8,000vpd), uncontrolled crossings of 2+ lanes with no gaps in traffic"],["7B","7B - Standard of Crossings: at signal junctions, there are arms with no green man for pedestrians"],["8","8 - Motor Traffic Speed: Mean speed > 30mph when cyclists/pedestrians are unprotected"],["9A","9A - Motor Traffic Volume: >1,000 vehicles in busiest hour when cyclists/pedestrians are unprotected"],["9B","9B - Motor Traffic Volume: >5% HGV traffic when cyclists/pedestrians are unprotected and >500 vehicles in busiest hour"],["10","10 - Pedestrian Crossing Speed: Pedestrians must cross at speeds >1.2m/s"],["11A","11A - Footway Width: <1m clear width"],["11B","11B - Footway Width: 1.0-1.5m wide clear width for over 6m"],["11C","11C - Footway Width: <2m clear width and pedestrian comfort level is poor (PCL of D-E)"],["11D","11D - Footway Width: no footway"],["12A","12A - Effective Width next to Tram Lines: <2.4m effective width for cyclists from tramline edge to kerb on a straight run"],["12B","12B - Effective Width next to Tram Lines: insufficient effective width for cyclists on a curved section of tram route"],["13","13 - Crossing Angle of Tram/Train Rails: Cyclist crossing angle <60Â°"],["14",'14 - Cycling Surface and Maintenance Defects: Major defects (provide further information in "commentary and feedback")'],["15",'15 - Walking/Wheeling Surface and Maintenance Defects: Major defects (provide further information in "commentary and feedback")'],["16","16 - Guard Railing: used as standard without consideration of inherent safety risks"]];function p(){$e(w,n.criticalIssues=[...n.criticalIssues,{id:"TODO",criticalIssue:"",stage:"",point:"",locationName:"",resolved:"",notes:""}],n)}function a(l){window.confirm("Delete this entry?")&&(n.criticalIssues.splice(l,1),w.set(n))}const I=l=>a(l);function s(l,f){t.$$.not_equal(f.criticalIssue,l)&&(f.criticalIssue=l,w.set(n))}function o(l,f){t.$$.not_equal(f.stage,l)&&(f.stage=l,w.set(n))}function $(l,f){t.$$.not_equal(f.point,l)&&(f.point=l,w.set(n))}function c(l,f){t.$$.not_equal(f.locationName,l)&&(f.locationName=l,w.set(n))}function d(l,f){t.$$.not_equal(f.resolved,l)&&(f.resolved=l,w.set(n))}function q(l,f){t.$$.not_equal(f.notes,l)&&(f.notes=l,w.set(n))}return[n,m,p,a,I,s,o,$,c,d,q]}class He extends _e{constructor(i){super(),ge(this,i,De,Te,pe,{})}}export{He as component};
