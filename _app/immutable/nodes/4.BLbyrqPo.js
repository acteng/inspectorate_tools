import{s as A,a as le,u as se,g as ie,b as re,n as Y,r as Pe,k as Ye,x as Ce,y as ne,z as Oe,c as Ae,e as V,A as H,B as Ge}from"../chunks/scheduler.FYFcFVL2.js";import{S as R,i as q,e as I,t as K,s as N,c as F,f as L,h as Q,d as g,j as W,a as v,b as h,k as U,l as te,m as w,n as k,u as ee,g as fe,o as y,p as S,q as O,r as E,z as j,A as G,B as Ee,C as Ke,D as Qe,E as Me,F as B}from"../chunks/index.aF76NsiG.js";import{w as Ze}from"../chunks/index.PH-_wf9j.js";import{b as Te}from"../chunks/paths.CvR6iP50.js";function Ue(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function xe(a,e){const n={},t={},l={$$scope:1};let s=a.length;for(;s--;){const f=a[s],i=e[s];if(i){for(const r in f)r in i||(t[r]=1);for(const r in i)l[r]||(n[r]=i[r],l[r]=1);a[s]=i}else for(const r in f)l[r]=1}for(const f in t)f in n||(n[f]=void 0);return n}let x;const et=new Uint8Array(16);function tt(){if(!x&&(x=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!x))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x(et)}const T=[];for(let a=0;a<256;++a)T.push((a+256).toString(16).slice(1));function at(a,e=0){return T[a[e+0]]+T[a[e+1]]+T[a[e+2]]+T[a[e+3]]+"-"+T[a[e+4]]+T[a[e+5]]+"-"+T[a[e+6]]+T[a[e+7]]+"-"+T[a[e+8]]+T[a[e+9]]+"-"+T[a[e+10]]+T[a[e+11]]+T[a[e+12]]+T[a[e+13]]+T[a[e+14]]+T[a[e+15]]}const nt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ie={randomUUID:nt};function ue(a,e,n){if(Ie.randomUUID&&!e&&!a)return Ie.randomUUID();a=a||{};const t=a.random||(a.rng||tt)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,e){n=n||0;for(let l=0;l<16;++l)e[n+l]=t[l];return e}return at(t)}function lt(a){let e,n,t,l,s,f,i;const r=a[3].default,u=le(r,a,a[2],null);return{c(){e=I("details"),n=I("summary"),t=I("span"),l=K(a[0]),s=N(),f=I("div"),u&&u.c(),this.h()},l(c){e=F(c,"DETAILS",{class:!0,"data-module":!0});var d=L(e);n=F(d,"SUMMARY",{class:!0});var m=L(n);t=F(m,"SPAN",{class:!0});var _=L(t);l=Q(_,a[0]),_.forEach(g),m.forEach(g),s=W(d),f=F(d,"DIV",{class:!0});var p=L(f);u&&u.l(p),p.forEach(g),d.forEach(g),this.h()},h(){v(t,"class","govuk-details__summary-text"),v(n,"class","govuk-details__summary"),v(f,"class","govuk-details__text"),e.open=a[1],v(e,"class","govuk-details"),v(e,"data-module","govuk-details")},m(c,d){h(c,e,d),U(e,n),U(n,t),U(t,l),U(e,s),U(e,f),u&&u.m(f,null),i=!0},p(c,[d]){(!i||d&1)&&te(l,c[0]),u&&u.p&&(!i||d&4)&&se(u,r,c,c[2],i?re(r,c[2],d,null):ie(c[2]),null),(!i||d&2)&&(e.open=c[1])},i(c){i||(w(u,c),i=!0)},o(c){k(u,c),i=!1},d(c){c&&g(e),u&&u.d(c)}}}function st(a,e,n){let{$$slots:t={},$$scope:l}=e,{label:s}=e,{open:f=!1}=e;return a.$$set=i=>{"label"in i&&n(0,s=i.label),"open"in i&&n(1,f=i.open),"$$scope"in i&&n(2,l=i.$$scope)},[s,f,l,t]}class Re extends R{constructor(e){super(),q(this,e,st,lt,A,{label:0,open:1})}}function Fe(a){let e,n,t="Error:",l,s;return{c(){e=I("div"),n=I("span"),n.textContent=t,l=N(),s=K(a[0]),this.h()},l(f){e=F(f,"DIV",{class:!0});var i=L(e);n=F(i,"SPAN",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1gidx8i"&&(n.textContent=t),l=W(i),s=Q(i,a[0]),i.forEach(g),this.h()},h(){v(n,"class","govuk-visually-hidden"),v(e,"class","govuk-error-message")},m(f,i){h(f,e,i),U(e,n),U(e,l),U(e,s)},p(f,i){i&1&&te(s,f[0])},d(f){f&&g(e)}}}function it(a){let e,n=a[0]&&Fe(a);return{c(){n&&n.c(),e=ee()},l(t){n&&n.l(t),e=ee()},m(t,l){n&&n.m(t,l),h(t,e,l)},p(t,[l]){t[0]?n?n.p(t,l):(n=Fe(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Y,o:Y,d(t){t&&g(e),n&&n.d(t)}}}function rt(a,e,n){let{errorMessage:t}=e;return a.$$set=l=>{"errorMessage"in l&&n(0,t=l.errorMessage)},[t]}class oe extends R{constructor(e){super(),q(this,e,rt,it,A,{errorMessage:0})}}function ft(a){let e,n,t,l,s;const f=a[3].default,i=le(f,a,a[2],null);return{c(){e=I("div"),n=I("label"),t=K(a[0]),l=N(),i&&i.c(),this.h()},l(r){e=F(r,"DIV",{class:!0});var u=L(e);n=F(u,"LABEL",{class:!0,for:!0});var c=L(n);t=Q(c,a[0]),c.forEach(g),l=W(u),i&&i.l(u),u.forEach(g),this.h()},h(){v(n,"class","govuk-label govuk-label--s"),v(n,"for",a[1]),v(e,"class","govuk-form-group")},m(r,u){h(r,e,u),U(e,n),U(n,t),U(e,l),i&&i.m(e,null),s=!0},p(r,[u]){(!s||u&1)&&te(t,r[0]),(!s||u&2)&&v(n,"for",r[1]),i&&i.p&&(!s||u&4)&&se(i,f,r,r[2],s?re(f,r[2],u,null):ie(r[2]),null)},i(r){s||(w(i,r),s=!0)},o(r){k(i,r),s=!1},d(r){r&&g(e),i&&i.d(r)}}}function ut(a,e,n){let{$$slots:t={},$$scope:l}=e,{label:s}=e,{id:f}=e;return a.$$set=i=>{"label"in i&&n(0,s=i.label),"id"in i&&n(1,f=i.id),"$$scope"in i&&n(2,l=i.$$scope)},[s,f,l,t]}class ce extends R{constructor(e){super(),q(this,e,ut,ft,A,{label:0,id:1})}}function ot(a){let e,n,t,l,s,f,i;return e=new oe({props:{errorMessage:a[5](a[2])}}),{c(){y(e.$$.fragment),n=N(),t=I("input"),this.h()},l(r){S(e.$$.fragment,r),n=W(r),t=F(r,"INPUT",{type:!0,inputmode:!0,class:!0,id:!0}),this.h()},h(){v(t,"type","text"),v(t,"inputmode","numeric"),v(t,"class",l=`govuk-input govuk-input--width-${a[1]}`),v(t,"id",a[3])},m(r,u){O(e,r,u),h(r,n,u),h(r,t,u),j(t,a[2]),s=!0,f||(i=[G(t,"input",a[9]),G(t,"change",a[4])],f=!0)},p(r,u){const c={};u&4&&(c.errorMessage=r[5](r[2])),e.$set(c),(!s||u&2&&l!==(l=`govuk-input govuk-input--width-${r[1]}`))&&v(t,"class",l),u&4&&t.value!==r[2]&&j(t,r[2])},i(r){s||(w(e.$$.fragment,r),s=!0)},o(r){k(e.$$.fragment,r),s=!1},d(r){r&&(g(n),g(t)),E(e,r),f=!1,Pe(i)}}}function ct(a){let e,n;return e=new ce({props:{label:a[0],id:a[3],$$slots:{default:[ot]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const s={};l&1&&(s.label=t[0]),l&1030&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function mt(a,e,n){let{label:t}=e,{value:l}=e,{width:s}=e,{min:f=void 0}=e,{max:i=void 0}=e,r=l==null?void 0:l.toString(),u=ue();function c(){n(6,l=r==null?void 0:parseInt(r,10))}function d(_){if(_==""||_==null)return"";if(_.includes("."))return"Please enter a number without decimals";let p=Number(_);return isNaN(p)?"Please enter a valid number":f!=null&&p<f?`Please enter a number that's at least ${f};`:i!=null&&p>i?`Please enter a number that's at most ${i};`:""}function m(){r=this.value,n(2,r)}return a.$$set=_=>{"label"in _&&n(0,t=_.label),"value"in _&&n(6,l=_.value),"width"in _&&n(1,s=_.width),"min"in _&&n(7,f=_.min),"max"in _&&n(8,i=_.max)},[t,s,r,u,c,d,l,f,i,m]}class dt extends R{constructor(e){super(),q(this,e,mt,ct,A,{label:0,value:6,width:1,min:7,max:8})}}function Ne(a,e,n){const t=a.slice();return t[9]=e[n][0],t[10]=e[n][1],t}function We(a){let e;return{c(){e=I("option"),this.h()},l(n){e=F(n,"OPTION",{}),L(e).forEach(g),this.h()},h(){e.__value="",j(e,e.__value)},m(n,t){h(n,e,t)},d(n){n&&g(e)}}}function Le(a){let e,n=a[10]+"",t,l;return{c(){e=I("option"),t=K(n),this.h()},l(s){e=F(s,"OPTION",{});var f=L(e);t=Q(f,n),f.forEach(g),this.h()},h(){e.__value=l=a[9],j(e,e.__value)},m(s,f){h(s,e,f),U(e,t)},p(s,f){f&4&&n!==(n=s[10]+"")&&te(t,n),f&4&&l!==(l=s[9])&&(e.__value=l,j(e,e.__value))},d(s){s&&g(e)}}}function _t(a){let e,n,t,l,s,f,i;e=new oe({props:{errorMessage:a[5]}});let r=a[3]&&We(),u=Ue(a[2]),c=[];for(let d=0;d<u.length;d+=1)c[d]=Le(Ne(a,u,d));return{c(){y(e.$$.fragment),n=N(),t=I("select"),r&&r.c(),l=ee();for(let d=0;d<c.length;d+=1)c[d].c();this.h()},l(d){S(e.$$.fragment,d),n=W(d),t=F(d,"SELECT",{class:!0,id:!0});var m=L(t);r&&r.l(m),l=ee();for(let _=0;_<c.length;_+=1)c[_].l(m);m.forEach(g),this.h()},h(){v(t,"class","govuk-select"),v(t,"id",a[6]),t.disabled=a[4],a[0]===void 0&&Ye(()=>a[8].call(t))},m(d,m){O(e,d,m),h(d,n,m),h(d,t,m),r&&r.m(t,null),U(t,l);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(t,null);Ee(t,a[0],!0),s=!0,f||(i=[G(t,"change",a[8]),G(t,"change",a[7])],f=!0)},p(d,m){const _={};if(m&32&&(_.errorMessage=d[5]),e.$set(_),d[3]?r||(r=We(),r.c(),r.m(t,l)):r&&(r.d(1),r=null),m&4){u=Ue(d[2]);let p;for(p=0;p<u.length;p+=1){const M=Ne(d,u,p);c[p]?c[p].p(M,m):(c[p]=Le(M),c[p].c(),c[p].m(t,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=u.length}(!s||m&16)&&(t.disabled=d[4]),m&5&&Ee(t,d[0])},i(d){s||(w(e.$$.fragment,d),s=!0)},o(d){k(e.$$.fragment,d),s=!1},d(d){d&&(g(n),g(t)),E(e,d),r&&r.d(),Ke(c,d),f=!1,Pe(i)}}}function gt(a){let e,n;return e=new ce({props:{label:a[1],id:a[6],$$slots:{default:[_t]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.label=t[1]),l&8253&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function bt(a,e,n){let{label:t}=e,{choices:l}=e,{emptyOption:s=!1}=e,{disabled:f=!1}=e,{errorMessage:i=""}=e,{value:r}=e,u=ue();function c(m){Ce.call(this,a,m)}function d(){r=Qe(this),n(0,r),n(2,l)}return a.$$set=m=>{"label"in m&&n(1,t=m.label),"choices"in m&&n(2,l=m.choices),"emptyOption"in m&&n(3,s=m.emptyOption),"disabled"in m&&n(4,f=m.disabled),"errorMessage"in m&&n(5,i=m.errorMessage),"value"in m&&n(0,r=m.value)},[r,t,l,s,f,i,u,c,d]}class z extends R{constructor(e){super(),q(this,e,bt,gt,A,{label:1,choices:2,emptyOption:3,disabled:4,errorMessage:5,value:0})}}function pt(a){let e,n,t,l,s,f;return e=new oe({props:{errorMessage:a[3]}}),{c(){y(e.$$.fragment),n=N(),t=I("textarea"),this.h()},l(i){S(e.$$.fragment,i),n=W(i),t=F(i,"TEXTAREA",{class:!0,id:!0,rows:!0}),L(t).forEach(g),this.h()},h(){v(t,"class","govuk-textarea"),v(t,"id",a[4]),v(t,"rows",a[2])},m(i,r){O(e,i,r),h(i,n,r),h(i,t,r),j(t,a[0]),l=!0,s||(f=G(t,"input",a[5]),s=!0)},p(i,r){const u={};r&8&&(u.errorMessage=i[3]),e.$set(u),(!l||r&4)&&v(t,"rows",i[2]),r&1&&j(t,i[0])},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){i&&(g(n),g(t)),E(e,i),s=!1,f()}}}function vt(a){let e,n;return e=new ce({props:{label:a[1],id:a[4],$$slots:{default:[pt]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const s={};l&2&&(s.label=t[1]),l&77&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function ht(a,e,n){let{label:t}=e,{value:l}=e,{rows:s=5}=e,{errorMessage:f=""}=e,i=ue();function r(){l=this.value,n(0,l)}return a.$$set=u=>{"label"in u&&n(1,t=u.label),"value"in u&&n(0,l=u.value),"rows"in u&&n(2,s=u.rows),"errorMessage"in u&&n(3,f=u.errorMessage)},[l,t,s,f,i,r]}class $t extends R{constructor(e){super(),q(this,e,ht,vt,A,{label:1,value:0,rows:2,errorMessage:3})}}function wt(a){let e,n,t,l;const s=a[2].default,f=le(s,a,a[1],null);let i=[{type:"button"},{class:"govuk-button govuk-button--warning"},{"data-module":"govuk-button"},a[0]],r={};for(let u=0;u<i.length;u+=1)r=ne(r,i[u]);return{c(){e=I("button"),f&&f.c(),this.h()},l(u){e=F(u,"BUTTON",{type:!0,class:!0,"data-module":!0});var c=L(e);f&&f.l(c),c.forEach(g),this.h()},h(){Me(e,r)},m(u,c){h(u,e,c),f&&f.m(e,null),e.autofocus&&e.focus(),n=!0,t||(l=G(e,"click",a[3]),t=!0)},p(u,[c]){f&&f.p&&(!n||c&2)&&se(f,s,u,u[1],n?re(s,u[1],c,null):ie(u[1]),null),Me(e,r=xe(i,[{type:"button"},{class:"govuk-button govuk-button--warning"},{"data-module":"govuk-button"},c&1&&u[0]]))},i(u){n||(w(f,u),n=!0)},o(u){k(f,u),n=!1},d(u){u&&g(e),f&&f.d(u),t=!1,l()}}}function kt(a,e,n){let{$$slots:t={},$$scope:l}=e;function s(f){Ce.call(this,a,f)}return a.$$set=f=>{n(0,e=ne(ne({},e),Oe(f))),"$$scope"in f&&n(1,l=f.$$scope)},e=Oe(e),[e,l,t,s]}class Dt extends R{constructor(e){super(),q(this,e,kt,wt,A,{})}}let C=Ze(yt());C.subscribe(a=>window.localStorage.setItem("cross-section",JSON.stringify(a)));function yt(){let a=JSON.parse(window.localStorage.getItem("cross-section")||"{}");return a.trafficData?a:qe()}function qe(){return{trafficData:{flowOneWay:"",flowTwoWay:"",flowSharedUse:"",trafficFlow:"",speedLimit:"",observedSpeed:void 0,streetFunction:""}}}function St(a){let e,n,t,l,s,f,i,r,u,c,d,m,_,p,M,b,D,J,P,ae,Z;function Ve(o){a[2](o)}let me={label:"Expected peak hour cycle flow: 1-way cycle tracks",emptyOption:!0,choices:X(["<200","200-800",">800"])};a[0].trafficData.flowOneWay!==void 0&&(me.value=a[0].trafficData.flowOneWay),e=new z({props:me}),V.push(()=>B(e,"value",Ve));function He(o){a[3](o)}let de={label:"Expected peak hour cycle flow: 2-way cycle tracks",emptyOption:!0,choices:X(["<300","300-1,000",">1,000"])};a[0].trafficData.flowTwoWay!==void 0&&(de.value=a[0].trafficData.flowTwoWay),l=new z({props:de}),V.push(()=>B(l,"value",He));function Be(o){a[4](o)}let _e={label:"Expected peak hour cycle flow: shared use cycle tracks",emptyOption:!0,choices:X(["<300",">300"])};a[0].trafficData.flowSharedUse!==void 0&&(_e.value=a[0].trafficData.flowSharedUse),i=new z({props:_e}),V.push(()=>B(i,"value",Be));function Je(o){a[5](o)}let ge={label:"Traffic flow (vpd)",emptyOption:!0,choices:X(["<2,500","2,500-5,000","5,000-10,000",">10,000"])};a[0].trafficData.trafficFlow!==void 0&&(ge.value=a[0].trafficData.trafficFlow),c=new z({props:ge}),V.push(()=>B(c,"value",Je));function je(o){a[6](o)}let be={label:"Speed limit (MPH)",emptyOption:!0,choices:X(["<30","30","40","50","60","70"])};a[0].trafficData.speedLimit!==void 0&&(be.value=a[0].trafficData.speedLimit),_=new z({props:be}),V.push(()=>B(_,"value",je));function ze(o){a[7](o)}let pe={label:"Observed 85th percentile speed (MPH)",width:3,min:0,max:120};a[0].trafficData.observedSpeed!==void 0&&(pe.value=a[0].trafficData.observedSpeed),b=new dt({props:pe}),V.push(()=>B(b,"value",ze));function Xe(o){a[8](o)}let ve={label:"Street function",emptyOption:!0,choices:X(["High Street (active frontages)","Residential street","Local distributor road"])};return a[0].trafficData.streetFunction!==void 0&&(ve.value=a[0].trafficData.streetFunction),P=new z({props:ve}),V.push(()=>B(P,"value",Xe)),{c(){y(e.$$.fragment),t=N(),y(l.$$.fragment),f=N(),y(i.$$.fragment),u=N(),y(c.$$.fragment),m=N(),y(_.$$.fragment),M=N(),y(b.$$.fragment),J=N(),y(P.$$.fragment)},l(o){S(e.$$.fragment,o),t=W(o),S(l.$$.fragment,o),f=W(o),S(i.$$.fragment,o),u=W(o),S(c.$$.fragment,o),m=W(o),S(_.$$.fragment,o),M=W(o),S(b.$$.fragment,o),J=W(o),S(P.$$.fragment,o)},m(o,$){O(e,o,$),h(o,t,$),O(l,o,$),h(o,f,$),O(i,o,$),h(o,u,$),O(c,o,$),h(o,m,$),O(_,o,$),h(o,M,$),O(b,o,$),h(o,J,$),O(P,o,$),Z=!0},p(o,$){const he={};!n&&$&1&&(n=!0,he.value=o[0].trafficData.flowOneWay,H(()=>n=!1)),e.$set(he);const $e={};!s&&$&1&&(s=!0,$e.value=o[0].trafficData.flowTwoWay,H(()=>s=!1)),l.$set($e);const we={};!r&&$&1&&(r=!0,we.value=o[0].trafficData.flowSharedUse,H(()=>r=!1)),i.$set(we);const ke={};!d&&$&1&&(d=!0,ke.value=o[0].trafficData.trafficFlow,H(()=>d=!1)),c.$set(ke);const De={};!p&&$&1&&(p=!0,De.value=o[0].trafficData.speedLimit,H(()=>p=!1)),_.$set(De);const ye={};!D&&$&1&&(D=!0,ye.value=o[0].trafficData.observedSpeed,H(()=>D=!1)),b.$set(ye);const Se={};!ae&&$&1&&(ae=!0,Se.value=o[0].trafficData.streetFunction,H(()=>ae=!1)),P.$set(Se)},i(o){Z||(w(e.$$.fragment,o),w(l.$$.fragment,o),w(i.$$.fragment,o),w(c.$$.fragment,o),w(_.$$.fragment,o),w(b.$$.fragment,o),w(P.$$.fragment,o),Z=!0)},o(o){k(e.$$.fragment,o),k(l.$$.fragment,o),k(i.$$.fragment,o),k(c.$$.fragment,o),k(_.$$.fragment,o),k(b.$$.fragment,o),k(P.$$.fragment,o),Z=!1},d(o){o&&(g(t),g(f),g(u),g(m),g(M),g(J)),E(e,o),E(l,o),E(i,o),E(c,o),E(_,o),E(b,o),E(P,o)}}}function Ot(a){let e,n;return e=new Re({props:{label:"Traffic data and additional information",$$slots:{default:[St]},$$scope:{ctx:a}}}),{c(){y(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,l){O(e,t,l),n=!0},p(t,[l]){const s={};l&513&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function X(a){return a.map(e=>[e,e])}function Et(a,e,n){let t;Ae(a,C,m=>n(0,t=m));let{valid:l}=e;function s(m){a.$$.not_equal(t.trafficData.flowOneWay,m)&&(t.trafficData.flowOneWay=m,C.set(t))}function f(m){a.$$.not_equal(t.trafficData.flowTwoWay,m)&&(t.trafficData.flowTwoWay=m,C.set(t))}function i(m){a.$$.not_equal(t.trafficData.flowSharedUse,m)&&(t.trafficData.flowSharedUse=m,C.set(t))}function r(m){a.$$.not_equal(t.trafficData.trafficFlow,m)&&(t.trafficData.trafficFlow=m,C.set(t))}function u(m){a.$$.not_equal(t.trafficData.speedLimit,m)&&(t.trafficData.speedLimit=m,C.set(t))}function c(m){a.$$.not_equal(t.trafficData.observedSpeed,m)&&(t.trafficData.observedSpeed=m,C.set(t))}function d(m){a.$$.not_equal(t.trafficData.streetFunction,m)&&(t.trafficData.streetFunction=m,C.set(t))}return a.$$set=m=>{"valid"in m&&n(1,l=m.valid)},a.$$.update=()=>{a.$$.dirty&1&&n(1,l=t.trafficData.flowOneWay!=""&&t.trafficData.flowTwoWay!=""&&t.trafficData.flowSharedUse!=""&&t.trafficData.trafficFlow!=""&&t.trafficData.speedLimit!=""&&t.trafficData.observedSpeed!=null&&t.trafficData.streetFunction!="")},[t,l,s,f,i,r,u,c,d]}class Mt extends R{constructor(e){super(),q(this,e,Et,Ot,A,{valid:1})}}function Tt(a){let e,n="Fill out all data above to continue";return{c(){e=I("p"),e.textContent=n},l(t){e=F(t,"P",{"data-svelte-h":!0}),fe(e)!=="svelte-ma95"&&(e.textContent=n)},m(t,l){h(t,e,l)},d(t){t&&g(e)}}}function Ut(a){return{c:Y,l:Y,m:Y,d:Y}}function It(a){let e;return{c(){e=K("Reset")},l(n){e=Q(n,"Reset")},m(n,t){h(n,e,t)},d(n){n&&g(e)}}}function Ft(a){let e,n,t,l;return e=new Dt({props:{$$slots:{default:[It]},$$scope:{ctx:a}}}),e.$on("click",a[2]),t=new $t({props:{label:"JSON",value:JSON.stringify(a[1],null,"  "),rows:10}}),{c(){y(e.$$.fragment),n=N(),y(t.$$.fragment)},l(s){S(e.$$.fragment,s),n=W(s),S(t.$$.fragment,s)},m(s,f){O(e,s,f),h(s,n,f),O(t,s,f),l=!0},p(s,f){const i={};f&16&&(i.$$scope={dirty:f,ctx:s}),e.$set(i);const r={};f&2&&(r.value=JSON.stringify(s[1],null,"  ")),t.$set(r)},i(s){l||(w(e.$$.fragment,s),w(t.$$.fragment,s),l=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),l=!1},d(s){s&&g(n),E(e,s),E(t,s)}}}function Nt(a){let e,n,t=`<ol class="govuk-breadcrumbs__list"><li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${Te}/">Tools</a></li> <li class="govuk-breadcrumbs__list-item"><a class="govuk-breadcrumbs__link" href="${Te}/cross_section">Route cross-section</a></li> <li class="govuk-breadcrumbs__list-item">Proposed Cross-Sections</li></ol>`,l,s,f,i,r,u,c;function d(b){a[3](b)}let m={};a[0]!==void 0&&(m.valid=a[0]),s=new Mt({props:m}),V.push(()=>B(s,"valid",d));function _(b,D){return b[0]?Ut:Tt}let p=_(a),M=p(a);return u=new Re({props:{label:"Debug",$$slots:{default:[Ft]},$$scope:{ctx:a}}}),{c(){e=I("div"),n=I("div"),n.innerHTML=t,l=N(),y(s.$$.fragment),i=N(),M.c(),r=N(),y(u.$$.fragment),this.h()},l(b){e=F(b,"DIV",{class:!0});var D=L(e);n=F(D,"DIV",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-7mvyxb"&&(n.innerHTML=t),l=W(D),S(s.$$.fragment,D),i=W(D),M.l(D),r=W(D),S(u.$$.fragment,D),D.forEach(g),this.h()},h(){v(n,"class","govuk-breadcrumbs"),v(e,"class","govuk-prose")},m(b,D){h(b,e,D),U(e,n),U(e,l),O(s,e,null),U(e,i),M.m(e,null),U(e,r),O(u,e,null),c=!0},p(b,[D]){const J={};!f&&D&1&&(f=!0,J.valid=b[0],H(()=>f=!1)),s.$set(J),p!==(p=_(b))&&(M.d(1),M=p(b),M&&(M.c(),M.m(e,r)));const P={};D&18&&(P.$$scope={dirty:D,ctx:b}),u.$set(P)},i(b){c||(w(s.$$.fragment,b),w(u.$$.fragment,b),c=!0)},o(b){k(s.$$.fragment,b),k(u.$$.fragment,b),c=!1},d(b){b&&g(e),E(s),M.d(),E(u)}}}function Wt(a,e,n){let t;Ae(a,C,i=>n(1,t=i));let l=!1;function s(){Ge(C,t=qe(),t)}function f(i){l=i,n(0,l)}return[l,t,s,f]}class Rt extends R{constructor(e){super(),q(this,e,Wt,Nt,A,{})}}export{Rt as component};
