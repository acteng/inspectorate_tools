import{s as ne,a as q,e as V,g as P,c as A,o as ee,i as k,z as Ne,A as Me,f as v,H as tt,w as j,b as z,K as X,h as E,x as U,k as le,a4 as rt,t as R,y as K,d as B,j as re,l as he,m as st,n as oe,p as Je}from"../chunks/scheduler.BKca8jgz.js";import{S as ie,i as ae,c as T,a as L,m as C,t as w,b as y,d as N,e as J,g as Y,f as Q}from"../chunks/index.CFqagxlr.js";import{e as se,u as He,o as ze}from"../chunks/Geocoder.svelte_svelte_type_style_lang.CLPLPTv_.js";import{p as te}from"../chunks/index.Bm_YyJNG.js";import{S as Z}from"../chunks/SecondaryButton.4UiulqFF.js";import{S as x}from"../chunks/Select.CHtYgaRx.js";import{W as Ge}from"../chunks/WarningButton.Bz3oz85x.js";import{W as $e}from"../chunks/WarningText.RqaDsbJP.js";import{s as O,a as nt,b as it}from"../chunks/data.CEycfqhM.js";import{a as Ke,n as at,g as Re,c as ot,D as lt}from"../chunks/logic.DH8WPo0H.js";import{E as ft}from"../chunks/ExternalLink.2VggN0hv.js";import"../chunks/paths.DGjfiNGK.js";import{T as ut}from"../chunks/TextInput.8KqWp6jK.js";import{v as Ye}from"../chunks/v4.D8aEg3BZ.js";import{C as ce}from"../chunks/CollapsibleCard.D7ypCGs6.js";import{F as ct,E as pt}from"../chunks/FormElement.BDmAj7rp.js";function dt(n){let e,r,t,s,i,o,l;return e=new pt({props:{errorMessage:n[5](n[2])}}),{c(){T(e.$$.fragment),r=q(),t=V("input"),this.h()},l(f){L(e.$$.fragment,f),r=P(f),t=A(f,"INPUT",{type:!0,inputmode:!0,class:!0,id:!0}),this.h()},h(){ee(t,"type","text"),ee(t,"inputmode","numeric"),ee(t,"class",s=`govuk-input govuk-input--width-${n[1]}`),ee(t,"id",n[3])},m(f,a){C(e,f,a),k(f,r,a),k(f,t,a),Ne(t,n[2]),i=!0,o||(l=[Me(t,"input",n[9]),Me(t,"change",n[4])],o=!0)},p(f,a){const c={};a&4&&(c.errorMessage=f[5](f[2])),e.$set(c),(!i||a&2&&s!==(s=`govuk-input govuk-input--width-${f[1]}`))&&ee(t,"class",s),a&4&&t.value!==f[2]&&Ne(t,f[2])},i(f){i||(w(e.$$.fragment,f),i=!0)},o(f){y(e.$$.fragment,f),i=!1},d(f){f&&(v(r),v(t)),N(e,f),o=!1,tt(l)}}}function mt(n){let e,r;return e=new ct({props:{label:n[0],id:n[3],$$slots:{default:[dt]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){C(e,t,s),r=!0},p(t,[s]){const i={};s&1&&(i.label=t[0]),s&1030&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function _t(n,e,r){let{label:t}=e,{value:s}=e,{width:i}=e,{min:o=void 0}=e,{max:l=void 0}=e,f=s==null?void 0:s.toString(),a=Ye();function c(){r(6,s=f==null?void 0:parseInt(f,10))}function m(h){if(h==""||h==null)return"";if(h.includes("."))return"Please enter a number without decimals";let b=Number(h);return isNaN(b)?"Please enter a valid number":o!=null&&b<o?`Please enter a number that's at least ${o};`:l!=null&&b>l?`Please enter a number that's at most ${l};`:""}function F(){f=this.value,r(2,f)}return n.$$set=h=>{"label"in h&&r(0,t=h.label),"value"in h&&r(6,s=h.value),"width"in h&&r(1,i=h.width),"min"in h&&r(7,o=h.min),"max"in h&&r(8,l=h.max)},[t,i,f,a,c,m,s,o,l,F]}class ht extends ie{constructor(e){super(),ae(this,e,_t,mt,ne,{label:0,value:6,width:1,min:7,max:8})}}function pe(n){return typeof n=="object"?[]:$t[n]}let $t={Footway:[["Manual for Streets 2: Section 5 pp. 43","https://tsrgd.co.uk/pdf/mfs/mfs2.pdf#page=48"],["DMRB CD143 Designing for walking, cycling & horse-riding Annex pp. 7",""]],"Narrow Traffic / Bus Lane":[],"Wide Traffic / Bus Lane":[],"Traffic Lane (no buses): speed limit 20/30":[["LTN 1/20 Table 7-2 pp. 76",H(76)],["LTN 1/20 Figure 4.1 pp. 33",H(33)]],"On-highway advisory/mandatory cycle lane":[["LTN 1/20 Table 5-2 pp. 43",H(43)],["LTN 1/20 Figure 4.1 pp. 33",H(33)]],"1-way protected cycle track":[["LTN 1/20 Table 5-2 pp. 43",H(43)],["LTN 1/20 Figure 4.1 pp. 33",H(33)]],"2-way protected cycle track":[["LTN 1/20 Table 5-2 pp. 43",H(43)],["LTN 1/20 Figure 4.1 pp. 33",H(33)]],"Shared use cycle track":[["LTN 1/20 Table 6-3 pp. 68",H(68)]],"Parking Bay":[["LTN 1/20 table 7-3 pp. 77",H(77)]],"Disabled Parking Bay":[],"Loading Bay":[["LTN 1/20 table 7-3 pp. 77",H(77)]],"Buffer / Verge":[["LTN 1/20 table 6-1 pp. 54",H(54)]]};function H(n){return`https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/951074/cycle-infrastructure-design-ltn-1-20.pdf#page=${n}`}function de(n,e){let r=Ke(e.speedLimit,e.observedSpeed);switch(n){case"Footway":return"There is no maximum width for footways; widths should take account of pedestrian volumes and composition. Suggested widths quoted here are the functional width available to the user";case"Narrow Traffic / Bus Lane":return"";case"Wide Traffic / Bus Lane":return"";case"Traffic Lane (no buses): speed limit 20/30":return e.trafficFlow=="<2,500"&&r==20?"Where traffic volumes are less than 2,500 vpd and speeds are less than 20mph, cycling in mixed traffic may be suitable for all users":"Where traffic volumes are greater than 2,500 vpd or speeds are greater than 20mph, cycling in mixed traffic is not suitable for all users";case"On-highway advisory/mandatory cycle lane":return(e.trafficFlow=="<2,500"||e.trafficFlow=="2,500-5,000")&&r==20?"Where traffic volumes are less than 2,500 vpd and/or speeds are less than 20mph, advisory or mandatory cycle lanes may be suitable for all users":"Where traffic volumes are greater than 5,000 vpd and/or speeds are greater than 20mph, advisory or mandatory cycle lanes are not suitable for all users";case"1-way protected cycle track":return r==20?e.trafficFlow=="<2,500"?"If traffic flows are less than 2,500VPD and observed 85th percentile speed/speed limit is less than 30mph, then conditions for cycling in mixed traffic will suit most users":e.trafficFlow=="2,500-5,000"?"If traffic flows are greater than 2,500VPD but less than 5,000VPD, and observed 85th percentile speed/speed limit less than 30mph, then a mandatory or advisory cycle lane at the appropriate width will suit most users":"If traffic flows are greater than 5,000VPD and observed 85th percentile speed/speed limit less than 30mph, provision of a light-protected cycle track will suit most users. Suggested widths quoted here are the functional width available to the user plus min. protection width 0.3m":r==30?"If the observed 85th percentile speed or the speed limit is 30mph, provision of a light-protected cycle track will suit most users. Suggested widths quoted here are the functional width available to the user plus min. protection width 0.3m":r==40?"If the observed 85th percentile speed or the speed limit is 40mph, provision of a kerb-protected cycle track will suit most users. Suggested widths quoted here are the functional width available to the user plus min. protection width 0.3m.":"If the observed 85th percentile speed or the speed limit is 50+ mph, provision of a kerb-protected cycle track will suit most users. Suggested widths quoted here are the functional width available to the user plus min. protection width 0.3m.";case"2-way protected cycle track":return r==20?e.trafficFlow=="<2,500"?"If traffic flows are less than 2,500VPD and observed 85th percentile speed/speed limit is less than 30mph, then conditions for cycling in mixed traffic will suit most users":e.trafficFlow=="2,500-5,000"?"If traffic flows are greater than 2,500VPD but less than 5,000VPD, and observed 85th percentile speed/speed limit less than 30mph, then a mandatory or advisory cycle lane at the appropriate width will suit most users":"If traffic flows are greater than 5,000VPD and observed 85th percentile speed/speed limit less than 30mph, provision of a light-protected cycle track will suit most users. Suggested widths quoted here are the functional width available to the user plus min. protection width 0.3m.":r==30?"If the observed 85th percentile speed or the speed limit is 30mph, provision of a light-protected cycle track will suit most users. Suggested widths quoted here are the functional width available to the user plus min. protection width 0.3m.":r==40?"If the observed 85th percentile speed or the speed limit is 40mph, provision of a kerb-protected cycle track will suit most users. Suggested widths quoted here are the functional width available to the user plus min. protection width 0.3m.":"If the observed 85th percentile speed or the speed limit is 50+ mph, provision of a kerb-protected cycle track will suit most users. Suggested widths quoted here are the functional width available to the userplus min. protection width 0.3m.";case"Shared use cycle track":return"Potential policy conflict: 'Cyclists must be separated from pedestrians' - have you considered alternatives to a shared use cycle track?";case"Parking Bay":return"";case"Disabled Parking Bay":return"";case"Loading Bay":return"";case"Buffer / Verge":return"Your buffer / verge shouldn't impact on the functional width of your footway or cycle-track";default:return""}}function Be(n,e,r){const t=n.slice();return t[21]=e[r][0],t[22]=e[r][1],t}function qe(n){let e,r,t,s=Re(n[0],n[7].proposed.trafficData,n[7].proposed.customFeatures,n[4],n[5])[n[3]=="Desirable"?0:1]+"",i,o,l,f,a,c=pe(n[0]).length>0,m,F=de(n[0],n[7].proposed.trafficData),h,b;const u=[vt,bt,gt],p=[];function $(g,S){return g[9]=="left"?0:g[9]=="right"?1:g[9]=="both"?2:-1}~(l=$(n))&&(f=p[l]=u[l](n));let d=c&&Pe(n),D=F&&Oe(n);return{c(){e=V("p"),r=R(n[3]),t=R(" minimum width (m): "),i=R(s),o=q(),f&&f.c(),a=q(),d&&d.c(),m=q(),D&&D.c(),h=K()},l(g){e=A(g,"P",{});var S=z(e);r=B(S,n[3]),t=B(S," minimum width (m): "),i=B(S,s),S.forEach(v),o=P(g),f&&f.l(g),a=P(g),d&&d.l(g),m=P(g),D&&D.l(g),h=K()},m(g,S){k(g,e,S),E(e,r),E(e,t),E(e,i),k(g,o,S),~l&&p[l].m(g,S),k(g,a,S),d&&d.m(g,S),k(g,m,S),D&&D.m(g,S),k(g,h,S),b=!0},p(g,S){(!b||S&8)&&re(r,g[3]),(!b||S&185)&&s!==(s=Re(g[0],g[7].proposed.trafficData,g[7].proposed.customFeatures,g[4],g[5])[g[3]=="Desirable"?0:1]+"")&&re(i,s);let G=l;l=$(g),l===G?~l&&p[l].p(g,S):(f&&(Y(),y(p[G],1,1,()=>{p[G]=null}),Q()),~l?(f=p[l],f?f.p(g,S):(f=p[l]=u[l](g),f.c()),w(f,1),f.m(a.parentNode,a)):f=null),S&1&&(c=pe(g[0]).length>0),c?d?(d.p(g,S),S&1&&w(d,1)):(d=Pe(g),d.c(),w(d,1),d.m(m.parentNode,m)):d&&(Y(),y(d,1,1,()=>{d=null}),Q()),S&129&&(F=de(g[0],g[7].proposed.trafficData)),F?D?D.p(g,S):(D=Oe(g),D.c(),D.m(h.parentNode,h)):D&&(D.d(1),D=null)},i(g){b||(w(f),w(d),b=!0)},o(g){y(f),y(d),b=!1},d(g){g&&(v(e),v(o),v(a),v(m),v(h)),~l&&p[l].d(g),d&&d.d(g),D&&D.d(g)}}}function gt(n){let e,r;return e=new $e({props:{$$slots:{default:[kt]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){C(e,t,s),r=!0},p(t,s){const i={};s&33554432&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function bt(n){let e,r;return e=new $e({props:{$$slots:{default:[Ft]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){C(e,t,s),r=!0},p(t,s){const i={};s&33554432&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function vt(n){let e,r;return e=new $e({props:{$$slots:{default:[St]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){C(e,t,s),r=!0},p(t,s){const i={};s&33554432&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function wt(n){let e;return{c(){e=R("Add")},l(r){e=B(r,"Add")},m(r,t){k(r,e,t)},d(r){r&&v(e)}}}function kt(n){let e,r,t;return r=new Z({props:{$$slots:{default:[wt]},$$scope:{ctx:n}}}),r.$on("click",n[14]),{c(){e=R("Consider buffer to left and right "),T(r.$$.fragment)},l(s){e=B(s,"Consider buffer to left and right "),L(r.$$.fragment,s)},m(s,i){k(s,e,i),C(r,s,i),t=!0},p(s,i){const o={};i&33554432&&(o.$$scope={dirty:i,ctx:s}),r.$set(o)},i(s){t||(w(r.$$.fragment,s),t=!0)},o(s){y(r.$$.fragment,s),t=!1},d(s){s&&v(e),N(r,s)}}}function yt(n){let e;return{c(){e=R("Add")},l(r){e=B(r,"Add")},m(r,t){k(r,e,t)},d(r){r&&v(e)}}}function Ft(n){let e,r,t;return r=new Z({props:{$$slots:{default:[yt]},$$scope:{ctx:n}}}),r.$on("click",n[13]),{c(){e=R("Consider buffer to right "),T(r.$$.fragment)},l(s){e=B(s,"Consider buffer to right "),L(r.$$.fragment,s)},m(s,i){k(s,e,i),C(r,s,i),t=!0},p(s,i){const o={};i&33554432&&(o.$$scope={dirty:i,ctx:s}),r.$set(o)},i(s){t||(w(r.$$.fragment,s),t=!0)},o(s){y(r.$$.fragment,s),t=!1},d(s){s&&v(e),N(r,s)}}}function Dt(n){let e;return{c(){e=R("Add")},l(r){e=B(r,"Add")},m(r,t){k(r,e,t)},d(r){r&&v(e)}}}function St(n){let e,r,t;return r=new Z({props:{$$slots:{default:[Dt]},$$scope:{ctx:n}}}),r.$on("click",n[12]),{c(){e=R("Consider buffer to left "),T(r.$$.fragment)},l(s){e=B(s,"Consider buffer to left "),L(r.$$.fragment,s)},m(s,i){k(s,e,i),C(r,s,i),t=!0},p(s,i){const o={};i&33554432&&(o.$$scope={dirty:i,ctx:s}),r.$set(o)},i(s){t||(w(r.$$.fragment,s),t=!0)},o(s){y(r.$$.fragment,s),t=!1},d(s){s&&v(e),N(r,s)}}}function Pe(n){let e,r="References",t,s,i,o=se(pe(n[0])),l=[];for(let a=0;a<o.length;a+=1)l[a]=We(Be(n,o,a));const f=a=>y(l[a],1,1,()=>{l[a]=null});return{c(){e=V("u"),e.textContent=r,t=R(`
      :
      `),s=V("ul");for(let a=0;a<l.length;a+=1)l[a].c()},l(a){e=A(a,"U",{"data-svelte-h":!0}),he(e)!=="svelte-fk7cdq"&&(e.textContent=r),t=B(a,`
      :
      `),s=A(a,"UL",{});var c=z(s);for(let m=0;m<l.length;m+=1)l[m].l(c);c.forEach(v)},m(a,c){k(a,e,c),k(a,t,c),k(a,s,c);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(s,null);i=!0},p(a,c){if(c&1){o=se(pe(a[0]));let m;for(m=0;m<o.length;m+=1){const F=Be(a,o,m);l[m]?(l[m].p(F,c),w(l[m],1)):(l[m]=We(F),l[m].c(),w(l[m],1),l[m].m(s,null))}for(Y(),m=o.length;m<l.length;m+=1)f(m);Q()}},i(a){if(!i){for(let c=0;c<o.length;c+=1)w(l[c]);i=!0}},o(a){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)y(l[c]);i=!1},d(a){a&&(v(e),v(t),v(s)),st(l,a)}}}function Tt(n){let e,r=n[21]+"",t;return{c(){e=V("li"),t=R(r)},l(s){e=A(s,"LI",{});var i=z(e);t=B(i,r),i.forEach(v)},m(s,i){k(s,e,i),E(e,t)},p(s,i){i&1&&r!==(r=s[21]+"")&&re(t,r)},i:oe,o:oe,d(s){s&&v(e)}}}function Lt(n){let e,r,t;return r=new ft({props:{href:n[22],$$slots:{default:[Ct]},$$scope:{ctx:n}}}),{c(){e=V("li"),T(r.$$.fragment)},l(s){e=A(s,"LI",{});var i=z(e);L(r.$$.fragment,i),i.forEach(v)},m(s,i){k(s,e,i),C(r,e,null),t=!0},p(s,i){const o={};i&1&&(o.href=s[22]),i&33554433&&(o.$$scope={dirty:i,ctx:s}),r.$set(o)},i(s){t||(w(r.$$.fragment,s),t=!0)},o(s){y(r.$$.fragment,s),t=!1},d(s){s&&v(e),N(r)}}}function Ct(n){let e=n[21]+"",r;return{c(){r=R(e)},l(t){r=B(t,e)},m(t,s){k(t,r,s)},p(t,s){s&1&&e!==(e=t[21]+"")&&re(r,e)},d(t){t&&v(r)}}}function We(n){let e,r,t,s;const i=[Lt,Tt],o=[];function l(f,a){return f[22]?0:1}return e=l(n),r=o[e]=i[e](n),{c(){r.c(),t=K()},l(f){r.l(f),t=K()},m(f,a){o[e].m(f,a),k(f,t,a),s=!0},p(f,a){let c=e;e=l(f),e===c?o[e].p(f,a):(Y(),y(o[c],1,1,()=>{o[c]=null}),Q(),r=o[e],r?r.p(f,a):(r=o[e]=i[e](f),r.c()),w(r,1),r.m(t.parentNode,t))},i(f){s||(w(r),s=!0)},o(f){y(r),s=!1},d(f){f&&v(t),o[e].d(f)}}}function Oe(n){let e,r="Guidance",t,s,i=de(n[0],n[7].proposed.trafficData)+"",o;return{c(){e=V("u"),e.textContent=r,t=R(`
      :
      `),s=V("p"),o=R(i),this.h()},l(l){e=A(l,"U",{"data-svelte-h":!0}),he(e)!=="svelte-qh7mhq"&&(e.textContent=r),t=B(l,`
      :
      `),s=A(l,"P",{style:!0});var f=z(s);o=B(f,i),f.forEach(v),this.h()},h(){X(s,"max-width","400px")},m(l,f){k(l,e,f),k(l,t,f),k(l,s,f),E(s,o)},p(l,f){f&129&&i!==(i=de(l[0],l[7].proposed.trafficData)+"")&&re(o,i)},d(l){l&&(v(e),v(t),v(s))}}}function Nt(n){let e;return{c(){e=R("←")},l(r){e=B(r,"←")},m(r,t){k(r,e,t)},d(r){r&&v(e)}}}function Mt(n){let e;return{c(){e=R("Delete")},l(r){e=B(r,"Delete")},m(r,t){k(r,e,t)},d(r){r&&v(e)}}}function Rt(n){let e;return{c(){e=R("→")},l(r){e=B(r,"→")},m(r,t){k(r,e,t)},d(r){r&&v(e)}}}function Bt(n){let e,r,t,s,i,o,l,f,a,c,m,F;function h(p){n[11](p)}let b={label:"Street feature type",emptyOption:!0,choices:n[8]};n[6]!==void 0&&(b.value=n[6]),r=new x({props:b}),j.push(()=>J(r,"value",h));let u=n[0]&&qe(n);return l=new Z({props:{disabled:n[1],$$slots:{default:[Nt]},$$scope:{ctx:n}}}),l.$on("click",n[15]),a=new Ge({props:{$$slots:{default:[Mt]},$$scope:{ctx:n}}}),a.$on("click",n[16]),m=new Z({props:{disabled:n[2],$$slots:{default:[Rt]},$$scope:{ctx:n}}}),m.$on("click",n[17]),{c(){e=V("div"),T(r.$$.fragment),s=q(),u&&u.c(),i=q(),o=V("div"),T(l.$$.fragment),f=q(),T(a.$$.fragment),c=q(),T(m.$$.fragment),this.h()},l(p){e=A(p,"DIV",{class:!0});var $=z(e);L(r.$$.fragment,$),s=P($),u&&u.l($),i=P($),o=A($,"DIV",{style:!0,class:!0});var d=z(o);L(l.$$.fragment,d),f=P(d),L(a.$$.fragment,d),c=P(d),L(m.$$.fragment,d),d.forEach(v),$.forEach(v),this.h()},h(){X(o,"display","flex"),X(o,"justify-content","space-between"),ee(o,"class","svelte-jig4ga"),ee(e,"class","svelte-jig4ga")},m(p,$){k(p,e,$),C(r,e,null),E(e,s),u&&u.m(e,null),E(e,i),E(e,o),C(l,o,null),E(o,f),C(a,o,null),E(o,c),C(m,o,null),F=!0},p(p,[$]){const d={};$&256&&(d.choices=p[8]),!t&&$&64&&(t=!0,d.value=p[6],U(()=>t=!1)),r.$set(d),p[0]?u?(u.p(p,$),$&1&&w(u,1)):(u=qe(p),u.c(),w(u,1),u.m(e,i)):u&&(Y(),y(u,1,1,()=>{u=null}),Q());const D={};$&2&&(D.disabled=p[1]),$&33554432&&(D.$$scope={dirty:$,ctx:p}),l.$set(D);const g={};$&33554432&&(g.$$scope={dirty:$,ctx:p}),a.$set(g);const S={};$&4&&(S.disabled=p[2]),$&33554432&&(S.$$scope={dirty:$,ctx:p}),m.$set(S)},i(p){F||(w(r.$$.fragment,p),w(u),w(l.$$.fragment,p),w(a.$$.fragment,p),w(m.$$.fragment,p),F=!0)},o(p){y(r.$$.fragment,p),y(u),y(l.$$.fragment,p),y(a.$$.fragment,p),y(m.$$.fragment,p),F=!1},d(p){p&&v(e),N(r),u&&u.d(),N(l),N(a),N(m)}}}function qt(n,e,r){let t,s,i;le(n,O,M=>r(7,i=M));let{value:o}=e,{isFirst:l}=e,{isLast:f}=e,{sectionType:a}=e,{leftFeature:c}=e,{rightFeature:m}=e,F=rt(),h=typeof o=="object"?`custom_${o.custom}`:o;function b(M){M.startsWith("custom_")?r(0,o={custom:M.slice(7)}):r(0,o=M)}function u(M){r(6,h=typeof M=="object"?`custom_${M.custom}`:M)}function p(M){let fe=te(nt);for(let[ue,_e]of Object.entries(M))fe.push([`custom_${ue}`,`Custom: ${_e.name}`]);return fe}function $(M){h=M,r(6,h)}const d=()=>F("addLeftBuffer"),D=()=>F("addRightBuffer"),g=()=>{F("addRightBuffer"),F("addLeftBuffer")},S=()=>F("moveLeft"),G=()=>F("delete"),me=()=>F("moveRight");return n.$$set=M=>{"value"in M&&r(0,o=M.value),"isFirst"in M&&r(1,l=M.isFirst),"isLast"in M&&r(2,f=M.isLast),"sectionType"in M&&r(3,a=M.sectionType),"leftFeature"in M&&r(4,c=M.leftFeature),"rightFeature"in M&&r(5,m=M.rightFeature)},n.$$.update=()=>{n.$$.dirty&49&&r(9,t=o&&at(o,c,m)),n.$$.dirty&64&&b(h),n.$$.dirty&1&&u(o),n.$$.dirty&128&&r(8,s=p(i.proposed.customFeatures))},[o,l,f,a,c,m,h,i,s,t,F,$,d,D,g,S,G,me]}class Pt extends ie{constructor(e){super(),ae(this,e,qt,Bt,ne,{value:0,isFirst:1,isLast:2,sectionType:3,leftFeature:4,rightFeature:5})}}function Ee(n,e,r){const t=n.slice();return t[15]=e[r],t[16]=e,t[17]=r,t}function Wt(n){let e;return{c(){e=R("Add")},l(r){e=B(r,"Add")},m(r,t){k(r,e,t)},d(r){r&&v(e)}}}function Ie(n,e){let r,t,s,i;function o(h){e[9](h,e[15],e[16],e[17])}function l(){return e[10](e[17])}function f(){return e[11](e[17])}function a(){return e[12](e[17])}function c(){return e[13](e[17])}function m(){return e[14](e[17])}let F={isFirst:e[17]==0,isLast:e[17]==e[0].length-1,leftFeature:e[17]==0?"":e[0][e[17]-1],rightFeature:e[17]==e[0].length-1?"":e[0][e[17]+1],sectionType:e[1]};return e[15]!==void 0&&(F.value=e[15]),t=new Pt({props:F}),j.push(()=>J(t,"value",o)),t.$on("delete",l),t.$on("moveLeft",f),t.$on("moveRight",a),t.$on("addLeftBuffer",c),t.$on("addRightBuffer",m),{key:n,first:null,c(){r=K(),T(t.$$.fragment),this.h()},l(h){r=K(),L(t.$$.fragment,h),this.h()},h(){this.first=r},m(h,b){k(h,r,b),C(t,h,b),i=!0},p(h,b){e=h;const u={};b&1&&(u.isFirst=e[17]==0),b&1&&(u.isLast=e[17]==e[0].length-1),b&1&&(u.leftFeature=e[17]==0?"":e[0][e[17]-1]),b&1&&(u.rightFeature=e[17]==e[0].length-1?"":e[0][e[17]+1]),b&2&&(u.sectionType=e[1]),!s&&b&1&&(s=!0,u.value=e[15],U(()=>s=!1)),t.$set(u)},i(h){i||(w(t.$$.fragment,h),i=!0)},o(h){y(t.$$.fragment,h),i=!1},d(h){h&&v(r),N(t,h)}}}function Ot(n){let e,r,t,s=[],i=new Map,o,l,f,a,c=n[2].toFixed(2)+"",m,F;e=new Z({props:{$$slots:{default:[Wt]},$$scope:{ctx:n}}}),e.$on("click",n[3]);let h=se(n[0]);const b=u=>u[17];for(let u=0;u<h.length;u+=1){let p=Ee(n,h,u),$=b(p);i.set($,s[u]=Ie($,p))}return{c(){T(e.$$.fragment),r=q(),t=V("div");for(let u=0;u<s.length;u+=1)s[u].c();o=q(),l=V("p"),f=R("Total width required (m): "),a=V("b"),m=R(c),this.h()},l(u){L(e.$$.fragment,u),r=P(u),t=A(u,"DIV",{style:!0});var p=z(t);for(let D=0;D<s.length;D+=1)s[D].l(p);p.forEach(v),o=P(u),l=A(u,"P",{});var $=z(l);f=B($,"Total width required (m): "),a=A($,"B",{});var d=z(a);m=B(d,c),d.forEach(v),$.forEach(v),this.h()},h(){X(t,"display","flex"),X(t,"flex-direction","row"),X(t,"overflow-x","scroll")},m(u,p){C(e,u,p),k(u,r,p),k(u,t,p);for(let $=0;$<s.length;$+=1)s[$]&&s[$].m(t,null);k(u,o,p),k(u,l,p),E(l,f),E(l,a),E(a,m),F=!0},p(u,[p]){const $={};p&262144&&($.$$scope={dirty:p,ctx:u}),e.$set($),p&243&&(h=se(u[0]),Y(),s=He(s,p,b,1,u,h,i,t,ze,Ie,null,Ee),Q()),(!F||p&4)&&c!==(c=u[2].toFixed(2)+"")&&re(m,c)},i(u){if(!F){w(e.$$.fragment,u);for(let p=0;p<h.length;p+=1)w(s[p]);F=!0}},o(u){y(e.$$.fragment,u);for(let p=0;p<s.length;p+=1)y(s[p]);F=!1},d(u){u&&(v(r),v(t),v(o),v(l)),N(e,u);for(let p=0;p<s.length;p+=1)s[p].d()}}}function Et(n,e,r){let t,s;le(n,O,d=>r(8,s=d));let{streetFeaturesLeftToRight:i}=e,{sectionType:o}=e;function l(){r(0,i=[...i,""])}function f(d){i.splice(d,1),r(0,i)}function a(d){r(0,[i[d-1],i[d]]=[i[d],i[d-1]],i)}function c(d){r(0,[i[d+1],i[d]]=[i[d],i[d+1]],i)}function m(d){i.splice(d,0,"Buffer / Verge"),r(0,i)}function F(d,D,g,S){g[S]=d,r(0,i)}const h=d=>f(d),b=d=>a(d),u=d=>c(d),p=d=>m(d),$=d=>m(d+1);return n.$$set=d=>{"streetFeaturesLeftToRight"in d&&r(0,i=d.streetFeaturesLeftToRight),"sectionType"in d&&r(1,o=d.sectionType)},n.$$.update=()=>{n.$$.dirty&258&&r(2,t=ot(s,o))},[i,o,t,l,f,a,c,m,s,F,h,b,u,p,$]}class Qe extends ie{constructor(e){super(),ae(this,e,Et,Ot,ne,{streetFeaturesLeftToRight:0,sectionType:1})}}function Ve(n,e,r){const t=n.slice();return t[6]=e[r],t[7]=e,t[8]=r,t}function It(n){let e;return{c(){e=R("Add")},l(r){e=B(r,"Add")},m(r,t){k(r,e,t)},d(r){r&&v(e)}}}function Vt(n){let e;return{c(){e=R("Delete")},l(r){e=B(r,"Delete")},m(r,t){k(r,e,t)},d(r){r&&v(e)}}}function Ae(n,e){let r,t,s,i,o,l,f,a,c,m;function F($){e[3]($,e[6])}let h={label:"Name"};e[0].proposed.customFeatures[e[6]].name!==void 0&&(h.value=e[0].proposed.customFeatures[e[6]].name),t=new ut({props:h}),j.push(()=>J(t,"value",F));function b($){e[4]($,e[6])}let u={label:"Minimum width (m)",width:4,min:0};e[0].proposed.customFeatures[e[6]].width!==void 0&&(u.value=e[0].proposed.customFeatures[e[6]].width),o=new lt({props:u}),j.push(()=>J(o,"value",b));function p(){return e[5](e[6])}return a=new Ge({props:{$$slots:{default:[Vt]},$$scope:{ctx:e}}}),a.$on("click",p),{key:n,first:null,c(){r=V("div"),T(t.$$.fragment),i=q(),T(o.$$.fragment),f=q(),T(a.$$.fragment),c=q(),this.h()},l($){r=A($,"DIV",{style:!0});var d=z(r);L(t.$$.fragment,d),i=P(d),L(o.$$.fragment,d),f=P(d),L(a.$$.fragment,d),c=P(d),d.forEach(v),this.h()},h(){X(r,"display","flex"),X(r,"justify-content","space-between"),this.first=r},m($,d){k($,r,d),C(t,r,null),E(r,i),C(o,r,null),E(r,f),C(a,r,null),E(r,c),m=!0},p($,d){e=$;const D={};!s&&d&1&&(s=!0,D.value=e[0].proposed.customFeatures[e[6]].name,U(()=>s=!1)),t.$set(D);const g={};!l&&d&1&&(l=!0,g.value=e[0].proposed.customFeatures[e[6]].width,U(()=>l=!1)),o.$set(g);const S={};d&512&&(S.$$scope={dirty:d,ctx:e}),a.$set(S)},i($){m||(w(t.$$.fragment,$),w(o.$$.fragment,$),w(a.$$.fragment,$),m=!0)},o($){y(t.$$.fragment,$),y(o.$$.fragment,$),y(a.$$.fragment,$),m=!1},d($){$&&v(r),N(t),N(o),N(a)}}}function At(n){let e,r,t=[],s=new Map,i,o;e=new Z({props:{$$slots:{default:[It]},$$scope:{ctx:n}}}),e.$on("click",n[1]);let l=se(Object.keys(n[0].proposed.customFeatures));const f=a=>a[6];for(let a=0;a<l.length;a+=1){let c=Ve(n,l,a),m=f(c);s.set(m,t[a]=Ae(m,c))}return{c(){T(e.$$.fragment),r=q();for(let a=0;a<t.length;a+=1)t[a].c();i=K()},l(a){L(e.$$.fragment,a),r=P(a);for(let c=0;c<t.length;c+=1)t[c].l(a);i=K()},m(a,c){C(e,a,c),k(a,r,c);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(a,c);k(a,i,c),o=!0},p(a,[c]){const m={};c&512&&(m.$$scope={dirty:c,ctx:a}),e.$set(m),c&5&&(l=se(Object.keys(a[0].proposed.customFeatures)),Y(),t=He(t,c,f,1,a,l,s,i.parentNode,ze,Ae,i,Ve),Q())},i(a){if(!o){w(e.$$.fragment,a);for(let c=0;c<l.length;c+=1)w(t[c]);o=!0}},o(a){y(e.$$.fragment,a);for(let c=0;c<t.length;c+=1)y(t[c]);o=!1},d(a){a&&(v(r),v(i)),N(e,a);for(let c=0;c<t.length;c+=1)t[c].d(a)}}}function jt(n,e,r){let t;le(n,O,a=>r(0,t=a));function s(){Je(O,t.proposed.customFeatures[Ye()]={name:"",width:0},t),O.set(t)}function i(a){let c=t.proposed.customFeatures[a].name,m=JSON.stringify({custom:a});if(t.proposed.desirableMinimumCrossSection.some(F=>JSON.stringify(F)==m)){window.alert(`The ${c} custom feature is used in the Desirable Minimum Cross-Section. Remove it below before deleting.`);return}if(t.proposed.absoluteMinimumCrossSection.some(F=>JSON.stringify(F)==m)){window.alert(`The ${c} custom feature is used in the Absolute Minimum Cross-Section. Remove it below before deleting.`);return}delete t.proposed.customFeatures[a],O.set(t)}function o(a,c){n.$$.not_equal(t.proposed.customFeatures[c].name,a)&&(t.proposed.customFeatures[c].name=a,O.set(t))}function l(a,c){n.$$.not_equal(t.proposed.customFeatures[c].width,a)&&(t.proposed.customFeatures[c].width=a,O.set(t))}return[t,s,i,o,l,a=>i(a)]}class Ut extends ie{constructor(e){super(),ae(this,e,jt,At,ne,{})}}function je(n){let e,r,t,s;return{c(){e=V("p"),r=R("Effective speed limit, based on the limit and 85 percentile: "),t=R(n[1]),s=R(`
      mph`)},l(i){e=A(i,"P",{});var o=z(e);r=B(o,"Effective speed limit, based on the limit and 85 percentile: "),t=B(o,n[1]),s=B(o,`
      mph`),o.forEach(v)},m(i,o){k(i,e,o),E(e,r),E(e,t),E(e,s)},p(i,o){o&2&&re(t,i[1])},d(i){i&&v(e)}}}function Jt(n){let e,r,t,s,i,o,l,f,a,c,m,F,h,b,u,p,$,d,D,g,S,G;function me(_){n[4](_)}let M={label:"Expected peak hour cycle flow: 1-way cycle tracks",emptyOption:!0,choices:te(["<200","200-800",">800"])};n[0].proposed.trafficData.flowOneWay!==void 0&&(M.value=n[0].proposed.trafficData.flowOneWay),e=new x({props:M}),j.push(()=>J(e,"value",me));function fe(_){n[5](_)}let ue={label:"Expected peak hour cycle flow: 2-way cycle tracks",emptyOption:!0,choices:te(["<300","300-1,000",">1,000"])};n[0].proposed.trafficData.flowTwoWay!==void 0&&(ue.value=n[0].proposed.trafficData.flowTwoWay),s=new x({props:ue}),j.push(()=>J(s,"value",fe));function _e(_){n[6](_)}let ge={label:"Expected peak hour cycle flow: shared use cycle tracks",emptyOption:!0,choices:te(["<300",">300"])};n[0].proposed.trafficData.flowSharedUse!==void 0&&(ge.value=n[0].proposed.trafficData.flowSharedUse),l=new x({props:ge}),j.push(()=>J(l,"value",_e));function Xe(_){n[7](_)}let be={label:"Traffic flow (vpd)",emptyOption:!0,choices:te(["<2,500","2,500-5,000","5,000-10,000",">10,000"])};n[0].proposed.trafficData.trafficFlow!==void 0&&(be.value=n[0].proposed.trafficData.trafficFlow),c=new x({props:be}),j.push(()=>J(c,"value",Xe));function Ze(_){n[8](_)}let ve={label:"Speed limit (MPH)",emptyOption:!0,choices:n[2]};n[0].proposed.trafficData.speedLimit!==void 0&&(ve.value=n[0].proposed.trafficData.speedLimit),h=new x({props:ve}),j.push(()=>J(h,"value",Ze));function xe(_){n[9](_)}let we={label:"Observed 85th percentile speed (MPH)",width:3,min:0,max:120};n[0].proposed.trafficData.observedSpeed!==void 0&&(we.value=n[0].proposed.trafficData.observedSpeed),p=new ht({props:we}),j.push(()=>J(p,"value",xe));let I=n[1]&&je(n);function et(_){n[10](_)}let ke={label:"Street function",emptyOption:!0,choices:te(["High Street (active frontages)","Residential street","Local distributor road"])};return n[0].proposed.trafficData.streetFunction!==void 0&&(ke.value=n[0].proposed.trafficData.streetFunction),g=new x({props:ke}),j.push(()=>J(g,"value",et)),{c(){T(e.$$.fragment),t=q(),T(s.$$.fragment),o=q(),T(l.$$.fragment),a=q(),T(c.$$.fragment),F=q(),T(h.$$.fragment),u=q(),T(p.$$.fragment),d=q(),I&&I.c(),D=q(),T(g.$$.fragment)},l(_){L(e.$$.fragment,_),t=P(_),L(s.$$.fragment,_),o=P(_),L(l.$$.fragment,_),a=P(_),L(c.$$.fragment,_),F=P(_),L(h.$$.fragment,_),u=P(_),L(p.$$.fragment,_),d=P(_),I&&I.l(_),D=P(_),L(g.$$.fragment,_)},m(_,W){C(e,_,W),k(_,t,W),C(s,_,W),k(_,o,W),C(l,_,W),k(_,a,W),C(c,_,W),k(_,F,W),C(h,_,W),k(_,u,W),C(p,_,W),k(_,d,W),I&&I.m(_,W),k(_,D,W),C(g,_,W),G=!0},p(_,W){const ye={};!r&&W&1&&(r=!0,ye.value=_[0].proposed.trafficData.flowOneWay,U(()=>r=!1)),e.$set(ye);const Fe={};!i&&W&1&&(i=!0,Fe.value=_[0].proposed.trafficData.flowTwoWay,U(()=>i=!1)),s.$set(Fe);const De={};!f&&W&1&&(f=!0,De.value=_[0].proposed.trafficData.flowSharedUse,U(()=>f=!1)),l.$set(De);const Se={};!m&&W&1&&(m=!0,Se.value=_[0].proposed.trafficData.trafficFlow,U(()=>m=!1)),c.$set(Se);const Te={};!b&&W&1&&(b=!0,Te.value=_[0].proposed.trafficData.speedLimit,U(()=>b=!1)),h.$set(Te);const Le={};!$&&W&1&&($=!0,Le.value=_[0].proposed.trafficData.observedSpeed,U(()=>$=!1)),p.$set(Le),_[1]?I?I.p(_,W):(I=je(_),I.c(),I.m(D.parentNode,D)):I&&(I.d(1),I=null);const Ce={};!S&&W&1&&(S=!0,Ce.value=_[0].proposed.trafficData.streetFunction,U(()=>S=!1)),g.$set(Ce)},i(_){G||(w(e.$$.fragment,_),w(s.$$.fragment,_),w(l.$$.fragment,_),w(c.$$.fragment,_),w(h.$$.fragment,_),w(p.$$.fragment,_),w(g.$$.fragment,_),G=!0)},o(_){y(e.$$.fragment,_),y(s.$$.fragment,_),y(l.$$.fragment,_),y(c.$$.fragment,_),y(h.$$.fragment,_),y(p.$$.fragment,_),y(g.$$.fragment,_),G=!1},d(_){_&&(v(t),v(o),v(a),v(F),v(u),v(d),v(D)),N(e,_),N(s,_),N(l,_),N(c,_),N(h,_),N(p,_),I&&I.d(_),N(g,_)}}}function Ht(n){let e,r;return e=new ce({props:{label:"Traffic data and additional information",$$slots:{default:[Jt]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){C(e,t,s),r=!0},p(t,[s]){const i={};s&2051&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function zt(n,e,r){let t,s;le(n,O,b=>r(0,s=b));let{valid:i}=e,o=te(it);function l(b){n.$$.not_equal(s.proposed.trafficData.flowOneWay,b)&&(s.proposed.trafficData.flowOneWay=b,O.set(s))}function f(b){n.$$.not_equal(s.proposed.trafficData.flowTwoWay,b)&&(s.proposed.trafficData.flowTwoWay=b,O.set(s))}function a(b){n.$$.not_equal(s.proposed.trafficData.flowSharedUse,b)&&(s.proposed.trafficData.flowSharedUse=b,O.set(s))}function c(b){n.$$.not_equal(s.proposed.trafficData.trafficFlow,b)&&(s.proposed.trafficData.trafficFlow=b,O.set(s))}function m(b){n.$$.not_equal(s.proposed.trafficData.speedLimit,b)&&(s.proposed.trafficData.speedLimit=b,O.set(s))}function F(b){n.$$.not_equal(s.proposed.trafficData.observedSpeed,b)&&(s.proposed.trafficData.observedSpeed=b,O.set(s))}function h(b){n.$$.not_equal(s.proposed.trafficData.streetFunction,b)&&(s.proposed.trafficData.streetFunction=b,O.set(s))}return n.$$set=b=>{"valid"in b&&r(3,i=b.valid)},n.$$.update=()=>{n.$$.dirty&1&&r(3,i=s.proposed.trafficData.flowOneWay!=""&&s.proposed.trafficData.flowTwoWay!=""&&s.proposed.trafficData.flowSharedUse!=""&&s.proposed.trafficData.trafficFlow!=""&&s.proposed.trafficData.speedLimit!=""&&s.proposed.trafficData.observedSpeed!=null&&s.proposed.trafficData.streetFunction!=""),n.$$.dirty&1&&r(1,t=Ke(s.proposed.trafficData.speedLimit,s.proposed.trafficData.observedSpeed))},[s,t,o,i,l,f,a,c,m,F,h]}class Gt extends ie{constructor(e){super(),ae(this,e,zt,Ht,ne,{valid:3})}}function Kt(n){let e,r;return e=new Ut({}),{c(){T(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){C(e,t,s),r=!0},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function Yt(n){let e,r="Fill out all traffic data above to continue";return{c(){e=V("p"),e.textContent=r},l(t){e=A(t,"P",{"data-svelte-h":!0}),he(e)!=="svelte-72a5ry"&&(e.textContent=r)},m(t,s){k(t,e,s)},p:oe,i:oe,o:oe,d(t){t&&v(e)}}}function Qt(n){let e,r,t,s;return e=new ce({props:{label:"Desirable Minimum Cross-Section",open:!0,$$slots:{default:[Xt]},$$scope:{ctx:n}}}),t=new ce({props:{label:"Absolute Minimum Cross-Section",open:!0,$$slots:{default:[xt]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment),r=q(),T(t.$$.fragment)},l(i){L(e.$$.fragment,i),r=P(i),L(t.$$.fragment,i)},m(i,o){C(e,i,o),k(i,r,o),C(t,i,o),s=!0},p(i,o){const l={};o&66&&(l.$$scope={dirty:o,ctx:i}),e.$set(l);const f={};o&66&&(f.$$scope={dirty:o,ctx:i}),t.$set(f)},i(i){s||(w(e.$$.fragment,i),w(t.$$.fragment,i),s=!0)},o(i){y(e.$$.fragment,i),y(t.$$.fragment,i),s=!1},d(i){i&&v(r),N(e,i),N(t,i)}}}function Xt(n){let e,r,t;function s(o){n[4](o)}let i={sectionType:"Desirable"};return n[1].proposed.desirableMinimumCrossSection!==void 0&&(i.streetFeaturesLeftToRight=n[1].proposed.desirableMinimumCrossSection),e=new Qe({props:i}),j.push(()=>J(e,"streetFeaturesLeftToRight",s)),{c(){T(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,l){C(e,o,l),t=!0},p(o,l){const f={};!r&&l&2&&(r=!0,f.streetFeaturesLeftToRight=o[1].proposed.desirableMinimumCrossSection,U(()=>r=!1)),e.$set(f)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){y(e.$$.fragment,o),t=!1},d(o){N(e,o)}}}function Ue(n){let e,r;return e=new Z({props:{$$slots:{default:[Zt]},$$scope:{ctx:n}}}),e.$on("click",n[2]),{c(){T(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){C(e,t,s),r=!0},p(t,s){const i={};s&64&&(i.$$scope={dirty:s,ctx:t}),e.$set(i)},i(t){r||(w(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function Zt(n){let e;return{c(){e=R("Copy Desirable Minimum")},l(r){e=B(r,"Copy Desirable Minimum")},m(r,t){k(r,e,t)},d(r){r&&v(e)}}}function xt(n){let e,r,t,s,i=n[1].proposed.absoluteMinimumCrossSection.length==0&&Ue(n);function o(f){n[5](f)}let l={sectionType:"Absolute"};return n[1].proposed.absoluteMinimumCrossSection!==void 0&&(l.streetFeaturesLeftToRight=n[1].proposed.absoluteMinimumCrossSection),r=new Qe({props:l}),j.push(()=>J(r,"streetFeaturesLeftToRight",o)),{c(){i&&i.c(),e=q(),T(r.$$.fragment)},l(f){i&&i.l(f),e=P(f),L(r.$$.fragment,f)},m(f,a){i&&i.m(f,a),k(f,e,a),C(r,f,a),s=!0},p(f,a){f[1].proposed.absoluteMinimumCrossSection.length==0?i?(i.p(f,a),a&2&&w(i,1)):(i=Ue(f),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(Y(),y(i,1,1,()=>{i=null}),Q());const c={};!t&&a&2&&(t=!0,c.streetFeaturesLeftToRight=f[1].proposed.absoluteMinimumCrossSection,U(()=>t=!1)),r.$set(c)},i(f){s||(w(i),w(r.$$.fragment,f),s=!0)},o(f){y(i),y(r.$$.fragment,f),s=!1},d(f){f&&v(e),i&&i.d(f),N(r,f)}}}function er(n){let e,r,t,s,i,o,l,f,a;function c(u){n[3](u)}let m={};n[0]!==void 0&&(m.valid=n[0]),e=new Gt({props:m}),j.push(()=>J(e,"valid",c)),s=new ce({props:{label:"Custom Street Features",$$slots:{default:[Kt]},$$scope:{ctx:n}}});const F=[Qt,Yt],h=[];function b(u,p){return u[0]?0:1}return o=b(n),l=h[o]=F[o](n),{c(){T(e.$$.fragment),t=q(),T(s.$$.fragment),i=q(),l.c(),f=K()},l(u){L(e.$$.fragment,u),t=P(u),L(s.$$.fragment,u),i=P(u),l.l(u),f=K()},m(u,p){C(e,u,p),k(u,t,p),C(s,u,p),k(u,i,p),h[o].m(u,p),k(u,f,p),a=!0},p(u,[p]){const $={};!r&&p&1&&(r=!0,$.valid=u[0],U(()=>r=!1)),e.$set($);const d={};p&64&&(d.$$scope={dirty:p,ctx:u}),s.$set(d);let D=o;o=b(u),o===D?h[o].p(u,p):(Y(),y(h[D],1,1,()=>{h[D]=null}),Q(),l=h[o],l?l.p(u,p):(l=h[o]=F[o](u),l.c()),w(l,1),l.m(f.parentNode,f))},i(u){a||(w(e.$$.fragment,u),w(s.$$.fragment,u),w(l),a=!0)},o(u){y(e.$$.fragment,u),y(s.$$.fragment,u),y(l),a=!1},d(u){u&&(v(t),v(i),v(f)),N(e,u),N(s,u),h[o].d(u)}}}function tr(n,e,r){let t;le(n,O,a=>r(1,t=a));let s=!1;function i(){Je(O,t.proposed.absoluteMinimumCrossSection=JSON.parse(JSON.stringify(t.proposed.desirableMinimumCrossSection)),t)}function o(a){s=a,r(0,s)}function l(a){n.$$.not_equal(t.proposed.desirableMinimumCrossSection,a)&&(t.proposed.desirableMinimumCrossSection=a,O.set(t))}function f(a){n.$$.not_equal(t.proposed.absoluteMinimumCrossSection,a)&&(t.proposed.absoluteMinimumCrossSection=a,O.set(t))}return[s,t,i,o,l,f]}class gr extends ie{constructor(e){super(),ae(this,e,tr,er,ne,{})}}export{gr as component};
