import{s as L,e as g,c as b,b as p,f as _,i as k,n as w,q as P,k as V,E as B,a as y,g as I,r as v,h as m,t as S,d as C,w as x,j as E,p as D}from"./scheduler.d-ZThAIN.js";import{e as K}from"./each.5I2k8VTY.js";import{S as j,i as Q}from"./index.BKLGIcjh.js";import{s as z}from"./data.C6NqCBaE.js";import{b as N}from"./paths.Cv4UJgjh.js";import{s as F}from"./index.R2MjMSdN.js";import{c as O}from"./colors.B_b9C5xD.js";function q(o,e,r){const t=o.slice();return t[10]=e[r],t}function H(o){let e,r,t,l;function n(c,h){return c[2]-c[1]!=c[10].idx?U:M}let s=n(o),a=s(o);function f(c,h){return c[4][c[10].idx]?X:W}let u=f(o),d=u(o);return{c(){e=g("li"),r=g("div"),a.c(),t=y(),d.c(),l=y(),this.h()},l(c){e=b(c,"LI",{});var h=p(e);r=b(h,"DIV",{class:!0});var i=p(r);a.l(i),t=I(i),d.l(i),i.forEach(_),l=I(h),h.forEach(_),this.h()},h(){v(r,"class","progress-list-item svelte-1aa8b8k")},m(c,h){k(c,e,h),m(e,r),a.m(r,null),m(r,t),d.m(r,null),m(e,l)},p(c,h){s===(s=n(c))&&a?a.p(c,h):(a.d(1),a=s(c),a&&(a.c(),a.m(r,t))),u!==(u=f(c))&&(d.d(1),d=u(c),d&&(d.c(),d.m(r,null)))},d(c){c&&_(e),a.d(),d.d()}}}function J(o){let e,r,t=o[10].label+"",l,n,s,a=o[10].notes&&A(o);return{c(){e=g("div"),r=g("strong"),l=S(t),n=y(),a&&a.c(),s=y(),this.h()},l(f){e=b(f,"DIV",{style:!0});var u=p(e);r=b(u,"STRONG",{class:!0});var d=p(r);l=C(d,t),d.forEach(_),n=I(u),a&&a.l(u),s=I(u),u.forEach(_),this.h()},h(){v(r,"class","govuk-tag"),x(r,"color",O.green.font),x(r,"background",O.green.background),x(e,"padding","20px")},m(f,u){k(f,e,u),m(e,r),m(r,l),m(e,n),a&&a.m(e,null),m(e,s)},p(f,u){u&1&&t!==(t=f[10].label+"")&&E(l,t),f[10].notes?a?a.p(f,u):(a=A(f),a.c(),a.m(e,s)):a&&(a.d(1),a=null)},d(f){f&&_(e),a&&a.d()}}}function M(o){let e=o[10].label+"",r;return{c(){r=S(e)},l(t){r=C(t,e)},m(t,l){k(t,r,l)},p(t,l){l&1&&e!==(e=t[10].label+"")&&E(r,e)},d(t){t&&_(r)}}}function U(o){let e,r=o[10].label+"",t,l;return{c(){e=g("a"),t=S(r),this.h()},l(n){e=b(n,"A",{href:!0});var s=p(e);t=C(s,r),s.forEach(_),this.h()},h(){v(e,"href",l=""+(N+o[3]+o[5](o[10].idx)))},m(n,s){k(n,e,s),m(e,t)},p(n,s){s&1&&r!==(r=n[10].label+"")&&E(t,r),s&9&&l!==(l=""+(N+n[3]+n[5](n[10].idx)))&&v(e,"href",l)},d(n){n&&_(e)}}}function W(o){let e,r="☒";return{c(){e=g("strong"),e.textContent=r,this.h()},l(t){e=b(t,"STRONG",{class:!0,"data-svelte-h":!0}),D(e)!=="svelte-1v6fn9x"&&(e.textContent=r),this.h()},h(){v(e,"class","govuk-tag govuk-tag--red tag-row svelte-1aa8b8k")},m(t,l){k(t,e,l)},d(t){t&&_(e)}}}function X(o){let e,r="☑";return{c(){e=g("strong"),e.textContent=r,this.h()},l(t){e=b(t,"STRONG",{class:!0,"data-svelte-h":!0}),D(e)!=="svelte-1wxgh7q"&&(e.textContent=r),this.h()},h(){v(e,"class","govuk-tag govuk-tag--green tag-row svelte-1aa8b8k")},m(t,l){k(t,e,l)},d(t){t&&_(e)}}}function A(o){let e,r=o[10].notes+"",t;return{c(){e=g("p"),t=S(r)},l(l){e=b(l,"P",{});var n=p(e);t=C(n,r),n.forEach(_)},m(l,n){k(l,e,n),m(e,t)},p(l,n){n&1&&r!==(r=l[10].notes+"")&&E(t,r)},d(l){l&&_(e)}}}function R(o){let e;function r(n,s){return n[10].kind=="section"?J:H}let t=r(o),l=t(o);return{c(){l.c(),e=B()},l(n){l.l(n),e=B()},m(n,s){l.m(n,s),k(n,e,s)},p(n,s){t===(t=r(n))&&l?l.p(n,s):(l.d(1),l=t(n),l&&(l.c(),l.m(e.parentNode,e)))},d(n){n&&_(e),l.d(n)}}}function Y(o){let e,r=K(T(o[0])),t=[];for(let l=0;l<r.length;l+=1)t[l]=R(q(o,r,l));return{c(){e=g("ol");for(let l=0;l<t.length;l+=1)t[l].c()},l(l){e=b(l,"OL",{});var n=p(e);for(let s=0;s<t.length;s+=1)t[s].l(n);n.forEach(_)},m(l,n){k(l,e,n);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,[n]){if(n&63){r=K(T(l[0]));let s;for(s=0;s<r.length;s+=1){const a=q(l,r,s);t[s]?t[s].p(a,n):(t[s]=R(a),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=r.length}},i:w,o:w,d(l){l&&_(e),P(t,l)}}}function T(o){let e=[],r=0;for(let t of o){e.push({kind:"section",label:t.section,notes:t.notes});for(let l of t.pages)e.push({kind:"page",idx:r,label:l}),r++}return e}function Z(o,e,r){let t,l;V(o,z,i=>r(7,l=i));let{sections:n}=e,{startIdx:s}=e,{currentIdx:a}=e,{scorecardKey:f}=e,{urlBase:u}=e,d=F(n.map(i=>i.pages.length));function c(i){return(i+s).toString().padStart(2,"0")}function h(i){return Array.from(Array(d).keys()).map(G=>l[f].existingScores[G]!=""&&l[f].proposedScores[G]!="")}return o.$$set=i=>{"sections"in i&&r(0,n=i.sections),"startIdx"in i&&r(1,s=i.startIdx),"currentIdx"in i&&r(2,a=i.currentIdx),"scorecardKey"in i&&r(6,f=i.scorecardKey),"urlBase"in i&&r(3,u=i.urlBase)},o.$$.update=()=>{o.$$.dirty&128&&r(4,t=h())},[n,s,a,u,t,c,f,l]}class oe extends j{constructor(e){super(),Q(this,e,Z,Y,L,{sections:0,startIdx:1,currentIdx:2,scorecardKey:6,urlBase:3})}}export{oe as G};
