import{s as X,D as _e,i as E,n as C,f as h,k as oe,e as w,c as y,b as k,q as c,J as Te,t as M,a as P,d as O,g as I,E as ge,h as m,j as W,v as R,N as le,O as ne,l as Ee,H as Ce,y as Ne,u as Pe,m as Ie,o as Ae,G as me,U as Ve}from"./scheduler.BupgUPYD.js";import{S as x,i as ee,g as ve,b as D,f as de,t as F,c as G,a as J,m as U,d as $}from"./index.DdWFotL4.js";import{g as Be}from"./globals.D0QH3NT1.js";import{b as z}from"./paths.BGzAsUpM.js";import{g as De,a as Fe,b as Se,c as pe,d as qe}from"./index.Clm7uaVl.js";import{p as ue}from"./stores.CgwpDVMN.js";import{g as He}from"./entry.DnisO5Ni.js";import{S as Le,A as Me}from"./ServiceHeader.eXgswJo-.js";import"./index.B7yqzL-8.js";import{e as be}from"./each.DPGgJC1I.js";function ke(n,r,t){const e=n.slice();return e[3]=r[t][0],e[4]=r[t][1],e[5]=r[t][2],e}function we(n){let r,t=be(n[0]),e=[];for(let l=0;l<t.length;l+=1)e[l]=ye(ke(n,t,l));return{c(){r=w("ol");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){r=y(l,"OL",{class:!0});var s=k(r);for(let a=0;a<e.length;a+=1)e[a].l(s);s.forEach(h),this.h()},h(){c(r,"class","svelte-ew60s7")},m(l,s){E(l,r,s);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,null)},p(l,s){if(s&1){t=be(l[0]);let a;for(a=0;a<t.length;a+=1){const o=ke(l,t,a);e[a]?e[a].p(o,s):(e[a]=ye(o),e[a].c(),e[a].m(r,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=t.length}},d(l){l&&h(r),Te(e,l)}}}function ye(n){let r,t,e=n[4]+"",l,s,a;return{c(){r=w("li"),t=w("a"),l=M(e),a=P(),this.h()},l(o){r=y(o,"LI",{class:!0});var u=k(r);t=y(u,"A",{href:!0,class:!0});var f=k(t);l=O(f,e),f.forEach(h),a=I(u),u.forEach(h),this.h()},h(){c(t,"href",s=""+(z+n[3])),c(t,"class","govuk-link--no-underline svelte-ew60s7"),ge(t,"underline",n[5]),c(r,"class","svelte-ew60s7")},m(o,u){E(o,r,u),m(r,t),m(t,l),m(r,a)},p(o,u){u&1&&e!==(e=o[4]+"")&&W(l,e),u&1&&s!==(s=""+(z+o[3]))&&c(t,"href",s),u&1&&ge(t,"underline",o[5])},d(o){o&&h(r)}}}function Oe(n){let r,t=n[0]&&we(n);return{c(){t&&t.c(),r=_e()},l(e){t&&t.l(e),r=_e()},m(e,l){t&&t.m(e,l),E(e,r,l)},p(e,[l]){e[0]?t?t.p(e,l):(t=we(e),t.c(),t.m(r.parentNode,r)):t&&(t.d(1),t=null)},i:C,o:C,d(e){e&&h(r),t&&t.d(e)}}}function ze(n,r,t){let e,l;oe(n,ue,a=>t(2,l=a));let{routeCheckType:s}=r;return n.$$set=a=>{"routeCheckType"in a&&t(1,s=a.routeCheckType)},n.$$.update=()=>{n.$$.dirty&6&&t(0,e=De(l.url.pathname,s))},[e,s,l]}class Ye extends x{constructor(r){super(),ee(this,r,ze,Oe,X,{routeCheckType:1})}}function Ze(n){let r;return{c(){r=M(" ")},l(t){r=O(t," ")},m(t,e){E(t,r,e)},p:C,i:C,o:C,d(t){t&&h(r)}}}function je(n){let r,t;return r=new et({props:{href:""+(z+n[1][0]),label:n[1][1]}}),{c(){G(r.$$.fragment)},l(e){J(r.$$.fragment,e)},m(e,l){U(r,e,l),t=!0},p(e,l){const s={};l&2&&(s.href=""+(z+e[1][0])),l&2&&(s.label=e[1][1]),r.$set(s)},i(e){t||(F(r.$$.fragment,e),t=!0)},o(e){D(r.$$.fragment,e),t=!1},d(e){$(r,e)}}}function Ge(n){let r;return{c(){r=M(" ")},l(t){r=O(t," ")},m(t,e){E(t,r,e)},p:C,i:C,o:C,d(t){t&&h(r)}}}function Je(n){let r,t;return r=new We({props:{href:""+(z+n[0][0]),label:n[0][1]}}),{c(){G(r.$$.fragment)},l(e){J(r.$$.fragment,e)},m(e,l){U(r,e,l),t=!0},p(e,l){const s={};l&1&&(s.href=""+(z+e[0][0])),l&1&&(s.label=e[0][1]),r.$set(s)},i(e){t||(F(r.$$.fragment,e),t=!0)},o(e){D(r.$$.fragment,e),t=!1},d(e){$(r,e)}}}function Ue(n){let r,t,e,l,s,a,o;const u=[je,Ze],f=[];function p(_,b){return _[1]?0:1}t=p(n),e=f[t]=u[t](n);const T=[Je,Ge],v=[];function A(_,b){return _[0]?0:1}return s=A(n),a=v[s]=T[s](n),{c(){r=w("div"),e.c(),l=P(),a.c(),this.h()},l(_){r=y(_,"DIV",{style:!0});var b=k(r);e.l(b),l=I(b),a.l(b),b.forEach(h),this.h()},h(){R(r,"display","flex"),R(r,"justify-content","space-between")},m(_,b){E(_,r,b),f[t].m(r,null),m(r,l),v[s].m(r,null),o=!0},p(_,[b]){let V=t;t=p(_),t===V?f[t].p(_,b):(ve(),D(f[V],1,1,()=>{f[V]=null}),de(),e=f[t],e?e.p(_,b):(e=f[t]=u[t](_),e.c()),F(e,1),e.m(r,l));let S=s;s=A(_),s===S?v[s].p(_,b):(ve(),D(v[S],1,1,()=>{v[S]=null}),de(),a=v[s],a?a.p(_,b):(a=v[s]=T[s](_),a.c()),F(a,1),a.m(r,null))},i(_){o||(F(e),F(a),o=!0)},o(_){D(e),D(a),o=!1},d(_){_&&h(r),f[t].d(),v[s].d()}}}function $e(n,r,t){let e,l,s,a;oe(n,ue,u=>t(4,a=u));let{routeCheckType:o}=r;return n.$$set=u=>{"routeCheckType"in u&&t(2,o=u.routeCheckType)},n.$$.update=()=>{n.$$.dirty&16&&t(3,e=a.url.pathname),n.$$.dirty&12&&t(1,l=Fe(e,o)),n.$$.dirty&12&&t(0,s=Se(e,o))},[s,l,o,e,a]}class Ke extends x{constructor(r){super(),ee(this,r,$e,Ue,X,{routeCheckType:2})}}function Qe(n){let r,t,e,l,s,a,o;return{c(){r=w("div"),t=w("a"),e=w("span"),l=M(n[1]),s=P(),a=le("svg"),o=le("path"),this.h()},l(u){r=y(u,"DIV",{class:!0});var f=k(r);t=y(f,"A",{class:!0,href:!0,rel:!0});var p=k(t);e=y(p,"SPAN",{class:!0});var T=k(e);l=O(T,n[1]),T.forEach(h),s=I(p),a=ne(p,"svg",{class:!0,xmlns:!0,height:!0,width:!0,"aria-hidden":!0,focusable:!0,viewBox:!0});var v=k(a);o=ne(v,"path",{d:!0}),k(o).forEach(h),v.forEach(h),p.forEach(h),f.forEach(h),this.h()},h(){c(e,"class","govuk-pagination__link-title"),c(o,"d","m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"),c(a,"class","govuk-pagination__icon govuk-pagination__icon--next"),c(a,"xmlns","http://www.w3.org/2000/svg"),c(a,"height","13"),c(a,"width","15"),c(a,"aria-hidden","true"),c(a,"focusable","false"),c(a,"viewBox","0 0 15 13"),c(t,"class","govuk-link govuk-pagination__link"),c(t,"href",n[0]),c(t,"rel","next"),c(r,"class","govuk-pagination__next")},m(u,f){E(u,r,f),m(r,t),m(t,e),m(e,l),m(t,s),m(t,a),m(a,o)},p(u,[f]){f&2&&W(l,u[1]),f&1&&c(t,"href",u[0])},i:C,o:C,d(u){u&&h(r)}}}function Re(n,r,t){let{href:e}=r,{label:l}=r;return n.$$set=s=>{"href"in s&&t(0,e=s.href),"label"in s&&t(1,l=s.label)},[e,l]}class We extends x{constructor(r){super(),ee(this,r,Re,Qe,X,{href:0,label:1})}}function Xe(n){let r,t,e,l,s,a,o;return{c(){r=w("div"),t=w("a"),e=le("svg"),l=le("path"),s=P(),a=w("span"),o=M(n[1]),this.h()},l(u){r=y(u,"DIV",{class:!0});var f=k(r);t=y(f,"A",{class:!0,href:!0,rel:!0});var p=k(t);e=ne(p,"svg",{class:!0,xmlns:!0,height:!0,width:!0,"aria-hidden":!0,focusable:!0,viewBox:!0});var T=k(e);l=ne(T,"path",{d:!0}),k(l).forEach(h),T.forEach(h),s=I(p),a=y(p,"SPAN",{class:!0});var v=k(a);o=O(v,n[1]),v.forEach(h),p.forEach(h),f.forEach(h),this.h()},h(){c(l,"d","m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"),c(e,"class","govuk-pagination__icon govuk-pagination__icon--prev"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"height","13"),c(e,"width","15"),c(e,"aria-hidden","true"),c(e,"focusable","false"),c(e,"viewBox","0 0 15 13"),c(a,"class","govuk-pagination__link-title"),c(t,"class","govuk-link govuk-pagination__link"),c(t,"href",n[0]),c(t,"rel","prev"),c(r,"class","govuk-pagination__prev")},m(u,f){E(u,r,f),m(r,t),m(t,e),m(e,l),m(t,s),m(t,a),m(a,o)},p(u,[f]){f&2&&W(o,u[1]),f&1&&c(t,"href",u[0])},i:C,o:C,d(u){u&&h(r)}}}function xe(n,r,t){let{href:e}=r,{label:l}=r;return n.$$set=s=>{"href"in s&&t(0,e=s.href),"label"in s&&t(1,l=s.label)},[e,l]}class et extends x{constructor(r){super(),ee(this,r,xe,Xe,X,{href:0,label:1})}}const tt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23000000'%3e%3cpath%20d='M160-160q-33%200-56.5-23.5T80-240v-480q0-33%2023.5-56.5T160-800h240l80%2080h320q33%200%2056.5%2023.5T880-640v400q0%2033-23.5%2056.5T800-160H160Zm0-80h640v-400H447l-80-80H160v480Zm0%200v-480%20480Z'/%3e%3c/svg%3e",{window:rt}=Be;function at(n){let r,t,e,l,s,a,o,u,f,p,T,v,A,_,b,V,S,q,g,B,Y,K=pe(n[6].url.pathname)+"",te,re,ae,Z,H,se,ce;r=new Le({props:{service:n[3]}}),l=new Me({}),q=new Ye({props:{routeCheckType:n[4]}});const ie=n[10].default,N=Ee(ie,n,n[9],null);return Z=new Ke({props:{routeCheckType:n[4]}}),{c(){G(r.$$.fragment),t=P(),e=w("div"),G(l.$$.fragment),s=P(),a=w("div"),o=w("img"),f=P(),p=w("a"),T=M("Manage my schemes"),A=P(),_=w("span"),b=M("You are editing: "),V=M(n[5]),S=P(),G(q.$$.fragment),g=P(),B=w("div"),Y=w("div"),te=M(K),re=P(),N&&N.c(),ae=P(),G(Z.$$.fragment),this.h()},l(i){J(r.$$.fragment,i),t=I(i),e=y(i,"DIV",{class:!0});var d=k(e);J(l.$$.fragment,d),s=I(d),a=y(d,"DIV",{style:!0});var L=k(a);o=y(L,"IMG",{src:!0,alt:!0,style:!0}),f=I(L),p=y(L,"A",{href:!0});var Q=k(p);T=O(Q,"Manage my schemes"),Q.forEach(h),A=I(L),_=y(L,"SPAN",{class:!0,style:!0});var j=k(_);b=O(j,"You are editing: "),V=O(j,n[5]),j.forEach(h),L.forEach(h),S=I(d),J(q.$$.fragment,d),d.forEach(h),g=I(i),B=y(i,"DIV",{class:!0});var fe=k(B);Y=y(fe,"DIV",{class:!0});var he=k(Y);te=O(he,K),he.forEach(h),fe.forEach(h),re=I(i),N&&N.l(i),ae=I(i),J(Z.$$.fragment,i),this.h()},h(){Ce(o.src,u=tt)||c(o,"src",u),c(o,"alt","Manage my schemes"),R(o,"vertical-align","middle"),c(p,"href",v=z+"/"+n[2]),c(_,"class","govuk-body"),R(_,"margin-left","8px"),R(a,"margin-bottom","30px"),c(e,"class","govuk-width-container"),c(Y,"class","govuk-heading-l"),c(B,"class","govuk-width-container")},m(i,d){U(r,i,d),E(i,t,d),E(i,e,d),U(l,e,null),m(e,s),m(e,a),m(a,o),m(a,f),m(a,p),m(p,T),m(a,A),m(a,_),m(_,b),m(_,V),m(e,S),U(q,e,null),E(i,g,d),E(i,B,d),m(B,Y),m(Y,te),E(i,re,d),N&&N.m(i,d),E(i,ae,d),U(Z,i,d),H=!0,se||(ce=Ne(rt,"storage",n[7]),se=!0)},p(i,[d]){const L={};d&8&&(L.service=i[3]),r.$set(L),(!H||d&4&&v!==(v=z+"/"+i[2]))&&c(p,"href",v),(!H||d&32)&&W(V,i[5]);const Q={};d&16&&(Q.routeCheckType=i[4]),q.$set(Q),(!H||d&64)&&K!==(K=pe(i[6].url.pathname)+"")&&W(te,K),N&&N.p&&(!H||d&512)&&Pe(N,ie,i,i[9],H?Ae(ie,i[9],d,null):Ie(i[9]),null);const j={};d&16&&(j.routeCheckType=i[4]),Z.$set(j)},i(i){H||(F(r.$$.fragment,i),F(l.$$.fragment,i),F(q.$$.fragment,i),F(N,i),F(Z.$$.fragment,i),H=!0)},o(i){D(r.$$.fragment,i),D(l.$$.fragment,i),D(q.$$.fragment,i),D(N,i),D(Z.$$.fragment,i),H=!1},d(i){i&&(h(t),h(e),h(g),h(B),h(re),h(ae)),$(r,i),$(l),$(q),N&&N.d(i),$(Z,i),se=!1,ce()}}}function lt(n,r,t){let e,l=C,s=()=>(l(),l=me(A,g=>t(5,e=g)),A),a,o=C,u=()=>(o(),o=me(v,g=>t(11,a=g)),v),f;oe(n,ue,g=>t(6,f=g)),n.$$.on_destroy.push(()=>l()),n.$$.on_destroy.push(()=>o());let{$$slots:p={},$$scope:T}=r,{state:v}=r;u();let{currentFile:A}=r;s();let{files:_}=r,{tool:b}=r,{service:V}=r,{routeCheckType:S}=r;function q(g){let B=_.key(e);if(B==g.key)if(g.newValue)try{console.log(`${B} changed in another tab; applying the data here`),Ve(v,a=JSON.parse(g.newValue),a)}catch(Y){console.error(`${B} changed in another tab, but the new value is broken: ${Y}`)}else window.alert(`You deleted ${e} from another tab. If you continue editing it here, it'll be saved again.`)}return n.$$set=g=>{"state"in g&&u(t(0,v=g.state)),"currentFile"in g&&s(t(1,A=g.currentFile)),"files"in g&&t(8,_=g.files),"tool"in g&&t(2,b=g.tool),"service"in g&&t(3,V=g.service),"routeCheckType"in g&&t(4,S=g.routeCheckType),"$$scope"in g&&t(9,T=g.$$scope)},n.$$.update=()=>{n.$$.dirty&100&&e==""&&qe(f.url.pathname)!=`/${b}`&&(console.log("On a content page without any file loaded; redirecting"),He(`${z}/${b}`))},[v,A,b,V,S,e,f,q,_,T,p]}class mt extends x{constructor(r){super(),ee(this,r,lt,at,X,{state:0,currentFile:1,files:8,tool:2,service:3,routeCheckType:4})}}export{mt as T};
