import{s as L,e as b,c as g,b as p,f as _,i as k,n as B,q as P,k as R,E as G,a as y,g as I,r as v,h as m,t as C,d as E,x as T,j as S,p as w}from"./scheduler.4RMNQxd3.js";import{e as K}from"./each.Cd-2MsLE.js";import{S as V,i as j}from"./index.NlNtvd0Y.js";import{s as Q}from"./data.C90H0faf.js";import{b as A}from"./paths.DK5VnUC7.js";import{s as U}from"./index.BMTniZjl.js";function D(a,e,r){const t=a.slice();return t[10]=e[r],t}function z(a){let e,r,t,l;function n(c,h){return c[2]-c[1]!=c[10].idx?J:H}let s=n(a),i=s(a);function f(c,h){return c[4][c[10].idx]?W:M}let u=f(a),d=u(a);return{c(){e=b("li"),r=b("div"),i.c(),t=y(),d.c(),l=y(),this.h()},l(c){e=g(c,"LI",{});var h=p(e);r=g(h,"DIV",{class:!0});var o=p(r);i.l(o),t=I(o),d.l(o),o.forEach(_),l=I(h),h.forEach(_),this.h()},h(){v(r,"class","progress-list-item svelte-1aa8b8k")},m(c,h){k(c,e,h),m(e,r),i.m(r,null),m(r,t),d.m(r,null),m(e,l)},p(c,h){s===(s=n(c))&&i?i.p(c,h):(i.d(1),i=s(c),i&&(i.c(),i.m(r,t))),u!==(u=f(c))&&(d.d(1),d=u(c),d&&(d.c(),d.m(r,null)))},d(c){c&&_(e),i.d(),d.d()}}}function F(a){let e,r,t=a[10].label+"",l,n,s,i=a[10].notes&&N(a);return{c(){e=b("div"),r=b("u"),l=C(t),n=y(),i&&i.c(),s=y(),this.h()},l(f){e=g(f,"DIV",{style:!0});var u=p(e);r=g(u,"U",{});var d=p(r);l=E(d,t),d.forEach(_),n=I(u),i&&i.l(u),s=I(u),u.forEach(_),this.h()},h(){T(e,"padding","20px")},m(f,u){k(f,e,u),m(e,r),m(r,l),m(e,n),i&&i.m(e,null),m(e,s)},p(f,u){u&1&&t!==(t=f[10].label+"")&&S(l,t),f[10].notes?i?i.p(f,u):(i=N(f),i.c(),i.m(e,s)):i&&(i.d(1),i=null)},d(f){f&&_(e),i&&i.d()}}}function H(a){let e=a[10].label+"",r;return{c(){r=C(e)},l(t){r=E(t,e)},m(t,l){k(t,r,l)},p(t,l){l&1&&e!==(e=t[10].label+"")&&S(r,e)},d(t){t&&_(r)}}}function J(a){let e,r=a[10].label+"",t,l;return{c(){e=b("a"),t=C(r),this.h()},l(n){e=g(n,"A",{href:!0});var s=p(e);t=E(s,r),s.forEach(_),this.h()},h(){v(e,"href",l=""+(A+a[3]+a[5](a[10].idx)))},m(n,s){k(n,e,s),m(e,t)},p(n,s){s&1&&r!==(r=n[10].label+"")&&S(t,r),s&9&&l!==(l=""+(A+n[3]+n[5](n[10].idx)))&&v(e,"href",l)},d(n){n&&_(e)}}}function M(a){let e,r="Incomplete";return{c(){e=b("strong"),e.textContent=r,this.h()},l(t){e=g(t,"STRONG",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-aapexx"&&(e.textContent=r),this.h()},h(){v(e,"class","govuk-tag govuk-tag--red tag-row svelte-1aa8b8k")},m(t,l){k(t,e,l)},d(t){t&&_(e)}}}function W(a){let e,r="Done";return{c(){e=b("strong"),e.textContent=r,this.h()},l(t){e=g(t,"STRONG",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-9s30hd"&&(e.textContent=r),this.h()},h(){v(e,"class","govuk-tag govuk-tag--green tag-row svelte-1aa8b8k")},m(t,l){k(t,e,l)},d(t){t&&_(e)}}}function N(a){let e,r=a[10].notes+"",t;return{c(){e=b("p"),t=C(r)},l(l){e=g(l,"P",{});var n=p(e);t=E(n,r),n.forEach(_)},m(l,n){k(l,e,n),m(e,t)},p(l,n){n&1&&r!==(r=l[10].notes+"")&&S(t,r)},d(l){l&&_(e)}}}function O(a){let e;function r(n,s){return n[10].kind=="section"?F:z}let t=r(a),l=t(a);return{c(){l.c(),e=G()},l(n){l.l(n),e=G()},m(n,s){l.m(n,s),k(n,e,s)},p(n,s){t===(t=r(n))&&l?l.p(n,s):(l.d(1),l=t(n),l&&(l.c(),l.m(e.parentNode,e)))},d(n){n&&_(e),l.d(n)}}}function X(a){let e,r=K(q(a[0])),t=[];for(let l=0;l<r.length;l+=1)t[l]=O(D(a,r,l));return{c(){e=b("ol");for(let l=0;l<t.length;l+=1)t[l].c()},l(l){e=g(l,"OL",{});var n=p(e);for(let s=0;s<t.length;s+=1)t[s].l(n);n.forEach(_)},m(l,n){k(l,e,n);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,[n]){if(n&63){r=K(q(l[0]));let s;for(s=0;s<r.length;s+=1){const i=D(l,r,s);t[s]?t[s].p(i,n):(t[s]=O(i),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=r.length}},i:B,o:B,d(l){l&&_(e),P(t,l)}}}function q(a){let e=[],r=0;for(let t of a){e.push({kind:"section",label:t.section,notes:t.notes});for(let l of t.pages)e.push({kind:"page",idx:r,label:l}),r++}return e}function Y(a,e,r){let t,l;R(a,Q,o=>r(7,l=o));let{sections:n}=e,{startIdx:s}=e,{currentIdx:i}=e,{scorecardKey:f}=e,{urlBase:u}=e,d=U(n.map(o=>o.pages.length));function c(o){return(o+s).toString().padStart(2,"0")}function h(o){return Array.from(Array(d).keys()).map(x=>l[f].existingScores[x]!=""&&l[f].proposedScores[x]!="")}return a.$$set=o=>{"sections"in o&&r(0,n=o.sections),"startIdx"in o&&r(1,s=o.startIdx),"currentIdx"in o&&r(2,i=o.currentIdx),"scorecardKey"in o&&r(6,f=o.scorecardKey),"urlBase"in o&&r(3,u=o.urlBase)},a.$$.update=()=>{a.$$.dirty&128&&r(4,t=h())},[n,s,i,u,t,c,f,l]}class ne extends V{constructor(e){super(),j(this,e,Y,X,L,{sections:0,startIdx:1,currentIdx:2,scorecardKey:6,urlBase:3})}}export{ne as G};
