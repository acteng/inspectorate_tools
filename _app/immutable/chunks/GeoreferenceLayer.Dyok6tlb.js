import{s as R,a as G,e as w,g as W,c as I,p as X,i as L,f as h,t as O,d as j,E as K,k as D,a8 as Me,M as A,n as ne,l as ie,u as ue,m as fe,o as ce,b as H,r as S,x as V,a9 as ge,z as P,Z as Ge,B as Se,a7 as We,H as F,v as re,aa as Ke,h as T,C as _e,j as Oe,w as pe}from"./scheduler.nL9vSw2e.js";import{S as q,i as Y,c as v,a as C,m as B,t as b,b as k,d as z,g as $,f as x,e as be}from"./index.CnCLodb-.js";import{C as je}from"./CollapsibleCard.DvFcpccF.js";import{S as ve,W as Re}from"./WarningButton.CcSBND6g.js";import{B as Ue}from"./ButtonGroup.s0ygRtPa.js";import{D as Fe}from"./DefaultButton.eSgT-tr9.js";import{F as He}from"./FormElement.7vpj_Wh3.js";import{g as Ce,u as Ve,r as qe,a as Ye,c as Ze,b as Je,d as Qe,L as Xe}from"./MapLibreMap.m7OsN20c.js";import{w as me}from"./entry.DUGrU1Sq.js";function $e(o){let e,l="You can manually use high-quality Bluesky imagery if you have a valid key.";return{c(){e=w("p"),e.textContent=l},l(t){e=I(t,"P",{"data-svelte-h":!0}),X(e)!=="svelte-1e80rhw"&&(e.textContent=l)},m(t,n){L(t,e,n)},d(t){t&&h(e)}}}function xe(o){let e,l="The map should be showing Bluesky imagery.";return{c(){e=w("p"),e.textContent=l},l(t){e=I(t,"P",{"data-svelte-h":!0}),X(e)!=="svelte-13v9ac9"&&(e.textContent=l)},m(t,n){L(t,e,n)},d(t){t&&h(e)}}}function et(o){let e;return{c(){e=O("Set Bluesky API key")},l(l){e=j(l,"Set Bluesky API key")},m(l,t){L(l,e,t)},d(l){l&&h(e)}}}function tt(o){let e,l,t=`<i>Note this feature is temporary -- in the future, you will login and
      automatically have access to this imagery.</i>`,n,a,i;function u(s,r){return lt()?xe:$e}let m=u()(o);return a=new ve({props:{$$slots:{default:[et]},$$scope:{ctx:o}}}),a.$on("click",ot),{c(){m.c(),e=G(),l=w("p"),l.innerHTML=t,n=G(),v(a.$$.fragment)},l(s){m.l(s),e=W(s),l=I(s,"P",{"data-svelte-h":!0}),X(l)!=="svelte-jc29jc"&&(l.innerHTML=t),n=W(s),C(a.$$.fragment,s)},m(s,r){m.m(s,r),L(s,e,r),L(s,l,r),L(s,n,r),B(a,s,r),i=!0},p(s,r){const g={};r&1&&(g.$$scope={dirty:r,ctx:s}),a.$set(g)},i(s){i||(b(a.$$.fragment,s),i=!0)},o(s){k(a.$$.fragment,s),i=!1},d(s){s&&(h(e),h(l),h(n)),m.d(s),z(a,s)}}}function nt(o){let e,l;return e=new je({props:{label:"Bluesky imagery",$$slots:{default:[tt]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,[n]){const a={};n&1&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}let se="bluesky-api-key";function lt(){let o=window.localStorage.getItem(se);return o!=null&&o.length>0}function ot(){let o=window.prompt("Enter the API key provided to you",window.localStorage.getItem(se)||"");window.localStorage.setItem(se,o||""),window.location.reload()}class Kt extends q{constructor(e){super(),Y(this,e,null,nt,R,{})}}function he(o){let e=o[0],l,t,n=ye(o);return{c(){n.c(),l=K()},l(a){n.l(a),l=K()},m(a,i){n.m(a,i),L(a,l,i),t=!0},p(a,i){i&1&&R(e,e=a[0])?($(),k(n,1,1,ne),x(),n=ye(a),n.c(),b(n,1),n.m(l.parentNode,l)):n.p(a,i)},i(a){t||(b(n),t=!0)},o(a){k(n),t=!1},d(a){a&&h(l),n.d(a)}}}function ye(o){let e;const l=o[10].default,t=ie(l,o,o[9],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),e=!0},p(n,a){t&&t.p&&(!e||a&512)&&ue(t,l,n,n[9],e?ce(l,n[9],a,null):fe(n[9]),null)},i(n){e||(b(t,n),e=!0)},o(n){k(t,n),e=!1},d(n){t&&t.d(n)}}}function at(o){let e,l,t=o[0]&&he(o);return{c(){t&&t.c(),e=K()},l(n){t&&t.l(n),e=K()},m(n,a){t&&t.m(n,a),L(n,e,a),l=!0},p(n,[a]){n[0]?t?(t.p(n,a),a&1&&b(t,1)):(t=he(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&($(),k(t,1,1,()=>{t=null}),x())},i(n){l||(b(t),l=!0)},o(n){k(t),l=!1},d(n){n&&h(e),t&&t.d(n)}}}function rt(o,e,l){let t,n,{$$slots:a={},$$scope:i}=e,{id:u=Ce("image")}=e,{url:c}=e,{coordinates:m}=e;const{map:s,self:r}=Ve();D(o,s,f=>l(8,n=f)),D(o,r,f=>l(0,t=f));let g,_=!0;return Me(()=>{t&&n&&(qe(s,t,g),A(r,t=null,t),l(6,g=void 0))}),o.$$set=f=>{"id"in f&&l(3,u=f.id),"url"in f&&l(4,c=f.url),"coordinates"in f&&l(5,m=f.coordinates),"$$scope"in f&&l(9,i=f.$$scope)},o.$$.update=()=>{o.$$.dirty&313&&n&&t!==u&&(A(r,t=u,t),Ye(n,t,Ze({type:"image",url:c,coordinates:m}),f=>n&&f===t,()=>{t&&(l(6,g=n==null?void 0:n.getSource(t)),l(7,_=!0))})),o.$$.dirty&264&&(n==null||n.on("style.load",()=>{l(6,g=n==null?void 0:n.getSource(u))})),o.$$.dirty&224&&g&&(_?l(7,_=!1):g.setCoordinates(m))},[t,s,r,u,c,m,g,_,n,i,a]}class st extends q{constructor(e){super(),Y(this,e,rt,at,R,{id:3,url:4,coordinates:5})}}function it(o){let e,l,t,n,a,i,u;const c=o[18].default,m=ie(c,o,o[17],null);return{c(){e=w("div"),m&&m.c(),this.h()},l(s){e=I(s,"DIV",{tabindex:!0,role:!0});var r=H(e);m&&m.l(r),r.forEach(h),this.h()},h(){S(e,"tabindex",l=o[1]?0:void 0),S(e,"role",t=o[1]?"button":void 0),V(e,"z-index",o[2])},m(s,r){L(s,e,r),m&&m.m(e,null),a=!0,i||(u=[ge(o[6].call(null,e)),ge(n=ut.call(null,e,o[0])),P(e,"click",o[19]),P(e,"dblclick",o[20]),P(e,"contextmenu",o[21]),P(e,"mouseenter",o[22]),P(e,"mouseleave",o[23]),P(e,"mousemove",o[24]),P(e,"keydown",o[7])],i=!0)},p(s,[r]){m&&m.p&&(!a||r&131072)&&ue(m,c,s,s[17],a?ce(c,s[17],r,null):fe(s[17]),null),(!a||r&2&&l!==(l=s[1]?0:void 0))&&S(e,"tabindex",l),(!a||r&2&&t!==(t=s[1]?"button":void 0))&&S(e,"role",t),n&&Ge(n.update)&&r&1&&n.update.call(null,s[0]),r&4&&V(e,"z-index",s[2])},i(s){a||(b(m,s),a=!0)},o(s){k(m,s),a=!1},d(s){s&&h(e),m&&m.d(s),i=!1,Se(u)}}}function ut(o,e){const l=o.className;function t(n){n?o.className=`${l} ${n}`:o.className=l}return t(e),{update:t}}function ft(o,e,l){let t,n,a,{$$slots:i={},$$scope:u}=e,{lngLat:c}=e,{class:m=void 0}=e,{interactive:s=!0}=e,{asButton:r=!1}=e,{draggable:g=!1}=e,{feature:_=null}=e,{offset:f=void 0}=e,{zIndex:y=void 0}=e,{rotation:E=0}=e,{opacity:M=1}=e;const le=We(),{map:p,layerEvent:oe,self:ae}=Je();D(o,p,d=>l(26,a=d)),D(o,oe,d=>l(25,t=d)),D(o,ae,d=>l(16,n=d));function Be(d){A(ae,n=new Qe.Marker({element:d,rotation:E,draggable:g,offset:f,opacity:M.toString()}).setLngLat(c).addTo(a),n);const U=()=>N("dragstart"),Z=()=>{de(),N("drag")},J=()=>{de(),N("dragend")};return g&&(n.on("dragstart",U),n.on("drag",Z),n.on("dragend",J)),{destroy(){g&&(n==null||n.off("dragstart",U),n==null||n.off("drag",Z),n==null||n.off("dragend",J)),n==null||n.remove()}}}function de(){let d=n==null?void 0:n.getLngLat();d&&(Array.isArray(c)?l(9,c=[d.lng,d.lat]):c&&"lon"in c?l(9,c={lon:d.lng,lat:d.lat}):l(9,c=d))}function ze(d){d.key===" "&&(d.preventDefault(),d.stopPropagation(),N("click"))}function N(d){if(!s)return;let U=n==null?void 0:n.getLngLat();if(!U)return;const Z=[U.lng,U.lat];let J={map:a,marker:n,lngLat:Z,features:[{type:"Feature",properties:(_==null?void 0:_.properties)??{},geometry:{type:"Point",coordinates:Z}}]};A(oe,t={...J,layerType:"marker",type:d},t),le(d,J)}const Ee=()=>N("click"),Ne=()=>N("dblclick"),Pe=()=>N("contextmenu"),Te=d=>{N("mouseenter")},De=()=>{N("mouseleave")},Ae=()=>N("mousemove");return o.$$set=d=>{"lngLat"in d&&l(9,c=d.lngLat),"class"in d&&l(0,m=d.class),"interactive"in d&&l(10,s=d.interactive),"asButton"in d&&l(1,r=d.asButton),"draggable"in d&&l(11,g=d.draggable),"feature"in d&&l(12,_=d.feature),"offset"in d&&l(13,f=d.offset),"zIndex"in d&&l(2,y=d.zIndex),"rotation"in d&&l(14,E=d.rotation),"opacity"in d&&l(15,M=d.opacity),"$$scope"in d&&l(17,u=d.$$scope)},o.$$.update=()=>{o.$$.dirty&66048&&(n==null||n.setLngLat(c)),o.$$.dirty&73728&&(n==null||n.setOffset(f??[0,0])),o.$$.dirty&81920&&(n==null||n.setRotation(E)),o.$$.dirty&98304&&(n==null||n.setOpacity(M.toString()))},[m,r,y,p,oe,ae,Be,ze,N,c,s,g,_,f,E,M,n,u,i,Ee,Ne,Pe,Te,De,Ae]}class ke extends q{constructor(e){super(),Y(this,e,ft,it,R,{lngLat:9,class:0,interactive:10,asButton:1,draggable:11,feature:12,offset:13,zIndex:2,rotation:14,opacity:15})}}function ct(o){let e;const l=o[8].default,t=ie(l,o,o[15],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),e=!0},p(n,a){t&&t.p&&(!e||a&32768)&&ue(t,l,n,n[15],e?ce(l,n[15],a,null):fe(n[15]),null)},i(n){e||(b(t,n),e=!0)},o(n){k(t,n),e=!1},d(n){t&&t.d(n)}}}function mt(o){let e,l;return e=new Xe({props:{id:o[0],type:"raster",source:o[1],beforeId:o[2],beforeLayerType:o[3],paint:o[4],layout:o[5],minzoom:o[6],maxzoom:o[7],$$slots:{default:[ct]},$$scope:{ctx:o}}}),e.$on("click",o[9]),e.$on("dblclick",o[10]),e.$on("contextmenu",o[11]),e.$on("mouseenter",o[12]),e.$on("mousemove",o[13]),e.$on("mouseleave",o[14]),{c(){v(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,[n]){const a={};n&1&&(a.id=t[0]),n&2&&(a.source=t[1]),n&4&&(a.beforeId=t[2]),n&8&&(a.beforeLayerType=t[3]),n&16&&(a.paint=t[4]),n&32&&(a.layout=t[5]),n&64&&(a.minzoom=t[6]),n&128&&(a.maxzoom=t[7]),n&32768&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function dt(o,e,l){let{$$slots:t={},$$scope:n}=e,{id:a=Ce("raster-layer")}=e,{source:i=void 0}=e,{beforeId:u=void 0}=e,{beforeLayerType:c=void 0}=e,{paint:m}=e,{layout:s=void 0}=e,{minzoom:r=void 0}=e,{maxzoom:g=void 0}=e;function _(p){F.call(this,o,p)}function f(p){F.call(this,o,p)}function y(p){F.call(this,o,p)}function E(p){F.call(this,o,p)}function M(p){F.call(this,o,p)}function le(p){F.call(this,o,p)}return o.$$set=p=>{"id"in p&&l(0,a=p.id),"source"in p&&l(1,i=p.source),"beforeId"in p&&l(2,u=p.beforeId),"beforeLayerType"in p&&l(3,c=p.beforeLayerType),"paint"in p&&l(4,m=p.paint),"layout"in p&&l(5,s=p.layout),"minzoom"in p&&l(6,r=p.minzoom),"maxzoom"in p&&l(7,g=p.maxzoom),"$$scope"in p&&l(15,n=p.$$scope)},[a,i,u,c,m,s,r,g,t,_,f,y,E,M,le,n]}class gt extends q{constructor(e){super(),Y(this,e,dt,mt,R,{id:0,source:1,beforeId:2,beforeLayerType:3,paint:4,layout:5,minzoom:6,maxzoom:7})}}const Q=me(!1),ee=me(null),te=me(100);function _t(o){let e,l;return e=new ve({props:{$$slots:{default:[bt]},$$scope:{ctx:o}}}),e.$on("click",o[10]),{c(){v(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const a={};n&2048&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function pt(o){let e,l,t="Georeference an image",n,a,i,u,c,m,s,r=`Note this image isn't saved as part of this scheme. When you close this
      page, it'll be lost.`,g;a=new Ue({props:{$$slots:{default:[kt]},$$scope:{ctx:o}}}),u=new He({props:{label:"Load an image",id:"load-image",$$slots:{default:[Lt]},$$scope:{ctx:o}}});let _=o[3]&&Le(o);return{c(){e=w("div"),l=w("h2"),l.textContent=t,n=G(),v(a.$$.fragment),i=G(),v(u.$$.fragment),c=G(),_&&_.c(),m=G(),s=w("p"),s.textContent=r,this.h()},l(f){e=I(f,"DIV",{style:!0});var y=H(e);l=I(y,"H2",{"data-svelte-h":!0}),X(l)!=="svelte-fociiu"&&(l.textContent=t),n=W(y),C(a.$$.fragment,y),i=W(y),C(u.$$.fragment,y),c=W(y),_&&_.l(y),m=W(y),s=I(y,"P",{"data-svelte-h":!0}),X(s)!=="svelte-d8uklv"&&(s.textContent=r),y.forEach(h),this.h()},h(){V(e,"border","1px solid black"),V(e,"padding","4px")},m(f,y){L(f,e,y),T(e,l),T(e,n),B(a,e,null),T(e,i),B(u,e,null),T(e,c),_&&_.m(e,null),T(e,m),T(e,s),g=!0},p(f,y){const E={};y&2058&&(E.$$scope={dirty:y,ctx:f}),a.$set(E);const M={};y&2049&&(M.$$scope={dirty:y,ctx:f}),u.$set(M),f[3]?_?_.p(f,y):(_=Le(f),_.c(),_.m(e,m)):_&&(_.d(1),_=null)},i(f){g||(b(a.$$.fragment,f),b(u.$$.fragment,f),g=!0)},o(f){k(a.$$.fragment,f),k(u.$$.fragment,f),g=!1},d(f){f&&h(e),z(a),z(u),_&&_.d()}}}function bt(o){let e;return{c(){e=O("Georeference an image")},l(l){e=j(l,"Georeference an image")},m(l,t){L(l,e,t)},d(l){l&&h(e)}}}function ht(o){let e;return{c(){e=O("Save")},l(l){e=j(l,"Save")},m(l,t){L(l,e,t)},d(l){l&&h(e)}}}function yt(o){let e;return{c(){e=O("Delete")},l(l){e=j(l,"Delete")},m(l,t){L(l,e,t)},d(l){l&&h(e)}}}function kt(o){let e,l,t,n;return e=new Fe({props:{$$slots:{default:[ht]},$$scope:{ctx:o}}}),e.$on("click",o[7]),t=new Re({props:{disabled:!o[3],$$slots:{default:[yt]},$$scope:{ctx:o}}}),t.$on("click",o[5]),{c(){v(e.$$.fragment),l=G(),v(t.$$.fragment)},l(a){C(e.$$.fragment,a),l=W(a),C(t.$$.fragment,a)},m(a,i){B(e,a,i),L(a,l,i),B(t,a,i),n=!0},p(a,i){const u={};i&2048&&(u.$$scope={dirty:i,ctx:a}),e.$set(u);const c={};i&8&&(c.disabled=!a[3]),i&2048&&(c.$$scope={dirty:i,ctx:a}),t.$set(c)},i(a){n||(b(e.$$.fragment,a),b(t.$$.fragment,a),n=!0)},o(a){k(e.$$.fragment,a),k(t.$$.fragment,a),n=!1},d(a){a&&h(l),z(e,a),z(t,a)}}}function Lt(o){let e,l,t;return{c(){e=w("input"),this.h()},l(n){e=I(n,"INPUT",{class:!0,id:!0,type:!0}),this.h()},h(){S(e,"class","govuk-file-upload"),S(e,"id","load-image"),S(e,"type","file")},m(n,a){L(n,e,a),o[8](e),l||(t=P(e,"change",o[4]),l=!0)},p:ne,d(n){n&&h(e),o[8](null),l=!1,t()}}}function Le(o){let e,l,t,n,a,i,u,c;return{c(){e=w("div"),l=w("label"),t=w("input"),n=O(`
          Opacity: `),a=O(o[2]),i=O("%"),this.h()},l(m){e=I(m,"DIV",{});var s=H(e);l=I(s,"LABEL",{});var r=H(l);t=I(r,"INPUT",{type:!0,min:!0,max:!0}),n=j(r,`
          Opacity: `),a=j(r,o[2]),i=j(r,"%"),r.forEach(h),s.forEach(h),this.h()},h(){S(t,"type","range"),S(t,"min","0"),S(t,"max","100")},m(m,s){L(m,e,s),T(e,l),T(l,t),_e(t,o[2]),T(l,n),T(l,a),T(l,i),u||(c=[P(t,"change",o[9]),P(t,"input",o[9])],u=!0)},p(m,s){s&4&&_e(t,m[2]),s&4&&Oe(a,m[2])},d(m){m&&h(e),u=!1,Se(c)}}}function wt(o){let e,l,t,n,a,i;const u=[pt,_t],c=[];function m(s,r){return s[1]?0:1}return e=m(o),l=c[e]=u[e](o),{c(){l.c(),t=K()},l(s){l.l(s),t=K()},m(s,r){c[e].m(s,r),L(s,t,r),n=!0,a||(i=P(window,"keydown",o[6]),a=!0)},p(s,[r]){let g=e;e=m(s),e===g?c[e].p(s,r):($(),k(c[g],1,1,()=>{c[g]=null}),x(),l=c[e],l?l.p(s,r):(l=c[e]=u[e](s),l.c()),b(l,1),l.m(t.parentNode,t))},i(s){n||(b(l),n=!0)},o(s){k(l),n=!1},d(s){s&&h(t),c[e].d(s),a=!1,i()}}}function It(o,e,l){let t,n,a;D(o,Q,f=>l(1,t=f)),D(o,te,f=>l(2,n=f)),D(o,ee,f=>l(3,a=f));let i;async function u(f){let y=await i.files[0].arrayBuffer(),E=new Blob([new Uint8Array(y)]);A(ee,a=URL.createObjectURL(E),a)}function c(){A(ee,a=null,a),A(te,n=100,n)}function m(f){t&&f.key=="Escape"&&(f.stopPropagation(),A(Q,t=!1,t))}const s=()=>A(Q,t=!1,t);function r(f){re[f?"unshift":"push"](()=>{i=f,l(0,i)})}function g(){n=Ke(this.value),te.set(n)}return[i,t,n,a,u,c,m,s,r,g,()=>A(Q,t=!0,t)]}class Ot extends q{constructor(e){super(),Y(this,e,It,wt,R,{})}}function we(o){let e,l;return e=new st({props:{url:o[2],coordinates:[[o[0].lng,o[0].lat],[o[3].lng,o[0].lat],[o[3].lng,o[3].lat],[o[0].lng,o[3].lat]],$$slots:{default:[St]},$$scope:{ctx:o}}}),{c(){v(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const a={};n&4&&(a.url=t[2]),n&9&&(a.coordinates=[[t[0].lng,t[0].lat],[t[3].lng,t[0].lat],[t[3].lng,t[3].lat],[t[0].lng,t[3].lat]]),n&272&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function St(o){let e,l;return e=new gt({props:{paint:{"raster-fade-duration":0,"raster-opacity":o[4]/100}}}),{c(){v(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,n){B(e,t,n),l=!0},p(t,n){const a={};n&16&&(a.paint={"raster-fade-duration":0,"raster-opacity":t[4]/100}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Ie(o){let e,l,t,n,a,i;function u(r){o[6](r)}let c={draggable:!0,$$slots:{default:[vt]},$$scope:{ctx:o}};o[0]!==void 0&&(c.lngLat=o[0]),e=new ke({props:c}),re.push(()=>be(e,"lngLat",u));function m(r){o[7](r)}let s={draggable:!0,$$slots:{default:[Ct]},$$scope:{ctx:o}};return o[3]!==void 0&&(s.lngLat=o[3]),n=new ke({props:s}),re.push(()=>be(n,"lngLat",m)),{c(){v(e.$$.fragment),t=G(),v(n.$$.fragment)},l(r){C(e.$$.fragment,r),t=W(r),C(n.$$.fragment,r)},m(r,g){B(e,r,g),L(r,t,g),B(n,r,g),i=!0},p(r,g){const _={};g&256&&(_.$$scope={dirty:g,ctx:r}),!l&&g&1&&(l=!0,_.lngLat=r[0],pe(()=>l=!1)),e.$set(_);const f={};g&256&&(f.$$scope={dirty:g,ctx:r}),!a&&g&8&&(a=!0,f.lngLat=r[3],pe(()=>a=!1)),n.$set(f)},i(r){i||(b(e.$$.fragment,r),b(n.$$.fragment,r),i=!0)},o(r){k(e.$$.fragment,r),k(n.$$.fragment,r),i=!1},d(r){r&&h(t),z(e,r),z(n,r)}}}function vt(o){let e;return{c(){e=w("span"),this.h()},l(l){e=I(l,"SPAN",{class:!0,style:!0}),H(e).forEach(h),this.h()},h(){S(e,"class","dot svelte-1tmbx1c"),V(e,"background-color","red")},m(l,t){L(l,e,t)},p:ne,d(l){l&&h(e)}}}function Ct(o){let e;return{c(){e=w("span"),this.h()},l(l){e=I(l,"SPAN",{class:!0,style:!0}),H(e).forEach(h),this.h()},h(){S(e,"class","dot svelte-1tmbx1c"),V(e,"background-color","blue")},m(l,t){L(l,e,t)},p:ne,d(l){l&&h(e)}}}function Bt(o){let e,l,t,n=o[2]&&o[0].lng!=o[3].lng&&we(o),a=o[2]&&o[1]&&Ie(o);return{c(){n&&n.c(),e=G(),a&&a.c(),l=K()},l(i){n&&n.l(i),e=W(i),a&&a.l(i),l=K()},m(i,u){n&&n.m(i,u),L(i,e,u),a&&a.m(i,u),L(i,l,u),t=!0},p(i,[u]){i[2]&&i[0].lng!=i[3].lng?n?(n.p(i,u),u&13&&b(n,1)):(n=we(i),n.c(),b(n,1),n.m(e.parentNode,e)):n&&($(),k(n,1,1,()=>{n=null}),x()),i[2]&&i[1]?a?(a.p(i,u),u&6&&b(a,1)):(a=Ie(i),a.c(),b(a,1),a.m(l.parentNode,l)):a&&($(),k(a,1,1,()=>{a=null}),x())},i(i){t||(b(n),b(a),t=!0)},o(i){k(n),k(a),t=!1},d(i){i&&(h(e),h(l)),n&&n.d(i),a&&a.d(i)}}}function zt(o,e,l){let t,n,a;D(o,Q,r=>l(1,t=r)),D(o,ee,r=>l(2,n=r)),D(o,te,r=>l(4,a=r));let{map:i}=e,u={lng:0,lat:0},c={lng:0,lat:0};function m(r){u=r,l(0,u),l(2,n),l(1,t),l(5,i)}function s(r){c=r,l(3,c),l(2,n),l(1,t),l(0,u),l(5,i)}return o.$$set=r=>{"map"in r&&l(5,i=r.map)},o.$$.update=()=>{if(o.$$.dirty&39&&n&&t&&u.lng==0&&u.lat==0){let r=i.getBounds();l(0,u.lng=r.getWest()+.4*(r.getEast()-r.getWest()),u),l(3,c.lng=r.getWest()+.6*(r.getEast()-r.getWest()),c),l(0,u.lat=r.getNorth()+.4*(r.getSouth()-r.getNorth()),u),l(3,c.lat=r.getNorth()+.6*(r.getSouth()-r.getNorth()),c)}},[u,t,n,c,a,i,m,s]}class jt extends q{constructor(e){super(),Y(this,e,zt,Bt,R,{map:5})}}export{Kt as B,Ot as G,ke as M,jt as a};
