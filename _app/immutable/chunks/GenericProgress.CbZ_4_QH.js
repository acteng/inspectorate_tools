import{s as P,e as b,c as g,b as k,f as _,i as p,n as G,p as R,l as T,F as K,a as y,d as v,q as x,j as m,t as C,k as S,o as E,h as I,g as L}from"./scheduler.D0-ByWw-.js";import{e as A}from"./Geocoder.svelte_svelte_type_style_lang.iYa2z1Jm.js";import{S as V,i as w}from"./index.kLUmZ0ht.js";import{s as z}from"./data.Dx3t5ZXu.js";import{b as D}from"./paths.Nftd8zgU.js";import{s as F}from"./index.YrSXjbFJ.js";function N(i,e,n){const t=i.slice();return t[10]=e[n],t}function Q(i){let e,n,t,l;function r(c,h){return c[2]-c[1]!=c[10].idx?J:H}let s=r(i),o=s(i);function f(c,h){return c[4][c[10].idx]?W:M}let u=f(i),d=u(i);return{c(){e=b("li"),n=b("div"),o.c(),t=y(),d.c(),l=y(),this.h()},l(c){e=g(c,"LI",{});var h=k(e);n=g(h,"DIV",{style:!0});var a=k(n);o.l(a),t=v(a),d.l(a),a.forEach(_),l=v(h),h.forEach(_),this.h()},h(){x(n,"display","flex"),x(n,"justify-content","space-between")},m(c,h){p(c,e,h),m(e,n),o.m(n,null),m(n,t),d.m(n,null),m(e,l)},p(c,h){s===(s=r(c))&&o?o.p(c,h):(o.d(1),o=s(c),o&&(o.c(),o.m(n,t))),u!==(u=f(c))&&(d.d(1),d=u(c),d&&(d.c(),d.m(n,null)))},d(c){c&&_(e),o.d(),d.d()}}}function U(i){let e,n,t=i[10].label+"",l,r,s,o=i[10].notes&&O(i);return{c(){e=b("div"),n=b("u"),l=C(t),r=y(),o&&o.c(),s=y(),this.h()},l(f){e=g(f,"DIV",{style:!0});var u=k(e);n=g(u,"U",{});var d=k(n);l=S(d,t),d.forEach(_),r=v(u),o&&o.l(u),s=v(u),u.forEach(_),this.h()},h(){x(e,"padding","20px")},m(f,u){p(f,e,u),m(e,n),m(n,l),m(e,r),o&&o.m(e,null),m(e,s)},p(f,u){u&1&&t!==(t=f[10].label+"")&&E(l,t),f[10].notes?o?o.p(f,u):(o=O(f),o.c(),o.m(e,s)):o&&(o.d(1),o=null)},d(f){f&&_(e),o&&o.d()}}}function H(i){let e=i[10].label+"",n;return{c(){n=C(e)},l(t){n=S(t,e)},m(t,l){p(t,n,l)},p(t,l){l&1&&e!==(e=t[10].label+"")&&E(n,e)},d(t){t&&_(n)}}}function J(i){let e,n=i[10].label+"",t,l;return{c(){e=b("a"),t=C(n),this.h()},l(r){e=g(r,"A",{href:!0});var s=k(e);t=S(s,n),s.forEach(_),this.h()},h(){I(e,"href",l=""+(D+i[3]+i[5](i[10].idx)))},m(r,s){p(r,e,s),m(e,t)},p(r,s){s&1&&n!==(n=r[10].label+"")&&E(t,n),s&9&&l!==(l=""+(D+r[3]+r[5](r[10].idx)))&&I(e,"href",l)},d(r){r&&_(e)}}}function M(i){let e,n="Incomplete";return{c(){e=b("strong"),e.textContent=n,this.h()},l(t){e=g(t,"STRONG",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1ad6z0a"&&(e.textContent=n),this.h()},h(){I(e,"class","govuk-tag govuk-tag--red")},m(t,l){p(t,e,l)},d(t){t&&_(e)}}}function W(i){let e,n="Done";return{c(){e=b("strong"),e.textContent=n,this.h()},l(t){e=g(t,"STRONG",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1l7fnl6"&&(e.textContent=n),this.h()},h(){I(e,"class","govuk-tag govuk-tag--green")},m(t,l){p(t,e,l)},d(t){t&&_(e)}}}function O(i){let e,n=i[10].notes+"",t;return{c(){e=b("p"),t=C(n)},l(l){e=g(l,"P",{});var r=k(e);t=S(r,n),r.forEach(_)},m(l,r){p(l,e,r),m(e,t)},p(l,r){r&1&&n!==(n=l[10].notes+"")&&E(t,n)},d(l){l&&_(e)}}}function j(i){let e;function n(r,s){return r[10].kind=="section"?U:Q}let t=n(i),l=t(i);return{c(){l.c(),e=K()},l(r){l.l(r),e=K()},m(r,s){l.m(r,s),p(r,e,s)},p(r,s){t===(t=n(r))&&l?l.p(r,s):(l.d(1),l=t(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){r&&_(e),l.d(r)}}}function X(i){let e,n=A(q(i[0])),t=[];for(let l=0;l<n.length;l+=1)t[l]=j(N(i,n,l));return{c(){e=b("ol");for(let l=0;l<t.length;l+=1)t[l].c()},l(l){e=g(l,"OL",{});var r=k(e);for(let s=0;s<t.length;s+=1)t[s].l(r);r.forEach(_)},m(l,r){p(l,e,r);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,[r]){if(r&63){n=A(q(l[0]));let s;for(s=0;s<n.length;s+=1){const o=N(l,n,s);t[s]?t[s].p(o,r):(t[s]=j(o),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},i:G,o:G,d(l){l&&_(e),R(t,l)}}}function q(i){let e=[],n=0;for(let t of i){e.push({kind:"section",label:t.section,notes:t.notes});for(let l of t.pages)e.push({kind:"page",idx:n,label:l}),n++}return e}function Y(i,e,n){let t,l;T(i,z,a=>n(7,l=a));let{sections:r}=e,{startIdx:s}=e,{currentIdx:o}=e,{scorecardKey:f}=e,{urlBase:u}=e,d=F(r.map(a=>a.pages.length));function c(a){return(a+s).toString().padStart(2,"0")}function h(a){return Array.from(Array(d).keys()).map(B=>l[f].existingScores[B]!=""&&l[f].proposedScores[B]!="")}return i.$$set=a=>{"sections"in a&&n(0,r=a.sections),"startIdx"in a&&n(1,s=a.startIdx),"currentIdx"in a&&n(2,o=a.currentIdx),"scorecardKey"in a&&n(6,f=a.scorecardKey),"urlBase"in a&&n(3,u=a.urlBase)},i.$$.update=()=>{i.$$.dirty&128&&n(4,t=h())},[r,s,o,u,t,c,f,l]}class re extends V{constructor(e){super(),w(this,e,Y,X,P,{sections:0,startIdx:1,currentIdx:2,scorecardKey:6,urlBase:3})}}export{re as G};
