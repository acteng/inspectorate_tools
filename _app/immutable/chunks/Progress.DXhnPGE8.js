import{s as G,e as k,t as v,a as x,c as y,b as C,d as b,f as h,g as P,i as d,h as m,j as W,n as S,q as M,k as w,r as T,p as A}from"./scheduler.nL9vSw2e.js";import{e as D}from"./each.BdXFn0Of.js";import{S as L,i as N}from"./index.CnCLodb-.js";import{s as q}from"./index.rt-5s4bz.js";import{s as R}from"./data.CtGz5emQ.js";import{b as j}from"./paths.CxZuh2QL.js";function O(s,e,n){const t=s.slice();return t[7]=e[n],t[9]=n,t}function V(s){let e=s[7]+"",n;return{c(){n=v(e)},l(t){n=b(t,e)},m(t,i){d(t,n,i)},p:S,d(t){t&&h(n)}}}function B(s){let e,n=s[7]+"",t;return{c(){e=k("a"),t=v(n),this.h()},l(i){e=y(i,"A",{href:!0});var u=C(e);t=b(u,n),u.forEach(h),this.h()},h(){T(e,"href",j+"/area_check/scorecard/q"+K(s[9]))},m(i,u){d(i,e,u),m(e,t)},p:S,d(i){i&&h(e)}}}function F(s){let e,n="Incomplete";return{c(){e=k("strong"),e.textContent=n,this.h()},l(t){e=y(t,"STRONG",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-aapexx"&&(e.textContent=n),this.h()},h(){T(e,"class","govuk-tag govuk-tag--red tag-row svelte-1xz7p00")},m(t,i){d(t,e,i)},d(t){t&&h(e)}}}function H(s){let e,n="Done";return{c(){e=k("strong"),e.textContent=n,this.h()},l(t){e=y(t,"STRONG",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-9s30hd"&&(e.textContent=n),this.h()},h(){T(e,"class","govuk-tag govuk-tag--green tag-row svelte-1xz7p00")},m(t,i){d(t,e,i)},d(t){t&&h(e)}}}function z(s){let e,n,t,i;function u(r,l){return r[0]-1!=r[9]?B:V}let _=u(s),c=_(s);function g(r,l){return r[3][r[9]]?H:F}let p=g(s),o=p(s);return{c(){e=k("li"),n=k("div"),c.c(),t=x(),o.c(),i=x(),this.h()},l(r){e=y(r,"LI",{});var l=C(e);n=y(l,"DIV",{class:!0});var f=C(n);c.l(f),t=P(f),o.l(f),f.forEach(h),i=P(l),l.forEach(h),this.h()},h(){T(n,"class","progress-list-item svelte-1xz7p00")},m(r,l){d(r,e,l),m(e,n),c.m(n,null),m(n,t),o.m(n,null),m(e,i)},p(r,l){_===(_=u(r))&&c?c.p(r,l):(c.d(1),c=_(r),c&&(c.c(),c.m(n,t))),p!==(p=g(r))&&(o.d(1),o=p(r),o&&(o.c(),o.m(n,null)))},d(r){r&&h(e),c.d(),o.d()}}}function J(s){let e,n,t,i,u,_,c,g,p,o=D(s[4]),r=[];for(let l=0;l<o.length;l+=1)r[l]=z(O(s,o,l));return{c(){e=k("p"),n=v("Total existing score: "),t=v(s[2]),i=x(),u=k("p"),_=v("Total proposed score: "),c=v(s[1]),g=x(),p=k("ol");for(let l=0;l<r.length;l+=1)r[l].c()},l(l){e=y(l,"P",{});var f=C(e);n=b(f,"Total existing score: "),t=b(f,s[2]),f.forEach(h),i=P(l),u=y(l,"P",{});var a=C(u);_=b(a,"Total proposed score: "),c=b(a,s[1]),a.forEach(h),g=P(l),p=y(l,"OL",{});var I=C(p);for(let E=0;E<r.length;E+=1)r[E].l(I);I.forEach(h)},m(l,f){d(l,e,f),m(e,n),m(e,t),d(l,i,f),d(l,u,f),m(u,_),m(u,c),d(l,g,f),d(l,p,f);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(p,null)},p(l,[f]){if(f&4&&W(t,l[2]),f&2&&W(c,l[1]),f&25){o=D(l[4]);let a;for(a=0;a<o.length;a+=1){const I=O(l,o,a);r[a]?r[a].p(I,f):(r[a]=z(I),r[a].c(),r[a].m(p,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=o.length}},i:S,o:S,d(l){l&&(h(e),h(i),h(u),h(g),h(p)),M(r,l)}}}function K(s){return(s+1).toString().padStart(2,"0")}function Q(s,e,n){let t,i,u,_;w(s,R,o=>n(5,_=o));let{currentIdx:c}=e,g=["Porosity - Walking and Wheeling","Porosity - Cycling","Crossings - Walking and Wheeling","Crossings - Cycling","Permeability - Walking and Wheeling","Permeability - Cycling","Mesh Density - Walking and Wheeling","Mesh Density - Cycling","Motorised Through-Traffic","Perimeter Treatment Design","Green Infrastructure Design","Other Internal Treatment Design","Engagement Practice"];function p(o){return Array.from(Array(g.length).keys()).map(r=>_.existingScores[r]!=""&&_.proposedScores[r]!="")}return s.$$set=o=>{"currentIdx"in o&&n(0,c=o.currentIdx)},s.$$.update=()=>{s.$$.dirty&32&&n(3,t=p()),s.$$.dirty&32&&n(2,i=q(_.existingScores.map(o=>parseInt(o||"0")))),s.$$.dirty&32&&n(1,u=q(_.proposedScores.map(o=>parseInt(o||"0"))))},[c,u,i,t,g,_]}class te extends L{constructor(e){super(),N(this,e,Q,J,G,{currentIdx:0})}}export{te as P};
