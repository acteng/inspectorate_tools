import{s as G,l as ue,e as S,a as N,c as E,b as P,g as z,f as b,o as k,x as J,i as y,h as v,z as I,u as fe,p as ce,q as de,y as ee,E as Te,a9 as $e,t as B,d as D,T as X,j as pe,r as Oe,K as xe,A as $,k as U,v as te,B as q,m as _e,w as be,n as ke,P as Ue,V as qe,aa as Se,ab as se,$ as et,R as O,ac as tt}from"./scheduler.BnffaT4S.js";import{S as K,i as F,t as w,a as L,c as M,b as R,m as V,d as T,e as ve,g as le,f as ne}from"./index.CLwoYgOe.js";import{e as x}from"./each.kNogfHEK.js";import{C as lt,D as nt}from"./DefaultButton.ubrfe-r6.js";import{S as Ge,W as ot}from"./WarningButton.B2TMlAL7.js";import{S as at}from"./Select.BvKaaBga.js";import{i as Ee,m as st,j as it,k as rt,f as ut,s as ft,d as ct}from"./index.BZr8ct22.js";import{v as Ke,F as dt}from"./FormElement.C_Nrm1XJ.js";import{E as _t}from"./ErrorMessage.DzRn3lg0.js";import{B as mt}from"./ClickableCard.BNJw8wEj.js";import{w as Q}from"./index.Cplq6oEn.js";const gt=l=>({}),Le=l=>({});function ht(l){let e,t,o,n,s,i,c,u,m;const r=l[5].default,f=ue(r,l,l[4],null),_=l[5].right,a=ue(_,l,l[4],Le);return{c(){e=S("div"),t=S("input"),o=N(),n=S("label"),f&&f.c(),s=N(),i=S("span"),a&&a.c(),this.h()},l(d){e=E(d,"DIV",{class:!0,style:!0});var g=P(e);t=E(g,"INPUT",{type:!0,class:!0,id:!0}),o=z(g),n=E(g,"LABEL",{class:!0,for:!0,title:!0});var p=P(n);f&&f.l(p),p.forEach(b),s=z(g),i=E(g,"SPAN",{style:!0});var C=P(i);a&&a.l(C),C.forEach(b),g.forEach(b),this.h()},h(){k(t,"type","checkbox"),k(t,"class","govuk-checkboxes__input"),k(t,"id",l[3]),k(n,"class","govuk-label govuk-checkboxes__label"),k(n,"for",l[3]),k(n,"title",l[1]),J(i,"float","right"),k(e,"class","govuk-checkboxes__item"),k(e,"style",l[2])},m(d,g){y(d,e,g),v(e,t),t.checked=l[0],v(e,o),v(e,n),f&&f.m(n,null),v(e,s),v(e,i),a&&a.m(i,null),c=!0,u||(m=[I(t,"change",l[7]),I(t,"change",l[6])],u=!0)},p(d,[g]){g&1&&(t.checked=d[0]),f&&f.p&&(!c||g&16)&&fe(f,r,d,d[4],c?de(r,d[4],g,null):ce(d[4]),null),(!c||g&2)&&k(n,"title",d[1]),a&&a.p&&(!c||g&16)&&fe(a,_,d,d[4],c?de(_,d[4],g,gt):ce(d[4]),Le)},i(d){c||(w(f,d),w(a,d),c=!0)},o(d){L(f,d),L(a,d),c=!1},d(d){d&&b(e),f&&f.d(d),a&&a.d(d),u=!1,ee(m)}}}function pt(l,e,t){let{$$slots:o={},$$scope:n}=e;const s=$e(o);let{checked:i}=e,{hint:c=null}=e,m=s.right!==void 0?"float: none":"",r=Ke();function f(a){Te.call(this,l,a)}function _(){i=this.checked,t(0,i)}return l.$$set=a=>{"checked"in a&&t(0,i=a.checked),"hint"in a&&t(1,c=a.hint),"$$scope"in a&&t(4,n=a.$$scope)},[i,c,m,r,n,o,f,_]}class bt extends K{constructor(e){super(),F(this,e,pt,ht,G,{checked:0,hint:1})}}function Ce(l,e,t){const o=l.slice();return o[10]=e[t][0],o[11]=e[t][1],o}function Ie(l){let e,t,o,n,s=!1,i,c,u=l[11]+"",m,r,f,_,a,d;return _=xe(l[9][0]),{c(){e=S("div"),t=S("input"),i=N(),c=S("label"),m=B(u),f=N(),this.h()},l(g){e=E(g,"DIV",{class:!0});var p=P(e);t=E(p,"INPUT",{class:!0,id:!0,type:!0}),i=z(p),c=E(p,"LABEL",{class:!0,for:!0});var C=P(c);m=D(C,u),C.forEach(b),f=z(p),p.forEach(b),this.h()},h(){k(t,"class","govuk-radios__input"),k(t,"id",o=l[5]+l[10]),k(t,"type","radio"),t.__value=n=l[10],$(t,t.__value),k(c,"class","govuk-label govuk-radios__label"),k(c,"for",r=l[5]+l[10]),k(e,"class","govuk-radios__item"),_.p(t)},m(g,p){y(g,e,p),v(e,t),t.checked=t.__value===l[0],v(e,i),v(e,c),v(c,m),v(e,f),a||(d=[I(t,"change",l[8]),I(t,"change",l[7])],a=!0)},p(g,p){p&4&&o!==(o=g[5]+g[10])&&k(t,"id",o),p&4&&n!==(n=g[10])&&(t.__value=n,$(t,t.__value),s=!0),(s||p&5)&&(t.checked=t.__value===g[0]),p&4&&u!==(u=g[11]+"")&&pe(m,u),p&4&&r!==(r=g[5]+g[10])&&k(c,"for",r)},d(g){g&&b(e),_.r(),a=!1,ee(d)}}}function kt(l){let e,t,o,n,s,i,c,u,m;i=new _t({props:{errorMessage:l[4]}});let r=x(l[2]),f=[];for(let _=0;_<r.length;_+=1)f[_]=Ie(Ce(l,r,_));return{c(){e=S("div"),t=S("fieldset"),o=S("legend"),n=B(l[1]),s=N(),M(i.$$.fragment),c=N(),u=S("div");for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l(_){e=E(_,"DIV",{class:!0});var a=P(e);t=E(a,"FIELDSET",{class:!0});var d=P(t);o=E(d,"LEGEND",{class:!0});var g=P(o);n=D(g,l[1]),g.forEach(b),s=z(d),R(i.$$.fragment,d),c=z(d),u=E(d,"DIV",{class:!0,"data-module":!0});var p=P(u);for(let C=0;C<f.length;C+=1)f[C].l(p);p.forEach(b),d.forEach(b),a.forEach(b),this.h()},h(){k(o,"class","govuk-fieldset__legend govuk-label--s"),k(u,"class","govuk-radios"),k(u,"data-module","govuk-radios"),X(u,"govuk-radios--inline",l[3]),X(u,"govuk-radios--small",l[3]),k(t,"class","govuk-fieldset"),k(e,"class","govuk-form-group")},m(_,a){y(_,e,a),v(e,t),v(t,o),v(o,n),v(t,s),V(i,t,null),v(t,c),v(t,u);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(u,null);m=!0},p(_,[a]){(!m||a&2)&&pe(n,_[1]);const d={};if(a&16&&(d.errorMessage=_[4]),i.$set(d),a&37){r=x(_[2]);let g;for(g=0;g<r.length;g+=1){const p=Ce(_,r,g);f[g]?f[g].p(p,a):(f[g]=Ie(p),f[g].c(),f[g].m(u,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=r.length}(!m||a&8)&&X(u,"govuk-radios--inline",_[3]),(!m||a&8)&&X(u,"govuk-radios--small",_[3])},i(_){m||(w(i.$$.fragment,_),m=!0)},o(_){L(i.$$.fragment,_),m=!1},d(_){_&&b(e),T(i),Oe(f,_)}}}function vt(l,e,t){let o,{legend:n}=e,{choices:s}=e,{inlineSmall:i=!1}=e,{required:c=!1}=e,{value:u}=e,m=Ke();const r=[[]];function f(a){Te.call(this,l,a)}function _(){u=this.__value,t(0,u)}return l.$$set=a=>{"legend"in a&&t(1,n=a.legend),"choices"in a&&t(2,s=a.choices),"inlineSmall"in a&&t(3,i=a.inlineSmall),"required"in a&&t(6,c=a.required),"value"in a&&t(0,u=a.value)},l.$$.update=()=>{l.$$.dirty&65&&t(4,o=c&&u==""?"Required":"")},[u,n,s,i,o,m,c,f,_,r]}class yt extends K{constructor(e){super(),F(this,e,vt,kt,G,{legend:1,choices:2,inlineSmall:3,required:6,value:0})}}function Be(l,e,t){const o=l.slice();return o[6]=e[t][0],o[7]=e[t][1],o}function wt(l){let e;return{c(){e=B("disabled")},l(t){e=D(t,"disabled")},m(t,o){y(t,e,o)},d(t){t&&b(e)}}}function St(l){let e;return{c(){e=B("enabled")},l(t){e=D(t,"enabled")},m(t,o){y(t,e,o)},d(t){t&&b(e)}}}function Et(l){let e,t=l[7]+"",o,n;return{c(){e=B("Set "),o=B(t),n=B(` API key
      `)},l(s){e=D(s,"Set "),o=D(s,t),n=D(s,` API key
      `)},m(s,i){y(s,e,i),y(s,o,i),y(s,n,i)},p:ke,d(s){s&&(b(e),b(o),b(n))}}}function De(l){let e,t,o=l[7]+"",n,s,i,c,u;function m(a,d){return he(a[6])?St:wt}let f=m(l)(l);function _(){return l[5](l[6])}return c=new Ge({props:{$$slots:{default:[Et]},$$scope:{ctx:l}}}),c.$on("click",_),{c(){e=S("p"),t=S("u"),n=B(o),s=B(`
        : `),f.c(),i=N(),M(c.$$.fragment)},l(a){e=E(a,"P",{});var d=P(e);t=E(d,"U",{});var g=P(t);n=D(g,o),g.forEach(b),s=D(d,`
        : `),f.l(d),d.forEach(b),i=z(a),R(c.$$.fragment,a)},m(a,d){y(a,e,d),v(e,t),v(t,n),v(e,s),f.m(e,null),y(a,i,d),V(c,a,d),u=!0},p(a,d){l=a;const g={};d&1024&&(g.$$scope={dirty:d,ctx:l}),c.$set(g)},i(a){u||(w(c.$$.fragment,a),u=!0)},o(a){L(c.$$.fragment,a),u=!1},d(a){a&&(b(e),b(i)),f.d(),T(c,a)}}}function Ne(l){let e,t,o=x([[me,"Bluesky"],[ge,"Ordnance Survey"]]),n=[];for(let i=0;i<2;i+=1)n[i]=De(Be(l,o,i));const s=i=>L(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<2;i+=1)n[i].c();e=q()},l(i){for(let c=0;c<2;c+=1)n[c].l(i);e=q()},m(i,c){for(let u=0;u<2;u+=1)n[u]&&n[u].m(i,c);y(i,e,c),t=!0},p(i,c){if(c&8){o=x([[me,"Bluesky"],[ge,"Ordnance Survey"]]);let u;for(u=0;u<2;u+=1){const m=Be(i,o,u);n[u]?(n[u].p(m,c),w(n[u],1)):(n[u]=De(m),n[u].c(),w(n[u],1),n[u].m(e.parentNode,e))}for(le(),u=2;u<2;u+=1)s(u);ne()}},i(i){if(!t){for(let c=0;c<2;c+=1)w(n[c]);t=!0}},o(i){n=n.filter(Boolean);for(let c=0;c<2;c+=1)L(n[c]);t=!1},d(i){i&&b(e),Oe(n,i)}}}function Lt(l){let e,t,o,n,s=`If you have internal access, you can opt into higher-quality satellite
    imagery.`,i,c=l[0],u,m;function r(a){l[4](a)}let f={label:"Basemap",choices:l[1]};l[2]!==void 0&&(f.value=l[2]),e=new at({props:f}),te.push(()=>ve(e,"value",r));let _=Ne(l);return{c(){M(e.$$.fragment),o=N(),n=S("p"),n.textContent=s,i=N(),_.c(),u=q()},l(a){R(e.$$.fragment,a),o=z(a),n=E(a,"P",{"data-svelte-h":!0}),_e(n)!=="svelte-itr0ad"&&(n.textContent=s),i=z(a),_.l(a),u=q()},m(a,d){V(e,a,d),y(a,o,d),y(a,n,d),y(a,i,d),_.m(a,d),y(a,u,d),m=!0},p(a,d){const g={};d&2&&(g.choices=a[1]),!t&&d&4&&(t=!0,g.value=a[2],be(()=>t=!1)),e.$set(g),d&1&&G(c,c=a[0])?(le(),L(_,1,1,ke),ne(),_=Ne(a),_.c(),w(_,1),_.m(u.parentNode,u)):_.p(a,d)},i(a){m||(w(e.$$.fragment,a),w(_),m=!0)},o(a){L(e.$$.fragment,a),L(_),m=!1},d(a){a&&(b(o),b(n),b(i),b(u)),T(e,a),_.d(a)}}}function Ct(l){let e,t;return e=new lt({props:{label:"Basemap",$$slots:{default:[Lt]},$$scope:{ctx:l}}}),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,n){V(e,o,n),t=!0},p(o,[n]){const s={};n&1031&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){L(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}let me="bluesky-api-key",ge="os-api-key";function he(l){let e=window.localStorage.getItem(l);return e!=null&&e.length>0}function Pe(){let l=[];return he(me)&&l.push(["bluesky","Bluesky Satellite (12.5cm)"]),he(ge)&&l.push(["os-road","OS Road"]),l.push(["maptiler-hybrid","MapTiler Satellite"]),l.push(["maptiler-streets","MapTiler Streets"]),l.push(["maptiler-dataviz","MapTiler Dataviz"]),l.push(["maptiler-uk-openzoomstack-light","OS Open Zoomstack"]),l}function It(l,e,t){let o;U(l,Ee,m=>t(2,o=m));let n=0;function s(m){let r=window.prompt("Enter the API key provided to you",window.localStorage.getItem(m)||"");window.localStorage.setItem(m,r||""),t(1,i=Pe()),t(0,n+=1)}let i=Pe();function c(m){o=m,Ee.set(o)}return[n,i,o,s,c,m=>s(m)]}class nl extends K{constructor(e){super(),F(this,e,It,Ct,G,{})}}function Bt(l,e,t){let o;const n=Ue();let{layer:s=void 0}=e;const{map:i}=st();U(l,i,r=>t(2,o=r));function c(r){n(r.type,{...r,map:i})}const u=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","contextmenu","mouseover","mouseout"],m=["click","dblclick","contextmenu","mousemove","movestart","moveend","zoomstart","zoom","zoomend"];return qe(()=>{if(o)if(s)for(const r of u)o.off(r,s,c);else for(const r of m)o.off(r,c)}),l.$$set=r=>{"layer"in r&&t(1,s=r.layer)},l.$$.update=()=>{if(l.$$.dirty&6&&o)if(s)for(const r of u)o.on(r,s,c);else for(const r of m)o.on(r,c)},[i,s,o]}class ol extends K{constructor(e){super(),F(this,e,Bt,null,G,{layer:1})}}const Dt=l=>({marker:l&8}),ze=l=>({marker:l[3]});function Nt(l){let e,t,o,n,s,i,c;const u=l[19].default,m=ue(u,l,l[18],ze);return{c(){e=S("div"),m&&m.c(),this.h()},l(r){e=E(r,"DIV",{tabindex:!0,role:!0});var f=P(e);m&&m.l(f),f.forEach(b),this.h()},h(){k(e,"tabindex",t=l[1]?0:void 0),k(e,"role",o=l[1]?"button":void 0),J(e,"z-index",l[2])},m(r,f){y(r,e,f),m&&m.m(e,null),s=!0,i||(c=[Se(l[7].call(null,e)),Se(n=Pt.call(null,e,l[0])),I(e,"click",se(l[20])),I(e,"dblclick",se(l[21])),I(e,"contextmenu",se(l[22])),I(e,"mouseenter",l[23]),I(e,"mouseleave",l[24]),I(e,"mousemove",l[25]),I(e,"keydown",l[8])],i=!0)},p(r,[f]){m&&m.p&&(!s||f&262152)&&fe(m,u,r,r[18],s?de(u,r[18],f,Dt):ce(r[18]),ze),(!s||f&2&&t!==(t=r[1]?0:void 0))&&k(e,"tabindex",t),(!s||f&2&&o!==(o=r[1]?"button":void 0))&&k(e,"role",o),n&&et(n.update)&&f&1&&n.update.call(null,r[0]),f&4&&J(e,"z-index",r[2])},i(r){s||(w(m,r),s=!0)},o(r){L(m,r),s=!1},d(r){r&&b(e),m&&m.d(r),i=!1,ee(c)}}}function Pt(l,e){const t=l.className;function o(n){n?l.className=`${t} ${n}`:l.className=t}return o(e),{update:o}}function zt(l,e,t){let o,n,s,{$$slots:i={},$$scope:c}=e,{marker:u=void 0}=e,{lngLat:m}=e,{class:r=void 0}=e,{interactive:f=!0}=e,{asButton:_=!1}=e,{draggable:a=!1}=e,{feature:d=null}=e,{offset:g=void 0}=e,{zIndex:p=void 0}=e,{rotation:C=0}=e,{opacity:j=1}=e;const Fe=Ue(),{map:ye,layerEvent:oe,self:ae}=it();U(l,ye,h=>t(27,s=h)),U(l,oe,h=>t(26,o=h)),U(l,ae,h=>t(3,n=h));function je(h){O(ae,n=new rt.Marker({element:h,rotation:C,draggable:a,offset:g,opacity:j.toString()}).setLngLat(m).addTo(s),n),t(11,u=n);const W=()=>A("dragstart"),H=()=>{we(),A("drag")},Z=()=>{we(),A("dragend")};return a&&(n.on("dragstart",W),n.on("drag",H),n.on("dragend",Z)),{destroy(){a&&(n==null||n.off("dragstart",W),n==null||n.off("drag",H),n==null||n.off("dragend",Z)),t(11,u=void 0),n==null||n.remove()}}}function we(){let h=n==null?void 0:n.getLngLat();h&&(Array.isArray(m)?t(10,m=[h.lng,h.lat]):m&&"lon"in m?t(10,m={lon:h.lng,lat:h.lat}):t(10,m=h))}function We(h){h.key===" "&&(h.preventDefault(),h.stopPropagation(),A("click"))}function A(h){if(!f)return;let W=n==null?void 0:n.getLngLat();if(!W)return;const H=[W.lng,W.lat];let Z={map:s,marker:n,lngLat:H,features:[{type:"Feature",properties:(d==null?void 0:d.properties)??{},geometry:{type:"Point",coordinates:H}}]};O(oe,o={...Z,layerType:"marker",type:h},o),Fe(h,Z)}const He=()=>A("click"),Ze=()=>A("dblclick"),Je=()=>A("contextmenu"),Qe=h=>{A("mouseenter")},Xe=()=>{A("mouseleave")},Ye=()=>A("mousemove");return l.$$set=h=>{"marker"in h&&t(11,u=h.marker),"lngLat"in h&&t(10,m=h.lngLat),"class"in h&&t(0,r=h.class),"interactive"in h&&t(12,f=h.interactive),"asButton"in h&&t(1,_=h.asButton),"draggable"in h&&t(13,a=h.draggable),"feature"in h&&t(14,d=h.feature),"offset"in h&&t(15,g=h.offset),"zIndex"in h&&t(2,p=h.zIndex),"rotation"in h&&t(16,C=h.rotation),"opacity"in h&&t(17,j=h.opacity),"$$scope"in h&&t(18,c=h.$$scope)},l.$$.update=()=>{l.$$.dirty&1032&&(n==null||n.setLngLat(m)),l.$$.dirty&32776&&(n==null||n.setOffset(g??[0,0])),l.$$.dirty&65544&&(n==null||n.setRotation(C)),l.$$.dirty&131080&&(n==null||n.setOpacity(j.toString()))},[r,_,p,n,ye,oe,ae,je,We,A,m,u,f,a,d,g,C,j,c,i,He,Ze,Je,Qe,Xe,Ye]}class al extends K{constructor(e){super(),F(this,e,zt,Nt,G,{marker:11,lngLat:10,class:0,interactive:12,asButton:1,draggable:13,feature:14,offset:15,zIndex:2,rotation:16,opacity:17})}}const{window:At}=ut;function Mt(l){let e;return{c(){e=B("StreetView")},l(t){e=D(t,"StreetView")},m(t,o){y(t,e,o)},d(t){t&&b(e)}}}function Ae(l){let e,t,o;function n(i){l[5](i)}let s={legend:"Source",choices:[["google","Google StreetView"],["bing","Bing Streetside"]],inlineSmall:!0};return l[1]!==void 0&&(s.value=l[1]),e=new yt({props:s}),te.push(()=>ve(e,"value",n)),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,c){V(e,i,c),o=!0},p(i,c){const u={};!t&&c&2&&(t=!0,u.value=i[1],be(()=>t=!1)),e.$set(u)},i(i){o||(w(e.$$.fragment,i),o=!0)},o(i){L(e.$$.fragment,i),o=!1},d(i){T(e,i)}}}function Rt(l){let e,t,o,n,s,i,c;function u(f){l[4](f)}let m={$$slots:{default:[Mt]},$$scope:{ctx:l}};l[0]!==void 0&&(m.checked=l[0]),e=new bt({props:m}),te.push(()=>ve(e,"checked",u));let r=l[0]&&Ae(l);return{c(){M(e.$$.fragment),o=N(),r&&r.c(),n=q()},l(f){R(e.$$.fragment,f),o=z(f),r&&r.l(f),n=q()},m(f,_){V(e,f,_),y(f,o,_),r&&r.m(f,_),y(f,n,_),s=!0,i||(c=I(At,"keydown",l[2]),i=!0)},p(f,[_]){const a={};_&512&&(a.$$scope={dirty:_,ctx:f}),!t&&_&1&&(t=!0,a.checked=f[0],be(()=>t=!1)),e.$set(a),f[0]?r?(r.p(f,_),_&1&&w(r,1)):(r=Ae(f),r.c(),w(r,1),r.m(n.parentNode,n)):r&&(le(),L(r,1,1,()=>{r=null}),ne())},i(f){s||(w(e.$$.fragment,f),w(r),s=!0)},o(f){L(e.$$.fragment,f),L(r),s=!1},d(f){f&&(b(o),b(n)),T(e,f),r&&r.d(f),i=!1,c()}}}function Vt(l,e,t){let{map:o}=e,{enabled:n=!1}=e,s="google";function i(){o&&(o.on("click",u),o.getCanvas().style.cursor="zoom-in")}function c(){o&&(o.off("click",u),o.getCanvas().style.cursor="auto")}qe(c);function u(_){window.open(s=="google"?ft(_.lngLat.toArray()):ct(_.lngLat.toArray()),"_blank"),t(0,n=!1)}function m(_){n&&_.key=="Escape"&&t(0,n=!1)}function r(_){n=_,t(0,n)}function f(_){s=_,t(1,s)}return l.$$set=_=>{"map"in _&&t(3,o=_.map),"enabled"in _&&t(0,n=_.enabled)},l.$$.update=()=>{l.$$.dirty&1&&(n?i():c())},[n,s,m,o,r,f]}class sl extends K{constructor(e){super(),F(this,e,Vt,Rt,G,{map:3,enabled:0})}}const Y=Q(!1),ie=Q(null),re=Q(100),Me=Q({lng:0,lat:0}),Re=Q({lng:0,lat:0});function Tt(l){let e,t;return e=new Ge({props:{$$slots:{default:[Ut]},$$scope:{ctx:l}}}),e.$on("click",l[10]),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,n){V(e,o,n),t=!0},p(o,n){const s={};n&8192&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){L(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function Ot(l){let e,t,o="Georeference an image",n,s,i,c,u,m,r,f=`Note this image isn't saved as part of this scheme. When you close this
      page, it'll be lost.`,_;s=new mt({props:{$$slots:{default:[Kt]},$$scope:{ctx:l}}}),c=new dt({props:{label:"Load an image",id:"load-image",$$slots:{default:[Ft]},$$scope:{ctx:l}}});let a=l[3]&&Ve(l);return{c(){e=S("div"),t=S("h2"),t.textContent=o,n=N(),M(s.$$.fragment),i=N(),M(c.$$.fragment),u=N(),a&&a.c(),m=N(),r=S("p"),r.textContent=f,this.h()},l(d){e=E(d,"DIV",{style:!0});var g=P(e);t=E(g,"H2",{"data-svelte-h":!0}),_e(t)!=="svelte-fociiu"&&(t.textContent=o),n=z(g),R(s.$$.fragment,g),i=z(g),R(c.$$.fragment,g),u=z(g),a&&a.l(g),m=z(g),r=E(g,"P",{"data-svelte-h":!0}),_e(r)!=="svelte-d8uklv"&&(r.textContent=f),g.forEach(b),this.h()},h(){J(e,"border","1px solid black"),J(e,"padding","4px")},m(d,g){y(d,e,g),v(e,t),v(e,n),V(s,e,null),v(e,i),V(c,e,null),v(e,u),a&&a.m(e,null),v(e,m),v(e,r),_=!0},p(d,g){const p={};g&8202&&(p.$$scope={dirty:g,ctx:d}),s.$set(p);const C={};g&8193&&(C.$$scope={dirty:g,ctx:d}),c.$set(C),d[3]?a?a.p(d,g):(a=Ve(d),a.c(),a.m(e,m)):a&&(a.d(1),a=null)},i(d){_||(w(s.$$.fragment,d),w(c.$$.fragment,d),_=!0)},o(d){L(s.$$.fragment,d),L(c.$$.fragment,d),_=!1},d(d){d&&b(e),T(s),T(c),a&&a.d()}}}function Ut(l){let e;return{c(){e=B("Georeference an image")},l(t){e=D(t,"Georeference an image")},m(t,o){y(t,e,o)},d(t){t&&b(e)}}}function qt(l){let e;return{c(){e=B("Save")},l(t){e=D(t,"Save")},m(t,o){y(t,e,o)},d(t){t&&b(e)}}}function Gt(l){let e;return{c(){e=B("Delete")},l(t){e=D(t,"Delete")},m(t,o){y(t,e,o)},d(t){t&&b(e)}}}function Kt(l){let e,t,o,n;return e=new nt({props:{$$slots:{default:[qt]},$$scope:{ctx:l}}}),e.$on("click",l[7]),o=new ot({props:{disabled:!l[3],$$slots:{default:[Gt]},$$scope:{ctx:l}}}),o.$on("click",l[5]),{c(){M(e.$$.fragment),t=N(),M(o.$$.fragment)},l(s){R(e.$$.fragment,s),t=z(s),R(o.$$.fragment,s)},m(s,i){V(e,s,i),y(s,t,i),V(o,s,i),n=!0},p(s,i){const c={};i&8192&&(c.$$scope={dirty:i,ctx:s}),e.$set(c);const u={};i&8&&(u.disabled=!s[3]),i&8192&&(u.$$scope={dirty:i,ctx:s}),o.$set(u)},i(s){n||(w(e.$$.fragment,s),w(o.$$.fragment,s),n=!0)},o(s){L(e.$$.fragment,s),L(o.$$.fragment,s),n=!1},d(s){s&&b(t),T(e,s),T(o,s)}}}function Ft(l){let e,t,o;return{c(){e=S("input"),this.h()},l(n){e=E(n,"INPUT",{class:!0,id:!0,type:!0}),this.h()},h(){k(e,"class","govuk-file-upload"),k(e,"id","load-image"),k(e,"type","file")},m(n,s){y(n,e,s),l[8](e),t||(o=I(e,"change",l[4]),t=!0)},p:ke,d(n){n&&b(e),l[8](null),t=!1,o()}}}function Ve(l){let e,t,o,n,s,i,c,u;return{c(){e=S("div"),t=S("label"),o=S("input"),n=B(`
          Opacity: `),s=B(l[2]),i=B("%"),this.h()},l(m){e=E(m,"DIV",{});var r=P(e);t=E(r,"LABEL",{});var f=P(t);o=E(f,"INPUT",{type:!0,min:!0,max:!0}),n=D(f,`
          Opacity: `),s=D(f,l[2]),i=D(f,"%"),f.forEach(b),r.forEach(b),this.h()},h(){k(o,"type","range"),k(o,"min","0"),k(o,"max","100")},m(m,r){y(m,e,r),v(e,t),v(t,o),$(o,l[2]),v(t,n),v(t,s),v(t,i),c||(u=[I(o,"change",l[9]),I(o,"input",l[9])],c=!0)},p(m,r){r&4&&$(o,m[2]),r&4&&pe(s,m[2])},d(m){m&&b(e),c=!1,ee(u)}}}function jt(l){let e,t,o,n,s,i;const c=[Ot,Tt],u=[];function m(r,f){return r[1]?0:1}return e=m(l),t=u[e]=c[e](l),{c(){t.c(),o=q()},l(r){t.l(r),o=q()},m(r,f){u[e].m(r,f),y(r,o,f),n=!0,s||(i=I(window,"keydown",l[6]),s=!0)},p(r,[f]){let _=e;e=m(r),e===_?u[e].p(r,f):(le(),L(u[_],1,1,()=>{u[_]=null}),ne(),t=u[e],t?t.p(r,f):(t=u[e]=c[e](r),t.c()),w(t,1),t.m(o.parentNode,o))},i(r){n||(w(t),n=!0)},o(r){L(t),n=!1},d(r){r&&b(o),u[e].d(r),s=!1,i()}}}function Wt(l,e,t){let o,n,s,i,c;U(l,Y,p=>t(1,o=p)),U(l,re,p=>t(2,n=p)),U(l,ie,p=>t(3,s=p)),U(l,Re,p=>t(11,i=p)),U(l,Me,p=>t(12,c=p));let u;async function m(p){let C=await u.files[0].arrayBuffer(),j=new Blob([new Uint8Array(C)]);O(ie,s=URL.createObjectURL(j),s),O(Me,c={lng:0,lat:0},c),O(Re,i={lng:0,lat:0},i)}function r(){O(ie,s=null,s),O(re,n=100,n)}function f(p){o&&p.key=="Escape"&&(p.stopPropagation(),O(Y,o=!1,o))}const _=()=>O(Y,o=!1,o);function a(p){te[p?"unshift":"push"](()=>{u=p,t(0,u)})}function d(){n=tt(this.value),re.set(n)}return[u,o,n,s,m,r,f,_,a,d,()=>O(Y,o=!0,o)]}class il extends K{constructor(e){super(),F(this,e,Wt,jt,G,{})}}export{nl as B,bt as C,il as G,al as M,yt as R,sl as S,ol as a,Re as b,ie as i,re as o,Y as s,Me as t};
