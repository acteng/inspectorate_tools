import{s as R,e as d,c as m,b as k,f as u,i as g,n as b,p as T,l as D,G as E,a as v,d as P,q as x,j as p,t as S,k as C,h as I,g as N}from"./scheduler.BHcsbfKa.js";import{e as A}from"./Geocoder.svelte_svelte_type_style_lang.BdBzKMjp.js";import{S as G,i as L}from"./index.CiegshHD.js";import{s as M}from"./data.DGKaJ_5O.js";import{b as j}from"./paths.DAGYpOjS.js";import{s as q}from"./index.Waif9jtl.js";function w(a,e,n){const t=a.slice();return t[6]=e[n],t}function U(a){let e,n,t,l;function i(c,_){return c[0]-O!=c[6].idx?Q:z}let r=i(a),o=r(a);function h(c,_){return c[1][c[6].idx]?H:B}let s=h(a),f=s(a);return{c(){e=d("li"),n=d("div"),o.c(),t=v(),f.c(),l=v(),this.h()},l(c){e=m(c,"LI",{});var _=k(e);n=m(_,"DIV",{style:!0});var y=k(n);o.l(y),t=P(y),f.l(y),y.forEach(u),l=P(_),_.forEach(u),this.h()},h(){x(n,"display","flex"),x(n,"justify-content","space-between")},m(c,_){g(c,e,_),p(e,n),o.m(n,null),p(n,t),f.m(n,null),p(e,l)},p(c,_){r===(r=i(c))&&o?o.p(c,_):(o.d(1),o=r(c),o&&(o.c(),o.m(n,t))),s!==(s=h(c))&&(f.d(1),f=s(c),f&&(f.c(),f.m(n,null)))},d(c){c&&u(e),o.d(),f.d()}}}function W(a){let e,n,t=a[6].label+"",l,i,r,o=a[6].notes&&J(a);return{c(){e=d("div"),n=d("u"),l=S(t),i=v(),o&&o.c(),r=v(),this.h()},l(h){e=m(h,"DIV",{style:!0});var s=k(e);n=m(s,"U",{});var f=k(n);l=C(f,t),f.forEach(u),i=P(s),o&&o.l(s),r=P(s),s.forEach(u),this.h()},h(){x(e,"padding","20px")},m(h,s){g(h,e,s),p(e,n),p(n,l),p(e,i),o&&o.m(e,null),p(e,r)},p(h,s){h[6].notes&&o.p(h,s)},d(h){h&&u(e),o&&o.d()}}}function z(a){let e=a[6].label+"",n;return{c(){n=S(e)},l(t){n=C(t,e)},m(t,l){g(t,n,l)},p:b,d(t){t&&u(n)}}}function Q(a){let e,n=a[6].label+"",t;return{c(){e=d("a"),t=S(n),this.h()},l(l){e=m(l,"A",{href:!0});var i=k(e);t=C(i,n),i.forEach(u),this.h()},h(){I(e,"href",j+"/route_check/path_placemaking_check/pp"+X(a[6].idx))},m(l,i){g(l,e,i),p(e,t)},p:b,d(l){l&&u(e)}}}function B(a){let e,n="Incomplete";return{c(){e=d("strong"),e.textContent=n,this.h()},l(t){e=m(t,"STRONG",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-1ad6z0a"&&(e.textContent=n),this.h()},h(){I(e,"class","govuk-tag govuk-tag--red")},m(t,l){g(t,e,l)},d(t){t&&u(e)}}}function H(a){let e,n="Done";return{c(){e=d("strong"),e.textContent=n,this.h()},l(t){e=m(t,"STRONG",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-1l7fnl6"&&(e.textContent=n),this.h()},h(){I(e,"class","govuk-tag govuk-tag--green")},m(t,l){g(t,e,l)},d(t){t&&u(e)}}}function J(a){let e,n=a[6].notes+"",t;return{c(){e=d("p"),t=S(n)},l(l){e=m(l,"P",{});var i=k(e);t=C(i,n),i.forEach(u)},m(l,i){g(l,e,i),p(e,t)},p:b,d(l){l&&u(e)}}}function F(a){let e;function n(i,r){return i[6].kind=="section"?W:U}let l=n(a)(a);return{c(){l.c(),e=E()},l(i){l.l(i),e=E()},m(i,r){l.m(i,r),g(i,e,r)},p(i,r){l.p(i,r)},d(i){i&&u(e),l.d(i)}}}function K(a){let e,n=A(V(a[2])),t=[];for(let l=0;l<n.length;l+=1)t[l]=F(w(a,n,l));return{c(){e=d("ol");for(let l=0;l<t.length;l+=1)t[l].c()},l(l){e=m(l,"OL",{});var i=k(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(u)},m(l,i){g(l,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(l,[i]){if(i&7){n=A(V(l[2]));let r;for(r=0;r<n.length;r+=1){const o=w(l,n,r);t[r]?t[r].p(o,i):(t[r]=F(o),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:b,o:b,d(l){l&&u(e),T(t,l)}}}let O=1;function V(a){let e=[],n=0;for(let t of a){e.push({kind:"section",label:t.section,notes:t.notes});for(let l of t.pages)e.push({kind:"page",idx:n,label:l}),n++}return e}function X(a){return(a+O).toString().padStart(2,"0")}function Y(a,e,n){let t,l;D(a,M,s=>n(3,l=s));let{currentIdx:i}=e,r=[{section:"Social activity",pages:["Engagement for Children","Social Space","Points of Interest"]},{section:"Personal security",notes:"Note: All three personal security metrics below are double weighted when the Path Placemaking score is calculated. This is explained further in the Route Check user manual.",pages:["Surveillance and Activity","Forward Visibility and Escape Routes","Visibility of Others"]},{section:"Character and legibility",pages:["Maintenance and Upkeep","Consistency of Materials and Path Furniture","Visual Interest","Features to Support Walking, Wheeling and Cycling"]},{section:"Environment",pages:["Trees","Planting","Ancillary Features to Support Fauna","Sustainable Materials","Air Pollution - Exposure","Air Pollution - Proximity","Noise Pollution","Light Pollution","Sunlight"]}],o=q(r.map(s=>s.pages.length));function h(s){return Array.from(Array(o).keys()).map(f=>l.pathPlacemakingCheck.existingScores[f]!=""&&l.pathPlacemakingCheck.proposedScores[f]!="")}return a.$$set=s=>{"currentIdx"in s&&n(0,i=s.currentIdx)},a.$$.update=()=>{a.$$.dirty&8&&n(1,t=h())},[i,t,r,l]}class ie extends G{constructor(e){super(),L(this,e,Y,K,R,{currentIdx:0})}}export{ie as P};
