import{s as j,e as y,t as C,a as S,c as k,b as v,k as P,f as g,d as T,i as m,j as _,o as I,n as W,p as L,l as N,h as E,q as D,g as M}from"./scheduler.DVVeQeVF.js";import{e as q}from"./Breadcrumbs.DUKUsq0h.js";import{S as R,i as w}from"./index.CNtmK1O_.js";import{s as z}from"./data.C0x1pwfB.js";import{b as V}from"./paths.C3SKc46O.js";function O(l,e,r){const n=l.slice();return n[6]=e[r],n[8]=r,n}function B(l){let e,r="Incomplete";return{c(){e=y("strong"),e.textContent=r,this.h()},l(n){e=k(n,"STRONG",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1ad6z0a"&&(e.textContent=r),this.h()},h(){E(e,"class","govuk-tag govuk-tag--red")},m(n,f){m(n,e,f)},d(n){n&&g(e)}}}function F(l){let e,r="Done";return{c(){e=y("strong"),e.textContent=r,this.h()},l(n){e=k(n,"STRONG",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1l7fnl6"&&(e.textContent=r),this.h()},h(){E(e,"class","govuk-tag govuk-tag--green")},m(n,f){m(n,e,f)},d(n){n&&g(e)}}}function A(l){let e,r,n,f=l[6]+"",h,u,p;function d(s,t){return s[2][s[8]]?F:B}let a=d(l),i=a(l);return{c(){e=y("li"),r=y("div"),n=y("a"),h=C(f),u=S(),i.c(),p=S(),this.h()},l(s){e=k(s,"LI",{});var t=v(e);r=k(t,"DIV",{style:!0});var c=v(r);n=k(c,"A",{href:!0});var o=v(n);h=P(o,f),o.forEach(g),u=T(c),i.l(c),c.forEach(g),p=T(t),t.forEach(g),this.h()},h(){E(n,"href",V+"/area_check/scorecard/q"+J(l[8])),D(r,"display","flex"),D(r,"justify-content","space-between")},m(s,t){m(s,e,t),_(e,r),_(r,n),_(n,h),_(r,u),i.m(r,null),_(e,p)},p(s,t){a!==(a=d(s))&&(i.d(1),i=a(s),i&&(i.c(),i.m(r,null)))},d(s){s&&g(e),i.d()}}}function H(l){let e,r,n,f,h,u,p,d,a,i=q(l[3]),s=[];for(let t=0;t<i.length;t+=1)s[t]=A(O(l,i,t));return{c(){e=y("p"),r=C("Total existing score: "),n=C(l[1]),f=S(),h=y("p"),u=C("Total proposed score: "),p=C(l[0]),d=S(),a=y("ol");for(let t=0;t<s.length;t+=1)s[t].c()},l(t){e=k(t,"P",{});var c=v(e);r=P(c,"Total existing score: "),n=P(c,l[1]),c.forEach(g),f=T(t),h=k(t,"P",{});var o=v(h);u=P(o,"Total proposed score: "),p=P(o,l[0]),o.forEach(g),d=T(t),a=k(t,"OL",{});var b=v(a);for(let x=0;x<s.length;x+=1)s[x].l(b);b.forEach(g)},m(t,c){m(t,e,c),_(e,r),_(e,n),m(t,f,c),m(t,h,c),_(h,u),_(h,p),m(t,d,c),m(t,a,c);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(a,null)},p(t,[c]){if(c&2&&I(n,t[1]),c&1&&I(p,t[0]),c&12){i=q(t[3]);let o;for(o=0;o<i.length;o+=1){const b=O(t,i,o);s[o]?s[o].p(b,c):(s[o]=A(b),s[o].c(),s[o].m(a,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}},i:W,o:W,d(t){t&&(g(e),g(f),g(h),g(d),g(a)),L(s,t)}}}function J(l){return(l+1).toString().padStart(2,"0")}function G(l){return l.reduce((e,r)=>e+r,0)}function K(l,e,r){let n,f,h,u;N(l,z,a=>r(4,u=a));let p=["Porosity - Walking and Wheeling","Porosity - Cycling","Crossings - Walking and Wheeling","Crossings - Cycling","Permeability - Walking and Wheeling","Permeability - Cycling","Mesh Density - Walking and Wheeling","Mesh Density - Cycling","Motorised Through-Traffic","Perimeter Treatment Design","Green Infrastructure Design","Other Internal Treatment Design","Engagement Practice"];function d(a){return Array.from(Array(p.length).keys()).map(i=>u.existingScores[i]!=""&&u.proposedScores[i]!="")}return l.$$.update=()=>{l.$$.dirty&16&&r(2,n=d()),l.$$.dirty&16&&r(1,f=G(u.existingScores.map(a=>parseInt(a||"0")))),l.$$.dirty&16&&r(0,h=G(u.proposedScores.map(a=>parseInt(a||"0"))))},[h,f,n,p,u]}class $ extends R{constructor(e){super(),w(this,e,K,H,j,{})}}export{$ as P};
