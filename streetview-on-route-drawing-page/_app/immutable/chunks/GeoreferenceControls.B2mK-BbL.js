import{s as j,l as ce,e as S,a as G,c as C,b as R,g as z,f as h,q as w,v as H,i as k,h as L,y as I,u as ue,m as _e,o as de,x as pe,D as qe,X as We,k as O,r as te,E as V,p as x,w as he,n as be,V as D,K as He,t as E,d as P,ab as ve,F as ie,a1 as Je,U as Ye,Y as Xe,ac as Ze,J as we,j as $e}from"./scheduler.DtZ_2YzF.js";import{S as J,i as Y,t as y,b as v,c as N,a as A,m as T,d as U,e as ke,g as ne,f as le}from"./index.yDcrjC44.js";import{e as Le}from"./each.CzFqIy6Y.js";import{C as Qe}from"./CollapsibleCard._319Et3M.js";import"./SelectWithCustom.svelte_svelte_type_style_lang.B1h1Cynr.js";import{S as Ne}from"./SecondaryButton.Bipz3z4U.js";import{S as xe}from"./Select.CXnOy_zb.js";import{q as $,v as et,c as tt,f as nt}from"./index.6Fwryz1v.js";import{m as lt}from"./index.B6JZU6kU.js";import{g as Ae}from"./globals.D0QH3NT1.js";import{v as ot}from"./v4.D8aEg3BZ.js";import{R as at}from"./Radio.BfmM2wLI.js";import{B as st}from"./ButtonGroup.bueBMF61.js";import{D as it}from"./DefaultButton.DNufaOUg.js";import{F as rt}from"./FormElement.CgP7Z3G-.js";import{W as ft}from"./WarningButton.DVJ-vczH.js";import{w as X}from"./entry.BmjuGrfT.js";const ct=o=>({}),Se=o=>({});function ut(o){let e,t,l,n,a,s,c,u,m;const i=o[5].default,r=ce(i,o,o[4],null),d=o[5].right,_=ce(d,o,o[4],Se);return{c(){e=S("div"),t=S("input"),l=G(),n=S("label"),r&&r.c(),a=G(),s=S("span"),_&&_.c(),this.h()},l(f){e=C(f,"DIV",{class:!0,style:!0});var g=R(e);t=C(g,"INPUT",{type:!0,class:!0,id:!0}),l=z(g),n=C(g,"LABEL",{class:!0,for:!0,title:!0});var b=R(n);r&&r.l(b),b.forEach(h),a=z(g),s=C(g,"SPAN",{style:!0});var B=R(s);_&&_.l(B),B.forEach(h),g.forEach(h),this.h()},h(){w(t,"type","checkbox"),w(t,"class","govuk-checkboxes__input"),w(t,"id",o[3]),w(n,"class","govuk-label govuk-checkboxes__label"),w(n,"for",o[3]),w(n,"title",o[1]),H(s,"float","right"),w(e,"class","govuk-checkboxes__item"),w(e,"style",o[2])},m(f,g){k(f,e,g),L(e,t),t.checked=o[0],L(e,l),L(e,n),r&&r.m(n,null),L(e,a),L(e,s),_&&_.m(s,null),c=!0,u||(m=[I(t,"change",o[7]),I(t,"change",o[6])],u=!0)},p(f,[g]){g&1&&(t.checked=f[0]),r&&r.p&&(!c||g&16)&&ue(r,i,f,f[4],c?de(i,f[4],g,null):_e(f[4]),null),(!c||g&2)&&w(n,"title",f[1]),_&&_.p&&(!c||g&16)&&ue(_,d,f,f[4],c?de(d,f[4],g,ct):_e(f[4]),Se)},i(f){c||(y(r,f),y(_,f),c=!0)},o(f){v(r,f),v(_,f),c=!1},d(f){f&&h(e),r&&r.d(f),_&&_.d(f),u=!1,pe(m)}}}function _t(o,e,t){let{$$slots:l={},$$scope:n}=e;const a=We(l);let{checked:s}=e,{hint:c=null}=e,m=a.right!==void 0?"float: none":"",i=ot();function r(_){qe.call(this,o,_)}function d(){s=this.checked,t(0,s)}return o.$$set=_=>{"checked"in _&&t(0,s=_.checked),"hint"in _&&t(1,c=_.hint),"$$scope"in _&&t(4,n=_.$$scope)},[s,c,m,i,n,l,r,d]}class dt extends J{constructor(e){super(),Y(this,e,_t,ut,j,{checked:0,hint:1})}}function Ce(o,e,t){const l=o.slice();return l[7]=e[t][0],l[8]=e[t][1],l}function mt(o){let e;return{c(){e=E("disabled")},l(t){e=P(t,"disabled")},m(t,l){k(t,e,l)},d(t){t&&h(e)}}}function gt(o){let e;return{c(){e=E("enabled")},l(t){e=P(t,"enabled")},m(t,l){k(t,e,l)},d(t){t&&h(e)}}}function pt(o){let e,t=`Google <a href="https://cloud.google.com/maps-platform/terms/" target="_blank">Terms of Use</a>
          and
          <a href="https://www.google.com/policies/privacy/" target="_blank">Privacy Policy</a>`;return{c(){e=S("p"),e.innerHTML=t},l(l){e=C(l,"P",{"data-svelte-h":!0}),x(e)!=="svelte-1uvm4kz"&&(e.innerHTML=t)},m(l,n){k(l,e,n)},d(l){l&&h(e)}}}function ht(o){let e,t=o[8]+"",l,n;return{c(){e=E("Set "),l=E(t),n=E(` API key
      `)},l(a){e=P(a,"Set "),l=P(a,t),n=P(a,` API key
      `)},m(a,s){k(a,e,s),k(a,l,s),k(a,n,s)},p:be,d(a){a&&(h(e),h(l),h(n))}}}function Ie(o){let e,t=o[8]+"",l,n,a,s,c,u;function m(f,g){return ge(f[7])?gt:mt}let r=m(o)(o),d=o[7]==ee&&pt();function _(){return o[6](o[7])}return c=new Ne({props:{$$slots:{default:[ht]},$$scope:{ctx:o}}}),c.$on("click",_),{c(){e=S("p"),l=E(t),n=E(`
        : `),r.c(),a=G(),d&&d.c(),s=G(),N(c.$$.fragment)},l(f){e=C(f,"P",{});var g=R(e);l=P(g,t),n=P(g,`
        : `),r.l(g),g.forEach(h),a=z(f),d&&d.l(f),s=z(f),A(c.$$.fragment,f)},m(f,g){k(f,e,g),L(e,l),L(e,n),r.m(e,null),k(f,a,g),d&&d.m(f,g),k(f,s,g),T(c,f,g),u=!0},p(f,g){o=f;const b={};g&2048&&(b.$$scope={dirty:g,ctx:o}),c.$set(b)},i(f){u||(y(c.$$.fragment,f),u=!0)},o(f){v(c.$$.fragment,f),u=!1},d(f){f&&(h(e),h(a),h(s)),r.d(),d&&d.d(f),U(c,f)}}}function Ee(o){let e,t,l=Le(o[3]),n=[];for(let s=0;s<l.length;s+=1)n[s]=Ie(Ce(o,l,s));const a=s=>v(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=V()},l(s){for(let c=0;c<n.length;c+=1)n[c].l(s);e=V()},m(s,c){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(s,c);k(s,e,c),t=!0},p(s,c){if(c&24){l=Le(s[3]);let u;for(u=0;u<l.length;u+=1){const m=Ce(s,l,u);n[u]?(n[u].p(m,c),y(n[u],1)):(n[u]=Ie(m),n[u].c(),y(n[u],1),n[u].m(e.parentNode,e))}for(ne(),u=l.length;u<n.length;u+=1)a(u);le()}},i(s){if(!t){for(let c=0;c<l.length;c+=1)y(n[c]);t=!0}},o(s){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)v(n[c]);t=!1},d(s){s&&h(e),He(n,s)}}}function bt(o){let e,t,l,n,a=`If you have internal access, you can opt into higher-quality satellite
    imagery.`,s,c=o[0],u,m;function i(_){o[5](_)}let r={label:"Basemap",choices:o[1]};o[2]!==void 0&&(r.value=o[2]),e=new xe({props:r}),te.push(()=>ke(e,"value",i));let d=Ee(o);return{c(){N(e.$$.fragment),l=G(),n=S("p"),n.textContent=a,s=G(),d.c(),u=V()},l(_){A(e.$$.fragment,_),l=z(_),n=C(_,"P",{"data-svelte-h":!0}),x(n)!=="svelte-itr0ad"&&(n.textContent=a),s=z(_),d.l(_),u=V()},m(_,f){T(e,_,f),k(_,l,f),k(_,n,f),k(_,s,f),d.m(_,f),k(_,u,f),m=!0},p(_,f){const g={};f&2&&(g.choices=_[1]),!t&&f&4&&(t=!0,g.value=_[2],he(()=>t=!1)),e.$set(g),f&1&&j(c,c=_[0])?(ne(),v(d,1,1,be),le(),d=Ee(_),d.c(),y(d,1),d.m(u.parentNode,u)):d.p(_,f)},i(_){m||(y(e.$$.fragment,_),y(d),m=!0)},o(_){v(e.$$.fragment,_),v(d),m=!1},d(_){_&&(h(l),h(n),h(s),h(u)),U(e,_),d.d(_)}}}function kt(o){let e,t;return e=new Qe({props:{label:"Basemap",$$slots:{default:[bt]},$$scope:{ctx:o}}}),{c(){N(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,n){T(e,l,n),t=!0},p(l,[n]){const a={};n&2055&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}let me="os-api-key",ee="google-api-key";function ge(o){let e=window.localStorage.getItem(o);return e!=null&&e.length>0}function Pe(){let o=[];return ge(ee)&&o.push(["google","Google satellite"]),ge(me)&&o.push(["os-road","Ordnance Survey MasterMap"]),o.push(["maptiler-hybrid","MapTiler Satellite"]),o.push(["maptiler-streets-v2","MapTiler Streets"]),o.push(["maptiler-dataviz","MapTiler Dataviz"]),o.push(["maptiler-uk-openzoomstack-light","OS Open Zoomstack"]),o}function yt(o,e,t){let l;O(o,$,i=>t(2,l=i));let n=[[ee,"Google satellite imagery"],[me,"Ordnance Survey"]],a=0;function s(i){let r=window.prompt("Enter the API key provided to you",window.localStorage.getItem(i)||"");window.localStorage.setItem(i,r||""),t(1,c=Pe()),t(0,a+=1),r&&r.length>0&&(i==me?D($,l="os-road",l):i==ee&&D($,l="google",l))}let c=Pe();function u(i){l=i,$.set(l)}return[a,c,l,n,s,u,i=>s(i)]}class nn extends J{constructor(e){super(),Y(this,e,yt,kt,j,{})}}const vt=o=>({marker:o&8}),Be=o=>({marker:o[3]});function wt(o){let e,t,l,n,a,s,c;const u=o[19].default,m=ce(u,o,o[18],Be);return{c(){e=S("div"),m&&m.c(),this.h()},l(i){e=C(i,"DIV",{tabindex:!0,role:!0});var r=R(e);m&&m.l(r),r.forEach(h),this.h()},h(){w(e,"tabindex",t=o[1]?0:void 0),w(e,"role",l=o[1]?"button":void 0),H(e,"z-index",o[2])},m(i,r){k(i,e,r),m&&m.m(e,null),a=!0,s||(c=[ve(o[7].call(null,e)),ve(n=Lt.call(null,e,o[0])),I(e,"click",ie(o[20])),I(e,"dblclick",ie(o[21])),I(e,"contextmenu",ie(o[22])),I(e,"mouseenter",o[23]),I(e,"mouseleave",o[24]),I(e,"mousemove",o[25]),I(e,"keydown",o[8])],s=!0)},p(i,[r]){m&&m.p&&(!a||r&262152)&&ue(m,u,i,i[18],a?de(u,i[18],r,vt):_e(i[18]),Be),(!a||r&2&&t!==(t=i[1]?0:void 0))&&w(e,"tabindex",t),(!a||r&2&&l!==(l=i[1]?"button":void 0))&&w(e,"role",l),n&&Je(n.update)&&r&1&&n.update.call(null,i[0]),r&4&&H(e,"z-index",i[2])},i(i){a||(y(m,i),a=!0)},o(i){v(m,i),a=!1},d(i){i&&h(e),m&&m.d(i),s=!1,pe(c)}}}function Lt(o,e){const t=o.className;function l(n){n?o.className=`${t} ${n}`:o.className=t}return l(e),{update:l}}function St(o,e,t){let l,n,a,{$$slots:s={},$$scope:c}=e,{marker:u=void 0}=e,{lngLat:m}=e,{class:i=void 0}=e,{interactive:r=!0}=e,{asButton:d=!1}=e,{draggable:_=!1}=e,{feature:f=null}=e,{offset:g=void 0}=e,{zIndex:b=void 0}=e,{rotation:B=0}=e,{opacity:K=1}=e;const oe=Ye(),{map:Z,layerEvent:ae,self:se}=et();O(o,Z,p=>t(27,a=p)),O(o,ae,p=>t(26,l=p)),O(o,se,p=>t(3,n=p));function Te(p){D(se,n=new lt.Marker({element:p,rotation:B,draggable:_,offset:g,opacity:K.toString()}).setLngLat(m).addTo(a),n),t(11,u=n);const F=()=>M("dragstart"),q=()=>{ye(),M("drag")},W=()=>{ye(),M("dragend")};return _&&(n.on("dragstart",F),n.on("drag",q),n.on("dragend",W)),{destroy(){_&&(n==null||n.off("dragstart",F),n==null||n.off("drag",q),n==null||n.off("dragend",W)),t(11,u=void 0),n==null||n.remove()}}}function ye(){let p=n==null?void 0:n.getLngLat();p&&(Array.isArray(m)?t(10,m=[p.lng,p.lat]):m&&"lon"in m?t(10,m={lon:p.lng,lat:p.lat}):t(10,m=p))}function Ue(p){p.key===" "&&(p.preventDefault(),p.stopPropagation(),M("click"))}function M(p){if(!r)return;let F=n==null?void 0:n.getLngLat();if(!F)return;const q=[F.lng,F.lat];let W={map:a,marker:n,lngLat:q,features:[{type:"Feature",properties:(f==null?void 0:f.properties)??{},geometry:{type:"Point",coordinates:q}}]};D(ae,l={...W,layerType:"marker",type:p},l),oe(p,W)}const Oe=()=>M("click"),Re=()=>M("dblclick"),Ve=()=>M("contextmenu"),Ke=p=>{M("mouseenter")},Fe=()=>{M("mouseleave")},je=()=>M("mousemove");return o.$$set=p=>{"marker"in p&&t(11,u=p.marker),"lngLat"in p&&t(10,m=p.lngLat),"class"in p&&t(0,i=p.class),"interactive"in p&&t(12,r=p.interactive),"asButton"in p&&t(1,d=p.asButton),"draggable"in p&&t(13,_=p.draggable),"feature"in p&&t(14,f=p.feature),"offset"in p&&t(15,g=p.offset),"zIndex"in p&&t(2,b=p.zIndex),"rotation"in p&&t(16,B=p.rotation),"opacity"in p&&t(17,K=p.opacity),"$$scope"in p&&t(18,c=p.$$scope)},o.$$.update=()=>{o.$$.dirty&1032&&(n==null||n.setLngLat(m)),o.$$.dirty&32776&&(n==null||n.setOffset(g??[0,0])),o.$$.dirty&65544&&(n==null||n.setRotation(B)),o.$$.dirty&131080&&(n==null||n.setOpacity(K.toString()))},[i,d,b,n,Z,ae,se,Te,Ue,M,m,u,r,_,f,g,B,K,c,s,Oe,Re,Ve,Ke,Fe,je]}class ln extends J{constructor(e){super(),Y(this,e,St,wt,j,{marker:11,lngLat:10,class:0,interactive:12,asButton:1,draggable:13,feature:14,offset:15,zIndex:2,rotation:16,opacity:17})}}const{window:Ct}=Ae;function It(o){let e;return{c(){e=E("StreetView")},l(t){e=P(t,"StreetView")},m(t,l){k(t,e,l)},d(t){t&&h(e)}}}function De(o){let e,t,l;function n(s){o[5](s)}let a={label:"Source",choices:[["google","Google StreetView"],["bing","Bing Streetside"]],inlineSmall:!0};return o[1]!==void 0&&(a.value=o[1]),e=new at({props:a}),te.push(()=>ke(e,"value",n)),{c(){N(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,c){T(e,s,c),l=!0},p(s,c){const u={};!t&&c&2&&(t=!0,u.value=s[1],he(()=>t=!1)),e.$set(u)},i(s){l||(y(e.$$.fragment,s),l=!0)},o(s){v(e.$$.fragment,s),l=!1},d(s){U(e,s)}}}function Et(o){let e,t,l,n,a,s,c;function u(r){o[4](r)}let m={$$slots:{default:[It]},$$scope:{ctx:o}};o[0]!==void 0&&(m.checked=o[0]),e=new dt({props:m}),te.push(()=>ke(e,"checked",u));let i=o[0]&&De(o);return{c(){N(e.$$.fragment),l=G(),i&&i.c(),n=V()},l(r){A(e.$$.fragment,r),l=z(r),i&&i.l(r),n=V()},m(r,d){T(e,r,d),k(r,l,d),i&&i.m(r,d),k(r,n,d),a=!0,s||(c=I(Ct,"keydown",o[2]),s=!0)},p(r,[d]){const _={};d&512&&(_.$$scope={dirty:d,ctx:r}),!t&&d&1&&(t=!0,_.checked=r[0],he(()=>t=!1)),e.$set(_),r[0]?i?(i.p(r,d),d&1&&y(i,1)):(i=De(r),i.c(),y(i,1),i.m(n.parentNode,n)):i&&(ne(),v(i,1,1,()=>{i=null}),le())},i(r){a||(y(e.$$.fragment,r),y(i),a=!0)},o(r){v(e.$$.fragment,r),v(i),a=!1},d(r){r&&(h(l),h(n)),U(e,r),i&&i.d(r),s=!1,c()}}}function Pt(o,e,t){let{map:l}=e,{enabled:n=!1}=e,a="google";function s(){l&&(l.on("click",u),l.getCanvas().style.cursor="zoom-in")}function c(){l&&(l.off("click",u),l.getCanvas().style.cursor="auto")}Xe(c);function u(d){window.open(a=="google"?tt(d.lngLat.toArray()):nt(d.lngLat.toArray()),"_blank"),t(0,n=!1)}function m(d){n&&d.key=="Escape"&&t(0,n=!1)}function i(d){n=d,t(0,n)}function r(d){a=d,t(1,a)}return o.$$set=d=>{"map"in d&&t(3,l=d.map),"enabled"in d&&t(0,n=d.enabled)},o.$$.update=()=>{o.$$.dirty&1&&(n?s():c())},[n,a,m,l,i,r]}class on extends J{constructor(e){super(),Y(this,e,Pt,Et,j,{map:3,enabled:0})}}const Q=X(!1),re=X(null),fe=X(100),Ge=X({lng:0,lat:0}),ze=X({lng:0,lat:0}),{window:Bt}=Ae;function Dt(o){let e,t;return e=new Ne({props:{$$slots:{default:[zt]},$$scope:{ctx:o}}}),e.$on("click",o[10]),{c(){N(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,n){T(e,l,n),t=!0},p(l,n){const a={};n&8192&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){v(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function Gt(o){let e,t,l="Georeference an image",n,a,s,c,u,m,i,r=`Note this image isn't saved as part of this scheme. When you close this
      page, it'll be lost.`,d;a=new st({props:{$$slots:{default:[At]},$$scope:{ctx:o}}}),c=new rt({props:{label:"Load an image",id:"load-image",$$slots:{default:[Tt]},$$scope:{ctx:o}}});let _=o[3]&&Me(o);return{c(){e=S("div"),t=S("h2"),t.textContent=l,n=G(),N(a.$$.fragment),s=G(),N(c.$$.fragment),u=G(),_&&_.c(),m=G(),i=S("p"),i.textContent=r,this.h()},l(f){e=C(f,"DIV",{style:!0});var g=R(e);t=C(g,"H2",{"data-svelte-h":!0}),x(t)!=="svelte-fociiu"&&(t.textContent=l),n=z(g),A(a.$$.fragment,g),s=z(g),A(c.$$.fragment,g),u=z(g),_&&_.l(g),m=z(g),i=C(g,"P",{"data-svelte-h":!0}),x(i)!=="svelte-d8uklv"&&(i.textContent=r),g.forEach(h),this.h()},h(){H(e,"border","1px solid black"),H(e,"padding","4px")},m(f,g){k(f,e,g),L(e,t),L(e,n),T(a,e,null),L(e,s),T(c,e,null),L(e,u),_&&_.m(e,null),L(e,m),L(e,i),d=!0},p(f,g){const b={};g&8202&&(b.$$scope={dirty:g,ctx:f}),a.$set(b);const B={};g&8193&&(B.$$scope={dirty:g,ctx:f}),c.$set(B),f[3]?_?_.p(f,g):(_=Me(f),_.c(),_.m(e,m)):_&&(_.d(1),_=null)},i(f){d||(y(a.$$.fragment,f),y(c.$$.fragment,f),d=!0)},o(f){v(a.$$.fragment,f),v(c.$$.fragment,f),d=!1},d(f){f&&h(e),U(a),U(c),_&&_.d()}}}function zt(o){let e;return{c(){e=E("Georeference an image")},l(t){e=P(t,"Georeference an image")},m(t,l){k(t,e,l)},d(t){t&&h(e)}}}function Mt(o){let e;return{c(){e=E("Save")},l(t){e=P(t,"Save")},m(t,l){k(t,e,l)},d(t){t&&h(e)}}}function Nt(o){let e;return{c(){e=E("Delete")},l(t){e=P(t,"Delete")},m(t,l){k(t,e,l)},d(t){t&&h(e)}}}function At(o){let e,t,l,n;return e=new it({props:{$$slots:{default:[Mt]},$$scope:{ctx:o}}}),e.$on("click",o[7]),l=new ft({props:{disabled:!o[3],$$slots:{default:[Nt]},$$scope:{ctx:o}}}),l.$on("click",o[5]),{c(){N(e.$$.fragment),t=G(),N(l.$$.fragment)},l(a){A(e.$$.fragment,a),t=z(a),A(l.$$.fragment,a)},m(a,s){T(e,a,s),k(a,t,s),T(l,a,s),n=!0},p(a,s){const c={};s&8192&&(c.$$scope={dirty:s,ctx:a}),e.$set(c);const u={};s&8&&(u.disabled=!a[3]),s&8192&&(u.$$scope={dirty:s,ctx:a}),l.$set(u)},i(a){n||(y(e.$$.fragment,a),y(l.$$.fragment,a),n=!0)},o(a){v(e.$$.fragment,a),v(l.$$.fragment,a),n=!1},d(a){a&&h(t),U(e,a),U(l,a)}}}function Tt(o){let e,t,l;return{c(){e=S("input"),this.h()},l(n){e=C(n,"INPUT",{class:!0,id:!0,type:!0}),this.h()},h(){w(e,"class","govuk-file-upload"),w(e,"id","load-image"),w(e,"type","file")},m(n,a){k(n,e,a),o[8](e),t||(l=I(e,"change",o[4]),t=!0)},p:be,d(n){n&&h(e),o[8](null),t=!1,l()}}}function Me(o){let e,t,l,n,a,s,c,u;return{c(){e=S("div"),t=S("label"),l=S("input"),n=E(`
          Opacity: `),a=E(o[2]),s=E("%"),this.h()},l(m){e=C(m,"DIV",{});var i=R(e);t=C(i,"LABEL",{});var r=R(t);l=C(r,"INPUT",{type:!0,min:!0,max:!0}),n=P(r,`
          Opacity: `),a=P(r,o[2]),s=P(r,"%"),r.forEach(h),i.forEach(h),this.h()},h(){w(l,"type","range"),w(l,"min","0"),w(l,"max","100")},m(m,i){k(m,e,i),L(e,t),L(t,l),we(l,o[2]),L(t,n),L(t,a),L(t,s),c||(u=[I(l,"change",o[9]),I(l,"input",o[9])],c=!0)},p(m,i){i&4&&we(l,m[2]),i&4&&$e(a,m[2])},d(m){m&&h(e),c=!1,pe(u)}}}function Ut(o){let e,t,l,n,a,s;const c=[Gt,Dt],u=[];function m(i,r){return i[1]?0:1}return e=m(o),t=u[e]=c[e](o),{c(){t.c(),l=V()},l(i){t.l(i),l=V()},m(i,r){u[e].m(i,r),k(i,l,r),n=!0,a||(s=I(Bt,"keydown",o[6]),a=!0)},p(i,[r]){let d=e;e=m(i),e===d?u[e].p(i,r):(ne(),v(u[d],1,1,()=>{u[d]=null}),le(),t=u[e],t?t.p(i,r):(t=u[e]=c[e](i),t.c()),y(t,1),t.m(l.parentNode,l))},i(i){n||(y(t),n=!0)},o(i){v(t),n=!1},d(i){i&&h(l),u[e].d(i),a=!1,s()}}}function Ot(o,e,t){let l,n,a,s,c;O(o,Q,b=>t(1,l=b)),O(o,fe,b=>t(2,n=b)),O(o,re,b=>t(3,a=b)),O(o,ze,b=>t(11,s=b)),O(o,Ge,b=>t(12,c=b));let u;async function m(b){i();let B=await u.files[0].arrayBuffer(),K=new Blob([new Uint8Array(B)]);D(re,a=URL.createObjectURL(K),a),D(Ge,c={lng:0,lat:0},c),D(ze,s={lng:0,lat:0},s);let oe=u.files[0].name.toLowerCase();[".gif",".jpg",".jpeg",".png"].some(Z=>oe.endsWith(Z))||window.alert("You can only georeference image files (GIF, JPEG, PNG). If you don't see anything on the map, try a different file type.")}function i(){D(re,a=null,a),D(fe,n=100,n)}function r(b){l&&b.key=="Escape"&&(b.stopPropagation(),D(Q,l=!1,l))}const d=()=>D(Q,l=!1,l);function _(b){te[b?"unshift":"push"](()=>{u=b,t(0,u)})}function f(){n=Ze(this.value),fe.set(n)}return[u,l,n,a,m,i,r,d,_,f,()=>D(Q,l=!0,l)]}class an extends J{constructor(e){super(),Y(this,e,Ot,Ut,j,{})}}export{nn as B,dt as C,an as G,ln as M,on as S,ze as b,re as i,fe as o,Q as s,Ge as t};
