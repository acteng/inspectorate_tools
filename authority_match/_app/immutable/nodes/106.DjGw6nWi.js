import{s as $t,e as p,a as m,t as Y,c as v,b as E,g as h,p as st,d as B,f as _,q as gt,i as lt,h as l,j as J,B as ot,k as Ct,J as rt}from"../chunks/scheduler.B5FfXhnD.js";import{S as bt,i as kt,c as Q,a as U,m as W,t as Z,b as x,d as tt}from"../chunks/index.VeCIHQiF.js";import{e as nt}from"../chunks/each.XauKQHIb.js";import{s as Tt}from"../chunks/data.7MKhEcMY.js";import{g as Et}from"../chunks/results.RxhGDpjv.js";import{S as It,P as wt,a as Dt,C as Rt}from"../chunks/SafetyCheckResults.e_JM_U6F.js";import{O as yt}from"../chunks/Overview.Dy_elrCk.js";import{g as it,a as ft}from"../chunks/lists.Bn2sGx3F.js";import{p as ct,c as mt}from"../chunks/da_log.oLI_mpDF.js";import{C as Lt}from"../chunks/ConvertToXlsx.CpUMSGdh.js";function ht(o,t,e){const a=o.slice();return a[2]=t[e],a[4]=e,a}function _t(o,t,e){const a=o.slice();return a[5]=t[e],a[4]=e,a}function ut(o){let t,e,a=o[4]+1+"",c,N,u,I=ct(o[0],o[4])+"",k,O,w,g=it(o[5].conflict)+"",D,H,R,d=o[5].locationName+"",P,T,$,y=o[5].notes+"",S,M;return{c(){t=p("tr"),e=p("th"),c=Y(a),N=m(),u=p("td"),k=Y(I),O=m(),w=p("td"),D=Y(g),H=m(),R=p("td"),P=Y(d),T=m(),$=p("td"),S=Y(y),M=m()},l(i){t=v(i,"TR",{});var r=E(t);e=v(r,"TH",{});var L=E(e);c=B(L,a),L.forEach(_),N=h(r),u=v(r,"TD",{});var F=E(u);k=B(F,I),F.forEach(_),O=h(r),w=v(r,"TD",{});var V=E(w);D=B(V,g),V.forEach(_),H=h(r),R=v(r,"TD",{});var A=E(R);P=B(A,d),A.forEach(_),T=h(r),$=v(r,"TD",{});var j=E($);S=B(j,y),j.forEach(_),M=h(r),r.forEach(_)},m(i,r){lt(i,t,r),l(t,e),l(e,c),l(t,N),l(t,u),l(u,k),l(t,O),l(t,w),l(w,D),l(t,H),l(t,R),l(R,P),l(t,T),l(t,$),l($,S),l(t,M)},p(i,r){r&1&&I!==(I=ct(i[0],i[4])+"")&&J(k,I),r&1&&g!==(g=it(i[5].conflict)+"")&&J(D,g),r&1&&d!==(d=i[5].locationName+"")&&J(P,d),r&1&&y!==(y=i[5].notes+"")&&J(S,y)},d(i){i&&_(t)}}}function dt(o){let t,e=o[5].resolved!="Yes"&&ut(o);return{c(){e&&e.c(),t=rt()},l(a){e&&e.l(a),t=rt()},m(a,c){e&&e.m(a,c),lt(a,t,c)},p(a,c){a[5].resolved!="Yes"?e?e.p(a,c):(e=ut(a),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(a){a&&_(t),e&&e.d(a)}}}function pt(o){let t,e,a=o[4]+1+"",c,N,u,I=mt(o[0],o[4])+"",k,O,w,g=ft(o[2].criticalIssue)+"",D,H,R,d=o[2].locationName+"",P,T,$,y=o[2].notes+"",S,M;return{c(){t=p("tr"),e=p("th"),c=Y(a),N=m(),u=p("td"),k=Y(I),O=m(),w=p("td"),D=Y(g),H=m(),R=p("td"),P=Y(d),T=m(),$=p("td"),S=Y(y),M=m()},l(i){t=v(i,"TR",{});var r=E(t);e=v(r,"TH",{});var L=E(e);c=B(L,a),L.forEach(_),N=h(r),u=v(r,"TD",{});var F=E(u);k=B(F,I),F.forEach(_),O=h(r),w=v(r,"TD",{});var V=E(w);D=B(V,g),V.forEach(_),H=h(r),R=v(r,"TD",{});var A=E(R);P=B(A,d),A.forEach(_),T=h(r),$=v(r,"TD",{});var j=E($);S=B(j,y),j.forEach(_),M=h(r),r.forEach(_)},m(i,r){lt(i,t,r),l(t,e),l(e,c),l(t,N),l(t,u),l(u,k),l(t,O),l(t,w),l(w,D),l(t,H),l(t,R),l(R,P),l(t,T),l(t,$),l($,S),l(t,M)},p(i,r){r&1&&I!==(I=mt(i[0],i[4])+"")&&J(k,I),r&1&&g!==(g=ft(i[2].criticalIssue)+"")&&J(D,g),r&1&&d!==(d=i[2].locationName+"")&&J(P,d),r&1&&y!==(y=i[2].notes+"")&&J(S,y)},d(i){i&&_(t)}}}function vt(o){let t,e=o[2].resolved!="Yes"&&pt(o);return{c(){e&&e.c(),t=rt()},l(a){e&&e.l(a),t=rt()},m(a,c){e&&e.m(a,c),lt(a,t,c)},p(a,c){a[2].resolved!="Yes"?e?e.p(a,c):(e=pt(a),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(a){a&&_(t),e&&e.d(a)}}}function Nt(o){let t,e,a,c,N,u,I,k,O="Review statement",w,g,D=o[0].resultsReviewStatement+"",H,R,d,P,T,$,y="<th>Remaining Policy Conflicts</th> <th>Policy Conflict ID</th> <th>Policy Conflict</th> <th>Location Name</th> <th>Commentary &amp; Feedback</th>",S,M,i,r,L,F,V="<th>Remaining Critical Issues</th> <th>Critical ID</th> <th>Critical Issue</th> <th>Location Name</th> <th>Commentary &amp; Feedback</th>",A,j,X,et;e=new Lt({}),c=new It({}),u=new yt({props:{results:o[1]}}),d=new wt({});let G=nt(o[0].policyConflictLog),C=[];for(let n=0;n<G.length;n+=1)C[n]=dt(_t(o,G,n));i=new Dt({});let K=nt(o[0].criticalIssues),b=[];for(let n=0;n<K.length;n+=1)b[n]=vt(ht(o,K,n));return X=new Rt({props:{results:o[1]}}),{c(){t=p("div"),Q(e.$$.fragment),a=m(),Q(c.$$.fragment),N=m(),Q(u.$$.fragment),I=m(),k=p("h2"),k.textContent=O,w=m(),g=p("p"),H=Y(D),R=m(),Q(d.$$.fragment),P=m(),T=p("table"),$=p("tr"),$.innerHTML=y,S=m();for(let n=0;n<C.length;n+=1)C[n].c();M=m(),Q(i.$$.fragment),r=m(),L=p("table"),F=p("tr"),F.innerHTML=V,A=m();for(let n=0;n<b.length;n+=1)b[n].c();j=m(),Q(X.$$.fragment),this.h()},l(n){t=v(n,"DIV",{class:!0});var f=E(t);U(e.$$.fragment,f),a=h(f),U(c.$$.fragment,f),N=h(f),U(u.$$.fragment,f),I=h(f),k=v(f,"H2",{"data-svelte-h":!0}),st(k)!=="svelte-1pa6fpf"&&(k.textContent=O),w=h(f),g=v(f,"P",{});var s=E(g);H=B(s,D),s.forEach(_),R=h(f),U(d.$$.fragment,f),P=h(f),T=v(f,"TABLE",{});var q=E(T);$=v(q,"TR",{"data-svelte-h":!0}),st($)!=="svelte-118246t"&&($.innerHTML=y),S=h(q);for(let z=0;z<C.length;z+=1)C[z].l(q);q.forEach(_),M=h(f),U(i.$$.fragment,f),r=h(f),L=v(f,"TABLE",{});var at=E(L);F=v(at,"TR",{"data-svelte-h":!0}),st(F)!=="svelte-1tni5he"&&(F.innerHTML=V),A=h(at);for(let z=0;z<b.length;z+=1)b[z].l(at);at.forEach(_),j=h(f),U(X.$$.fragment,f),f.forEach(_),this.h()},h(){gt(t,"class","govuk-width-container")},m(n,f){lt(n,t,f),W(e,t,null),l(t,a),W(c,t,null),l(t,N),W(u,t,null),l(t,I),l(t,k),l(t,w),l(t,g),l(g,H),l(t,R),W(d,t,null),l(t,P),l(t,T),l(T,$),l(T,S);for(let s=0;s<C.length;s+=1)C[s]&&C[s].m(T,null);l(t,M),W(i,t,null),l(t,r),l(t,L),l(L,F),l(L,A);for(let s=0;s<b.length;s+=1)b[s]&&b[s].m(L,null);l(t,j),W(X,t,null),et=!0},p(n,[f]){if((!et||f&1)&&D!==(D=n[0].resultsReviewStatement+"")&&J(H,D),f&1){G=nt(n[0].policyConflictLog);let s;for(s=0;s<G.length;s+=1){const q=_t(n,G,s);C[s]?C[s].p(q,f):(C[s]=dt(q),C[s].c(),C[s].m(T,null))}for(;s<C.length;s+=1)C[s].d(1);C.length=G.length}if(f&1){K=nt(n[0].criticalIssues);let s;for(s=0;s<K.length;s+=1){const q=ht(n,K,s);b[s]?b[s].p(q,f):(b[s]=vt(q),b[s].c(),b[s].m(L,null))}for(;s<b.length;s+=1)b[s].d(1);b.length=K.length}},i(n){et||(Z(e.$$.fragment,n),Z(c.$$.fragment,n),Z(u.$$.fragment,n),Z(d.$$.fragment,n),Z(i.$$.fragment,n),Z(X.$$.fragment,n),et=!0)},o(n){x(e.$$.fragment,n),x(c.$$.fragment,n),x(u.$$.fragment,n),x(d.$$.fragment,n),x(i.$$.fragment,n),x(X.$$.fragment,n),et=!1},d(n){n&&_(t),tt(e),tt(c),tt(u),tt(d),ot(C,n),tt(i),ot(b,n),tt(X)}}}function Pt(o,t,e){let a;Ct(o,Tt,N=>e(0,a=N));let c=Et(a);return[a,c]}class Jt extends bt{constructor(t){super(),kt(this,t,Pt,Nt,$t,{})}}export{Jt as component};
