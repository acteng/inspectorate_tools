import{s as L,e as g,b,f as p,d as _,i as k,n as K,x as P,k as R,w as j,a as y,c as I,o as v,j as m,t as C,h as S,K as T,y as E,g as O}from"./scheduler.Cns_Y-fU.js";import{e as z}from"./Geocoder.svelte_svelte_type_style_lang.MMiTdOl1.js";import{S as V,i as q}from"./index.B1sdSzhI.js";import{s as w}from"./data.DS1m-mSN.js";import{b as B}from"./paths.D10TFQZh.js";import{s as Q}from"./index.C1vEmuPB.js";function G(i,e,n){const t=i.slice();return t[10]=e[n],t}function U(i){let e,n,t,l;function r(c,h){return c[2]-c[1]!=c[10].idx?J:H}let s=r(i),o=s(i);function f(c,h){return c[4][c[10].idx]?W:M}let u=f(i),d=u(i);return{c(){e=g("li"),n=g("div"),o.c(),t=y(),d.c(),l=y(),this.h()},l(c){e=b(c,"LI",{});var h=p(e);n=b(h,"DIV",{class:!0});var a=p(n);o.l(a),t=I(a),d.l(a),a.forEach(_),l=I(h),h.forEach(_),this.h()},h(){v(n,"class","progress-list-item govuk-font svelte-7ez7j0")},m(c,h){k(c,e,h),m(e,n),o.m(n,null),m(n,t),d.m(n,null),m(e,l)},p(c,h){s===(s=r(c))&&o?o.p(c,h):(o.d(1),o=s(c),o&&(o.c(),o.m(n,t))),u!==(u=f(c))&&(d.d(1),d=u(c),d&&(d.c(),d.m(n,null)))},d(c){c&&_(e),o.d(),d.d()}}}function F(i){let e,n,t=i[10].label+"",l,r,s,o=i[10].notes&&A(i);return{c(){e=g("div"),n=g("u"),l=C(t),r=y(),o&&o.c(),s=y(),this.h()},l(f){e=b(f,"DIV",{style:!0});var u=p(e);n=b(u,"U",{});var d=p(n);l=S(d,t),d.forEach(_),r=I(u),o&&o.l(u),s=I(u),u.forEach(_),this.h()},h(){T(e,"padding","20px")},m(f,u){k(f,e,u),m(e,n),m(n,l),m(e,r),o&&o.m(e,null),m(e,s)},p(f,u){u&1&&t!==(t=f[10].label+"")&&E(l,t),f[10].notes?o?o.p(f,u):(o=A(f),o.c(),o.m(e,s)):o&&(o.d(1),o=null)},d(f){f&&_(e),o&&o.d()}}}function H(i){let e=i[10].label+"",n;return{c(){n=C(e)},l(t){n=S(t,e)},m(t,l){k(t,n,l)},p(t,l){l&1&&e!==(e=t[10].label+"")&&E(n,e)},d(t){t&&_(n)}}}function J(i){let e,n=i[10].label+"",t,l;return{c(){e=g("a"),t=C(n),this.h()},l(r){e=b(r,"A",{href:!0});var s=p(e);t=S(s,n),s.forEach(_),this.h()},h(){v(e,"href",l=""+(B+i[3]+i[5](i[10].idx)))},m(r,s){k(r,e,s),m(e,t)},p(r,s){s&1&&n!==(n=r[10].label+"")&&E(t,n),s&9&&l!==(l=""+(B+r[3]+r[5](r[10].idx)))&&v(e,"href",l)},d(r){r&&_(e)}}}function M(i){let e,n="Incomplete";return{c(){e=g("strong"),e.textContent=n,this.h()},l(t){e=b(t,"STRONG",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1ad6z0a"&&(e.textContent=n),this.h()},h(){v(e,"class","govuk-tag govuk-tag--red svelte-7ez7j0")},m(t,l){k(t,e,l)},d(t){t&&_(e)}}}function W(i){let e,n="Done";return{c(){e=g("strong"),e.textContent=n,this.h()},l(t){e=b(t,"STRONG",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1l7fnl6"&&(e.textContent=n),this.h()},h(){v(e,"class","govuk-tag govuk-tag--green svelte-7ez7j0")},m(t,l){k(t,e,l)},d(t){t&&_(e)}}}function A(i){let e,n=i[10].notes+"",t;return{c(){e=g("p"),t=C(n)},l(l){e=b(l,"P",{});var r=p(e);t=S(r,n),r.forEach(_)},m(l,r){k(l,e,r),m(e,t)},p(l,r){r&1&&n!==(n=l[10].notes+"")&&E(t,n)},d(l){l&&_(e)}}}function D(i){let e;function n(r,s){return r[10].kind=="section"?F:U}let t=n(i),l=t(i);return{c(){l.c(),e=j()},l(r){l.l(r),e=j()},m(r,s){l.m(r,s),k(r,e,s)},p(r,s){t===(t=n(r))&&l?l.p(r,s):(l.d(1),l=t(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){r&&_(e),l.d(r)}}}function X(i){let e,n=z(N(i[0])),t=[];for(let l=0;l<n.length;l+=1)t[l]=D(G(i,n,l));return{c(){e=g("ol");for(let l=0;l<t.length;l+=1)t[l].c()},l(l){e=b(l,"OL",{});var r=p(e);for(let s=0;s<t.length;s+=1)t[s].l(r);r.forEach(_)},m(l,r){k(l,e,r);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(l,[r]){if(r&63){n=z(N(l[0]));let s;for(s=0;s<n.length;s+=1){const o=G(l,n,s);t[s]?t[s].p(o,r):(t[s]=D(o),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=n.length}},i:K,o:K,d(l){l&&_(e),P(t,l)}}}function N(i){let e=[],n=0;for(let t of i){e.push({kind:"section",label:t.section,notes:t.notes});for(let l of t.pages)e.push({kind:"page",idx:n,label:l}),n++}return e}function Y(i,e,n){let t,l;R(i,w,a=>n(7,l=a));let{sections:r}=e,{startIdx:s}=e,{currentIdx:o}=e,{scorecardKey:f}=e,{urlBase:u}=e,d=Q(r.map(a=>a.pages.length));function c(a){return(a+s).toString().padStart(2,"0")}function h(a){return Array.from(Array(d).keys()).map(x=>l[f].existingScores[x]!=""&&l[f].proposedScores[x]!="")}return i.$$set=a=>{"sections"in a&&n(0,r=a.sections),"startIdx"in a&&n(1,s=a.startIdx),"currentIdx"in a&&n(2,o=a.currentIdx),"scorecardKey"in a&&n(6,f=a.scorecardKey),"urlBase"in a&&n(3,u=a.urlBase)},i.$$.update=()=>{i.$$.dirty&128&&n(4,t=h())},[r,s,o,u,t,c,f,l]}class re extends V{constructor(e){super(),q(this,e,Y,X,L,{sections:0,startIdx:1,currentIdx:2,scorecardKey:6,urlBase:3})}}export{re as G};
