import{s as X,D as _e,i as T,n as C,f as c,k as oe,e as y,c as w,b as k,q as u,K as Te,a as I,g as N,h as m,t as H,d as L,j as U,E as ge,v as W,O as ae,P as ne,l as Ee,I as Ce,y as Pe,u as Ie,m as Ne,o as Ve,H as me,V as Ae}from"./scheduler.4ZNDCSWA.js";import{S as x,i as ee,g as ve,b as D,f as de,t as F,c as j,a as G,m as J,d as K}from"./index.xRKM1n3P.js";import{g as Be}from"./globals.D0QH3NT1.js";import{b as $}from"./paths.bO_SD0z4.js";import{g as De,a as Fe,b as Se,c as pe,d as qe}from"./index.DTnK7TZG.js";import{p as ue}from"./stores.C7b-1bAf.js";import{g as He}from"./entry.CYdCc8fO.js";import{S as Le,A as Me}from"./ServiceHeader.9uBnE3Mf.js";import"./index.CoJV-QTc.js";import{e as be}from"./each.DpHudclE.js";function ke(s,t,r){const e=s.slice();return e[3]=t[r][0],e[4]=t[r][1],e[5]=t[r][2],e}function ye(s){let t,r=be(s[0]),e=[];for(let a=0;a<r.length;a+=1)e[a]=we(ke(s,r,a));return{c(){t=y("ol");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=w(a,"OL",{class:!0});var n=k(t);for(let l=0;l<e.length;l+=1)e[l].l(n);n.forEach(c),this.h()},h(){u(t,"class","svelte-gdvse7")},m(a,n){T(a,t,n);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,null)},p(a,n){if(n&1){r=be(a[0]);let l;for(l=0;l<r.length;l+=1){const o=ke(a,r,l);e[l]?e[l].p(o,n):(e[l]=we(o),e[l].c(),e[l].m(t,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=r.length}},d(a){a&&c(t),Te(e,a)}}}function Oe(s){let t=s[4]+"",r;return{c(){r=H(t)},l(e){r=L(e,t)},m(e,a){T(e,r,a)},p(e,a){a&1&&t!==(t=e[4]+"")&&U(r,t)},d(e){e&&c(r)}}}function $e(s){let t,r=s[4]+"",e,a;return{c(){t=y("a"),e=H(r),this.h()},l(n){t=w(n,"A",{href:!0,class:!0});var l=k(t);e=L(l,r),l.forEach(c),this.h()},h(){u(t,"href",a=""+($+s[3])),u(t,"class","govuk-link--no-underline hack-no-visited-state svelte-gdvse7"),ge(t,"underline",s[5])},m(n,l){T(n,t,l),m(t,e)},p(n,l){l&1&&r!==(r=n[4]+"")&&U(e,r),l&1&&a!==(a=""+($+n[3]))&&u(t,"href",a),l&1&&ge(t,"underline",n[5])},d(n){n&&c(t)}}}function we(s){let t,r;function e(l,o){return l[3]?$e:Oe}let a=e(s),n=a(s);return{c(){t=y("li"),n.c(),r=I(),this.h()},l(l){t=w(l,"LI",{class:!0});var o=k(t);n.l(o),r=N(o),o.forEach(c),this.h()},h(){u(t,"class","svelte-gdvse7")},m(l,o){T(l,t,o),n.m(t,null),m(t,r)},p(l,o){a===(a=e(l))&&n?n.p(l,o):(n.d(1),n=a(l),n&&(n.c(),n.m(t,r)))},d(l){l&&c(t),n.d()}}}function ze(s){let t,r=s[0]&&ye(s);return{c(){r&&r.c(),t=_e()},l(e){r&&r.l(e),t=_e()},m(e,a){r&&r.m(e,a),T(e,t,a)},p(e,[a]){e[0]?r?r.p(e,a):(r=ye(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:C,o:C,d(e){e&&c(t),r&&r.d(e)}}}function Ye(s,t,r){let e,a;oe(s,ue,l=>r(2,a=l));let{routeCheckType:n}=t;return s.$$set=l=>{"routeCheckType"in l&&r(1,n=l.routeCheckType)},s.$$.update=()=>{s.$$.dirty&6&&r(0,e=De(a.url.pathname,n))},[e,n,a]}class Ze extends x{constructor(t){super(),ee(this,t,Ye,ze,X,{routeCheckType:1})}}function je(s){let t;return{c(){t=H(" ")},l(r){t=L(r," ")},m(r,e){T(r,t,e)},p:C,i:C,o:C,d(r){r&&c(t)}}}function Ge(s){let t,r;return t=new rt({props:{href:""+($+s[1][0]),label:s[1][1]}}),{c(){j(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,a){J(t,e,a),r=!0},p(e,a){const n={};a&2&&(n.href=""+($+e[1][0])),a&2&&(n.label=e[1][1]),t.$set(n)},i(e){r||(F(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){K(t,e)}}}function Je(s){let t;return{c(){t=H(" ")},l(r){t=L(r," ")},m(r,e){T(r,t,e)},p:C,i:C,o:C,d(r){r&&c(t)}}}function Ke(s){let t,r;return t=new xe({props:{href:""+($+s[0][0]),label:s[0][1]}}),{c(){j(t.$$.fragment)},l(e){G(t.$$.fragment,e)},m(e,a){J(t,e,a),r=!0},p(e,a){const n={};a&1&&(n.href=""+($+e[0][0])),a&1&&(n.label=e[0][1]),t.$set(n)},i(e){r||(F(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){K(t,e)}}}function Ue(s){let t,r,e,a,n,l,o;const _=[Ge,je],h=[];function p(f,b){return f[1]?0:1}r=p(s),e=h[r]=_[r](s);const E=[Ke,Je],v=[];function V(f,b){return f[0]?0:1}return n=V(s),l=v[n]=E[n](s),{c(){t=y("div"),e.c(),a=I(),l.c(),this.h()},l(f){t=w(f,"DIV",{style:!0});var b=k(t);e.l(b),a=N(b),l.l(b),b.forEach(c),this.h()},h(){W(t,"display","flex"),W(t,"justify-content","space-between")},m(f,b){T(f,t,b),h[r].m(t,null),m(t,a),v[n].m(t,null),o=!0},p(f,[b]){let A=r;r=p(f),r===A?h[r].p(f,b):(ve(),D(h[A],1,1,()=>{h[A]=null}),de(),e=h[r],e?e.p(f,b):(e=h[r]=_[r](f),e.c()),F(e,1),e.m(t,a));let S=n;n=V(f),n===S?v[n].p(f,b):(ve(),D(v[S],1,1,()=>{v[S]=null}),de(),l=v[n],l?l.p(f,b):(l=v[n]=E[n](f),l.c()),F(l,1),l.m(t,null))},i(f){o||(F(e),F(l),o=!0)},o(f){D(e),D(l),o=!1},d(f){f&&c(t),h[r].d(),v[n].d()}}}function Qe(s,t,r){let e,a,n,l;oe(s,ue,_=>r(4,l=_));let{routeCheckType:o}=t;return s.$$set=_=>{"routeCheckType"in _&&r(2,o=_.routeCheckType)},s.$$.update=()=>{s.$$.dirty&16&&r(3,e=l.url.pathname),s.$$.dirty&12&&r(1,a=Fe(e,o)),s.$$.dirty&12&&r(0,n=Se(e,o))},[n,a,o,e,l]}class Re extends x{constructor(t){super(),ee(this,t,Qe,Ue,X,{routeCheckType:2})}}function We(s){let t,r,e,a,n,l,o;return{c(){t=y("div"),r=y("a"),e=y("span"),a=H(s[1]),n=I(),l=ae("svg"),o=ae("path"),this.h()},l(_){t=w(_,"DIV",{class:!0});var h=k(t);r=w(h,"A",{class:!0,href:!0,rel:!0});var p=k(r);e=w(p,"SPAN",{class:!0});var E=k(e);a=L(E,s[1]),E.forEach(c),n=N(p),l=ne(p,"svg",{class:!0,xmlns:!0,height:!0,width:!0,"aria-hidden":!0,focusable:!0,viewBox:!0});var v=k(l);o=ne(v,"path",{d:!0}),k(o).forEach(c),v.forEach(c),p.forEach(c),h.forEach(c),this.h()},h(){u(e,"class","govuk-pagination__link-title"),u(o,"d","m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"),u(l,"class","govuk-pagination__icon govuk-pagination__icon--next"),u(l,"xmlns","http://www.w3.org/2000/svg"),u(l,"height","13"),u(l,"width","15"),u(l,"aria-hidden","true"),u(l,"focusable","false"),u(l,"viewBox","0 0 15 13"),u(r,"class","govuk-link govuk-pagination__link"),u(r,"href",s[0]),u(r,"rel","next"),u(t,"class","govuk-pagination__next")},m(_,h){T(_,t,h),m(t,r),m(r,e),m(e,a),m(r,n),m(r,l),m(l,o)},p(_,[h]){h&2&&U(a,_[1]),h&1&&u(r,"href",_[0])},i:C,o:C,d(_){_&&c(t)}}}function Xe(s,t,r){let{href:e}=t,{label:a}=t;return s.$$set=n=>{"href"in n&&r(0,e=n.href),"label"in n&&r(1,a=n.label)},[e,a]}class xe extends x{constructor(t){super(),ee(this,t,Xe,We,X,{href:0,label:1})}}function et(s){let t,r,e,a,n,l,o;return{c(){t=y("div"),r=y("a"),e=ae("svg"),a=ae("path"),n=I(),l=y("span"),o=H(s[1]),this.h()},l(_){t=w(_,"DIV",{class:!0});var h=k(t);r=w(h,"A",{class:!0,href:!0,rel:!0});var p=k(r);e=ne(p,"svg",{class:!0,xmlns:!0,height:!0,width:!0,"aria-hidden":!0,focusable:!0,viewBox:!0});var E=k(e);a=ne(E,"path",{d:!0}),k(a).forEach(c),E.forEach(c),n=N(p),l=w(p,"SPAN",{class:!0});var v=k(l);o=L(v,s[1]),v.forEach(c),p.forEach(c),h.forEach(c),this.h()},h(){u(a,"d","m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"),u(e,"class","govuk-pagination__icon govuk-pagination__icon--prev"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","13"),u(e,"width","15"),u(e,"aria-hidden","true"),u(e,"focusable","false"),u(e,"viewBox","0 0 15 13"),u(l,"class","govuk-pagination__link-title"),u(r,"class","govuk-link govuk-pagination__link"),u(r,"href",s[0]),u(r,"rel","prev"),u(t,"class","govuk-pagination__prev")},m(_,h){T(_,t,h),m(t,r),m(r,e),m(e,a),m(r,n),m(r,l),m(l,o)},p(_,[h]){h&2&&U(o,_[1]),h&1&&u(r,"href",_[0])},i:C,o:C,d(_){_&&c(t)}}}function tt(s,t,r){let{href:e}=t,{label:a}=t;return s.$$set=n=>{"href"in n&&r(0,e=n.href),"label"in n&&r(1,a=n.label)},[e,a]}class rt extends x{constructor(t){super(),ee(this,t,tt,et,X,{href:0,label:1})}}const lt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23000000'%3e%3cpath%20d='M160-160q-33%200-56.5-23.5T80-240v-480q0-33%2023.5-56.5T160-800h240l80%2080h320q33%200%2056.5%2023.5T880-640v400q0%2033-23.5%2056.5T800-160H160Zm0-80h640v-400H447l-80-80H160v480Zm0%200v-480%20480Z'/%3e%3c/svg%3e",{window:at}=Be;function nt(s){let t,r,e,a,n,l,o,_,h,p,E,v,V,f,b,A,S,q,g,B,z,Q=pe(s[6].url.pathname)+"",te,re,le,Y,M,se,ce;t=new Le({props:{service:s[3]}}),a=new Me({}),q=new Ze({props:{routeCheckType:s[4]}});const ie=s[10].default,P=Ee(ie,s,s[9],null);return Y=new Re({props:{routeCheckType:s[4]}}),{c(){j(t.$$.fragment),r=I(),e=y("div"),j(a.$$.fragment),n=I(),l=y("div"),o=y("img"),h=I(),p=y("a"),E=H("Manage my schemes"),V=I(),f=y("span"),b=H("You are editing: "),A=H(s[5]),S=I(),j(q.$$.fragment),g=I(),B=y("div"),z=y("div"),te=H(Q),re=I(),P&&P.c(),le=I(),j(Y.$$.fragment),this.h()},l(i){G(t.$$.fragment,i),r=N(i),e=w(i,"DIV",{class:!0});var d=k(e);G(a.$$.fragment,d),n=N(d),l=w(d,"DIV",{style:!0});var O=k(l);o=w(O,"IMG",{src:!0,alt:!0,style:!0}),h=N(O),p=w(O,"A",{href:!0});var R=k(p);E=L(R,"Manage my schemes"),R.forEach(c),V=N(O),f=w(O,"SPAN",{class:!0,style:!0});var Z=k(f);b=L(Z,"You are editing: "),A=L(Z,s[5]),Z.forEach(c),O.forEach(c),S=N(d),G(q.$$.fragment,d),d.forEach(c),g=N(i),B=w(i,"DIV",{class:!0});var fe=k(B);z=w(fe,"DIV",{class:!0});var he=k(z);te=L(he,Q),he.forEach(c),fe.forEach(c),re=N(i),P&&P.l(i),le=N(i),G(Y.$$.fragment,i),this.h()},h(){Ce(o.src,_=lt)||u(o,"src",_),u(o,"alt","Manage my schemes"),W(o,"vertical-align","middle"),u(p,"href",v=$+"/"+s[2]),u(f,"class","govuk-body"),W(f,"margin-left","8px"),W(l,"margin-bottom","30px"),u(e,"class","govuk-width-container"),u(z,"class","govuk-heading-l"),u(B,"class","govuk-width-container")},m(i,d){J(t,i,d),T(i,r,d),T(i,e,d),J(a,e,null),m(e,n),m(e,l),m(l,o),m(l,h),m(l,p),m(p,E),m(l,V),m(l,f),m(f,b),m(f,A),m(e,S),J(q,e,null),T(i,g,d),T(i,B,d),m(B,z),m(z,te),T(i,re,d),P&&P.m(i,d),T(i,le,d),J(Y,i,d),M=!0,se||(ce=Pe(at,"storage",s[7]),se=!0)},p(i,[d]){const O={};d&8&&(O.service=i[3]),t.$set(O),(!M||d&4&&v!==(v=$+"/"+i[2]))&&u(p,"href",v),(!M||d&32)&&U(A,i[5]);const R={};d&16&&(R.routeCheckType=i[4]),q.$set(R),(!M||d&64)&&Q!==(Q=pe(i[6].url.pathname)+"")&&U(te,Q),P&&P.p&&(!M||d&512)&&Ie(P,ie,i,i[9],M?Ve(ie,i[9],d,null):Ne(i[9]),null);const Z={};d&16&&(Z.routeCheckType=i[4]),Y.$set(Z)},i(i){M||(F(t.$$.fragment,i),F(a.$$.fragment,i),F(q.$$.fragment,i),F(P,i),F(Y.$$.fragment,i),M=!0)},o(i){D(t.$$.fragment,i),D(a.$$.fragment,i),D(q.$$.fragment,i),D(P,i),D(Y.$$.fragment,i),M=!1},d(i){i&&(c(r),c(e),c(g),c(B),c(re),c(le)),K(t,i),K(a),K(q),P&&P.d(i),K(Y,i),se=!1,ce()}}}function st(s,t,r){let e,a=C,n=()=>(a(),a=me(V,g=>r(5,e=g)),V),l,o=C,_=()=>(o(),o=me(v,g=>r(11,l=g)),v),h;oe(s,ue,g=>r(6,h=g)),s.$$.on_destroy.push(()=>a()),s.$$.on_destroy.push(()=>o());let{$$slots:p={},$$scope:E}=t,{state:v}=t;_();let{currentFile:V}=t;n();let{files:f}=t,{tool:b}=t,{service:A}=t,{routeCheckType:S}=t;function q(g){let B=f.key(e);if(B==g.key)if(g.newValue)try{console.log(`${B} changed in another tab; applying the data here`),Ae(v,l=JSON.parse(g.newValue),l)}catch(z){console.error(`${B} changed in another tab, but the new value is broken: ${z}`)}else window.alert(`You deleted ${e} from another tab. If you continue editing it here, it'll be saved again.`)}return s.$$set=g=>{"state"in g&&_(r(0,v=g.state)),"currentFile"in g&&n(r(1,V=g.currentFile)),"files"in g&&r(8,f=g.files),"tool"in g&&r(2,b=g.tool),"service"in g&&r(3,A=g.service),"routeCheckType"in g&&r(4,S=g.routeCheckType),"$$scope"in g&&r(9,E=g.$$scope)},s.$$.update=()=>{s.$$.dirty&100&&e==""&&qe(h.url.pathname)!=`/${b}`&&(console.log("On a content page without any file loaded; redirecting"),He(`${$}/${b}`))},[v,V,b,A,S,e,h,q,f,E,p]}class dt extends x{constructor(t){super(),ee(this,t,st,nt,X,{state:0,currentFile:1,files:8,tool:2,service:3,routeCheckType:4})}}export{dt as T};
