import{s as K,l as ue,e as L,a as D,c as C,b as T,g as A,f as h,p as w,q as J,i as k,h as S,w as E,u as fe,r as ce,v as me,A as ge,E as He,a9 as Ye,k as G,y as x,G as V,m as de,z as he,n as be,x as z,H as Je,t as I,d as B,a6 as Ge,a8 as Oe,aa as ve,ab as ae,Y as Ze,ac as Qe,F as we,j as Xe}from"./scheduler.NGc5rx4B.js";import{S as W,i as q,t as y,b as v,c as O,a as R,m as M,d as U,e as ke,g as ee,f as te}from"./index.CXr-pTxM.js";import{e as Se}from"./each.C0Oa3ZQW.js";import{C as $e}from"./CollapsibleCard.CecXaQdy.js";import{S as Re}from"./SecondaryButton.DY728Lpc.js";import{S as xe}from"./Select.D8aEkSC9.js";/* empty css                                            */import{m as se,n as et,o as tt,p as nt,a as lt,c as ot}from"./index.BI6F_H-A.js";import{g as Me}from"./globals.D0QH3NT1.js";import{v as at}from"./v4.D8aEg3BZ.js";import{R as st}from"./Radio.lfhmTBy6.js";import{B as it}from"./ClickableCard.Dy0Gc3SI.js";import{D as rt}from"./DefaultButton.HZ4Q0i-3.js";import{F as ut}from"./FormElement.jJaYNAAh.js";import{W as ft}from"./WarningButton.B2__z57s.js";import{w as Z}from"./entry.0gvvLo-2.js";const ct=l=>({}),Le=l=>({});function mt(l){let e,t,o,n,a,i,u,f,m;const s=l[5].default,c=ue(s,l,l[4],null),_=l[5].right,r=ue(_,l,l[4],Le);return{c(){e=L("div"),t=L("input"),o=D(),n=L("label"),c&&c.c(),a=D(),i=L("span"),r&&r.c(),this.h()},l(d){e=C(d,"DIV",{class:!0,style:!0});var p=T(e);t=C(p,"INPUT",{type:!0,class:!0,id:!0}),o=A(p),n=C(p,"LABEL",{class:!0,for:!0,title:!0});var b=T(n);c&&c.l(b),b.forEach(h),a=A(p),i=C(p,"SPAN",{style:!0});var P=T(i);r&&r.l(P),P.forEach(h),p.forEach(h),this.h()},h(){w(t,"type","checkbox"),w(t,"class","govuk-checkboxes__input"),w(t,"id",l[3]),w(n,"class","govuk-label govuk-checkboxes__label"),w(n,"for",l[3]),w(n,"title",l[1]),J(i,"float","right"),w(e,"class","govuk-checkboxes__item"),w(e,"style",l[2])},m(d,p){k(d,e,p),S(e,t),t.checked=l[0],S(e,o),S(e,n),c&&c.m(n,null),S(e,a),S(e,i),r&&r.m(i,null),u=!0,f||(m=[E(t,"change",l[7]),E(t,"change",l[6])],f=!0)},p(d,[p]){p&1&&(t.checked=d[0]),c&&c.p&&(!u||p&16)&&fe(c,s,d,d[4],u?me(s,d[4],p,null):ce(d[4]),null),(!u||p&2)&&w(n,"title",d[1]),r&&r.p&&(!u||p&16)&&fe(r,_,d,d[4],u?me(_,d[4],p,ct):ce(d[4]),Le)},i(d){u||(y(c,d),y(r,d),u=!0)},o(d){v(c,d),v(r,d),u=!1},d(d){d&&h(e),c&&c.d(d),r&&r.d(d),f=!1,ge(m)}}}function dt(l,e,t){let{$$slots:o={},$$scope:n}=e;const a=Ye(o);let{checked:i}=e,{hint:u=null}=e,m=a.right!==void 0?"float: none":"",s=at();function c(r){He.call(this,l,r)}function _(){i=this.checked,t(0,i)}return l.$$set=r=>{"checked"in r&&t(0,i=r.checked),"hint"in r&&t(1,u=r.hint),"$$scope"in r&&t(4,n=r.$$scope)},[i,u,m,s,n,o,c,_]}class _t extends W{constructor(e){super(),q(this,e,dt,mt,K,{checked:0,hint:1})}}function Ce(l,e,t){const o=l.slice();return o[6]=e[t][0],o[7]=e[t][1],o}function pt(l){let e;return{c(){e=I("disabled")},l(t){e=B(t,"disabled")},m(t,o){k(t,e,o)},d(t){t&&h(e)}}}function gt(l){let e;return{c(){e=I("enabled")},l(t){e=B(t,"enabled")},m(t,o){k(t,e,o)},d(t){t&&h(e)}}}function ht(l){let e,t=l[7]+"",o,n;return{c(){e=I("Set "),o=I(t),n=I(` API key
      `)},l(a){e=B(a,"Set "),o=B(a,t),n=B(a,` API key
      `)},m(a,i){k(a,e,i),k(a,o,i),k(a,n,i)},p:be,d(a){a&&(h(e),h(o),h(n))}}}function Ee(l){let e,t,o=l[7]+"",n,a,i,u,f;function m(r,d){return pe(r[6])?gt:pt}let c=m(l)(l);function _(){return l[5](l[6])}return u=new Re({props:{$$slots:{default:[ht]},$$scope:{ctx:l}}}),u.$on("click",_),{c(){e=L("p"),t=L("u"),n=I(o),a=I(`
        : `),c.c(),i=D(),O(u.$$.fragment)},l(r){e=C(r,"P",{});var d=T(e);t=C(d,"U",{});var p=T(t);n=B(p,o),p.forEach(h),a=B(d,`
        : `),c.l(d),d.forEach(h),i=A(r),R(u.$$.fragment,r)},m(r,d){k(r,e,d),S(e,t),S(t,n),S(e,a),c.m(e,null),k(r,i,d),M(u,r,d),f=!0},p(r,d){l=r;const p={};d&1024&&(p.$$scope={dirty:d,ctx:l}),u.$set(p)},i(r){f||(y(u.$$.fragment,r),f=!0)},o(r){v(u.$$.fragment,r),f=!1},d(r){r&&(h(e),h(i)),c.d(),U(u,r)}}}function Ie(l){let e,t,o=Se([[$,"Bluesky"],[_e,"Ordnance Survey"]]),n=[];for(let i=0;i<2;i+=1)n[i]=Ee(Ce(l,o,i));const a=i=>v(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<2;i+=1)n[i].c();e=V()},l(i){for(let u=0;u<2;u+=1)n[u].l(i);e=V()},m(i,u){for(let f=0;f<2;f+=1)n[f]&&n[f].m(i,u);k(i,e,u),t=!0},p(i,u){if(u&8){o=Se([[$,"Bluesky"],[_e,"Ordnance Survey"]]);let f;for(f=0;f<2;f+=1){const m=Ce(i,o,f);n[f]?(n[f].p(m,u),y(n[f],1)):(n[f]=Ee(m),n[f].c(),y(n[f],1),n[f].m(e.parentNode,e))}for(ee(),f=2;f<2;f+=1)a(f);te()}},i(i){if(!t){for(let u=0;u<2;u+=1)y(n[u]);t=!0}},o(i){n=n.filter(Boolean);for(let u=0;u<2;u+=1)v(n[u]);t=!1},d(i){i&&h(e),Je(n,i)}}}function bt(l){let e,t,o,n,a=`If you have internal access, you can opt into higher-quality satellite
    imagery.`,i,u=l[0],f,m;function s(r){l[4](r)}let c={label:"Basemap",choices:l[1]};l[2]!==void 0&&(c.value=l[2]),e=new xe({props:c}),x.push(()=>ke(e,"value",s));let _=Ie(l);return{c(){O(e.$$.fragment),o=D(),n=L("p"),n.textContent=a,i=D(),_.c(),f=V()},l(r){R(e.$$.fragment,r),o=A(r),n=C(r,"P",{"data-svelte-h":!0}),de(n)!=="svelte-itr0ad"&&(n.textContent=a),i=A(r),_.l(r),f=V()},m(r,d){M(e,r,d),k(r,o,d),k(r,n,d),k(r,i,d),_.m(r,d),k(r,f,d),m=!0},p(r,d){const p={};d&2&&(p.choices=r[1]),!t&&d&4&&(t=!0,p.value=r[2],he(()=>t=!1)),e.$set(p),d&1&&K(u,u=r[0])?(ee(),v(_,1,1,be),te(),_=Ie(r),_.c(),y(_,1),_.m(f.parentNode,f)):_.p(r,d)},i(r){m||(y(e.$$.fragment,r),y(_),m=!0)},o(r){v(e.$$.fragment,r),v(_),m=!1},d(r){r&&(h(o),h(n),h(i),h(f)),U(e,r),_.d(r)}}}function kt(l){let e,t;return e=new $e({props:{label:"Basemap",$$slots:{default:[bt]},$$scope:{ctx:l}}}),{c(){O(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,n){M(e,o,n),t=!0},p(o,[n]){const a={};n&1031&&(a.$$scope={dirty:n,ctx:o}),e.$set(a)},i(o){t||(y(e.$$.fragment,o),t=!0)},o(o){v(e.$$.fragment,o),t=!1},d(o){U(e,o)}}}let $="bluesky-api-key",_e="os-api-key";function pe(l){let e=window.localStorage.getItem(l);return e!=null&&e.length>0}function Be(){let l=[];return pe($)&&l.push(["bluesky","Bluesky Satellite (12.5cm)"]),pe(_e)&&l.push(["os-road","OS Road"]),l.push(["maptiler-hybrid","MapTiler Satellite"]),l.push(["maptiler-streets","MapTiler Streets"]),l.push(["maptiler-dataviz","MapTiler Dataviz"]),l.push(["maptiler-uk-openzoomstack-light","OS Open Zoomstack"]),l}function yt(l,e,t){let o;G(l,se,m=>t(2,o=m));let n=0;function a(m){let s=window.prompt("Enter the API key provided to you",window.localStorage.getItem(m)||"");window.localStorage.setItem(m,s||""),t(1,i=Be()),t(0,n+=1),s&&s.length>0&&z(se,o=m==$?"bluesky":"os-road",o)}let i=Be();function u(m){o=m,se.set(o)}return[n,i,o,a,u,m=>a(m)]}class nn extends W{constructor(e){super(),q(this,e,yt,kt,K,{})}}function vt(l,e,t){let o;const n=Ge();let{layer:a=void 0}=e;const{map:i}=et();G(l,i,s=>t(2,o=s));function u(s){n(s.type,{...s,map:i})}const f=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","contextmenu","mouseover","mouseout"],m=["click","dblclick","contextmenu","mousemove","movestart","moveend","zoomstart","zoom","zoomend"];return Oe(()=>{if(o)if(a)for(const s of f)o.off(s,a,u);else for(const s of m)o.off(s,u)}),l.$$set=s=>{"layer"in s&&t(1,a=s.layer)},l.$$.update=()=>{if(l.$$.dirty&6&&o)if(a)for(const s of f)o.on(s,a,u);else for(const s of m)o.on(s,u)},[i,a,o]}class ln extends W{constructor(e){super(),q(this,e,vt,null,K,{layer:1})}}const wt=l=>({marker:l&8}),Pe=l=>({marker:l[3]});function St(l){let e,t,o,n,a,i,u;const f=l[19].default,m=ue(f,l,l[18],Pe);return{c(){e=L("div"),m&&m.c(),this.h()},l(s){e=C(s,"DIV",{tabindex:!0,role:!0});var c=T(e);m&&m.l(c),c.forEach(h),this.h()},h(){w(e,"tabindex",t=l[1]?0:void 0),w(e,"role",o=l[1]?"button":void 0),J(e,"z-index",l[2])},m(s,c){k(s,e,c),m&&m.m(e,null),a=!0,i||(u=[ve(l[7].call(null,e)),ve(n=Lt.call(null,e,l[0])),E(e,"click",ae(l[20])),E(e,"dblclick",ae(l[21])),E(e,"contextmenu",ae(l[22])),E(e,"mouseenter",l[23]),E(e,"mouseleave",l[24]),E(e,"mousemove",l[25]),E(e,"keydown",l[8])],i=!0)},p(s,[c]){m&&m.p&&(!a||c&262152)&&fe(m,f,s,s[18],a?me(f,s[18],c,wt):ce(s[18]),Pe),(!a||c&2&&t!==(t=s[1]?0:void 0))&&w(e,"tabindex",t),(!a||c&2&&o!==(o=s[1]?"button":void 0))&&w(e,"role",o),n&&Ze(n.update)&&c&1&&n.update.call(null,s[0]),c&4&&J(e,"z-index",s[2])},i(s){a||(y(m,s),a=!0)},o(s){v(m,s),a=!1},d(s){s&&h(e),m&&m.d(s),i=!1,ge(u)}}}function Lt(l,e){const t=l.className;function o(n){n?l.className=`${t} ${n}`:l.className=t}return o(e),{update:o}}function Ct(l,e,t){let o,n,a,{$$slots:i={},$$scope:u}=e,{marker:f=void 0}=e,{lngLat:m}=e,{class:s=void 0}=e,{interactive:c=!0}=e,{asButton:_=!1}=e,{draggable:r=!1}=e,{feature:d=null}=e,{offset:p=void 0}=e,{zIndex:b=void 0}=e,{rotation:P=0}=e,{opacity:F=1}=e;const ne=Ge(),{map:Q,layerEvent:le,self:oe}=tt();G(l,Q,g=>t(27,a=g)),G(l,le,g=>t(26,o=g)),G(l,oe,g=>t(3,n=g));function Ue(g){z(oe,n=new nt.Marker({element:g,rotation:P,draggable:r,offset:p,opacity:F.toString()}).setLngLat(m).addTo(a),n),t(11,f=n);const j=()=>N("dragstart"),H=()=>{ye(),N("drag")},Y=()=>{ye(),N("dragend")};return r&&(n.on("dragstart",j),n.on("drag",H),n.on("dragend",Y)),{destroy(){r&&(n==null||n.off("dragstart",j),n==null||n.off("drag",H),n==null||n.off("dragend",Y)),t(11,f=void 0),n==null||n.remove()}}}function ye(){let g=n==null?void 0:n.getLngLat();g&&(Array.isArray(m)?t(10,m=[g.lng,g.lat]):m&&"lon"in m?t(10,m={lon:g.lng,lat:g.lat}):t(10,m=g))}function Te(g){g.key===" "&&(g.preventDefault(),g.stopPropagation(),N("click"))}function N(g){if(!c)return;let j=n==null?void 0:n.getLngLat();if(!j)return;const H=[j.lng,j.lat];let Y={map:a,marker:n,lngLat:H,features:[{type:"Feature",properties:(d==null?void 0:d.properties)??{},geometry:{type:"Point",coordinates:H}}]};z(le,o={...Y,layerType:"marker",type:g},o),ne(g,Y)}const Ve=()=>N("click"),Ke=()=>N("dblclick"),Fe=()=>N("contextmenu"),je=g=>{N("mouseenter")},We=()=>{N("mouseleave")},qe=()=>N("mousemove");return l.$$set=g=>{"marker"in g&&t(11,f=g.marker),"lngLat"in g&&t(10,m=g.lngLat),"class"in g&&t(0,s=g.class),"interactive"in g&&t(12,c=g.interactive),"asButton"in g&&t(1,_=g.asButton),"draggable"in g&&t(13,r=g.draggable),"feature"in g&&t(14,d=g.feature),"offset"in g&&t(15,p=g.offset),"zIndex"in g&&t(2,b=g.zIndex),"rotation"in g&&t(16,P=g.rotation),"opacity"in g&&t(17,F=g.opacity),"$$scope"in g&&t(18,u=g.$$scope)},l.$$.update=()=>{l.$$.dirty&1032&&(n==null||n.setLngLat(m)),l.$$.dirty&32776&&(n==null||n.setOffset(p??[0,0])),l.$$.dirty&65544&&(n==null||n.setRotation(P)),l.$$.dirty&131080&&(n==null||n.setOpacity(F.toString()))},[s,_,b,n,Q,le,oe,Ue,Te,N,m,f,c,r,d,p,P,F,u,i,Ve,Ke,Fe,je,We,qe]}class on extends W{constructor(e){super(),q(this,e,Ct,St,K,{marker:11,lngLat:10,class:0,interactive:12,asButton:1,draggable:13,feature:14,offset:15,zIndex:2,rotation:16,opacity:17})}}const{window:Et}=Me;function It(l){let e;return{c(){e=I("StreetView")},l(t){e=B(t,"StreetView")},m(t,o){k(t,e,o)},d(t){t&&h(e)}}}function Ne(l){let e,t,o;function n(i){l[5](i)}let a={legend:"Source",choices:[["google","Google StreetView"],["bing","Bing Streetside"]],inlineSmall:!0};return l[1]!==void 0&&(a.value=l[1]),e=new st({props:a}),x.push(()=>ke(e,"value",n)),{c(){O(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,u){M(e,i,u),o=!0},p(i,u){const f={};!t&&u&2&&(t=!0,f.value=i[1],he(()=>t=!1)),e.$set(f)},i(i){o||(y(e.$$.fragment,i),o=!0)},o(i){v(e.$$.fragment,i),o=!1},d(i){U(e,i)}}}function Bt(l){let e,t,o,n,a,i,u;function f(c){l[4](c)}let m={$$slots:{default:[It]},$$scope:{ctx:l}};l[0]!==void 0&&(m.checked=l[0]),e=new _t({props:m}),x.push(()=>ke(e,"checked",f));let s=l[0]&&Ne(l);return{c(){O(e.$$.fragment),o=D(),s&&s.c(),n=V()},l(c){R(e.$$.fragment,c),o=A(c),s&&s.l(c),n=V()},m(c,_){M(e,c,_),k(c,o,_),s&&s.m(c,_),k(c,n,_),a=!0,i||(u=E(Et,"keydown",l[2]),i=!0)},p(c,[_]){const r={};_&512&&(r.$$scope={dirty:_,ctx:c}),!t&&_&1&&(t=!0,r.checked=c[0],he(()=>t=!1)),e.$set(r),c[0]?s?(s.p(c,_),_&1&&y(s,1)):(s=Ne(c),s.c(),y(s,1),s.m(n.parentNode,n)):s&&(ee(),v(s,1,1,()=>{s=null}),te())},i(c){a||(y(e.$$.fragment,c),y(s),a=!0)},o(c){v(e.$$.fragment,c),v(s),a=!1},d(c){c&&(h(o),h(n)),U(e,c),s&&s.d(c),i=!1,u()}}}function Pt(l,e,t){let{map:o}=e,{enabled:n=!1}=e,a="google";function i(){o&&(o.on("click",f),o.getCanvas().style.cursor="zoom-in")}function u(){o&&(o.off("click",f),o.getCanvas().style.cursor="auto")}Oe(u);function f(_){window.open(a=="google"?lt(_.lngLat.toArray()):ot(_.lngLat.toArray()),"_blank"),t(0,n=!1)}function m(_){n&&_.key=="Escape"&&t(0,n=!1)}function s(_){n=_,t(0,n)}function c(_){a=_,t(1,a)}return l.$$set=_=>{"map"in _&&t(3,o=_.map),"enabled"in _&&t(0,n=_.enabled)},l.$$.update=()=>{l.$$.dirty&1&&(n?i():u())},[n,a,m,o,s,c]}class an extends W{constructor(e){super(),q(this,e,Pt,Bt,K,{map:3,enabled:0})}}const X=Z(!1),ie=Z(null),re=Z(100),ze=Z({lng:0,lat:0}),De=Z({lng:0,lat:0}),{window:Nt}=Me;function zt(l){let e,t;return e=new Re({props:{$$slots:{default:[At]},$$scope:{ctx:l}}}),e.$on("click",l[10]),{c(){O(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,n){M(e,o,n),t=!0},p(o,n){const a={};n&8192&&(a.$$scope={dirty:n,ctx:o}),e.$set(a)},i(o){t||(y(e.$$.fragment,o),t=!0)},o(o){v(e.$$.fragment,o),t=!1},d(o){U(e,o)}}}function Dt(l){let e,t,o="Georeference an image",n,a,i,u,f,m,s,c=`Note this image isn't saved as part of this scheme. When you close this
      page, it'll be lost.`,_;a=new it({props:{$$slots:{default:[Rt]},$$scope:{ctx:l}}}),u=new ut({props:{label:"Load an image",id:"load-image",$$slots:{default:[Mt]},$$scope:{ctx:l}}});let r=l[3]&&Ae(l);return{c(){e=L("div"),t=L("h2"),t.textContent=o,n=D(),O(a.$$.fragment),i=D(),O(u.$$.fragment),f=D(),r&&r.c(),m=D(),s=L("p"),s.textContent=c,this.h()},l(d){e=C(d,"DIV",{style:!0});var p=T(e);t=C(p,"H2",{"data-svelte-h":!0}),de(t)!=="svelte-fociiu"&&(t.textContent=o),n=A(p),R(a.$$.fragment,p),i=A(p),R(u.$$.fragment,p),f=A(p),r&&r.l(p),m=A(p),s=C(p,"P",{"data-svelte-h":!0}),de(s)!=="svelte-d8uklv"&&(s.textContent=c),p.forEach(h),this.h()},h(){J(e,"border","1px solid black"),J(e,"padding","4px")},m(d,p){k(d,e,p),S(e,t),S(e,n),M(a,e,null),S(e,i),M(u,e,null),S(e,f),r&&r.m(e,null),S(e,m),S(e,s),_=!0},p(d,p){const b={};p&8202&&(b.$$scope={dirty:p,ctx:d}),a.$set(b);const P={};p&8193&&(P.$$scope={dirty:p,ctx:d}),u.$set(P),d[3]?r?r.p(d,p):(r=Ae(d),r.c(),r.m(e,m)):r&&(r.d(1),r=null)},i(d){_||(y(a.$$.fragment,d),y(u.$$.fragment,d),_=!0)},o(d){v(a.$$.fragment,d),v(u.$$.fragment,d),_=!1},d(d){d&&h(e),U(a),U(u),r&&r.d()}}}function At(l){let e;return{c(){e=I("Georeference an image")},l(t){e=B(t,"Georeference an image")},m(t,o){k(t,e,o)},d(t){t&&h(e)}}}function Gt(l){let e;return{c(){e=I("Save")},l(t){e=B(t,"Save")},m(t,o){k(t,e,o)},d(t){t&&h(e)}}}function Ot(l){let e;return{c(){e=I("Delete")},l(t){e=B(t,"Delete")},m(t,o){k(t,e,o)},d(t){t&&h(e)}}}function Rt(l){let e,t,o,n;return e=new rt({props:{$$slots:{default:[Gt]},$$scope:{ctx:l}}}),e.$on("click",l[7]),o=new ft({props:{disabled:!l[3],$$slots:{default:[Ot]},$$scope:{ctx:l}}}),o.$on("click",l[5]),{c(){O(e.$$.fragment),t=D(),O(o.$$.fragment)},l(a){R(e.$$.fragment,a),t=A(a),R(o.$$.fragment,a)},m(a,i){M(e,a,i),k(a,t,i),M(o,a,i),n=!0},p(a,i){const u={};i&8192&&(u.$$scope={dirty:i,ctx:a}),e.$set(u);const f={};i&8&&(f.disabled=!a[3]),i&8192&&(f.$$scope={dirty:i,ctx:a}),o.$set(f)},i(a){n||(y(e.$$.fragment,a),y(o.$$.fragment,a),n=!0)},o(a){v(e.$$.fragment,a),v(o.$$.fragment,a),n=!1},d(a){a&&h(t),U(e,a),U(o,a)}}}function Mt(l){let e,t,o;return{c(){e=L("input"),this.h()},l(n){e=C(n,"INPUT",{class:!0,id:!0,type:!0}),this.h()},h(){w(e,"class","govuk-file-upload"),w(e,"id","load-image"),w(e,"type","file")},m(n,a){k(n,e,a),l[8](e),t||(o=E(e,"change",l[4]),t=!0)},p:be,d(n){n&&h(e),l[8](null),t=!1,o()}}}function Ae(l){let e,t,o,n,a,i,u,f;return{c(){e=L("div"),t=L("label"),o=L("input"),n=I(`
          Opacity: `),a=I(l[2]),i=I("%"),this.h()},l(m){e=C(m,"DIV",{});var s=T(e);t=C(s,"LABEL",{});var c=T(t);o=C(c,"INPUT",{type:!0,min:!0,max:!0}),n=B(c,`
          Opacity: `),a=B(c,l[2]),i=B(c,"%"),c.forEach(h),s.forEach(h),this.h()},h(){w(o,"type","range"),w(o,"min","0"),w(o,"max","100")},m(m,s){k(m,e,s),S(e,t),S(t,o),we(o,l[2]),S(t,n),S(t,a),S(t,i),u||(f=[E(o,"change",l[9]),E(o,"input",l[9])],u=!0)},p(m,s){s&4&&we(o,m[2]),s&4&&Xe(a,m[2])},d(m){m&&h(e),u=!1,ge(f)}}}function Ut(l){let e,t,o,n,a,i;const u=[Dt,zt],f=[];function m(s,c){return s[1]?0:1}return e=m(l),t=f[e]=u[e](l),{c(){t.c(),o=V()},l(s){t.l(s),o=V()},m(s,c){f[e].m(s,c),k(s,o,c),n=!0,a||(i=E(Nt,"keydown",l[6]),a=!0)},p(s,[c]){let _=e;e=m(s),e===_?f[e].p(s,c):(ee(),v(f[_],1,1,()=>{f[_]=null}),te(),t=f[e],t?t.p(s,c):(t=f[e]=u[e](s),t.c()),y(t,1),t.m(o.parentNode,o))},i(s){n||(y(t),n=!0)},o(s){v(t),n=!1},d(s){s&&h(o),f[e].d(s),a=!1,i()}}}function Tt(l,e,t){let o,n,a,i,u;G(l,X,b=>t(1,o=b)),G(l,re,b=>t(2,n=b)),G(l,ie,b=>t(3,a=b)),G(l,De,b=>t(11,i=b)),G(l,ze,b=>t(12,u=b));let f;async function m(b){s();let P=await f.files[0].arrayBuffer(),F=new Blob([new Uint8Array(P)]);z(ie,a=URL.createObjectURL(F),a),z(ze,u={lng:0,lat:0},u),z(De,i={lng:0,lat:0},i);let ne=f.files[0].name.toLowerCase();[".gif",".jpg",".jpeg",".png"].some(Q=>ne.endsWith(Q))||window.alert("You can only georeference image files (GIF, JPEG, PNG). If you don't see anything on the map, try a different file type.")}function s(){z(ie,a=null,a),z(re,n=100,n)}function c(b){o&&b.key=="Escape"&&(b.stopPropagation(),z(X,o=!1,o))}const _=()=>z(X,o=!1,o);function r(b){x[b?"unshift":"push"](()=>{f=b,t(0,f)})}function d(){n=Qe(this.value),re.set(n)}return[f,o,n,a,m,s,c,_,r,d,()=>z(X,o=!0,o)]}class sn extends W{constructor(e){super(),q(this,e,Tt,Ut,K,{})}}export{nn as B,_t as C,sn as G,ln as M,an as S,on as a,De as b,ie as i,re as o,X as s,ze as t};
