import{s as Tt,e as $,t as W,a as h,c as p,b as D,d as Y,f as _,g as k,q as K,i as v,h as o,j as Z,n as x,v as vt,p as N,k as Mt}from"../chunks/scheduler.4ZNDCSWA.js";import{S as Pt,i as Rt,c as H,a as T,m as P,b as C,f as Et,t as S,d as R,g as Nt}from"../chunks/index.xRKM1n3P.js";import{b as J}from"../chunks/paths.BExgzWWH.js";import{c as Ot,s as It,e as At}from"../chunks/data.B6o-tUo9.js";import"../chunks/index.CpFwbNez.js";import"../chunks/index.J3fpD13p.js";import"../chunks/entry.BnU2N3T-.js";import{E as jt}from"../chunks/ExportFile.BpOzRX6u.js";import{C as qt}from"../chunks/ConvertToXlsx.BVh1ggOC.js";function Ft(s){let t,r;return{c(){t=$("span"),r=W(s[2]),this.h()},l(e){t=p(e,"SPAN",{style:!0});var l=D(t);r=Y(l,s[2]),l.forEach(_),this.h()},h(){vt(t,"float","right")},m(e,l){v(e,t,l),o(t,r)},p(e,l){l&4&&Z(r,e[2])},d(e){e&&_(t)}}}function Jt(s){let t,r;return{c(){t=$("strong"),r=W(s[2]),this.h()},l(e){t=p(e,"STRONG",{class:!0,style:!0});var l=D(t);r=Y(l,s[2]),l.forEach(_),this.h()},h(){K(t,"class","govuk-tag govuk-tag--light-blue"),vt(t,"float","right")},m(e,l){v(e,t,l),o(t,r)},p(e,l){l&4&&Z(r,e[2])},d(e){e&&_(t)}}}function xt(s){let t,r;return{c(){t=$("strong"),r=W(s[2]),this.h()},l(e){t=p(e,"STRONG",{class:!0,style:!0});var l=D(t);r=Y(l,s[2]),l.forEach(_),this.h()},h(){K(t,"class","govuk-tag govuk-tag--blue"),vt(t,"float","right")},m(e,l){v(e,t,l),o(t,r)},p(e,l){l&4&&Z(r,e[2])},d(e){e&&_(t)}}}function Dt(s){let t,r,e,l,a,u,n;function b(c,g){if(c[2]=="Not yet started")return xt;if(c[2]=="In progress")return Jt;if(c[2]=="Completed")return Ft}let d=b(s),i=d&&d(s);return{c(){t=$("li"),r=$("a"),e=W(s[1]),a=h(),i&&i.c(),u=h(),n=$("hr"),this.h()},l(c){t=p(c,"LI",{});var g=D(t);r=p(g,"A",{href:!0});var G=D(r);e=Y(G,s[1]),G.forEach(_),a=k(g),i&&i.l(g),g.forEach(_),u=k(c),n=p(c,"HR",{}),this.h()},h(){K(r,"href",l=J+"/route_check/"+s[0])},m(c,g){v(c,t,g),o(t,r),o(r,e),o(t,a),i&&i.m(t,null),v(c,u,g),v(c,n,g)},p(c,[g]){g&2&&Z(e,c[1]),g&1&&l!==(l=J+"/route_check/"+c[0])&&K(r,"href",l),d===(d=b(c))&&i?i.p(c,g):(i&&i.d(1),i=d&&d(c),i&&(i.c(),i.m(t,null)))},i:x,o:x,d(c){c&&(_(t),_(u),_(n)),i&&i.d()}}}function Gt(s,t,r){let{link:e}=t,{title:l}=t,{taskStatus:a}=t;return s.$$set=u=>{"link"in u&&r(0,e=u.link),"title"in u&&r(1,l=u.title),"taskStatus"in u&&r(2,a=u.taskStatus)},[e,l,a]}class I extends Pt{constructor(t){super(),Rt(this,t,Gt,Dt,Tt,{link:0,title:1,taskStatus:2})}}function Vt(s){let t,r;return t=new qt({}),{c(){H(t.$$.fragment)},l(e){T(t.$$.fragment,e)},m(e,l){P(t,e,l),r=!0},i(e){r||(S(t.$$.fragment,e),r=!0)},o(e){C(t.$$.fragment,e),r=!1},d(e){R(t,e)}}}function Xt(s){let t,r="Street/Path Check",e,l,a,u,n="Street/Path Placemaking Check",b,d;return{c(){t=$("li"),t.textContent=r,e=h(),l=$("hr"),a=h(),u=$("li"),u.textContent=n,b=h(),d=$("hr")},l(i){t=p(i,"LI",{"data-svelte-h":!0}),N(t)!=="svelte-1w9uuw3"&&(t.textContent=r),e=k(i),l=p(i,"HR",{}),a=k(i),u=p(i,"LI",{"data-svelte-h":!0}),N(u)!=="svelte-lghp9t"&&(u.textContent=n),b=k(i),d=p(i,"HR",{})},m(i,c){v(i,t,c),v(i,e,c),v(i,l,c),v(i,a,c),v(i,u,c),v(i,b,c),v(i,d,c)},p:x,i:x,o:x,d(i){i&&(_(t),_(e),_(l),_(a),_(u),_(b),_(d))}}}function zt(s){let t,r,e,l;return t=new I({props:{link:"path_check",title:"Path Check",taskStatus:s[1]("pathCheck")}}),e=new I({props:{link:"path_placemaking_check",title:"Path Placemaking Check",taskStatus:s[1]("pathPlacemakingCheck")}}),{c(){H(t.$$.fragment),r=h(),H(e.$$.fragment)},l(a){T(t.$$.fragment,a),r=k(a),T(e.$$.fragment,a)},m(a,u){P(t,a,u),v(a,r,u),P(e,a,u),l=!0},p:x,i(a){l||(S(t.$$.fragment,a),S(e.$$.fragment,a),l=!0)},o(a){C(t.$$.fragment,a),C(e.$$.fragment,a),l=!1},d(a){a&&_(r),R(t,a),R(e,a)}}}function Bt(s){let t,r,e,l;return t=new I({props:{link:"street_check",title:"Street Check",taskStatus:s[1]("streetCheck")}}),e=new I({props:{link:"street_placemaking_check",title:"Street Placemaking Check",taskStatus:s[1]("streetPlacemakingCheck")}}),{c(){H(t.$$.fragment),r=h(),H(e.$$.fragment)},l(a){T(t.$$.fragment,a),r=k(a),T(e.$$.fragment,a)},m(a,u){P(t,a,u),v(a,r,u),P(e,a,u),l=!0},p:x,i(a){l||(S(t.$$.fragment,a),S(e.$$.fragment,a),l=!0)},o(a){C(t.$$.fragment,a),C(e.$$.fragment,a),l=!1},d(a){a&&_(r),R(t,a),R(e,a)}}}function Kt(s){let t,r,e,l,a="Check what you need to do to assess the design quality of a scheme.",u,n,b,d,i,c=`<a href="${J}/route_check/overview">Overview</a>`,g,G,tt,O,et,A,rt,j,nt,q,lt,M,at,w,L,Q,F,st,V,dt=`<a href="${J}/route_check/results_summary">Results Summary</a>`,it,ft,ot,X,yt=`<a href="${J}/route_check/results_analysis">Results Further Analysis</a>`,ut,mt,ct,z,Ct=`<a href="${J}/route_check/results_export">Results Export</a>`,ht,kt,$t,B,St=`<a href="${J}/route_check/dalog">Design Assistance Log</a>`,pt,_t,U;r=new jt({props:{currentFile:Ot,state:It,$$slots:{default:[Vt]},$$scope:{ctx:s}}}),O=new I({props:{link:"summary",title:"Summary of Scheme",taskStatus:s[1]("summary")}}),A=new I({props:{link:"route_map",title:"Route Map",taskStatus:s[2](Qt)}}),j=new I({props:{link:"policy_check",title:"Policy Check",taskStatus:s[1]("policyCheck")}}),q=new I({props:{link:"safety_check",title:"Safety Check",taskStatus:s[1]("safetyCheck")}}),M=new I({props:{link:"problems_map",title:"Problem Mapping Page",taskStatus:Ht(s[0])}});const bt=[Bt,zt,Xt],E=[];function wt(m,y){return m[0].summary.checkType=="street"?0:m[0].summary.checkType=="path"?1:2}return w=wt(s),L=E[w]=bt[w](s),F=new I({props:{link:"jat_check",title:"JAT Check",taskStatus:s[1]("jat")}}),{c(){t=$("div"),H(r.$$.fragment),e=h(),l=$("p"),l.textContent=a,u=h(),n=$("ol"),b=$("hr"),d=h(),i=$("li"),i.innerHTML=c,g=h(),G=$("hr"),tt=h(),H(O.$$.fragment),et=h(),H(A.$$.fragment),rt=h(),H(j.$$.fragment),nt=h(),H(q.$$.fragment),lt=h(),H(M.$$.fragment),at=h(),L.c(),Q=h(),H(F.$$.fragment),st=h(),V=$("li"),V.innerHTML=dt,it=h(),ft=$("hr"),ot=h(),X=$("li"),X.innerHTML=yt,ut=h(),mt=$("hr"),ct=h(),z=$("li"),z.innerHTML=Ct,ht=h(),kt=$("hr"),$t=h(),B=$("li"),B.innerHTML=St,pt=h(),_t=$("hr"),this.h()},l(m){t=p(m,"DIV",{class:!0});var y=D(t);T(r.$$.fragment,y),e=k(y),l=p(y,"P",{"data-svelte-h":!0}),N(l)!=="svelte-1jelbwv"&&(l.textContent=a),u=k(y),n=p(y,"OL",{});var f=D(n);b=p(f,"HR",{}),d=k(f),i=p(f,"LI",{"data-svelte-h":!0}),N(i)!=="svelte-1p7diwk"&&(i.innerHTML=c),g=k(f),G=p(f,"HR",{}),tt=k(f),T(O.$$.fragment,f),et=k(f),T(A.$$.fragment,f),rt=k(f),T(j.$$.fragment,f),nt=k(f),T(q.$$.fragment,f),lt=k(f),T(M.$$.fragment,f),at=k(f),L.l(f),Q=k(f),T(F.$$.fragment,f),st=k(f),V=p(f,"LI",{"data-svelte-h":!0}),N(V)!=="svelte-4wea2b"&&(V.innerHTML=dt),it=k(f),ft=p(f,"HR",{}),ot=k(f),X=p(f,"LI",{"data-svelte-h":!0}),N(X)!=="svelte-1do2id5"&&(X.innerHTML=yt),ut=k(f),mt=p(f,"HR",{}),ct=k(f),z=p(f,"LI",{"data-svelte-h":!0}),N(z)!=="svelte-13e3k6x"&&(z.innerHTML=Ct),ht=k(f),kt=p(f,"HR",{}),$t=k(f),B=p(f,"LI",{"data-svelte-h":!0}),N(B)!=="svelte-155il71"&&(B.innerHTML=St),pt=k(f),_t=p(f,"HR",{}),f.forEach(_),y.forEach(_),this.h()},h(){K(t,"class","govuk-width-container")},m(m,y){v(m,t,y),P(r,t,null),o(t,e),o(t,l),o(t,u),o(t,n),o(n,b),o(n,d),o(n,i),o(n,g),o(n,G),o(n,tt),P(O,n,null),o(n,et),P(A,n,null),o(n,rt),P(j,n,null),o(n,nt),P(q,n,null),o(n,lt),P(M,n,null),o(n,at),E[w].m(n,null),o(n,Q),P(F,n,null),o(n,st),o(n,V),o(n,it),o(n,ft),o(n,ot),o(n,X),o(n,ut),o(n,mt),o(n,ct),o(n,z),o(n,ht),o(n,kt),o(n,$t),o(n,B),o(n,pt),o(n,_t),U=!0},p(m,[y]){const f={};y&16&&(f.$$scope={dirty:y,ctx:m}),r.$set(f);const Lt={};y&1&&(Lt.taskStatus=Ht(m[0])),M.$set(Lt);let gt=w;w=wt(m),w===gt?E[w].p(m,y):(Nt(),C(E[gt],1,1,()=>{E[gt]=null}),Et(),L=E[w],L?L.p(m,y):(L=E[w]=bt[w](m),L.c()),S(L,1),L.m(n,Q))},i(m){U||(S(r.$$.fragment,m),S(O.$$.fragment,m),S(A.$$.fragment,m),S(j.$$.fragment,m),S(q.$$.fragment,m),S(M.$$.fragment,m),S(L),S(F.$$.fragment,m),U=!0)},o(m){C(r.$$.fragment,m),C(O.$$.fragment,m),C(A.$$.fragment,m),C(j.$$.fragment,m),C(q.$$.fragment,m),C(M.$$.fragment,m),C(L),C(F.$$.fragment,m),U=!1},d(m){m&&_(t),R(r),R(O),R(A),R(j),R(q),R(M),E[w].d(),R(F)}}}function Ht(s){return s.policyConflictLog.length+s.criticalIssues.length==0?"Not yet started":"In progress"}const Qt=s=>s.summary.networkMap;function Ut(s,t,r){let e;Mt(s,It,n=>r(0,e=n));let l=At();function a(n){return u(b=>b[n])}function u(n){return JSON.stringify(n(e))==JSON.stringify(n(l))?"Not yet started":"In progress"}return[e,a,u]}class se extends Pt{constructor(t){super(),Rt(this,t,Ut,Kt,Tt,{})}}export{se as component};
