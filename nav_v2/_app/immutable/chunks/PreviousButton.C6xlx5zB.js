import{s as Y,l as Te,e as w,a as N,t as H,c as y,b as k,g as V,d as L,f as c,Y as Ce,q as f,v as M,i as E,h as _,z as Pe,j as U,u as Ie,m as Ne,o as Ve,k as ue,n as C,ab as me,V as Be,J as de,B as Fe,L as ee,M as te}from"./scheduler.Bxdx0f0B.js";import{S as G,i as x,c as le,a as re,m as ae,t as S,b as j,d as ne,g as pe,f as ve}from"./index.itOPPQ0R.js";import{g as qe}from"./globals.D0QH3NT1.js";import{b as z}from"./paths.OqJsD3x5.js";import{g as be,c as Ae,e as De,f as He,h as Le}from"./index.q4loiava.js";import{p as fe}from"./stores.NcgUz0oI.js";import{g as Me}from"./entry.AEjPxh57.js";import{e as ke}from"./each.BdQ2bsat.js";const Se="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23000000'%3e%3cpath%20d='M160-160q-33%200-56.5-23.5T80-240v-480q0-33%2023.5-56.5T160-800h240l80%2080h320q33%200%2056.5%2023.5T880-640v400q0%2033-23.5%2056.5T800-160H160Zm0-80h640v-400H447l-80-80H160v480Zm0%200v-480%20480Z'/%3e%3c/svg%3e",{window:je}=qe;function ze(n){let l,e,t,a,s,r,u,o,h,b,T,p,I,g,m,B,q,d,F,O,J=be(n[5].url.pathname)+"",K,Q,W,X,$,Z,A,se,ce;m=new Re({props:{routeCheckType:n[3]}});const ie=n[9].default,P=Te(ie,n,n[8],null);return Z=new We({props:{routeCheckType:n[3]}}),{c(){l=w("div"),e=w("div"),t=w("img"),s=N(),r=w("a"),u=H("Manage files"),h=N(),b=w("span"),T=H("Editing file "),p=w("u"),I=H(n[4]),g=N(),le(m.$$.fragment),B=N(),q=w("hr"),d=N(),F=w("div"),O=w("div"),K=H(J),Q=N(),P&&P.c(),W=N(),X=w("hr"),$=N(),le(Z.$$.fragment),this.h()},l(i){l=y(i,"DIV",{class:!0});var v=k(l);e=y(v,"DIV",{style:!0});var D=k(e);t=y(D,"IMG",{src:!0,alt:!0,style:!0}),s=V(D),r=y(D,"A",{href:!0});var R=k(r);u=L(R,"Manage files"),R.forEach(c),h=V(D),b=y(D,"SPAN",{class:!0,style:!0});var oe=k(b);T=L(oe,"Editing file "),p=y(oe,"U",{});var he=k(p);I=L(he,n[4]),he.forEach(c),oe.forEach(c),D.forEach(c),g=V(v),re(m.$$.fragment,v),v.forEach(c),B=V(i),q=y(i,"HR",{}),d=V(i),F=y(i,"DIV",{class:!0});var _e=k(F);O=y(_e,"DIV",{class:!0});var ge=k(O);K=L(ge,J),ge.forEach(c),_e.forEach(c),Q=V(i),P&&P.l(i),W=V(i),X=y(i,"HR",{}),$=V(i),re(Z.$$.fragment,i),this.h()},h(){Ce(t.src,a=Se)||f(t,"src",a),f(t,"alt","Manage files"),M(t,"vertical-align","middle"),f(r,"href",o=z+"/"+n[2]),f(b,"class","govuk-body"),M(b,"margin-left","8px"),M(e,"margin-bottom","30px"),f(l,"class","govuk-width-container"),f(O,"class","govuk-heading-l"),f(F,"class","govuk-width-container")},m(i,v){E(i,l,v),_(l,e),_(e,t),_(e,s),_(e,r),_(r,u),_(e,h),_(e,b),_(b,T),_(b,p),_(p,I),_(l,g),ae(m,l,null),E(i,B,v),E(i,q,v),E(i,d,v),E(i,F,v),_(F,O),_(O,K),E(i,Q,v),P&&P.m(i,v),E(i,W,v),E(i,X,v),E(i,$,v),ae(Z,i,v),A=!0,se||(ce=Pe(je,"storage",n[6]),se=!0)},p(i,[v]){(!A||v&4&&o!==(o=z+"/"+i[2]))&&f(r,"href",o),(!A||v&16)&&U(I,i[4]);const D={};v&8&&(D.routeCheckType=i[3]),m.$set(D),(!A||v&32)&&J!==(J=be(i[5].url.pathname)+"")&&U(K,J),P&&P.p&&(!A||v&256)&&Ie(P,ie,i,i[8],A?Ve(ie,i[8],v,null):Ne(i[8]),null);const R={};v&8&&(R.routeCheckType=i[3]),Z.$set(R)},i(i){A||(S(m.$$.fragment,i),S(P,i),S(Z.$$.fragment,i),A=!0)},o(i){j(m.$$.fragment,i),j(P,i),j(Z.$$.fragment,i),A=!1},d(i){i&&(c(l),c(B),c(q),c(d),c(F),c(Q),c(W),c(X),c($)),ne(m),P&&P.d(i),ne(Z,i),se=!1,ce()}}}function Oe(n,l,e){let t,a=C,s=()=>(a(),a=me(I,d=>e(4,t=d)),I),r,u=C,o=()=>(u(),u=me(p,d=>e(10,r=d)),p),h;ue(n,fe,d=>e(5,h=d)),n.$$.on_destroy.push(()=>a()),n.$$.on_destroy.push(()=>u());let{$$slots:b={},$$scope:T}=l,{state:p}=l;o();let{currentFile:I}=l;s();let{files:g}=l,{tool:m}=l,{routeCheckType:B}=l;function q(d){let F=g.key(t);if(F==d.key)if(d.newValue)try{console.log(`${F} changed in another tab; applying the data here`),Be(p,r=JSON.parse(d.newValue),r)}catch(O){console.error(`${F} changed in another tab, but the new value is broken: ${O}`)}else window.alert(`You deleted ${t} from another tab. If you continue editing it here, it'll be saved again.`)}return n.$$set=d=>{"state"in d&&o(e(0,p=d.state)),"currentFile"in d&&s(e(1,I=d.currentFile)),"files"in d&&e(7,g=d.files),"tool"in d&&e(2,m=d.tool),"routeCheckType"in d&&e(3,B=d.routeCheckType),"$$scope"in d&&e(8,T=d.$$scope)},n.$$.update=()=>{n.$$.dirty&52&&t==""&&Ae(h.url.pathname)!=`/${m}`&&(console.log("On a content page without any file loaded; redirecting"),Me(`${z}/${m}`))},[p,I,m,B,t,h,q,g,T,b]}class ht extends G{constructor(l){super(),x(this,l,Oe,ze,Y,{state:0,currentFile:1,files:7,tool:2,routeCheckType:3})}}function we(n,l,e){const t=n.slice();return t[3]=l[e],t}function ye(n){let l,e=ke(n[0]),t=[];for(let a=0;a<e.length;a+=1)t[a]=Ee(we(n,e,a));return{c(){l=w("ol");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){l=y(a,"OL",{style:!0});var s=k(l);for(let r=0;r<t.length;r+=1)t[r].l(s);s.forEach(c),this.h()},h(){M(l,"display","flex"),M(l,"justify-content","space-around"),M(l,"flex-direction","row"),M(l,"flex-wrap","wrap")},m(a,s){E(a,l,s);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(l,null)},p(a,s){if(s&1){e=ke(a[0]);let r;for(r=0;r<e.length;r+=1){const u=we(a,e,r);t[r]?t[r].p(u,s):(t[r]=Ee(u),t[r].c(),t[r].m(l,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=e.length}},d(a){a&&c(l),Fe(t,a)}}}function Ee(n){let l,e,t=n[3][1]+"",a,s,r;return{c(){l=w("li"),e=w("a"),a=H(t),r=N(),this.h()},l(u){l=y(u,"LI",{class:!0});var o=k(l);e=y(o,"A",{href:!0});var h=k(e);a=L(h,t),h.forEach(c),r=V(o),o.forEach(c),this.h()},h(){f(e,"href",s=""+(z+n[3][0])),f(l,"class","svelte-1jgkpl2")},m(u,o){E(u,l,o),_(l,e),_(e,a),_(l,r)},p(u,o){o&1&&t!==(t=u[3][1]+"")&&U(a,t),o&1&&s!==(s=""+(z+u[3][0]))&&f(e,"href",s)},d(u){u&&c(l)}}}function Ze(n){let l,e=n[0]&&ye(n);return{c(){e&&e.c(),l=de()},l(t){e&&e.l(t),l=de()},m(t,a){e&&e.m(t,a),E(t,l,a)},p(t,[a]){t[0]?e?e.p(t,a):(e=ye(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},i:C,o:C,d(t){t&&c(l),e&&e.d(t)}}}function Je(n,l,e){let t,a;ue(n,fe,r=>e(2,a=r));let{routeCheckType:s}=l;return n.$$set=r=>{"routeCheckType"in r&&e(1,s=r.routeCheckType)},n.$$.update=()=>{n.$$.dirty&6&&e(0,t=De(a.url.pathname,s))},[t,s,a]}class Re extends G{constructor(l){super(),x(this,l,Je,Ze,Y,{routeCheckType:1})}}function Ue(n){let l;return{c(){l=H(" ")},l(e){l=L(e," ")},m(e,t){E(e,l,t)},p:C,i:C,o:C,d(e){e&&c(l)}}}function Ye(n){let l,e;return l=new rt({props:{href:""+(z+n[1][0]),label:n[1][1]}}),{c(){le(l.$$.fragment)},l(t){re(l.$$.fragment,t)},m(t,a){ae(l,t,a),e=!0},p(t,a){const s={};a&2&&(s.href=""+(z+t[1][0])),a&2&&(s.label=t[1][1]),l.$set(s)},i(t){e||(S(l.$$.fragment,t),e=!0)},o(t){j(l.$$.fragment,t),e=!1},d(t){ne(l,t)}}}function Ge(n){let l;return{c(){l=H(" ")},l(e){l=L(e," ")},m(e,t){E(e,l,t)},p:C,i:C,o:C,d(e){e&&c(l)}}}function xe(n){let l,e;return l=new et({props:{href:""+(z+n[0][0]),label:n[0][1]}}),{c(){le(l.$$.fragment)},l(t){re(l.$$.fragment,t)},m(t,a){ae(l,t,a),e=!0},p(t,a){const s={};a&1&&(s.href=""+(z+t[0][0])),a&1&&(s.label=t[0][1]),l.$set(s)},i(t){e||(S(l.$$.fragment,t),e=!0)},o(t){j(l.$$.fragment,t),e=!1},d(t){ne(l,t)}}}function Ke(n){let l,e,t,a,s,r,u;const o=[Ye,Ue],h=[];function b(g,m){return g[1]?0:1}e=b(n),t=h[e]=o[e](n);const T=[xe,Ge],p=[];function I(g,m){return g[0]?0:1}return s=I(n),r=p[s]=T[s](n),{c(){l=w("div"),t.c(),a=N(),r.c(),this.h()},l(g){l=y(g,"DIV",{style:!0});var m=k(l);t.l(m),a=V(m),r.l(m),m.forEach(c),this.h()},h(){M(l,"display","flex"),M(l,"justify-content","space-between")},m(g,m){E(g,l,m),h[e].m(l,null),_(l,a),p[s].m(l,null),u=!0},p(g,[m]){let B=e;e=b(g),e===B?h[e].p(g,m):(pe(),j(h[B],1,1,()=>{h[B]=null}),ve(),t=h[e],t?t.p(g,m):(t=h[e]=o[e](g),t.c()),S(t,1),t.m(l,a));let q=s;s=I(g),s===q?p[s].p(g,m):(pe(),j(p[q],1,1,()=>{p[q]=null}),ve(),r=p[s],r?r.p(g,m):(r=p[s]=T[s](g),r.c()),S(r,1),r.m(l,null))},i(g){u||(S(t),S(r),u=!0)},o(g){j(t),j(r),u=!1},d(g){g&&c(l),h[e].d(),p[s].d()}}}function Qe(n,l,e){let t,a,s,r;ue(n,fe,o=>e(4,r=o));let{routeCheckType:u}=l;return n.$$set=o=>{"routeCheckType"in o&&e(2,u=o.routeCheckType)},n.$$.update=()=>{n.$$.dirty&16&&e(3,t=r.url.pathname),n.$$.dirty&12&&e(1,a=He(t,u)),n.$$.dirty&12&&e(0,s=Le(t,u))},[s,a,u,t,r]}class We extends G{constructor(l){super(),x(this,l,Qe,Ke,Y,{routeCheckType:2})}}function Xe(n){let l,e,t,a,s,r,u;return{c(){l=w("div"),e=w("a"),t=w("span"),a=H(n[1]),s=N(),r=ee("svg"),u=ee("path"),this.h()},l(o){l=y(o,"DIV",{class:!0});var h=k(l);e=y(h,"A",{class:!0,href:!0,rel:!0});var b=k(e);t=y(b,"SPAN",{class:!0});var T=k(t);a=L(T,n[1]),T.forEach(c),s=V(b),r=te(b,"svg",{class:!0,xmlns:!0,height:!0,width:!0,"aria-hidden":!0,focusable:!0,viewBox:!0});var p=k(r);u=te(p,"path",{d:!0}),k(u).forEach(c),p.forEach(c),b.forEach(c),h.forEach(c),this.h()},h(){f(t,"class","govuk-pagination__link-title"),f(u,"d","m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"),f(r,"class","govuk-pagination__icon govuk-pagination__icon--next"),f(r,"xmlns","http://www.w3.org/2000/svg"),f(r,"height","13"),f(r,"width","15"),f(r,"aria-hidden","true"),f(r,"focusable","false"),f(r,"viewBox","0 0 15 13"),f(e,"class","govuk-link govuk-pagination__link"),f(e,"href",n[0]),f(e,"rel","next"),f(l,"class","govuk-pagination__next")},m(o,h){E(o,l,h),_(l,e),_(e,t),_(t,a),_(e,s),_(e,r),_(r,u)},p(o,[h]){h&2&&U(a,o[1]),h&1&&f(e,"href",o[0])},i:C,o:C,d(o){o&&c(l)}}}function $e(n,l,e){let{href:t}=l,{label:a}=l;return n.$$set=s=>{"href"in s&&e(0,t=s.href),"label"in s&&e(1,a=s.label)},[t,a]}class et extends G{constructor(l){super(),x(this,l,$e,Xe,Y,{href:0,label:1})}}function tt(n){let l,e,t,a,s,r,u;return{c(){l=w("div"),e=w("a"),t=ee("svg"),a=ee("path"),s=N(),r=w("span"),u=H(n[1]),this.h()},l(o){l=y(o,"DIV",{class:!0});var h=k(l);e=y(h,"A",{class:!0,href:!0,rel:!0});var b=k(e);t=te(b,"svg",{class:!0,xmlns:!0,height:!0,width:!0,"aria-hidden":!0,focusable:!0,viewBox:!0});var T=k(t);a=te(T,"path",{d:!0}),k(a).forEach(c),T.forEach(c),s=V(b),r=y(b,"SPAN",{class:!0});var p=k(r);u=L(p,n[1]),p.forEach(c),b.forEach(c),h.forEach(c),this.h()},h(){f(a,"d","m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"),f(t,"class","govuk-pagination__icon govuk-pagination__icon--prev"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"height","13"),f(t,"width","15"),f(t,"aria-hidden","true"),f(t,"focusable","false"),f(t,"viewBox","0 0 15 13"),f(r,"class","govuk-pagination__link-title"),f(e,"class","govuk-link govuk-pagination__link"),f(e,"href",n[0]),f(e,"rel","prev"),f(l,"class","govuk-pagination__prev")},m(o,h){E(o,l,h),_(l,e),_(e,t),_(t,a),_(e,s),_(e,r),_(r,u)},p(o,[h]){h&2&&U(u,o[1]),h&1&&f(e,"href",o[0])},i:C,o:C,d(o){o&&c(l)}}}function lt(n,l,e){let{href:t}=l,{label:a}=l;return n.$$set=s=>{"href"in s&&e(0,t=s.href),"label"in s&&e(1,a=s.label)},[t,a]}class rt extends G{constructor(l){super(),x(this,l,lt,tt,Y,{href:0,label:1})}}export{ht as T};
