import{s as x,D as me,i as T,n as C,f as h,k as ue,e as w,c as y,b as k,q as f,H as Ce,t as L,a as N,d as M,g as A,R as ve,h as m,j as X,v as W,L as ne,M as se,l as Pe,F as Ie,y as Ne,u as Ae,m as Fe,o as Ve,E as de,U as Be}from"./scheduler.BFB7ZLp4.js";import{S as ee,i as te,g as pe,b as B,f as be,t as D,c as $,a as G,m as J,d as R}from"./index.D7s828ig.js";import{g as De}from"./globals.D0QH3NT1.js";import{b as z}from"./paths.BDjmSL3I.js";import{g as Se,a as qe,b as He,c as ke,d as Le}from"./index.DH7agslg.js";import{p as fe}from"./stores.DC_9_iwJ.js";import{g as Me}from"./entry.DFJj4aTE.js";import{S as ze,A as Oe}from"./ServiceHeader.De8dfCMv.js";import"./index.PIjCHyCB.js";import{e as we}from"./each.Ep5bqd0c.js";function ye(n,r,t){const e=n.slice();return e[3]=r[t][0],e[4]=r[t][1],e[5]=r[t][2],e}function Ee(n){let r,t=we(n[0]),e=[];for(let a=0;a<t.length;a+=1)e[a]=Te(ye(n,t,a));return{c(){r=w("ol");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){r=y(a,"OL",{class:!0});var s=k(r);for(let l=0;l<e.length;l+=1)e[l].l(s);s.forEach(h),this.h()},h(){f(r,"class","svelte-7lelu8")},m(a,s){T(a,r,s);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(r,null)},p(a,s){if(s&1){t=we(a[0]);let l;for(l=0;l<t.length;l+=1){const o=ye(a,t,l);e[l]?e[l].p(o,s):(e[l]=Te(o),e[l].c(),e[l].m(r,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=t.length}},d(a){a&&h(r),Ce(e,a)}}}function Te(n){let r,t,e=n[4]+"",a,s,l;return{c(){r=w("li"),t=w("a"),a=L(e),l=N(),this.h()},l(o){r=y(o,"LI",{class:!0});var u=k(r);t=y(u,"A",{href:!0});var c=k(t);a=M(c,e),c.forEach(h),l=A(u),u.forEach(h),this.h()},h(){f(t,"href",s=""+(z+n[3])),ve(t,"govuk-link--no-underline",!n[5]),f(r,"class","svelte-7lelu8")},m(o,u){T(o,r,u),m(r,t),m(t,a),m(r,l)},p(o,u){u&1&&e!==(e=o[4]+"")&&X(a,e),u&1&&s!==(s=""+(z+o[3]))&&f(t,"href",s),u&1&&ve(t,"govuk-link--no-underline",!o[5])},d(o){o&&h(r)}}}function Ue(n){let r,t=n[0]&&Ee(n);return{c(){t&&t.c(),r=me()},l(e){t&&t.l(e),r=me()},m(e,a){t&&t.m(e,a),T(e,r,a)},p(e,[a]){e[0]?t?t.p(e,a):(t=Ee(e),t.c(),t.m(r.parentNode,r)):t&&(t.d(1),t=null)},i:C,o:C,d(e){e&&h(r),t&&t.d(e)}}}function Ze(n,r,t){let e,a;ue(n,fe,l=>t(2,a=l));let{routeCheckType:s}=r;return n.$$set=l=>{"routeCheckType"in l&&t(1,s=l.routeCheckType)},n.$$.update=()=>{n.$$.dirty&6&&t(0,e=Se(a.url.pathname,s))},[e,s,a]}class je extends ee{constructor(r){super(),te(this,r,Ze,Ue,x,{routeCheckType:1})}}function $e(n){let r;return{c(){r=L(" ")},l(t){r=M(t," ")},m(t,e){T(t,r,e)},p:C,i:C,o:C,d(t){t&&h(r)}}}function Ge(n){let r,t;return r=new rt({props:{href:""+(z+n[1][0]),label:n[1][1]}}),{c(){$(r.$$.fragment)},l(e){G(r.$$.fragment,e)},m(e,a){J(r,e,a),t=!0},p(e,a){const s={};a&2&&(s.href=""+(z+e[1][0])),a&2&&(s.label=e[1][1]),r.$set(s)},i(e){t||(D(r.$$.fragment,e),t=!0)},o(e){B(r.$$.fragment,e),t=!1},d(e){R(r,e)}}}function Je(n){let r;return{c(){r=L(" ")},l(t){r=M(t," ")},m(t,e){T(t,r,e)},p:C,i:C,o:C,d(t){t&&h(r)}}}function Re(n){let r,t;return r=new xe({props:{href:""+(z+n[0][0]),label:n[0][1]}}),{c(){$(r.$$.fragment)},l(e){G(r.$$.fragment,e)},m(e,a){J(r,e,a),t=!0},p(e,a){const s={};a&1&&(s.href=""+(z+e[0][0])),a&1&&(s.label=e[0][1]),r.$set(s)},i(e){t||(D(r.$$.fragment,e),t=!0)},o(e){B(r.$$.fragment,e),t=!1},d(e){R(r,e)}}}function Ye(n){let r,t,e,a,s,l,o;const u=[Ge,$e],c=[];function p(_,b){return _[1]?0:1}t=p(n),e=c[t]=u[t](n);const E=[Re,Je],v=[];function F(_,b){return _[0]?0:1}return s=F(n),l=v[s]=E[s](n),{c(){r=w("div"),e.c(),a=N(),l.c(),this.h()},l(_){r=y(_,"DIV",{style:!0});var b=k(r);e.l(b),a=A(b),l.l(b),b.forEach(h),this.h()},h(){W(r,"display","flex"),W(r,"justify-content","space-between")},m(_,b){T(_,r,b),c[t].m(r,null),m(r,a),v[s].m(r,null),o=!0},p(_,[b]){let I=t;t=p(_),t===I?c[t].p(_,b):(pe(),B(c[I],1,1,()=>{c[I]=null}),be(),e=c[t],e?e.p(_,b):(e=c[t]=u[t](_),e.c()),D(e,1),e.m(r,a));let V=s;s=F(_),s===V?v[s].p(_,b):(pe(),B(v[V],1,1,()=>{v[V]=null}),be(),l=v[s],l?l.p(_,b):(l=v[s]=E[s](_),l.c()),D(l,1),l.m(r,null))},i(_){o||(D(e),D(l),o=!0)},o(_){B(e),B(l),o=!1},d(_){_&&h(r),c[t].d(),v[s].d()}}}function Ke(n,r,t){let e,a,s,l;ue(n,fe,u=>t(4,l=u));let{routeCheckType:o}=r;return n.$$set=u=>{"routeCheckType"in u&&t(2,o=u.routeCheckType)},n.$$.update=()=>{n.$$.dirty&16&&t(3,e=l.url.pathname),n.$$.dirty&12&&t(1,a=qe(e,o)),n.$$.dirty&12&&t(0,s=He(e,o))},[s,a,o,e,l]}class Qe extends ee{constructor(r){super(),te(this,r,Ke,Ye,x,{routeCheckType:2})}}function We(n){let r,t,e,a,s,l,o;return{c(){r=w("div"),t=w("a"),e=w("span"),a=L(n[1]),s=N(),l=ne("svg"),o=ne("path"),this.h()},l(u){r=y(u,"DIV",{class:!0});var c=k(r);t=y(c,"A",{class:!0,href:!0,rel:!0});var p=k(t);e=y(p,"SPAN",{class:!0});var E=k(e);a=M(E,n[1]),E.forEach(h),s=A(p),l=se(p,"svg",{class:!0,xmlns:!0,height:!0,width:!0,"aria-hidden":!0,focusable:!0,viewBox:!0});var v=k(l);o=se(v,"path",{d:!0}),k(o).forEach(h),v.forEach(h),p.forEach(h),c.forEach(h),this.h()},h(){f(e,"class","govuk-pagination__link-title"),f(o,"d","m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"),f(l,"class","govuk-pagination__icon govuk-pagination__icon--next"),f(l,"xmlns","http://www.w3.org/2000/svg"),f(l,"height","13"),f(l,"width","15"),f(l,"aria-hidden","true"),f(l,"focusable","false"),f(l,"viewBox","0 0 15 13"),f(t,"class","govuk-link govuk-pagination__link"),f(t,"href",n[0]),f(t,"rel","next"),f(r,"class","govuk-pagination__next")},m(u,c){T(u,r,c),m(r,t),m(t,e),m(e,a),m(t,s),m(t,l),m(l,o)},p(u,[c]){c&2&&X(a,u[1]),c&1&&f(t,"href",u[0])},i:C,o:C,d(u){u&&h(r)}}}function Xe(n,r,t){let{href:e}=r,{label:a}=r;return n.$$set=s=>{"href"in s&&t(0,e=s.href),"label"in s&&t(1,a=s.label)},[e,a]}class xe extends ee{constructor(r){super(),te(this,r,Xe,We,x,{href:0,label:1})}}function et(n){let r,t,e,a,s,l,o;return{c(){r=w("div"),t=w("a"),e=ne("svg"),a=ne("path"),s=N(),l=w("span"),o=L(n[1]),this.h()},l(u){r=y(u,"DIV",{class:!0});var c=k(r);t=y(c,"A",{class:!0,href:!0,rel:!0});var p=k(t);e=se(p,"svg",{class:!0,xmlns:!0,height:!0,width:!0,"aria-hidden":!0,focusable:!0,viewBox:!0});var E=k(e);a=se(E,"path",{d:!0}),k(a).forEach(h),E.forEach(h),s=A(p),l=y(p,"SPAN",{class:!0});var v=k(l);o=M(v,n[1]),v.forEach(h),p.forEach(h),c.forEach(h),this.h()},h(){f(a,"d","m6.5938-0.0078125-6.7266 6.7266 6.7441 6.4062 1.377-1.449-4.1856-3.9768h12.896v-2h-12.984l4.2931-4.293-1.414-1.414z"),f(e,"class","govuk-pagination__icon govuk-pagination__icon--prev"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"height","13"),f(e,"width","15"),f(e,"aria-hidden","true"),f(e,"focusable","false"),f(e,"viewBox","0 0 15 13"),f(l,"class","govuk-pagination__link-title"),f(t,"class","govuk-link govuk-pagination__link"),f(t,"href",n[0]),f(t,"rel","prev"),f(r,"class","govuk-pagination__prev")},m(u,c){T(u,r,c),m(r,t),m(t,e),m(e,a),m(t,s),m(t,l),m(l,o)},p(u,[c]){c&2&&X(o,u[1]),c&1&&f(t,"href",u[0])},i:C,o:C,d(u){u&&h(r)}}}function tt(n,r,t){let{href:e}=r,{label:a}=r;return n.$$set=s=>{"href"in s&&t(0,e=s.href),"label"in s&&t(1,a=s.label)},[e,a]}class rt extends ee{constructor(r){super(),te(this,r,tt,et,x,{href:0,label:1})}}const lt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23000000'%3e%3cpath%20d='M160-160q-33%200-56.5-23.5T80-240v-480q0-33%2023.5-56.5T160-800h240l80%2080h320q33%200%2056.5%2023.5T880-640v400q0%2033-23.5%2056.5T800-160H160Zm0-80h640v-400H447l-80-80H160v480Zm0%200v-480%20480Z'/%3e%3c/svg%3e",{window:at}=De;function nt(n){let r,t,e,a,s,l,o,u,c,p,E,v,F,_,b,I,V,Y,g,O,S,Z,K=ke(n[6].url.pathname)+"",re,le,ae,U,q,ie,ce;r=new ze({props:{service:n[3]}}),a=new Oe({}),g=new je({props:{routeCheckType:n[4]}});const oe=n[10].default,P=Pe(oe,n,n[9],null);return U=new Qe({props:{routeCheckType:n[4]}}),{c(){$(r.$$.fragment),t=N(),e=w("div"),$(a.$$.fragment),s=N(),l=w("div"),o=w("img"),c=N(),p=w("a"),E=L("Manage files"),F=N(),_=w("span"),b=L("Editing file "),I=w("u"),V=L(n[5]),Y=N(),$(g.$$.fragment),O=N(),S=w("div"),Z=w("div"),re=L(K),le=N(),P&&P.c(),ae=N(),$(U.$$.fragment),this.h()},l(i){G(r.$$.fragment,i),t=A(i),e=y(i,"DIV",{class:!0});var d=k(e);G(a.$$.fragment,d),s=A(d),l=y(d,"DIV",{style:!0});var H=k(l);o=y(H,"IMG",{src:!0,alt:!0,style:!0}),c=A(H),p=y(H,"A",{href:!0});var Q=k(p);E=M(Q,"Manage files"),Q.forEach(h),F=A(H),_=y(H,"SPAN",{class:!0,style:!0});var j=k(_);b=M(j,"Editing file "),I=y(j,"U",{});var he=k(I);V=M(he,n[5]),he.forEach(h),j.forEach(h),H.forEach(h),Y=A(d),G(g.$$.fragment,d),d.forEach(h),O=A(i),S=y(i,"DIV",{class:!0});var _e=k(S);Z=y(_e,"DIV",{class:!0});var ge=k(Z);re=M(ge,K),ge.forEach(h),_e.forEach(h),le=A(i),P&&P.l(i),ae=A(i),G(U.$$.fragment,i),this.h()},h(){Ie(o.src,u=lt)||f(o,"src",u),f(o,"alt","Manage files"),W(o,"vertical-align","middle"),f(p,"href",v=z+"/"+n[2]),f(_,"class","govuk-body"),W(_,"margin-left","8px"),W(l,"margin-bottom","30px"),f(e,"class","govuk-width-container"),f(Z,"class","govuk-heading-l"),f(S,"class","govuk-width-container")},m(i,d){J(r,i,d),T(i,t,d),T(i,e,d),J(a,e,null),m(e,s),m(e,l),m(l,o),m(l,c),m(l,p),m(p,E),m(l,F),m(l,_),m(_,b),m(_,I),m(I,V),m(e,Y),J(g,e,null),T(i,O,d),T(i,S,d),m(S,Z),m(Z,re),T(i,le,d),P&&P.m(i,d),T(i,ae,d),J(U,i,d),q=!0,ie||(ce=Ne(at,"storage",n[7]),ie=!0)},p(i,[d]){const H={};d&8&&(H.service=i[3]),r.$set(H),(!q||d&4&&v!==(v=z+"/"+i[2]))&&f(p,"href",v),(!q||d&32)&&X(V,i[5]);const Q={};d&16&&(Q.routeCheckType=i[4]),g.$set(Q),(!q||d&64)&&K!==(K=ke(i[6].url.pathname)+"")&&X(re,K),P&&P.p&&(!q||d&512)&&Ae(P,oe,i,i[9],q?Ve(oe,i[9],d,null):Fe(i[9]),null);const j={};d&16&&(j.routeCheckType=i[4]),U.$set(j)},i(i){q||(D(r.$$.fragment,i),D(a.$$.fragment,i),D(g.$$.fragment,i),D(P,i),D(U.$$.fragment,i),q=!0)},o(i){B(r.$$.fragment,i),B(a.$$.fragment,i),B(g.$$.fragment,i),B(P,i),B(U.$$.fragment,i),q=!1},d(i){i&&(h(t),h(e),h(O),h(S),h(le),h(ae)),R(r,i),R(a),R(g),P&&P.d(i),R(U,i),ie=!1,ce()}}}function st(n,r,t){let e,a=C,s=()=>(a(),a=de(F,g=>t(5,e=g)),F),l,o=C,u=()=>(o(),o=de(v,g=>t(11,l=g)),v),c;ue(n,fe,g=>t(6,c=g)),n.$$.on_destroy.push(()=>a()),n.$$.on_destroy.push(()=>o());let{$$slots:p={},$$scope:E}=r,{state:v}=r;u();let{currentFile:F}=r;s();let{files:_}=r,{tool:b}=r,{service:I}=r,{routeCheckType:V}=r;function Y(g){let O=_.key(e);if(O==g.key)if(g.newValue)try{console.log(`${O} changed in another tab; applying the data here`),Be(v,l=JSON.parse(g.newValue),l)}catch(S){console.error(`${O} changed in another tab, but the new value is broken: ${S}`)}else window.alert(`You deleted ${e} from another tab. If you continue editing it here, it'll be saved again.`)}return n.$$set=g=>{"state"in g&&u(t(0,v=g.state)),"currentFile"in g&&s(t(1,F=g.currentFile)),"files"in g&&t(8,_=g.files),"tool"in g&&t(2,b=g.tool),"service"in g&&t(3,I=g.service),"routeCheckType"in g&&t(4,V=g.routeCheckType),"$$scope"in g&&t(9,E=g.$$scope)},n.$$.update=()=>{n.$$.dirty&100&&e==""&&Le(c.url.pathname)!=`/${b}`&&(console.log("On a content page without any file loaded; redirecting"),Me(`${z}/${b}`))},[v,F,b,I,V,e,c,Y,_,E,p]}class dt extends ee{constructor(r){super(),te(this,r,st,nt,x,{state:0,currentFile:1,files:8,tool:2,service:3,routeCheckType:4})}}export{dt as T};
