import{s as Y,e as v,a as L,c as g,b as R,g as P,p as M,f as b,q as K,i as V,h as o,K as z,k as Z,t as H,d as I,j as q}from"../chunks/scheduler.DGwhun8C.js";import{S as x,i as tt,c as et,a as at,m as lt,t as ot,b as rt,d as nt}from"../chunks/index.B2vZYn3d.js";import{e as O}from"../chunks/each.osbS1YKp.js";import{s as st}from"../chunks/data.Ct3nfyhy.js";import{c as J}from"../chunks/lists.BjLF9z6B.js";import{D as it}from"../chunks/DefaultButton.Dnb4gInE.js";import"../chunks/index.Cs2OIeZk.js";import{b as ct}from"../chunks/paths.X9nDVH86.js";function Q(l,t,a){const r=l.slice();return r[2]=t[a],r[4]=a,r}function U(l,t,a){const r=l.slice();return r[5]=t[a][0],r[6]=t[a][1],r}function mt(l){let t;return{c(){t=H("Export to PDF")},l(a){t=I(a,"Export to PDF")},m(a,r){V(a,t,r)},d(a){a&&b(t)}}}function W(l){let t,a,r=l[5]+"",$,_,C,A=l[6]+"",i,p;return{c(){t=v("tr"),a=v("th"),$=H(r),_=L(),C=v("td"),i=H(A),p=L()},l(y){t=g(y,"TR",{});var u=R(t);a=g(u,"TH",{});var E=R(a);$=I(E,r),E.forEach(b),_=P(u),C=g(u,"TD",{});var c=R(C);i=I(c,A),c.forEach(b),p=P(u),u.forEach(b)},m(y,u){V(y,t,u),o(t,a),o(a,$),o(t,_),o(t,C),o(C,i),o(t,p)},p(y,u){u&1&&r!==(r=y[5]+"")&&q($,r),u&1&&A!==(A=y[6]+"")&&q(i,A)},d(y){y&&b(t)}}}function X(l){let t,a,r=l[4]+1+"",$,_,C,A,i,p=l[0].ratings[l[4]]+"",y,u,E,c=l[0].appraiserComments[l[4]]+"",k,j,S,D=l[0].localGuidance[l[4]]+"",F,G;return{c(){t=v("tr"),a=v("td"),$=H(r),_=H(". "),C=H(l[2]),A=L(),i=v("td"),y=H(p),u=L(),E=v("td"),k=H(c),j=L(),S=v("td"),F=H(D),G=L()},l(f){t=g(f,"TR",{});var m=R(t);a=g(m,"TD",{});var h=R(a);$=I(h,r),_=I(h,". "),C=I(h,l[2]),h.forEach(b),A=P(m),i=g(m,"TD",{});var B=R(i);y=I(B,p),B.forEach(b),u=P(m),E=g(m,"TD",{});var s=R(E);k=I(s,c),s.forEach(b),j=P(m),S=g(m,"TD",{});var e=R(S);F=I(e,D),e.forEach(b),G=P(m),m.forEach(b)},m(f,m){V(f,t,m),o(t,a),o(a,$),o(a,_),o(a,C),o(t,A),o(t,i),o(i,y),o(t,u),o(t,E),o(E,k),o(t,j),o(t,S),o(S,F),o(t,G)},p(f,m){m&1&&p!==(p=f[0].ratings[f[4]]+"")&&q(y,p),m&1&&c!==(c=f[0].appraiserComments[f[4]]+"")&&q(k,c),m&1&&D!==(D=f[0].localGuidance[f[4]]+"")&&q(F,D)},d(f){f&&b(t)}}}function ut(l){let t,a,r,$,_,C='This button will open a new tab where you should right-click, "print", and print/export to PDF.',A,i,p,y="Application details",u,E,c,k,j="Assessment report",S,D,F="<th>Criterion</th> <th>Rating</th> <th>Appraiser Comments</th> <th>Relevant Policy &amp; Guidance</th>",G,f;r=new it({props:{$$slots:{default:[mt]},$$scope:{ctx:l}}}),r.$on("click",l[1]);let m=O([["Site address",l[0].summary.siteAddress],["Local authority reference",l[0].summary.localAuthorityReference],["ATE reference",l[0].summary.ateReference],["Local planning authority",l[0].summary.localPlanningAuthority],["Local highway authority",l[0].summary.localHighwayAuthority],["Completed by",l[0].summary.completedBy],["Date",l[0].summary.date],["Application type",l[0].summary.applicationType],["Summary of proposal",l[0].summary.proposalSummary]]),h=[];for(let e=0;e<9;e+=1)h[e]=W(U(l,m,e));let B=O(J),s=[];for(let e=0;e<B.length;e+=1)s[e]=X(Q(l,B,e));return{c(){t=v("div"),a=v("div"),et(r.$$.fragment),$=L(),_=v("p"),_.textContent=C,A=L(),i=v("table"),p=v("caption"),p.textContent=y,u=L();for(let e=0;e<9;e+=1)h[e].c();E=L(),c=v("table"),k=v("caption"),k.textContent=j,S=L(),D=v("tr"),D.innerHTML=F,G=L();for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=g(e,"DIV",{class:!0});var T=R(t);a=g(T,"DIV",{});var d=R(a);at(r.$$.fragment,d),$=P(d),_=g(d,"P",{"data-svelte-h":!0}),M(_)!=="svelte-1khb7dp"&&(_.textContent=C),d.forEach(b),A=P(T),i=g(T,"TABLE",{});var n=R(i);p=g(n,"CAPTION",{class:!0,"data-svelte-h":!0}),M(p)!=="svelte-jultim"&&(p.textContent=y),u=P(n);for(let N=0;N<9;N+=1)h[N].l(n);n.forEach(b),E=P(T),c=g(T,"TABLE",{});var w=R(c);k=g(w,"CAPTION",{class:!0,"data-svelte-h":!0}),M(k)!=="svelte-1cwmciy"&&(k.textContent=j),S=P(w),D=g(w,"TR",{"data-svelte-h":!0}),M(D)!=="svelte-sdtvlo"&&(D.innerHTML=F),G=P(w);for(let N=0;N<s.length;N+=1)s[N].l(w);w.forEach(b),T.forEach(b),this.h()},h(){K(p,"class","govuk-table__caption govuk-table__caption--m"),K(k,"class","govuk-table__caption govuk-table__caption--m"),K(t,"class","govuk-width-container")},m(e,T){V(e,t,T),o(t,a),lt(r,a,null),o(a,$),o(a,_),o(t,A),o(t,i),o(i,p),o(i,u);for(let d=0;d<9;d+=1)h[d]&&h[d].m(i,null);o(t,E),o(t,c),o(c,k),o(c,S),o(c,D),o(c,G);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(c,null);f=!0},p(e,[T]){const d={};if(T&512&&(d.$$scope={dirty:T,ctx:e}),r.$set(d),T&1){m=O([["Site address",e[0].summary.siteAddress],["Local authority reference",e[0].summary.localAuthorityReference],["ATE reference",e[0].summary.ateReference],["Local planning authority",e[0].summary.localPlanningAuthority],["Local highway authority",e[0].summary.localHighwayAuthority],["Completed by",e[0].summary.completedBy],["Date",e[0].summary.date],["Application type",e[0].summary.applicationType],["Summary of proposal",e[0].summary.proposalSummary]]);let n;for(n=0;n<9;n+=1){const w=U(e,m,n);h[n]?h[n].p(w,T):(h[n]=W(w),h[n].c(),h[n].m(i,null))}for(;n<9;n+=1)h[n].d(1)}if(T&1){B=O(J);let n;for(n=0;n<B.length;n+=1){const w=Q(e,B,n);s[n]?s[n].p(w,T):(s[n]=X(w),s[n].c(),s[n].m(c,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=B.length}},i(e){f||(ot(r.$$.fragment,e),f=!0)},o(e){rt(r.$$.fragment,e),f=!1},d(e){e&&b(t),nt(r),z(h,e),z(s,e)}}}function pt(l,t,a){let r;Z(l,st,_=>a(0,r=_));function $(){window.open(`${ct}/planning/report/printable`,"_blank").focus()}return[r,$]}class Tt extends x{constructor(t){super(),tt(this,t,pt,ut,Y,{})}}export{Tt as component};
