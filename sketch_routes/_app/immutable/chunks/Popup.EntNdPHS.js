import{s as ue,E as Ce,i as b,f as a,S as Ge,W as Je,k as K,P as Xe,Y as Ye,X as Ke,e as p,c as _,b as y,l as Se,u as qe,r as He,v as Ue,w as Qe,a as B,g as N,p as Q,h as m,t as v,m as S,d as k,j as q}from"./scheduler.B-9e-9-p.js";import{S as ce,i as ae,t as g,g as ze,b as C,f as Be,c as w,a as I,m as T,d as j}from"./index.DroATz0g.js";import{a as Re,m as z,c as Ze,G as xe,F as $e,h as ie,L as et,C as tt}from"./index.ClFpVPGG.js";/* empty css                                            */const nt=i=>({features:i[0]&16,data:i[0]&16,map:i[0]&4,close:i[0]&1}),Oe=i=>{var e;return{features:i[4],data:(e=i[4])==null?void 0:e[0],map:i[2],close:i[31]}};function ye(i){let e,l,t=(i[4]||i[3]instanceof z.Marker)&&Le(i);return{c(){e=p("div"),t&&t.c()},l(o){e=_(o,"DIV",{});var n=y(e);t&&t.l(n),n.forEach(a)},m(o,n){b(o,e,n),t&&t.m(e,null),i[32](e),l=!0},p(o,n){o[4]||o[3]instanceof z.Marker?t?(t.p(o,n),n[0]&24&&g(t,1)):(t=Le(o),t.c(),g(t,1),t.m(e,null)):t&&(ze(),C(t,1,1,()=>{t=null}),Be())},i(o){l||(g(t),l=!0)},o(o){C(t),l=!1},d(o){o&&a(e),t&&t.d(),i[32](null)}}}function Le(i){let e;const l=i[30].default,t=Se(l,i,i[29],Oe);return{c(){t&&t.c()},l(o){t&&t.l(o)},m(o,n){t&&t.m(o,n),e=!0},p(o,n){t&&t.p&&(!e||n[0]&536870933)&&qe(t,l,o,o[29],e?Ue(l,o[29],n,nt):He(o[29]),Oe)},i(o){e||(g(t,o),e=!0)},o(o){C(t,o),e=!1},d(o){t&&t.d(o)}}}function lt(i){let e,l,t=i[9].default&&ye(i);return{c(){t&&t.c(),e=Ce()},l(o){t&&t.l(o),e=Ce()},m(o,n){t&&t.m(o,n),b(o,e,n),l=!0},p(o,n){o[9].default?t?(t.p(o,n),n[0]&512&&g(t,1)):(t=ye(o),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(ze(),C(t,1,1,()=>{t=null}),Be())},i(o){l||(g(t),l=!0)},o(o){C(t),l=!1},d(o){o&&a(e),t&&t.d(o)}}}function ot(i,e,l){let t,o,n,f,s,r,{$$slots:d={},$$scope:H}=e;const F=Ge(d);let{closeButton:R=void 0}=e,{closeOnClickOutside:W=!0}=e,{closeOnClickInside:A=!1}=e,{closeOnMove:Z=!1}=e,{openOn:O="click"}=e,{openIfTopMost:x=!0}=e,{focusAfterOpen:$=!0}=e,{anchor:ee=void 0}=e,{offset:te=void 0}=e,{popupClass:ne=void 0}=e,{maxWidth:le=void 0}=e,{lngLat:L=void 0}=e,{html:G=void 0}=e,{open:h=!1}=e;const oe=Je(),{map:pe,popupTarget:_e,layerEvent:J,layer:de,eventTopMost:Ne}=Re();K(i,pe,u=>l(2,n=u)),K(i,_e,u=>l(3,s=u)),K(i,J,u=>l(28,f=u)),K(i,de,u=>l(35,r=u));const Fe=["click","dblclick","contextmenu"];let c,X=!1,P;function Ve(){if(!c)return;let u=c.getElement();!u||u===P||(P=u,O==="hover"&&(P.style.pointerEvents="none"),P.addEventListener("mouseenter",()=>{l(24,X=!0)},{passive:!0}),P.addEventListener("mouseleave",()=>{l(24,X=!1)},{passive:!0}),P.addEventListener("click",()=>{A&&l(0,h=!1)},{passive:!0}))}Xe(()=>{if(n)return n.on("click",Y),n.on("contextmenu",Y),typeof s=="string"&&(n.on("click",s,D),n.on("dblclick",s,D),n.on("contextmenu",s,D),n.on("mousemove",s,be),n.on("mouseleave",s,ke),n.on("touchstart",s,ge),n.on("touchend",s,ve)),()=>{n!=null&&n.loaded()&&(c==null||c.remove(),n.off("click",Y),n.off("contextmenu",Y),s instanceof z.Marker?s.getPopup()===c&&s.setPopup(void 0):typeof s=="string"&&(n.off("click",s,D),n.off("dblclick",s,D),n.off("contextmenu",s,D),n.off("mousemove",s,be),n.off("mouseleave",s,ke),n.off("touchstart",s,ge),n.off("touchend",s,ve)))}});function he(u){return x?!("marker"in u)&&!Ze(u)&&Ne(u)!==r:!1}let E=null,M="normal";function D(u){u.type===O&&(he(u)||("layerType"in u?u.layerType==="deckgl"?(l(10,L=u.coordinate),l(4,E=u.object?[u.object]:null)):(l(10,L=u.lngLat),l(4,E=u.features??[])):(l(10,L=u.lngLat),l(4,E=u.features??[])),setTimeout(()=>l(0,h=!0))))}let U=null;function ge(u){U=u.point}function ve(u){if(!U||O!=="hover")return;let se=U.dist(u.point);U=null,se<3&&(l(10,L=u.lngLat),l(4,E=u.features??[]),c.isOpen()?l(25,M="justOpened"):(l(25,M="opening"),l(0,h=!0)))}function ke(u){O!=="hover"||U||M!=="normal"||(l(0,h=!1),l(4,E=null))}function be(u){if(!(O!=="hover"||U||M!=="normal")){if(he(u)){l(0,h=!1),l(4,E=null);return}l(0,h=!0),l(4,E=u.features??[]),l(10,L=u.lngLat)}}function Y(u){if(M==="justOpened"){l(25,M="normal");return}if(!W)return;let se=[P,s instanceof z.Marker?s==null?void 0:s.getElement():null];h&&c.isOpen()&&!se.some(fe=>fe==null?void 0:fe.contains(u.originalEvent.target))&&(u.type==="contextmenu"&&O==="contextmenu"||u.type!=="contextmenu")&&l(0,h=!1)}Ye(()=>{n&&(c!=null&&c.isOpen())&&c.remove()});let V;const We=()=>l(0,h=!1);function Ae(u){Qe[u?"unshift":"push"](()=>{V=u,l(1,V)})}return i.$$set=u=>{"closeButton"in u&&l(11,R=u.closeButton),"closeOnClickOutside"in u&&l(12,W=u.closeOnClickOutside),"closeOnClickInside"in u&&l(13,A=u.closeOnClickInside),"closeOnMove"in u&&l(14,Z=u.closeOnMove),"openOn"in u&&l(15,O=u.openOn),"openIfTopMost"in u&&l(16,x=u.openIfTopMost),"focusAfterOpen"in u&&l(17,$=u.focusAfterOpen),"anchor"in u&&l(18,ee=u.anchor),"offset"in u&&l(19,te=u.offset),"popupClass"in u&&l(20,ne=u.popupClass),"maxWidth"in u&&l(21,le=u.maxWidth),"lngLat"in u&&l(10,L=u.lngLat),"html"in u&&l(22,G=u.html),"open"in u&&l(0,h=u.open),"$$scope"in u&&l(29,H=u.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&14336&&l(27,t=R??(!W&&!A)),i.$$.dirty[0]&146685952&&(c||(l(23,c=new z.Popup({closeButton:t,closeOnClick:!1,closeOnMove:Z,focusAfterOpen:$,maxWidth:le,className:ne,anchor:ee,offset:te})),P=c.getElement(),c.on("open",()=>{l(0,h=!0),Ve(),oe("open",c)}),c.on("close",()=>{l(0,h=!1),oe("close",c)}),c.on("hover",()=>{oe("hover",c)}))),i.$$.dirty[0]&8421384&&c&&s instanceof z.Marker&&(O==="click"?s.setPopup(c):s.getPopup()===c&&s.setPopup(void 0)),i.$$.dirty[0]&268468224&&Fe.includes(O)&&(f==null?void 0:f.type)===O&&(D(f),Ke(J,f=null,f)),i.$$.dirty[0]&268468224&&l(26,o=O==="hover"&&((f==null?void 0:f.type)==="mousemove"||(f==null?void 0:f.type)==="mouseenter")),i.$$.dirty[0]&352354304&&O==="hover"&&J&&(o&&f&&(f.layerType==="deckgl"?(l(10,L=f.coordinate),l(4,E=f.object?[f.object]:null)):(l(10,L=f.lngLat),l(4,E=f.features??[]))),l(0,h=(o||X)??!1)),i.$$.dirty[0]&12582914&&(V?c.setDOMContent(V):G&&c.setHTML(G)),i.$$.dirty[0]&8389632&&L&&c.setLngLat(L),i.$$.dirty[0]&41943045&&n){let u=c.isOpen();h&&!u?(c.addTo(n),M==="opening"&&l(25,M="justOpened")):!h&&u&&c.remove()}},[h,V,n,s,E,pe,_e,J,de,F,L,R,W,A,Z,O,x,$,ee,te,ne,le,G,c,X,M,o,t,f,H,d,We,Ae]}class st extends ce{constructor(e){super(),ae(this,e,ot,lt,ue,{closeButton:11,closeOnClickOutside:12,closeOnClickInside:13,closeOnMove:14,openOn:15,openIfTopMost:16,focusAfterOpen:17,anchor:18,offset:19,popupClass:20,maxWidth:21,lngLat:10,html:22,open:0},null,[-1,-1])}}function Ee(i){let e,l,t="Name",o,n=i[2].name+"",f;return{c(){e=p("p"),l=p("u"),l.textContent=t,o=v(`
            : `),f=v(n)},l(s){e=_(s,"P",{});var r=y(e);l=_(r,"U",{"data-svelte-h":!0}),S(l)!=="svelte-5enbch"&&(l.textContent=t),o=k(r,`
            : `),f=k(r,n),r.forEach(a)},m(s,r){b(s,e,r),m(e,l),m(e,o),m(e,f)},p(s,r){r&4&&n!==(n=s[2].name+"")&&q(f,n)},d(s){s&&a(e)}}}function Me(i){let e,l,t="Description",o,n=i[2].description+"",f;return{c(){e=p("p"),l=p("u"),l.textContent=t,o=v(`
            : `),f=v(n)},l(s){e=_(s,"P",{});var r=y(e);l=_(r,"U",{"data-svelte-h":!0}),S(l)!=="svelte-1q5z7l4"&&(l.textContent=t),o=k(r,`
            : `),f=k(r,n),r.forEach(a)},m(s,r){b(s,e,r),m(e,l),m(e,o),m(e,f)},p(s,r){r&4&&n!==(n=s[2].description+"")&&q(f,n)},d(s){s&&a(e)}}}function ft(i){let e,l,t=i[2].name&&Ee(i),o=i[2].description&&Me(i);return{c(){e=p("div"),t&&t.c(),l=B(),o&&o.c(),this.h()},l(n){e=_(n,"DIV",{class:!0});var f=y(e);t&&t.l(f),l=N(f),o&&o.l(f),f.forEach(a),this.h()},h(){Q(e,"class","svelte-1qw0hzn")},m(n,f){b(n,e,f),t&&t.m(e,null),m(e,l),o&&o.m(e,null)},p(n,f){n[2].name?t?t.p(n,f):(t=Ee(n),t.c(),t.m(e,l)):t&&(t.d(1),t=null),n[2].description?o?o.p(n,f):(o=Me(n),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(n){n&&a(e),t&&t.d(),o&&o.d()}}}function it(i){let e,l;return e=new me({props:{$$slots:{default:[ft,({props:t})=>({2:t}),({props:t})=>t?4:0]},$$scope:{ctx:i}}}),{c(){w(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,o){T(e,t,o),l=!0},p(t,o){const n={};o&12&&(n.$$scope={dirty:o,ctx:t}),e.$set(n)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Pe(i){let e,l,t="Name",o,n=i[2].name+"",f;return{c(){e=p("p"),l=p("u"),l.textContent=t,o=v(`
            : `),f=v(n)},l(s){e=_(s,"P",{});var r=y(e);l=_(r,"U",{"data-svelte-h":!0}),S(l)!=="svelte-5enbch"&&(l.textContent=t),o=k(r,`
            : `),f=k(r,n),r.forEach(a)},m(s,r){b(s,e,r),m(e,l),m(e,o),m(e,f)},p(s,r){r&4&&n!==(n=s[2].name+"")&&q(f,n)},d(s){s&&a(e)}}}function we(i){let e,l,t="Description",o,n=i[2].description+"",f;return{c(){e=p("p"),l=p("u"),l.textContent=t,o=v(`
            : `),f=v(n)},l(s){e=_(s,"P",{});var r=y(e);l=_(r,"U",{"data-svelte-h":!0}),S(l)!=="svelte-1q5z7l4"&&(l.textContent=t),o=k(r,`
            : `),f=k(r,n),r.forEach(a)},m(s,r){b(s,e,r),m(e,l),m(e,o),m(e,f)},p(s,r){r&4&&n!==(n=s[2].description+"")&&q(f,n)},d(s){s&&a(e)}}}function Ie(i){let e,l,t="Length",o,n=(i[2].length_meters/1e3).toFixed(2)+"",f,s;return{c(){e=p("p"),l=p("u"),l.textContent=t,o=v(`
            : `),f=v(n),s=v(" kilometers")},l(r){e=_(r,"P",{});var d=y(e);l=_(d,"U",{"data-svelte-h":!0}),S(l)!=="svelte-73bpxc"&&(l.textContent=t),o=k(d,`
            : `),f=k(d,n),s=k(d," kilometers"),d.forEach(a)},m(r,d){b(r,e,d),m(e,l),m(e,o),m(e,f),m(e,s)},p(r,d){d&4&&n!==(n=(r[2].length_meters/1e3).toFixed(2)+"")&&q(f,n)},d(r){r&&a(e)}}}function rt(i){let e,l,t,o=i[2].name&&Pe(i),n=i[2].description&&we(i),f=i[2].length_meters&&Ie(i);return{c(){e=p("div"),o&&o.c(),l=B(),n&&n.c(),t=B(),f&&f.c(),this.h()},l(s){e=_(s,"DIV",{class:!0});var r=y(e);o&&o.l(r),l=N(r),n&&n.l(r),t=N(r),f&&f.l(r),r.forEach(a),this.h()},h(){Q(e,"class","svelte-1qw0hzn")},m(s,r){b(s,e,r),o&&o.m(e,null),m(e,l),n&&n.m(e,null),m(e,t),f&&f.m(e,null)},p(s,r){s[2].name?o?o.p(s,r):(o=Pe(s),o.c(),o.m(e,l)):o&&(o.d(1),o=null),s[2].description?n?n.p(s,r):(n=we(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),s[2].length_meters?f?f.p(s,r):(f=Ie(s),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(s){s&&a(e),o&&o.d(),n&&n.d(),f&&f.d()}}}function ut(i){let e,l;return e=new me({props:{$$slots:{default:[rt,({props:t})=>({2:t}),({props:t})=>t?4:0]},$$scope:{ctx:i}}}),{c(){w(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,o){T(e,t,o),l=!0},p(t,o){const n={};o&12&&(n.$$scope={dirty:o,ctx:t}),e.$set(n)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function Te(i){let e,l,t="Name",o,n=i[2].name+"",f;return{c(){e=p("p"),l=p("u"),l.textContent=t,o=v(`
            : `),f=v(n)},l(s){e=_(s,"P",{});var r=y(e);l=_(r,"U",{"data-svelte-h":!0}),S(l)!=="svelte-5enbch"&&(l.textContent=t),o=k(r,`
            : `),f=k(r,n),r.forEach(a)},m(s,r){b(s,e,r),m(e,l),m(e,o),m(e,f)},p(s,r){r&4&&n!==(n=s[2].name+"")&&q(f,n)},d(s){s&&a(e)}}}function je(i){let e,l,t="Description",o,n=i[2].description+"",f;return{c(){e=p("p"),l=p("u"),l.textContent=t,o=v(`
            : `),f=v(n)},l(s){e=_(s,"P",{});var r=y(e);l=_(r,"U",{"data-svelte-h":!0}),S(l)!=="svelte-1q5z7l4"&&(l.textContent=t),o=k(r,`
            : `),f=k(r,n),r.forEach(a)},m(s,r){b(s,e,r),m(e,l),m(e,o),m(e,f)},p(s,r){r&4&&n!==(n=s[2].description+"")&&q(f,n)},d(s){s&&a(e)}}}function ct(i){let e,l,t=i[2].name&&Te(i),o=i[2].description&&je(i);return{c(){e=p("div"),t&&t.c(),l=B(),o&&o.c(),this.h()},l(n){e=_(n,"DIV",{class:!0});var f=y(e);t&&t.l(f),l=N(f),o&&o.l(f),f.forEach(a),this.h()},h(){Q(e,"class","svelte-1qw0hzn")},m(n,f){b(n,e,f),t&&t.m(e,null),m(e,l),o&&o.m(e,null)},p(n,f){n[2].name?t?t.p(n,f):(t=Te(n),t.c(),t.m(e,l)):t&&(t.d(1),t=null),n[2].description?o?o.p(n,f):(o=je(n),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(n){n&&a(e),t&&t.d(),o&&o.d()}}}function at(i){let e,l;return e=new me({props:{$$slots:{default:[ct,({props:t})=>({2:t}),({props:t})=>t?4:0]},$$scope:{ctx:i}}}),{c(){w(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,o){T(e,t,o),l=!0},p(t,o){const n={};o&12&&(n.$$scope={dirty:o,ctx:t}),e.$set(n)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function mt(i){let e,l,t,o,n,f;return e=new $e({props:{filter:["==",["geometry-type"],"Polygon"],manageHoverState:!0,eventsIfTopMost:!0,paint:{"fill-color":re,"fill-opacity":ie(.5,1)},layout:{visibility:i[1]?"visible":"none"},$$slots:{default:[it]},$$scope:{ctx:i}}}),t=new et({props:{filter:["==",["geometry-type"],"LineString"],manageHoverState:!0,eventsIfTopMost:!0,paint:{"line-width":8,"line-color":re,"line-opacity":ie(.5,1)},layout:{visibility:i[1]?"visible":"none"},$$slots:{default:[ut]},$$scope:{ctx:i}}}),n=new tt({props:{filter:["==",["geometry-type"],"Point"],manageHoverState:!0,eventsIfTopMost:!0,paint:{"circle-radius":10,"circle-color":re,"circle-opacity":ie(.5,1)},layout:{visibility:i[1]?"visible":"none"},$$slots:{default:[at]},$$scope:{ctx:i}}}),{c(){w(e.$$.fragment),l=B(),w(t.$$.fragment),o=B(),w(n.$$.fragment)},l(s){I(e.$$.fragment,s),l=N(s),I(t.$$.fragment,s),o=N(s),I(n.$$.fragment,s)},m(s,r){T(e,s,r),b(s,l,r),T(t,s,r),b(s,o,r),T(n,s,r),f=!0},p(s,r){const d={};r&2&&(d.layout={visibility:s[1]?"visible":"none"}),r&8&&(d.$$scope={dirty:r,ctx:s}),e.$set(d);const H={};r&2&&(H.layout={visibility:s[1]?"visible":"none"}),r&8&&(H.$$scope={dirty:r,ctx:s}),t.$set(H);const F={};r&2&&(F.layout={visibility:s[1]?"visible":"none"}),r&8&&(F.$$scope={dirty:r,ctx:s}),n.$set(F)},i(s){f||(g(e.$$.fragment,s),g(t.$$.fragment,s),g(n.$$.fragment,s),f=!0)},o(s){C(e.$$.fragment,s),C(t.$$.fragment,s),C(n.$$.fragment,s),f=!1},d(s){s&&(a(l),a(o)),j(e,s),j(t,s),j(n,s)}}}function pt(i){let e,l;return e=new xe({props:{data:i[0],$$slots:{default:[mt]},$$scope:{ctx:i}}}),{c(){w(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,o){T(e,t,o),l=!0},p(t,[o]){const n={};o&1&&(n.data=t[0]),o&10&&(n.$$scope={dirty:o,ctx:t}),e.$set(n)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}let re="cyan";function _t(i,e,l){let{gj:t}=e,{show:o}=e;return i.$$set=n=>{"gj"in n&&l(0,t=n.gj),"show"in n&&l(1,o=n.show)},[t,o]}class Lt extends ce{constructor(e){super(),ae(this,e,_t,pt,ue,{gj:0,show:1})}}const dt=i=>({props:i&8}),De=i=>({props:vt(i[3])});function ht(i){let e,l;const t=i[1].default,o=Se(t,i,i[2],De);return{c(){e=p("div"),o&&o.c(),this.h()},l(n){e=_(n,"DIV",{class:!0});var f=y(e);o&&o.l(f),f.forEach(a),this.h()},h(){Q(e,"class","govuk-prose")},m(n,f){b(n,e,f),o&&o.m(e,null),l=!0},p(n,f){o&&o.p&&(!l||f&12)&&qe(o,t,n,n[2],l?Ue(t,n[2],f,dt):He(n[2]),De)},i(n){l||(g(o,n),l=!0)},o(n){C(o,n),l=!1},d(n){n&&a(e),o&&o.d(n)}}}function gt(i){let e,l;return e=new st({props:{openOn:i[0],$$slots:{default:[ht,({features:t})=>({3:t}),({features:t})=>t?8:0]},$$scope:{ctx:i}}}),{c(){w(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,o){T(e,t,o),l=!0},p(t,[o]){const n={};o&1&&(n.openOn=t[0]),o&12&&(n.$$scope={dirty:o,ctx:t}),e.$set(n)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){C(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function vt(i){return i?i[0].properties??{}:{}}function kt(i,e,l){let{$$slots:t={},$$scope:o}=e,{openOn:n="hover"}=e;return i.$$set=f=>{"openOn"in f&&l(0,n=f.openOn),"$$scope"in f&&l(2,o=f.$$scope)},[n,t,o]}class me extends ce{constructor(e){super(),ae(this,e,kt,gt,ue,{openOn:0})}}export{Lt as C,me as P};
