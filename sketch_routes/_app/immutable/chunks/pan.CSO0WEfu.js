import{s as N,l as Z,u as C,r as R,v as A,D as k,F as q,i as L,f as p,k as y,Y as ae,X as T,n as D,a as J,g as K,w as G,x as P,e as Q,c as V,b as $,p as x,q as ee}from"./scheduler.BwAWs7j7.js";import{S as M,i as W,c as S,a as w,m as z,t as m,b as g,d as I,g as B,f as E,e as j}from"./index.C0pl5Pks.js";import{S as se}from"./SecondaryButton.Bic26FJA.js";/* empty css                                            */import{l as te,n as ie,o as fe,p as ue,q as ce,t as me}from"./index.B4Je-2Of.js";import{M as H}from"./Marker.Cgr6lGka.js";import{b as v,t as F,s as ge,i as _e,o as de}from"./GeoreferenceLayer.svelte_svelte_type_style_lang.BCto3f03.js";function be(l){let n;const o=l[1].default,e=Z(o,l,l[3],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,r){e&&e.m(t,r),n=!0},p(t,r){e&&e.p&&(!n||r&8)&&C(e,o,t,t[3],n?A(o,t[3],r,null):R(t[3]),null)},i(t){n||(m(e,t),n=!0)},o(t){g(e,t),n=!1},d(t){e&&e.d(t)}}}function he(l){let n,o;return n=new se({props:{style:"margin-bottom: 0px",disabled:l[0],$$slots:{default:[be]},$$scope:{ctx:l}}}),n.$on("click",l[2]),{c(){S(n.$$.fragment)},l(e){w(n.$$.fragment,e)},m(e,t){z(n,e,t),o=!0},p(e,[t]){const r={};t&1&&(r.disabled=e[0]),t&8&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(m(n.$$.fragment,e),o=!0)},o(e){g(n.$$.fragment,e),o=!1},d(e){I(n,e)}}}function pe(l,n,o){let{$$slots:e={},$$scope:t}=n,{disabled:r=!1}=n;function s(i){k.call(this,l,i)}return l.$$set=i=>{"disabled"in i&&o(0,r=i.disabled),"$$scope"in i&&o(3,t=i.$$scope)},[r,e,s,t]}class Ae extends M{constructor(n){super(),W(this,n,pe,he,N,{disabled:0})}}function O(l){let n=l[0],o,e,t=U(l);return{c(){t.c(),o=q()},l(r){t.l(r),o=q()},m(r,s){t.m(r,s),L(r,o,s),e=!0},p(r,s){s&1&&N(n,n=r[0])?(B(),g(t,1,1,D),E(),t=U(r),t.c(),m(t,1),t.m(o.parentNode,o)):t.p(r,s)},i(r){e||(m(t),e=!0)},o(r){g(t),e=!1},d(r){r&&p(o),t.d(r)}}}function U(l){let n;const o=l[10].default,e=Z(o,l,l[9],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,r){e&&e.m(t,r),n=!0},p(t,r){e&&e.p&&(!n||r&512)&&C(e,o,t,t[9],n?A(o,t[9],r,null):R(t[9]),null)},i(t){n||(m(e,t),n=!0)},o(t){g(e,t),n=!1},d(t){e&&e.d(t)}}}function ke(l){let n,o,e=l[0]&&O(l);return{c(){e&&e.c(),n=q()},l(t){e&&e.l(t),n=q()},m(t,r){e&&e.m(t,r),L(t,n,r),o=!0},p(t,[r]){t[0]?e?(e.p(t,r),r&1&&m(e,1)):(e=O(t),e.c(),m(e,1),e.m(n.parentNode,n)):e&&(B(),g(e,1,1,()=>{e=null}),E())},i(t){o||(m(e),o=!0)},o(t){g(e),o=!1},d(t){t&&p(n),e&&e.d(t)}}}function ye(l,n,o){let e,t,{$$slots:r={},$$scope:s}=n,{id:i=te("image")}=n,{url:_}=n,{coordinates:d}=n;const{map:b,self:a}=ie();y(l,b,c=>o(8,t=c)),y(l,a,c=>o(0,e=c));let u,h=!0;return ae(()=>{e&&t&&(fe(b,e,u),T(a,e=null,e),o(6,u=void 0))}),l.$$set=c=>{"id"in c&&o(3,i=c.id),"url"in c&&o(4,_=c.url),"coordinates"in c&&o(5,d=c.coordinates),"$$scope"in c&&o(9,s=c.$$scope)},l.$$.update=()=>{l.$$.dirty&313&&t&&e!==i&&(T(a,e=i,e),ue(t,e,ce({type:"image",url:_,coordinates:d}),c=>t&&c===e,()=>{e&&(o(6,u=t==null?void 0:t.getSource(e)),o(7,h=!0))})),l.$$.dirty&264&&(t==null||t.on("style.load",()=>{o(6,u=t==null?void 0:t.getSource(i))})),l.$$.dirty&224&&u&&(h?o(7,h=!1):u.setCoordinates(d))},[e,b,a,i,_,d,u,h,t,s,r]}class Le extends M{constructor(n){super(),W(this,n,ye,ke,N,{id:3,url:4,coordinates:5})}}function Te(l){let n;const o=l[8].default,e=Z(o,l,l[15],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,r){e&&e.m(t,r),n=!0},p(t,r){e&&e.p&&(!n||r&32768)&&C(e,o,t,t[15],n?A(o,t[15],r,null):R(t[15]),null)},i(t){n||(m(e,t),n=!0)},o(t){g(e,t),n=!1},d(t){e&&e.d(t)}}}function qe(l){let n,o;return n=new me({props:{id:l[0],type:"raster",source:l[1],beforeId:l[2],beforeLayerType:l[3],paint:l[4],layout:l[5],minzoom:l[6],maxzoom:l[7],$$slots:{default:[Te]},$$scope:{ctx:l}}}),n.$on("click",l[9]),n.$on("dblclick",l[10]),n.$on("contextmenu",l[11]),n.$on("mouseenter",l[12]),n.$on("mousemove",l[13]),n.$on("mouseleave",l[14]),{c(){S(n.$$.fragment)},l(e){w(n.$$.fragment,e)},m(e,t){z(n,e,t),o=!0},p(e,[t]){const r={};t&1&&(r.id=e[0]),t&2&&(r.source=e[1]),t&4&&(r.beforeId=e[2]),t&8&&(r.beforeLayerType=e[3]),t&16&&(r.paint=e[4]),t&32&&(r.layout=e[5]),t&64&&(r.minzoom=e[6]),t&128&&(r.maxzoom=e[7]),t&32768&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(m(n.$$.fragment,e),o=!0)},o(e){g(n.$$.fragment,e),o=!1},d(e){I(n,e)}}}function Se(l,n,o){let{$$slots:e={},$$scope:t}=n,{id:r=te("raster-layer")}=n,{source:s=void 0}=n,{beforeId:i=void 0}=n,{beforeLayerType:_=void 0}=n,{paint:d}=n,{layout:b=void 0}=n,{minzoom:a=void 0}=n,{maxzoom:u=void 0}=n;function h(f){k.call(this,l,f)}function c(f){k.call(this,l,f)}function ne(f){k.call(this,l,f)}function le(f){k.call(this,l,f)}function oe(f){k.call(this,l,f)}function re(f){k.call(this,l,f)}return l.$$set=f=>{"id"in f&&o(0,r=f.id),"source"in f&&o(1,s=f.source),"beforeId"in f&&o(2,i=f.beforeId),"beforeLayerType"in f&&o(3,_=f.beforeLayerType),"paint"in f&&o(4,d=f.paint),"layout"in f&&o(5,b=f.layout),"minzoom"in f&&o(6,a=f.minzoom),"maxzoom"in f&&o(7,u=f.maxzoom),"$$scope"in f&&o(15,t=f.$$scope)},[r,s,i,_,d,b,a,u,e,h,c,ne,le,oe,re,t]}class we extends M{constructor(n){super(),W(this,n,Se,qe,N,{id:0,source:1,beforeId:2,beforeLayerType:3,paint:4,layout:5,minzoom:6,maxzoom:7})}}function X(l){let n,o;return n=new Le({props:{url:l[2],coordinates:[[l[0].lng,l[0].lat],[l[3].lng,l[0].lat],[l[3].lng,l[3].lat],[l[0].lng,l[3].lat]],$$slots:{default:[ze]},$$scope:{ctx:l}}}),{c(){S(n.$$.fragment)},l(e){w(n.$$.fragment,e)},m(e,t){z(n,e,t),o=!0},p(e,t){const r={};t&4&&(r.url=e[2]),t&9&&(r.coordinates=[[e[0].lng,e[0].lat],[e[3].lng,e[0].lat],[e[3].lng,e[3].lat],[e[0].lng,e[3].lat]]),t&272&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(m(n.$$.fragment,e),o=!0)},o(e){g(n.$$.fragment,e),o=!1},d(e){I(n,e)}}}function ze(l){let n,o;return n=new we({props:{paint:{"raster-fade-duration":0,"raster-opacity":l[4]/100}}}),{c(){S(n.$$.fragment)},l(e){w(n.$$.fragment,e)},m(e,t){z(n,e,t),o=!0},p(e,t){const r={};t&16&&(r.paint={"raster-fade-duration":0,"raster-opacity":e[4]/100}),n.$set(r)},i(e){o||(m(n.$$.fragment,e),o=!0)},o(e){g(n.$$.fragment,e),o=!1},d(e){I(n,e)}}}function Y(l){let n,o,e,t,r,s;function i(a){l[6](a)}let _={draggable:!0,$$slots:{default:[Ie]},$$scope:{ctx:l}};l[0]!==void 0&&(_.lngLat=l[0]),n=new H({props:_}),G.push(()=>j(n,"lngLat",i));function d(a){l[7](a)}let b={draggable:!0,$$slots:{default:[Ne]},$$scope:{ctx:l}};return l[3]!==void 0&&(b.lngLat=l[3]),t=new H({props:b}),G.push(()=>j(t,"lngLat",d)),{c(){S(n.$$.fragment),e=J(),S(t.$$.fragment)},l(a){w(n.$$.fragment,a),e=K(a),w(t.$$.fragment,a)},m(a,u){z(n,a,u),L(a,e,u),z(t,a,u),s=!0},p(a,u){const h={};u&256&&(h.$$scope={dirty:u,ctx:a}),!o&&u&1&&(o=!0,h.lngLat=a[0],P(()=>o=!1)),n.$set(h);const c={};u&256&&(c.$$scope={dirty:u,ctx:a}),!r&&u&8&&(r=!0,c.lngLat=a[3],P(()=>r=!1)),t.$set(c)},i(a){s||(m(n.$$.fragment,a),m(t.$$.fragment,a),s=!0)},o(a){g(n.$$.fragment,a),g(t.$$.fragment,a),s=!1},d(a){a&&p(e),I(n,a),I(t,a)}}}function Ie(l){let n;return{c(){n=Q("span"),this.h()},l(o){n=V(o,"SPAN",{class:!0,style:!0}),$(n).forEach(p),this.h()},h(){x(n,"class","dot svelte-1tmbx1c"),ee(n,"background-color","red")},m(o,e){L(o,n,e)},p:D,d(o){o&&p(n)}}}function Ne(l){let n;return{c(){n=Q("span"),this.h()},l(o){n=V(o,"SPAN",{class:!0,style:!0}),$(n).forEach(p),this.h()},h(){x(n,"class","dot svelte-1tmbx1c"),ee(n,"background-color","blue")},m(o,e){L(o,n,e)},p:D,d(o){o&&p(n)}}}function ve(l){let n,o,e,t=l[2]&&l[0].lng!=l[3].lng&&X(l),r=l[2]&&l[1]&&Y(l);return{c(){t&&t.c(),n=J(),r&&r.c(),o=q()},l(s){t&&t.l(s),n=K(s),r&&r.l(s),o=q()},m(s,i){t&&t.m(s,i),L(s,n,i),r&&r.m(s,i),L(s,o,i),e=!0},p(s,[i]){s[2]&&s[0].lng!=s[3].lng?t?(t.p(s,i),i&13&&m(t,1)):(t=X(s),t.c(),m(t,1),t.m(n.parentNode,n)):t&&(B(),g(t,1,1,()=>{t=null}),E()),s[2]&&s[1]?r?(r.p(s,i),i&6&&m(r,1)):(r=Y(s),r.c(),m(r,1),r.m(o.parentNode,o)):r&&(B(),g(r,1,1,()=>{r=null}),E())},i(s){e||(m(t),m(r),e=!0)},o(s){g(t),g(r),e=!1},d(s){s&&(p(n),p(o)),t&&t.d(s),r&&r.d(s)}}}function Fe(l,n,o){let e,t,r,s,i;y(l,v,a=>o(3,e=a)),y(l,F,a=>o(0,t=a)),y(l,ge,a=>o(1,r=a)),y(l,_e,a=>o(2,s=a)),y(l,de,a=>o(4,i=a));let{map:_}=n;function d(a){t=a,F.set(t)}function b(a){e=a,v.set(e)}return l.$$set=a=>{"map"in a&&o(5,_=a.map)},l.$$.update=()=>{if(l.$$.dirty&39&&s&&r&&t.lng==0&&t.lat==0){let a=_.getBounds();T(F,t.lng=a.getWest()+.4*(a.getEast()-a.getWest()),t),T(v,e.lng=a.getWest()+.6*(a.getEast()-a.getWest()),e),T(F,t.lat=a.getNorth()+.4*(a.getSouth()-a.getNorth()),t),T(v,e.lat=a.getNorth()+.6*(a.getSouth()-a.getNorth()),e)}},[t,r,s,e,i,_,d,b]}class De extends M{constructor(n){super(),W(this,n,Fe,ve,N,{map:5})}}const Ge="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23FFFFFF'%3e%3cpath%20d='M402-40q-30%200-56-13.5T303-92L48-465l24-23q19-19%2045-22t47%2012l116%2081v-383q0-17%2011.5-28.5T320-840q17%200%2028.5%2011.5T360-800v537L212-367l157%20229q5%208%2014%2013t19%205h278q33%200%2056.5-23.5T760-200v-560q0-17%2011.5-28.5T800-800q17%200%2028.5%2011.5T840-760v560q0%2066-47%20113T680-40H402Zm38-440v-400q0-17%2011.5-28.5T480-920q17%200%2028.5%2011.5T520-880v400h-80Zm160%200v-360q0-17%2011.5-28.5T640-880q17%200%2028.5%2011.5T680-840v360h-80ZM486-300Z'%20fill='black'/%3e%3c/svg%3e";export{De as G,Ae as I,Ge as p};
